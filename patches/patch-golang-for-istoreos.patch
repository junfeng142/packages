diff -uprN a/feeds/packages/golang/golang/Config.in b/feeds/packages/golang/golang/Config.in
--- a/feeds/packages/golang/golang/Config.in	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang/Config.in	2022-06-12 10:10:01.367810000 +0800
@@ -0,0 +1,33 @@
+menu "Configuration"
+
+config GOLANG_EXTERNAL_BOOTSTRAP_ROOT
+	string "External bootstrap Go root directory"
+	default ""
+	help
+	  Path to a working Go tree (>= Go 1.4), with bin, pkg, and src
+	  subdirectories and the Go compiler at bin/go.
+
+	  If specified, the existing Go installation will be used to
+	  compile host (buildroot) Go.
+
+	  Leave blank to compile the default bootstrap Go.
+
+config GOLANG_BUILD_CACHE_DIR
+	string "Go build cache directory"
+	default ""
+	help
+	  Store the Go build cache in this directory.
+	  If not set, uses '$(TMP_DIR)/go-build'.
+
+config GOLANG_MOD_CACHE_WORLD_READABLE
+	bool "Ensure Go module cache is world-readable"
+	default n
+
+config GOLANG_SPECTRE
+	bool "Enable Spectre mitigations"
+	default n
+	depends on x86_64
+	help
+	  Currently only available for x86-64 (amd64).
+
+endmenu
diff -uprN a/feeds/packages/golang/golang/files/go-gcc-helper b/feeds/packages/golang/golang/files/go-gcc-helper
--- a/feeds/packages/golang/golang/files/go-gcc-helper	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang/files/go-gcc-helper	2022-06-12 10:10:01.367810000 +0800
@@ -0,0 +1,41 @@
+#!/bin/sh
+
+me=go-gcc-helper
+name="${0##*/}"
+
+log() {
+	# shellcheck disable=SC2039
+	local IFS=" "
+	printf '%s\n' "$me: $*"
+}
+
+case "$name" in
+gcc)
+	if [ -z "$GO_GCC_HELPER_CC" ]; then
+		log "missing GO_GCC_HELPER_CC"
+		exit 1
+	fi
+	cmd="$GO_GCC_HELPER_CC"
+	;;
+g++)
+	if [ -z "$GO_GCC_HELPER_CXX" ]; then
+		log "missing GO_GCC_HELPER_CXX"
+		exit 1
+	fi
+	cmd="$GO_GCC_HELPER_CXX"
+	;;
+*)
+	log "unknown command \"$name\""
+	exit 1
+	;;
+esac
+
+if [ -n "$GO_GCC_HELPER_PATH" ]; then
+	export PATH="$GO_GCC_HELPER_PATH"
+else
+	log "missing GO_GCC_HELPER_PATH"
+fi
+
+log "running $cmd $*"
+
+$cmd "$@"
diff -uprN a/feeds/packages/golang/golang/Makefile b/feeds/packages/golang/golang/Makefile
--- a/feeds/packages/golang/golang/Makefile	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang/Makefile	2023-04-28 20:37:51.085955000 +0800
@@ -0,0 +1,404 @@
+#
+# Copyright (C) 2018, 2020 Jeffery To
+#
+# This is free software, licensed under the GNU General Public License v2.
+# See /LICENSE for more information.
+#
+
+include $(TOPDIR)/rules.mk
+
+GO_VERSION_MAJOR_MINOR:=1.20
+GO_VERSION_PATCH:=2
+
+PKG_NAME:=golang
+PKG_VERSION:=$(GO_VERSION_MAJOR_MINOR)$(if $(GO_VERSION_PATCH),.$(GO_VERSION_PATCH))
+PKG_RELEASE:=1
+
+GO_SOURCE_URLS:=https://dl.google.com/go/ \
+                https://mirrors.ustc.edu.cn/golang/ \
+                https://mirrors.nju.edu.cn/golang/
+
+PKG_SOURCE:=go$(PKG_VERSION).src.tar.gz
+PKG_SOURCE_URL:=$(GO_SOURCE_URLS)
+PKG_HASH:=4d0e2850d197b4ddad3bdb0196300179d095bb3aefd4dfbc3b36702c3728f8ab
+
+PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
+PKG_LICENSE:=BSD-3-Clause
+PKG_LICENSE_FILES:=LICENSE
+PKG_CPE_ID:=cpe:/a:golang:go
+
+PKG_BUILD_DEPENDS:=golang/host
+PKG_BUILD_DIR:=$(BUILD_DIR)/go-$(PKG_VERSION)
+PKG_BUILD_PARALLEL:=1
+PKG_USE_MIPS16:=0
+
+PKG_GO_PREFIX:=/usr
+PKG_GO_VERSION_ID:=$(GO_VERSION_MAJOR_MINOR)
+PKG_GO_ROOT:=$(PKG_GO_PREFIX)/lib/go-$(PKG_GO_VERSION_ID)
+
+HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/go-$(PKG_VERSION)
+HOST_BUILD_PARALLEL:=1
+
+HOST_GO_PREFIX:=$(STAGING_DIR_HOSTPKG)
+HOST_GO_VERSION_ID:=cross
+HOST_GO_ROOT:=$(HOST_GO_PREFIX)/lib/go-$(HOST_GO_VERSION_ID)
+
+HOST_GO_VALID_OS_ARCH:= \
+  android_386  android_amd64  android_arm  android_arm64 \
+  freebsd_386  freebsd_amd64  freebsd_arm  freebsd_arm64 \
+  linux_386    linux_amd64    linux_arm    linux_arm64 \
+  openbsd_386  openbsd_amd64  openbsd_arm  openbsd_arm64 \
+  netbsd_386   netbsd_amd64   netbsd_arm   netbsd_arm64 \
+  windows_386  windows_amd64  windows_arm  windows_arm64 \
+  \
+  plan9_386    plan9_amd64    plan9_arm \
+  \
+  darwin_amd64 darwin_arm64 \
+  ios_amd64    ios_arm64 \
+  \
+  dragonfly_amd64 \
+  illumos_amd64 \
+  solaris_amd64 \
+  \
+  aix_ppc64 \
+  js_wasm \
+  \
+  freebsd_riscv64 \
+  \
+  linux_ppc64 linux_ppc64le \
+  linux_mips linux_mipsle linux_mips64 linux_mips64le \
+  linux_loong64 linux_riscv64 linux_s390x \
+  \
+  openbsd_mips64
+
+BOOTSTRAP_SOURCE:=go1.4-bootstrap-20171003.tar.gz
+BOOTSTRAP_SOURCE_URL:=$(GO_SOURCE_URLS)
+BOOTSTRAP_HASH:=f4ff5b5eb3a3cae1c993723f3eab519c5bae18866b5e5f96fe1102f0cb5c3e52
+
+BOOTSTRAP_BUILD_DIR:=$(HOST_BUILD_DIR)/.go_bootstrap
+
+BOOTSTRAP_GO_VALID_OS_ARCH:= \
+  darwin_386     darwin_amd64 \
+  dragonfly_386  dragonfly_amd64 \
+  freebsd_386    freebsd_amd64    freebsd_arm \
+  linux_386      linux_amd64      linux_arm \
+  netbsd_386     netbsd_amd64     netbsd_arm \
+  openbsd_386    openbsd_amd64 \
+  plan9_386      plan9_amd64 \
+                 solaris_amd64 \
+  windows_386    windows_amd64
+
+BOOTSTRAP_1_17_SOURCE:=go1.17.13.src.tar.gz
+BOOTSTRAP_1_17_SOURCE_URL:=$(GO_SOURCE_URLS)
+BOOTSTRAP_1_17_HASH:=a1a48b23afb206f95e7bbaa9b898d965f90826f6f1d1fc0c1d784ada0cd300fd
+
+BOOTSTRAP_1_17_BUILD_DIR:=$(HOST_BUILD_DIR)/.go_bootstrap_1.17
+
+include $(INCLUDE_DIR)/host-build.mk
+include $(INCLUDE_DIR)/package.mk
+include ../golang-compiler.mk
+include ../golang-package.mk
+
+PKG_UNPACK:=$(HOST_TAR) -C "$(PKG_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(PKG_SOURCE)"
+HOST_UNPACK:=$(HOST_TAR) -C "$(HOST_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(PKG_SOURCE)"
+BOOTSTRAP_UNPACK:=$(HOST_TAR) -C "$(BOOTSTRAP_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(BOOTSTRAP_SOURCE)"
+BOOTSTRAP_1_17_UNPACK:=$(HOST_TAR) -C "$(BOOTSTRAP_1_17_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(BOOTSTRAP_1_17_SOURCE)"
+
+# don't strip ELF executables in test data
+RSTRIP:=:
+STRIP:=:
+
+ifeq ($(GO_TARGET_SPECTRE_SUPPORTED),1)
+  PKG_CONFIG_DEPENDS+=CONFIG_GOLANG_SPECTRE
+endif
+
+define Package/golang/Default
+$(call GoPackage/GoSubMenu)
+  TITLE:=Go programming language
+  URL:=https://go.dev/
+  DEPENDS:=$(GO_ARCH_DEPENDS)
+endef
+
+define Package/golang/Default/description
+The Go programming language is an open source project to make
+programmers more productive.
+
+Go is expressive, concise, clean, and efficient. Its concurrency
+mechanisms make it easy to write programs that get the most out of
+multicore and networked machines, while its novel type system enables
+flexible and modular program construction. Go compiles quickly to
+machine code yet has the convenience of garbage collection and the power
+of run-time reflection. It's a fast, statically typed, compiled language
+that feels like a dynamically typed, interpreted language.
+endef
+
+# go tool requires source present:
+# https://github.com/golang/go/issues/4635
+define Package/golang
+$(call Package/golang/Default)
+  TITLE+= (compiler)
+  DEPENDS+= +golang-src
+endef
+
+define Package/golang/description
+$(call Package/golang/Default/description)
+
+This package provides an assembler, compiler, linker, and compiled
+libraries for the Go programming language.
+endef
+
+define Package/golang/config
+  source "$(SOURCE)/Config.in"
+endef
+
+define Package/golang-doc
+$(call Package/golang/Default)
+  TITLE+= (documentation)
+endef
+
+define Package/golang-doc/description
+$(call Package/golang/Default/description)
+
+This package provides the documentation for the Go programming language.
+endef
+
+define Package/golang-src
+$(call Package/golang/Default)
+  TITLE+= (source files)
+endef
+
+define Package/golang-src/description
+$(call Package/golang/Default/description)
+
+This package provides the Go programming language source files needed
+for cross-compilation.
+endef
+
+
+# Bootstrap
+
+BOOTSTRAP_ROOT_DIR:=$(call qstrip,$(CONFIG_GOLANG_EXTERNAL_BOOTSTRAP_ROOT))
+
+ifeq ($(BOOTSTRAP_ROOT_DIR),)
+  BOOTSTRAP_ROOT_DIR:=$(BOOTSTRAP_BUILD_DIR)
+
+  define Download/golang-bootstrap
+    FILE:=$(BOOTSTRAP_SOURCE)
+    URL:=$(BOOTSTRAP_SOURCE_URL)
+    HASH:=$(BOOTSTRAP_HASH)
+  endef
+  $(eval $(call Download,golang-bootstrap))
+
+  define Bootstrap/Prepare
+	mkdir -p "$(BOOTSTRAP_BUILD_DIR)" && $(BOOTSTRAP_UNPACK) ;
+  endef
+  Hooks/HostPrepare/Post+=Bootstrap/Prepare
+
+  $(eval $(call GoCompiler/AddProfile,Bootstrap,$(BOOTSTRAP_BUILD_DIR),,bootstrap,$(GO_HOST_OS_ARCH)))
+endif
+
+
+# Bootstrap 1.17
+
+define Download/golang-bootstrap-1.17
+  FILE:=$(BOOTSTRAP_1_17_SOURCE)
+  URL:=$(BOOTSTRAP_1_17_SOURCE_URL)
+  HASH:=$(BOOTSTRAP_1_17_HASH)
+endef
+$(eval $(call Download,golang-bootstrap-1.17))
+
+define Bootstrap-1.17/Prepare
+	mkdir -p "$(BOOTSTRAP_1_17_BUILD_DIR)" && $(BOOTSTRAP_1_17_UNPACK) ;
+endef
+Hooks/HostPrepare/Post+=Bootstrap-1.17/Prepare
+
+$(eval $(call GoCompiler/AddProfile,Bootstrap-1.17,$(BOOTSTRAP_1_17_BUILD_DIR),,bootstrap-1.17,$(GO_HOST_OS_ARCH)))
+
+
+# Host
+
+ifeq ($(GO_HOST_PIE_SUPPORTED),1)
+  HOST_GO_ENABLE_PIE:=1
+endif
+
+# when using GO_LDFLAGS to set buildmode=pie, the PIE install suffix
+# does not apply (we also delete the std lib during Host/Install)
+
+$(eval $(call GoCompiler/AddProfile,Host,$(HOST_BUILD_DIR),$(HOST_GO_PREFIX),$(HOST_GO_VERSION_ID),$(GO_HOST_OS_ARCH),$(HOST_GO_INSTALL_SUFFIX)))
+
+HOST_GO_VARS= \
+	GOHOSTARCH="$(GO_HOST_ARCH)" \
+	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
+	GOENV=off \
+	CC="$(HOSTCC_NOCACHE)" \
+	CXX="$(HOSTCXX_NOCACHE)"
+
+define Host/Configure
+	$(call GoCompiler/Bootstrap/CheckHost,$(BOOTSTRAP_GO_VALID_OS_ARCH))
+	$(call GoCompiler/Host/CheckHost,$(HOST_GO_VALID_OS_ARCH))
+
+	mkdir -p "$(GO_BUILD_CACHE_DIR)"
+endef
+
+define Host/Compile
+	$(call GoCompiler/Bootstrap/Make, \
+		$(HOST_GO_VARS) \
+	)
+
+	$(call GoCompiler/Bootstrap-1.17/Make, \
+		GOROOT_BOOTSTRAP="$(BOOTSTRAP_ROOT_DIR)" \
+		$(HOST_GO_VARS) \
+	)
+
+	$(call GoCompiler/Host/Make, \
+		GOROOT_BOOTSTRAP="$(BOOTSTRAP_1_17_BUILD_DIR)" \
+		$(if $(HOST_GO_ENABLE_PIE),GO_LDFLAGS="-buildmode pie") \
+		$(HOST_GO_VARS) \
+	)
+endef
+
+# if host and target os/arch are the same,
+# when go compiles a program, it will use the host std lib
+# so remove it now and force go to rebuild std for target later
+define Host/Install
+	$(call Host/Uninstall)
+
+	$(call GoCompiler/Host/Install/Bin,)
+	$(call GoCompiler/Host/Install/Src,)
+
+	$(call GoCompiler/Host/Install/BinLinks,)
+
+	rm -rf "$(HOST_GO_ROOT)/pkg/$(GO_HOST_OS_ARCH)$(if $(HOST_GO_INSTALL_SUFFIX),_$(HOST_GO_INSTALL_SUFFIX))"
+
+	$(INSTALL_DIR) "$(HOST_GO_ROOT)/openwrt"
+	$(INSTALL_BIN) ./files/go-gcc-helper "$(HOST_GO_ROOT)/openwrt/"
+	$(LN) go-gcc-helper "$(HOST_GO_ROOT)/openwrt/gcc"
+	$(LN) go-gcc-helper "$(HOST_GO_ROOT)/openwrt/g++"
+endef
+
+define Host/Uninstall
+	rm -rf "$(HOST_GO_ROOT)/openwrt"
+
+	$(call GoCompiler/Host/Uninstall/BinLinks,)
+
+	$(call GoCompiler/Host/Uninstall,)
+endef
+
+
+# Target
+
+ifeq ($(GO_PKG_ENABLE_PIE),1)
+  PKG_GO_INSTALL_SUFFIX:=$(GO_TARGET_PIE_INSTALL_SUFFIX)
+endif
+
+$(eval $(call GoCompiler/AddProfile,Package,$(PKG_BUILD_DIR),$(PKG_GO_PREFIX),$(PKG_GO_VERSION_ID),$(GO_OS_ARCH),$(PKG_GO_INSTALL_SUFFIX)))
+
+PKG_GO_ZBOOTSTRAP_MODS:= \
+	s/defaultGO386 = `[^`]*`/defaultGO386 = `$(or $(GO_386),sse2)`/; \
+	s/defaultGOAMD64 = `[^`]*`/defaultGOAMD64 = `$(or $(GO_AMD64),v1)`/; \
+	s/defaultGOARM = `[^`]*`/defaultGOARM = `$(or $(GO_ARM),5)`/; \
+	s/defaultGOMIPS = `[^`]*`/defaultGOMIPS = `$(or $(GO_MIPS),hardfloat)`/; \
+	s/defaultGOMIPS64 = `[^`]*`/defaultGOMIPS64 = `$(or $(GO_MIPS64),hardfloat)`/; \
+	s/defaultGOPPC64 = `[^`]*`/defaultGOPPC64 = `$(or $(GO_PPC64),power8)`/;
+
+PKG_GO_ZBOOTSTRAP_PATH:=$(PKG_BUILD_DIR)/src/internal/buildcfg/zbootstrap.go
+
+PKG_GO_VARS= \
+	GOHOSTARCH="$(GO_HOST_ARCH)" \
+	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
+	GOENV=off \
+	GO_GCC_HELPER_PATH="$$$$PATH" \
+	CC=gcc \
+	CXX=g++ \
+	PKG_CONFIG=pkg-config \
+	PATH="$(HOST_GO_ROOT)/openwrt:$$$$PATH"
+
+PKG_GO_GCFLAGS= \
+	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
+
+PKG_GO_ASMFLAGS= \
+	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
+
+PKG_GO_LDFLAGS= \
+	-buildid '$(SOURCE_DATE_EPOCH)' \
+	-linkmode external \
+	-extldflags '$(patsubst -z%,-Wl$(comma)-z$(comma)%,$(TARGET_LDFLAGS))' \
+	$(if $(CONFIG_NO_STRIP)$(CONFIG_DEBUG),,-s -w)
+
+PKG_GO_INSTALL_ARGS= \
+	-buildvcs=false \
+	-trimpath \
+	-ldflags "all=$(PKG_GO_LDFLAGS)" \
+	$(if $(PKG_GO_GCFLAGS),-gcflags "all=$(PKG_GO_GCFLAGS)") \
+	$(if $(PKG_GO_ASMFLAGS),-asmflags "all=$(PKG_GO_ASMFLAGS)") \
+	$(if $(filter $(GO_PKG_ENABLE_PIE),1),-buildmode pie)
+
+define Build/Configure
+	mkdir -p "$(GO_BUILD_CACHE_DIR)"
+endef
+
+define Build/Compile
+	@echo "Building target Go first stage"
+
+	$(call GoCompiler/Package/Make, \
+		GOROOT_BOOTSTRAP="$(HOST_GO_ROOT)" \
+		GO_GCC_HELPER_CC="$(HOSTCC)" \
+		GO_GCC_HELPER_CXX="$(HOSTCXX)" \
+		$(PKG_GO_VARS) \
+	)
+
+	$(SED) '$(PKG_GO_ZBOOTSTRAP_MODS)' "$(PKG_GO_ZBOOTSTRAP_PATH)"
+
+	( \
+		if echo 'int main() { return 0; }' | $(TARGET_CC) -o $(PKG_BUILD_DIR)/test-ldso -x c - > /dev/null 2>&1; then \
+			LDSO=$$$$( \
+				readelf -l $(PKG_BUILD_DIR)/test-ldso | \
+				sed -n -e 's/^.*interpreter: \(.*\)[]]/\1/p' \
+			) ; \
+		fi ; \
+		$(SED) "s,defaultGO_LDSO = \`[^\`]*\`,defaultGO_LDSO = \`$$$$LDSO\`," "$(PKG_GO_ZBOOTSTRAP_PATH)" ; \
+	)
+
+	@echo "Building target Go second stage"
+
+	( \
+		cd "$(PKG_BUILD_DIR)/bin" ; \
+		export $(GO_PKG_TARGET_VARS) ; \
+		$(CP) go go-host ; \
+		GOROOT_FINAL="$(PKG_GO_ROOT)" \
+		GO_GCC_HELPER_CC="$(TARGET_CC)" \
+		GO_GCC_HELPER_CXX="$(TARGET_CXX)" \
+		$(PKG_GO_VARS) \
+		./go-host install -a $(PKG_GO_INSTALL_ARGS) std cmd ; \
+		retval="$$$$?" ; \
+		rm -f go-host ; \
+		exit "$$$$retval" ; \
+	)
+endef
+
+define Package/golang/install
+	$(call GoCompiler/Package/Install/Bin,$(1)$(PKG_GO_PREFIX))
+	$(call GoCompiler/Package/Install/BinLinks,$(1)$(PKG_GO_PREFIX))
+endef
+
+define Package/golang-doc/install
+	$(call GoCompiler/Package/Install/Doc,$(1)$(PKG_GO_PREFIX))
+endef
+
+define Package/golang-src/install
+	$(call GoCompiler/Package/Install/Src,$(1)$(PKG_GO_PREFIX))
+endef
+
+# src/debug contains ELF executables as test data
+# and they reference these libraries
+# we need to call this in Package/$(1)/extra_provides
+# to pass CheckDependencies in include/package-ipkg.mk
+define Package/golang-src/extra_provides
+	echo 'libc.so.6'
+endef
+
+
+$(eval $(call HostBuild))
+$(eval $(call BuildPackage,golang))
+$(eval $(call BuildPackage,golang-doc))
+$(eval $(call BuildPackage,golang-src))
diff -uprN a/feeds/packages/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch b/feeds/packages/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch
--- a/feeds/packages/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch	2023-04-28 20:37:51.085955000 +0800
@@ -0,0 +1,48 @@
+From 5ccf9f47bf4f5ba53e0ab7338a7fd4626714cfb2 Mon Sep 17 00:00:00 2001
+From: Jeffery To <jeffery.to@gmail.com>
+Date: Tue, 23 Nov 2021 15:05:37 +0800
+Subject: [PATCH] cmd/link: use gold on ARM/ARM64 only if gold is available
+
+COPY relocation handling on ARM/ARM64 has been fixed in recent versions
+of the GNU linker. This switches to gold only if gold is available.
+
+Fixes #22040.
+---
+ src/cmd/link/internal/ld/lib.go | 19 +++++++------------
+ 1 file changed, 7 insertions(+), 12 deletions(-)
+
+--- a/src/cmd/link/internal/ld/lib.go
++++ b/src/cmd/link/internal/ld/lib.go
+@@ -1535,25 +1535,20 @@ func (ctxt *Link) hostlink() {
+ 		}
+ 
+ 		if ctxt.Arch.InFamily(sys.ARM, sys.ARM64) && buildcfg.GOOS == "linux" {
+-			// On ARM, the GNU linker will generate COPY relocations
+-			// even with -znocopyreloc set.
++			// On ARM, older versions of the GNU linker will generate
++			// COPY relocations even with -znocopyreloc set.
+ 			// https://sourceware.org/bugzilla/show_bug.cgi?id=19962
+ 			//
+-			// On ARM64, the GNU linker will fail instead of
+-			// generating COPY relocations.
++			// On ARM64, older versions of the GNU linker will fail
++			// instead of generating COPY relocations.
+ 			//
+-			// In both cases, switch to gold.
+-			altLinker = "gold"
+-
+-			// If gold is not installed, gcc will silently switch
+-			// back to ld.bfd. So we parse the version information
+-			// and provide a useful error if gold is missing.
++			// In both cases, switch to gold if gold is available.
+ 			name, args := flagExtld[0], flagExtld[1:]
+ 			args = append(args, "-fuse-ld=gold", "-Wl,--version")
+ 			cmd := exec.Command(name, args...)
+ 			if out, err := cmd.CombinedOutput(); err == nil {
+-				if !bytes.Contains(out, []byte("GNU gold")) {
+-					log.Fatalf("ARM external linker must be gold (issue #15696), but is not: %s", out)
++				if bytes.Contains(out, []byte("GNU gold")) {
++					altLinker = "gold"
+ 				}
+ 			}
+ 		}
diff -uprN a/feeds/packages/golang/golang-build.sh b/feeds/packages/golang/golang-build.sh
--- a/feeds/packages/golang/golang-build.sh	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang-build.sh	2022-06-12 10:10:01.363811000 +0800
@@ -0,0 +1,204 @@
+#!/bin/sh
+
+nl="
+"
+
+log() {
+	# shellcheck disable=SC2039
+	local IFS=" "
+	printf '%s\n' "$*"
+}
+
+log_error() {
+	# shellcheck disable=SC2039
+	local IFS=" "
+	printf 'Error: %s\n' "$*" >&2
+}
+
+link_contents() {
+	# shellcheck disable=SC2039
+	local src="$1" dest="$2" IFS="$nl" dirs dir base
+
+	if [ -n "$(find "$src" -mindepth 1 -maxdepth 1 -name "*.go" -not -type d)" ]; then
+		log_error "$src is already a Go library"
+		return 1
+	fi
+
+	dirs="$(find "$src" -mindepth 1 -maxdepth 1 -type d)"
+	for dir in $dirs; do
+		base="${dir##*/}"
+		if [ -d "$dest/$base" ]; then
+			case "$dir" in
+			*$GO_BUILD_DEPENDS_SRC/$GO_PKG)
+				log "$GO_PKG is already installed. Please check for circular dependencies."
+				;;
+			*)
+				link_contents "$src/$base" "$dest/$base"
+				;;
+			esac
+		else
+			log "...${src#$GO_BUILD_DEPENDS_SRC}/$base"
+			ln -sf "$src/$base" "$dest/$base"
+		fi
+	done
+
+	return 0
+}
+
+configure() {
+	# shellcheck disable=SC2039
+	local files code testdata gomod pattern extra IFS file dest
+
+	cd "$BUILD_DIR" || return 1
+
+	files="$(find ./ -path "*/.*" -prune -o -not -type d -print)"
+
+	if [ "$GO_INSTALL_ALL" != 1 ]; then
+		code="$(printf '%s\n' "$files" | grep '\.\(c\|cc\|cpp\|go\|h\|hh\|hpp\|proto\|s\)$')"
+		testdata="$(printf '%s\n' "$files" | grep '/testdata/')"
+		gomod="$(printf '%s\n' "$files" | grep '/go\.\(mod\|sum\|work\)$')"
+
+		for pattern in $GO_INSTALL_EXTRA; do
+			extra="$(printf '%s\n' "$extra"; printf '%s\n' "$files" | grep -e "$pattern")"
+		done
+
+		files="$(printf '%s\n%s\n%s\n%s\n' "$code" "$testdata" "$gomod" "$extra" | grep -v '^[[:space:]]*$' | sort -u)"
+	fi
+
+	IFS="$nl"
+
+	log "Copying files from $BUILD_DIR into $GO_BUILD_DIR/src/$GO_PKG"
+	mkdir -p "$GO_BUILD_DIR/src"
+	for file in $files; do
+		log "${file#./}"
+		dest="$GO_BUILD_DIR/src/$GO_PKG/${file#./}"
+		mkdir -p "${dest%/*}"
+		cp -fpR "$file" "$dest"
+	done
+	log
+
+	if [ "$GO_SOURCE_ONLY" != 1 ]; then
+		if [ -d "$GO_BUILD_DEPENDS_SRC" ]; then
+			log "Symlinking directories from $GO_BUILD_DEPENDS_SRC into $GO_BUILD_DIR/src"
+			link_contents "$GO_BUILD_DEPENDS_SRC" "$GO_BUILD_DIR/src"
+		else
+			log "$GO_BUILD_DEPENDS_SRC does not exist, skipping symlinks"
+		fi
+	else
+		log "Not building binaries, skipping symlinks"
+	fi
+	log
+
+	return 0
+}
+
+build() {
+	# shellcheck disable=SC2039
+	local modargs pattern targets retval
+
+	cd "$GO_BUILD_DIR" || return 1
+
+	if [ -f "$BUILD_DIR/go.mod" ] ; then
+		mkdir -p "$GO_MOD_CACHE_DIR"
+		modargs="$GO_MOD_ARGS"
+	fi
+
+	log "Finding targets"
+	# shellcheck disable=SC2086
+	targets="$(go list $modargs $GO_BUILD_PKG)"
+	for pattern in $GO_EXCLUDES; do
+		targets="$(printf '%s\n' "$targets" | grep -v "$pattern")"
+	done
+	log
+
+	if [ "$GO_GO_GENERATE" = 1 ]; then
+		log "Calling go generate"
+		# shellcheck disable=SC2086
+		GOOS='' GOARCH='' GO386='' GOARM='' GOMIPS='' GOMIPS64='' \
+		go generate -v $targets
+		log
+	fi
+
+	if [ "$GO_SOURCE_ONLY" = 1 ]; then
+		return 0
+	fi
+
+	log "Building targets"
+	mkdir -p "$GO_BUILD_DIR/bin" "$GO_BUILD_CACHE_DIR"
+	# shellcheck disable=SC2086
+	go install $modargs "$@" $targets
+	retval="$?"
+	log
+
+	if [ "$retval" -eq 0 ] && [ -z "$(find "$GO_BUILD_BIN_DIR" -maxdepth 0 -type d -not -empty 2>/dev/null)" ]; then
+		log_error "No binaries were built"
+		retval=1
+	fi
+
+	if [ "$retval" -ne 0 ]; then
+		cache_cleanup
+	fi
+
+	return "$retval"
+}
+
+install_bin() {
+	# shellcheck disable=SC2039
+	local dest="$1"
+	install -d -m0755 "$dest/$GO_INSTALL_BIN_PATH"
+	install -m0755 "$GO_BUILD_BIN_DIR"/* "$dest/$GO_INSTALL_BIN_PATH/"
+}
+
+install_src() {
+	# shellcheck disable=SC2039
+	local dest="$1" dir="${GO_PKG%/*}"
+	install -d -m0755 "$dest/$GO_BUILD_DEPENDS_PATH/src/$dir"
+	cp -fpR "$GO_BUILD_DIR/src/$GO_PKG" "$dest/$GO_BUILD_DEPENDS_PATH/src/$dir/"
+}
+
+cache_cleanup() {
+	if ! [ -d "$GO_MOD_CACHE_DIR" ]; then
+		return 0
+	fi
+
+	# in case go is called without -modcacherw
+	find "$GO_MOD_CACHE_DIR" -type d -not -perm -u+w -exec chmod u+w '{}' +
+
+	if [ -n "$CONFIG_GOLANG_MOD_CACHE_WORLD_READABLE" ]; then
+		find "$GO_MOD_CACHE_DIR"      -type d -not -perm -go+rx -exec chmod go+rx '{}' +
+		find "$GO_MOD_CACHE_DIR" -not -type d -not -perm -go+r  -exec chmod go+r  '{}' +
+	fi
+
+	return 0
+}
+
+
+if [ "$#" -lt 1 ]; then
+	log_error "Missing command"
+	exit 1
+fi
+
+command="$1"
+shift 1
+
+case "$command" in
+	configure)
+		configure
+		;;
+	build)
+		build "$@"
+		;;
+	install_bin)
+		install_bin "$@"
+		;;
+	install_src)
+		install_src "$@"
+		;;
+	cache_cleanup)
+		cache_cleanup
+		;;
+	*)
+		log_error "Invalid command \"$command\""
+		exit 1
+		;;
+esac
diff -uprN a/feeds/packages/golang/golang-compiler.mk b/feeds/packages/golang/golang-compiler.mk
--- a/feeds/packages/golang/golang-compiler.mk	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang-compiler.mk	2023-04-28 20:37:51.085955000 +0800
@@ -0,0 +1,191 @@
+#
+# Copyright (C) 2018, 2020 Jeffery To
+#
+# This is free software, licensed under the GNU General Public License v2.
+# See /LICENSE for more information.
+#
+
+ifeq ($(origin GO_INCLUDE_DIR),undefined)
+  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
+endif
+
+include $(GO_INCLUDE_DIR)/golang-values.mk
+
+
+# $(1) valid GOOS_GOARCH combinations
+# $(2) go version id
+define GoCompiler/Default/CheckHost
+	$(if $(filter $(GO_HOST_OS_ARCH),$(1)),,$(error go-$(2) cannot be installed on $(GO_HOST_OS)/$(GO_HOST_ARCH)))
+endef
+
+# $(1) source go root
+# $(2) destination prefix
+# $(3) go version id
+# $(4) additional environment variables (optional)
+define GoCompiler/Default/Make
+	( \
+		cd "$(1)/src" ; \
+		$(if $(2),GOROOT_FINAL="$(2)/lib/go-$(3)") \
+		$(4) \
+		$(BASH) make.bash \
+		$(if $(findstring s,$(OPENWRT_VERBOSE)),-v) \
+		--no-banner \
+		; \
+	)
+endef
+
+# $(1) destination prefix
+# $(2) go version id
+define GoCompiler/Default/Install/make-dirs
+	$(INSTALL_DIR) "$(1)/lib/go-$(2)"
+	$(INSTALL_DIR) "$(1)/share/go-$(2)"
+endef
+
+# $(1) source go root
+# $(2) destination prefix
+# $(3) go version id
+# $(4) file/directory name
+define GoCompiler/Default/Install/install-share-data
+	$(CP) "$(1)/$(4)" "$(2)/share/go-$(3)/"
+	$(LN) "../../share/go-$(3)/$(4)" "$(2)/lib/go-$(3)/"
+endef
+
+# $(1) source go root
+# $(2) destination prefix
+# $(3) go version id
+# $(4) GOOS_GOARCH
+# $(5) install suffix (optional)
+define GoCompiler/Default/Install/Bin
+	$(call GoCompiler/Default/Install/make-dirs,$(2),$(3))
+
+	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),api)
+
+	$(INSTALL_DATA) -p "$(1)/VERSION" "$(2)/lib/go-$(3)/"
+
+	for file in AUTHORS CONTRIBUTING.md CONTRIBUTORS LICENSE PATENTS README.md SECURITY.md; do \
+		if [ -f "$(1)/$$$$file" ]; then \
+			$(INSTALL_DATA) -p "$(1)/$$$$file" "$(2)/share/go-$(3)/" ; \
+		fi ; \
+	done
+
+	$(INSTALL_DIR) "$(2)/lib/go-$(3)/bin"
+
+  ifeq ($(4),$(GO_HOST_OS_ARCH))
+	$(INSTALL_BIN) -p "$(1)/bin"/* "$(2)/lib/go-$(3)/bin/"
+  else
+	$(INSTALL_BIN) -p "$(1)/bin/$(4)"/* "$(2)/lib/go-$(3)/bin/"
+  endif
+
+	if [ -d "$(1)/pkg/$(4)$(if $(5),_$(5))" ]; then \
+		$(INSTALL_DIR) "$(2)/lib/go-$(3)/pkg" ; \
+		$(CP) "$(1)/pkg/$(4)$(if $(5),_$(5))" "$(2)/lib/go-$(3)/pkg/" ; \
+	fi
+
+	$(INSTALL_DIR) "$(2)/lib/go-$(3)/pkg/tool/$(4)"
+	$(INSTALL_BIN) -p "$(1)/pkg/tool/$(4)"/* "$(2)/lib/go-$(3)/pkg/tool/$(4)/"
+endef
+
+# $(1) destination prefix
+# $(2) go version id
+define GoCompiler/Default/Install/BinLinks
+	$(INSTALL_DIR) "$(1)/bin"
+	$(LN) "../lib/go-$(2)/bin/go" "$(1)/bin/go"
+	$(LN) "../lib/go-$(2)/bin/gofmt" "$(1)/bin/gofmt"
+endef
+
+# $(1) source go root
+# $(2) destination prefix
+# $(3) go version id
+define GoCompiler/Default/Install/Doc
+	$(call GoCompiler/Default/Install/make-dirs,$(2),$(3))
+
+	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),doc)
+endef
+
+# $(1) source go root
+# $(2) destination prefix
+# $(3) go version id
+define GoCompiler/Default/Install/Src
+	$(call GoCompiler/Default/Install/make-dirs,$(2),$(3))
+
+	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),lib)
+	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),misc)
+	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),src)
+	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),test)
+
+	$(FIND) \
+		"$(2)/share/go-$(3)/src/" \
+		\! -type d -a \( -name "*.bat" -o -name "*.rc" \) \
+		-delete
+
+	if [ -d "$(1)/pkg/include" ]; then \
+		$(INSTALL_DIR) "$(2)/lib/go-$(3)/pkg" ; \
+		$(INSTALL_DIR) "$(2)/share/go-$(3)/pkg" ; \
+		$(CP) "$(1)/pkg/include" "$(2)/share/go-$(3)/pkg/" ; \
+		$(LN) "../../../share/go-$(3)/pkg/include" "$(2)/lib/go-$(3)/pkg/" ; \
+	fi
+endef
+
+# $(1) destination prefix
+# $(2) go version id
+define GoCompiler/Default/Uninstall
+	rm -rf "$(1)/lib/go-$(2)"
+	rm -rf "$(1)/share/go-$(2)"
+endef
+
+# $(1) destination prefix
+define GoCompiler/Default/Uninstall/BinLinks
+	rm -f "$(1)/bin/go"
+	rm -f "$(1)/bin/gofmt"
+endef
+
+
+# $(1) profile name
+# $(2) source go root
+# $(3) destination prefix
+# $(4) go version id
+# $(5) GOOS_GOARCH
+# $(6) install suffix (optional)
+define GoCompiler/AddProfile
+
+  # $$(1) valid GOOS_GOARCH combinations
+  define GoCompiler/$(1)/CheckHost
+	$$(call GoCompiler/Default/CheckHost,$$(1),$(4))
+  endef
+
+  # $$(1) additional environment variables (optional)
+  define GoCompiler/$(1)/Make
+	$$(call GoCompiler/Default/Make,$(2),$(3),$(4),$$(1))
+  endef
+
+  # $$(1) override install prefix (optional)
+  define GoCompiler/$(1)/Install/Bin
+	$$(call GoCompiler/Default/Install/Bin,$(2),$$(or $$(1),$(3)),$(4),$(5),$(6))
+  endef
+
+  # $$(1) override install prefix (optional)
+  define GoCompiler/$(1)/Install/BinLinks
+	$$(call GoCompiler/Default/Install/BinLinks,$$(or $$(1),$(3)),$(4))
+  endef
+
+  # $$(1) override install prefix (optional)
+  define GoCompiler/$(1)/Install/Doc
+	$$(call GoCompiler/Default/Install/Doc,$(2),$$(or $$(1),$(3)),$(4))
+  endef
+
+  # $$(1) override install prefix (optional)
+  define GoCompiler/$(1)/Install/Src
+	$$(call GoCompiler/Default/Install/Src,$(2),$$(or $$(1),$(3)),$(4))
+  endef
+
+  # $$(1) override install prefix (optional)
+  define GoCompiler/$(1)/Uninstall
+	$$(call GoCompiler/Default/Uninstall,$$(or $$(1),$(3)),$(4))
+  endef
+
+  # $$(1) override install prefix (optional)
+  define GoCompiler/$(1)/Uninstall/BinLinks
+	$$(call GoCompiler/Default/Uninstall/BinLinks,$$(or $$(1),$(3)))
+  endef
+
+endef
diff -uprN a/feeds/packages/golang/golang-host-build.mk b/feeds/packages/golang/golang-host-build.mk
--- a/feeds/packages/golang/golang-host-build.mk	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang-host-build.mk	2022-06-12 10:10:01.363811000 +0800
@@ -0,0 +1,220 @@
+#
+# Copyright (C) 2020 Jeffery To
+#
+# This is free software, licensed under the GNU General Public License v2.
+# See /LICENSE for more information.
+#
+
+ifeq ($(origin GO_INCLUDE_DIR),undefined)
+  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
+endif
+
+include $(GO_INCLUDE_DIR)/golang-values.mk
+
+
+# these variables have the same meanings as in golang-package.mk
+GO_HOST_INSTALL_EXTRA?=$(GO_PKG_INSTALL_EXTRA)
+GO_HOST_INSTALL_ALL?=$(GO_PKG_INSTALL_ALL)
+GO_HOST_SOURCE_ONLY?=$(GO_PKG_SOURCE_ONLY)
+GO_HOST_BUILD_PKG?=$(GO_PKG_BUILD_PKG)
+GO_HOST_EXCLUDES?=$(GO_PKG_EXCLUDES)
+GO_HOST_GO_GENERATE?=$(GO_PKG_GO_GENERATE)
+GO_HOST_GCFLAGS?=$(GO_PKG_GCFLAGS)
+GO_HOST_LDFLAGS?=$(GO_PKG_LDFLAGS)
+GO_HOST_LDFLAGS_X?=$(GO_PKG_LDFLAGS_X)
+GO_HOST_TAGS?=$(GO_PKG_TAGS)
+GO_HOST_INSTALL_BIN_PATH?=/bin
+
+
+# need to repeat this here in case golang-package.mk is not included
+GO_PKG_BUILD_PKG?=$(strip $(GO_PKG))/...
+
+GO_HOST_WORK_DIR_NAME:=.go_work
+GO_HOST_BUILD_DIR=$(HOST_BUILD_DIR)/$(GO_HOST_WORK_DIR_NAME)/build
+GO_HOST_BUILD_BIN_DIR=$(GO_HOST_BUILD_DIR)/bin
+
+GO_HOST_BUILD_DEPENDS_PATH:=/share/gocode
+GO_HOST_BUILD_DEPENDS_SRC=$(STAGING_DIR_HOSTPKG)$(GO_HOST_BUILD_DEPENDS_PATH)/src
+
+GO_HOST_DIR_NAME:=$(lastword $(subst /,$(space),$(CURDIR)))
+GO_HOST_STAGING_DIR:=$(TMP_DIR)/host-stage-$(GO_HOST_DIR_NAME)
+GO_HOST_STAGING_FILES_LIST_DIR:=$(HOST_BUILD_PREFIX)/stamp
+GO_HOST_BIN_STAGING_FILES_LIST:=$(GO_HOST_STAGING_FILES_LIST_DIR)/$(GO_HOST_DIR_NAME)-bin.list
+GO_HOST_SRC_STAGING_FILES_LIST:=$(GO_HOST_STAGING_FILES_LIST_DIR)/$(GO_HOST_DIR_NAME)-src.list
+
+ifeq ($(GO_HOST_PIE_SUPPORTED),1)
+  GO_HOST_ENABLE_PIE:=1
+endif
+
+GO_HOST_BUILD_CONFIG_VARS= \
+	GO_PKG="$(strip $(GO_PKG))" \
+	GO_INSTALL_EXTRA="$(strip $(GO_HOST_INSTALL_EXTRA))" \
+	GO_INSTALL_ALL="$(strip $(GO_HOST_INSTALL_ALL))" \
+	GO_SOURCE_ONLY="$(strip $(GO_HOST_SOURCE_ONLY))" \
+	GO_BUILD_PKG="$(strip $(GO_HOST_BUILD_PKG))" \
+	GO_EXCLUDES="$(strip $(GO_HOST_EXCLUDES))" \
+	GO_GO_GENERATE="$(strip $(GO_HOST_GO_GENERATE))" \
+	GO_INSTALL_BIN_PATH="$(strip $(GO_HOST_INSTALL_BIN_PATH))" \
+	BUILD_DIR="$(HOST_BUILD_DIR)" \
+	GO_BUILD_DIR="$(GO_HOST_BUILD_DIR)" \
+	GO_BUILD_BIN_DIR="$(GO_HOST_BUILD_BIN_DIR)" \
+	GO_BUILD_DEPENDS_PATH="$(GO_HOST_BUILD_DEPENDS_PATH)" \
+	GO_BUILD_DEPENDS_SRC="$(GO_HOST_BUILD_DEPENDS_SRC)"
+
+GO_HOST_MORE_CFLAGS?= \
+	-Wformat -Werror=format-security \
+	-fstack-protector-strong \
+	-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 \
+	-Wl,-z,now -Wl,-z,relro \
+	$(if $(GO_HOST_ENABLE_PIE),$(FPIC))
+
+GO_HOST_MORE_LDFLAGS?= \
+	-znow -zrelro \
+	$(if $(GO_HOST_ENABLE_PIE),$(FPIC) -specs=$(INCLUDE_DIR)/hardened-ld-pie.specs)
+
+GO_HOST_TARGET_VARS= \
+	CGO_ENABLED=1 \
+	CC=gcc \
+	CXX=g++ \
+	PKG_CONFIG=pkg-config \
+	CGO_CFLAGS="$(HOST_CFLAGS) $(GO_HOST_MORE_CFLAGS)" \
+	CGO_CPPFLAGS="$(HOST_CPPFLAGS) $(GO_HOST_MORE_CPPFLAGS)" \
+	CGO_CXXFLAGS="$(HOST_CFLAGS) $(GO_HOST_MORE_CFLAGS)" \
+	CGO_LDFLAGS="$(HOST_LDFLAGS) $(GO_HOST_MORE_LDFLAGS)" \
+	GO_GCC_HELPER_CC="$(HOSTCC)" \
+	GO_GCC_HELPER_CXX="$(HOSTCXX)" \
+	GO_GCC_HELPER_PATH="$$$$PATH" \
+	PATH="$(STAGING_DIR_HOSTPKG)/lib/go-cross/openwrt:$$$$PATH"
+
+GO_HOST_BUILD_VARS= \
+	GOPATH="$(GO_HOST_BUILD_DIR)" \
+	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
+	GOMODCACHE="$(GO_MOD_CACHE_DIR)" \
+	GOENV=off
+
+GO_HOST_VARS= \
+	$(GO_HOST_TARGET_VARS) \
+	$(GO_HOST_BUILD_VARS)
+
+GO_HOST_DEFAULT_LDFLAGS= \
+	-linkmode external \
+	-extldflags '$(patsubst -z%,-Wl$(comma)-z$(comma)%,$(HOST_LDFLAGS) $(GO_HOST_MORE_LDFLAGS))'
+
+GO_HOST_CUSTOM_LDFLAGS= \
+	$(GO_HOST_LDFLAGS) \
+	$(patsubst %,-X %,$(GO_HOST_LDFLAGS_X))
+
+GO_HOST_INSTALL_ARGS= \
+	-v \
+	-ldflags "all=$(GO_HOST_DEFAULT_LDFLAGS)" \
+	$(if $(GO_HOST_ENABLE_PIE),-buildmode pie) \
+	$(if $(strip $(GO_HOST_GCFLAGS)),-gcflags "$(GO_HOST_GCFLAGS)") \
+	$(if $(strip $(GO_HOST_CUSTOM_LDFLAGS)),-ldflags "$(GO_HOST_CUSTOM_LDFLAGS) $(GO_HOST_DEFAULT_LDFLAGS)") \
+	$(if $(strip $(GO_HOST_TAGS)),-tags "$(GO_HOST_TAGS)")
+
+define GoHost/Host/Configure
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_HOST_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh configure
+endef
+
+# $(1) additional arguments for go command line (optional)
+define GoHost/Host/Compile
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_HOST_BUILD_CONFIG_VARS) \
+	$(GO_HOST_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh build $(GO_HOST_INSTALL_ARGS) $(1)
+endef
+
+define GoHost/Host/Install/Bin
+	rm -rf "$(GO_HOST_STAGING_DIR)"
+	mkdir -p "$(GO_HOST_STAGING_DIR)" "$(GO_HOST_STAGING_FILES_LIST_DIR)"
+
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_HOST_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_bin "$(GO_HOST_STAGING_DIR)"
+
+	if [ -f "$(GO_HOST_BIN_STAGING_FILES_LIST)" ]; then \
+		"$(SCRIPT_DIR)/clean-package.sh" \
+			"$(GO_HOST_BIN_STAGING_FILES_LIST)" \
+			"$(1)" ; \
+	fi
+
+	cd "$(GO_HOST_STAGING_DIR)" && find ./ > "$(GO_HOST_STAGING_DIR).files"
+
+	$(call locked, \
+		mv "$(GO_HOST_STAGING_DIR).files" "$(GO_HOST_BIN_STAGING_FILES_LIST)" && \
+		$(CP) "$(GO_HOST_STAGING_DIR)"/* "$(1)/", \
+		host-staging-dir \
+	)
+
+	rm -rf "$(GO_HOST_STAGING_DIR)"
+endef
+
+define GoHost/Host/Install/Src
+	rm -rf "$(GO_HOST_STAGING_DIR)"
+	mkdir -p "$(GO_HOST_STAGING_DIR)" "$(GO_HOST_STAGING_FILES_LIST_DIR)"
+
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_HOST_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_src "$(GO_HOST_STAGING_DIR)"
+
+	if [ -f "$(GO_HOST_SRC_STAGING_FILES_LIST)" ]; then \
+		"$(SCRIPT_DIR)/clean-package.sh" \
+			"$(GO_HOST_SRC_STAGING_FILES_LIST)" \
+			"$(1)" ; \
+	fi
+
+	cd "$(GO_HOST_STAGING_DIR)" && find ./ > "$(GO_HOST_STAGING_DIR).files"
+
+	$(call locked, \
+		mv "$(GO_HOST_STAGING_DIR).files" "$(GO_HOST_SRC_STAGING_FILES_LIST)" && \
+		$(CP) "$(GO_HOST_STAGING_DIR)"/* "$(1)/", \
+		host-staging-dir \
+	)
+
+	rm -rf "$(GO_HOST_STAGING_DIR)"
+endef
+
+define GoHost/Host/Install
+	$(if $(filter $(GO_HOST_SOURCE_ONLY),1),, \
+		$(call GoHost/Host/Install/Bin,$(1)) \
+	)
+	$(call GoHost/Host/Install/Src,$(1))
+endef
+
+define GoHost/Host/Uninstall
+	if [ -f "$(GO_HOST_BIN_STAGING_FILES_LIST)" ]; then \
+		"$(SCRIPT_DIR)/clean-package.sh" \
+			"$(GO_HOST_BIN_STAGING_FILES_LIST)" \
+			"$(HOST_BUILD_PREFIX)" ; \
+		rm -f "$(GO_HOST_BIN_STAGING_FILES_LIST)" ; \
+	fi
+
+	if [ -f "$(GO_HOST_SRC_STAGING_FILES_LIST)" ]; then \
+		"$(SCRIPT_DIR)/clean-package.sh" \
+			"$(GO_HOST_SRC_STAGING_FILES_LIST)" \
+			"$(HOST_BUILD_PREFIX)" ; \
+		rm -f "$(GO_HOST_SRC_STAGING_FILES_LIST)" ; \
+	fi
+endef
+
+
+ifneq ($(strip $(GO_PKG)),)
+  Host/Configure=$(call GoHost/Host/Configure)
+  Host/Compile=$(call GoHost/Host/Compile)
+  Hooks/HostCompile/Post+=Go/CacheCleanup
+  Host/Uninstall=$(call GoHost/Host/Uninstall,$(1))
+endif
+
+define GoHostBuild
+  Host/Install=$$(call GoHost/Host/Install,$$(1))
+endef
+
+define GoBinHostBuild
+  Host/Install=$$(call GoHost/Host/Install/Bin,$$(1))
+endef
+
+define GoSrcHostBuild
+  Host/Install=$$(call GoHost/Host/Install/Src,$$(1))
+endef
diff -uprN a/feeds/packages/golang/golang-package.mk b/feeds/packages/golang/golang-package.mk
--- a/feeds/packages/golang/golang-package.mk	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang-package.mk	2022-06-12 10:10:01.363811000 +0800
@@ -0,0 +1,319 @@
+#
+# Copyright (C) 2018-2020 Jeffery To
+#
+# This is free software, licensed under the GNU General Public License v2.
+# See /LICENSE for more information.
+#
+
+ifeq ($(origin GO_INCLUDE_DIR),undefined)
+  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
+endif
+
+include $(GO_INCLUDE_DIR)/golang-values.mk
+
+
+# Variables (all optional, except GO_PKG) to be set in package
+# Makefiles:
+#
+# GO_PKG (required) - name of Go package
+#
+#   Go name of the package.
+#
+#   e.g. GO_PKG:=golang.org/x/text
+#
+#
+# GO_PKG_INSTALL_EXTRA - list of regular expressions, default empty
+#
+#   Additional files/directories to install. By default, only these
+#   files are installed:
+#
+#   * Files with one of these extensions:
+#     .go, .c, .cc, .cpp, .h, .hh, .hpp, .proto, .s
+#
+#   * Files in any 'testdata' directory
+#
+#   * go.mod, go.sum and go.work, in any directory
+#
+#   e.g. GO_PKG_INSTALL_EXTRA:=example.toml marshal_test.toml
+#
+#
+# GO_PKG_INSTALL_ALL - boolean (0 or 1), default false
+#
+#   If true, install all files regardless of extension or directory.
+#
+#   e.g. GO_PKG_INSTALL_ALL:=1
+#
+#
+# GO_PKG_SOURCE_ONLY - boolean (0 or 1), default false
+#
+#   If true, 'go install' will not be called. If the package does not
+#   (or should not) build any binaries, then specifying this option will
+#   save build time.
+#
+#   e.g. GO_PKG_SOURCE_ONLY:=1
+#
+#
+# GO_PKG_BUILD_PKG - list of build targets, default GO_PKG/...
+#
+#   Build targets for compiling this Go package, i.e. arguments passed
+#   to 'go install'.
+#
+#   e.g. GO_PKG_BUILD_PKG:=github.com/debian/ratt/cmd/...
+#
+#
+# GO_PKG_EXCLUDES - list of regular expressions, default empty
+#
+#   Patterns to exclude from the build targets expanded from
+#   GO_PKG_BUILD_PKG.
+#
+#   e.g. GO_PKG_EXCLUDES:=examples/
+#
+#
+# GO_PKG_GO_GENERATE - boolean (0 or 1), default false
+#
+#   If true, 'go generate' will be called on all build targets (as
+#   determined by GO_PKG_BUILD_PKG and GO_PKG_EXCLUDES). This is usually
+#   not necessary.
+#
+#   e.g. GO_PKG_GO_GENERATE:=1
+#
+#
+# GO_PKG_GCFLAGS - list of options, default empty
+#
+#   Additional go tool compile options to use when building targets.
+#
+#   e.g. GO_PKG_GCFLAGS:=-N -l
+#
+#
+# GO_PKG_LDFLAGS - list of options, default empty
+#
+#   Additional go tool link options to use when building targets.
+#
+#   Note that the OpenWrt build system has an option to strip binaries
+#   (enabled by default), so -s (Omit the symbol table and debug
+#   information) and -w (Omit the DWARF symbol table) flags are not
+#   necessary.
+#
+#   e.g. GO_PKG_LDFLAGS:=-r dir1:dir2 -u
+#
+#
+# GO_PKG_LDFLAGS_X - list of string variable definitions, default empty
+#
+#   Each definition will be passed as the parameter to the -X go tool
+#   link option, i.e. -ldflags "-X importpath.name=value".
+#
+#   e.g. GO_PKG_LDFLAGS_X:=main.Version=$(PKG_VERSION) main.BuildStamp=$(SOURCE_DATE_EPOCH)
+#
+#
+# GO_PKG_TAGS - list of build tags, default empty
+#
+#   Build tags to consider satisfied during the build, passed as the
+#   parameter to the -tags option for 'go install'.
+#
+#   e.g. GO_PKG_TAGS:=release,noupgrade
+#
+#
+# GO_PKG_INSTALL_BIN_PATH - target directory path, default /usr/bin
+#
+#   Directory path under "dest_dir" where binaries will be installed by
+#   '$(call GoPackage/Package/Install/Bin,dest_dir)'.
+#
+#   e.g. GO_PKG_INSTALL_BIN_PATH:=/sbin
+
+# Credit for this package build process (GoPackage/Build/Configure and
+# GoPackage/Build/Compile) belong to Debian's dh-golang completely.
+# https://salsa.debian.org/go-team/packages/dh-golang
+
+
+GO_PKG_BUILD_PKG?=$(strip $(GO_PKG))/...
+GO_PKG_INSTALL_BIN_PATH?=/usr/bin
+
+GO_PKG_WORK_DIR_NAME:=.go_work
+GO_PKG_BUILD_DIR=$(PKG_BUILD_DIR)/$(GO_PKG_WORK_DIR_NAME)/build
+GO_PKG_BUILD_BIN_DIR=$(GO_PKG_BUILD_DIR)/bin$(if $(GO_HOST_TARGET_DIFFERENT),/$(GO_OS_ARCH))
+
+GO_PKG_BUILD_DEPENDS_PATH:=/usr/share/gocode
+GO_PKG_BUILD_DEPENDS_SRC=$(STAGING_DIR)$(GO_PKG_BUILD_DEPENDS_PATH)/src
+
+ifdef CONFIG_PKG_ASLR_PIE_ALL
+  ifeq ($(strip $(PKG_ASLR_PIE)),1)
+    ifeq ($(GO_TARGET_PIE_SUPPORTED),1)
+      GO_PKG_ENABLE_PIE:=1
+    else
+      $(warning PIE buildmode is not supported for $(GO_OS)/$(GO_ARCH))
+    endif
+  endif
+endif
+
+ifdef CONFIG_PKG_ASLR_PIE_REGULAR
+  ifeq ($(strip $(PKG_ASLR_PIE_REGULAR)),1)
+    ifeq ($(GO_TARGET_PIE_SUPPORTED),1)
+      GO_PKG_ENABLE_PIE:=1
+    else
+      $(warning PIE buildmode is not supported for $(GO_OS)/$(GO_ARCH))
+    endif
+  endif
+endif
+
+ifdef CONFIG_GOLANG_SPECTRE
+  ifeq ($(GO_TARGET_SPECTRE_SUPPORTED),1)
+    GO_PKG_ENABLE_SPECTRE:=1
+  else
+    $(warning Spectre mitigations are not supported for $(GO_ARCH))
+  endif
+endif
+
+# sstrip causes corrupted section header size
+ifneq ($(CONFIG_USE_SSTRIP),)
+  ifneq ($(CONFIG_DEBUG),)
+    GO_PKG_STRIP_ARGS:=--strip-unneeded --remove-section=.comment --remove-section=.note
+  else
+    GO_PKG_STRIP_ARGS:=--strip-all
+  endif
+  STRIP:=$(TARGET_CROSS)strip $(GO_PKG_STRIP_ARGS)
+endif
+
+define GoPackage/GoSubMenu
+  SUBMENU:=Go
+  SECTION:=lang
+  CATEGORY:=Languages
+endef
+
+GO_PKG_BUILD_CONFIG_VARS= \
+	GO_PKG="$(strip $(GO_PKG))" \
+	GO_INSTALL_EXTRA="$(strip $(GO_PKG_INSTALL_EXTRA))" \
+	GO_INSTALL_ALL="$(strip $(GO_PKG_INSTALL_ALL))" \
+	GO_SOURCE_ONLY="$(strip $(GO_PKG_SOURCE_ONLY))" \
+	GO_BUILD_PKG="$(strip $(GO_PKG_BUILD_PKG))" \
+	GO_EXCLUDES="$(strip $(GO_PKG_EXCLUDES))" \
+	GO_GO_GENERATE="$(strip $(GO_PKG_GO_GENERATE))" \
+	GO_INSTALL_BIN_PATH="$(strip $(GO_PKG_INSTALL_BIN_PATH))" \
+	BUILD_DIR="$(PKG_BUILD_DIR)" \
+	GO_BUILD_DIR="$(GO_PKG_BUILD_DIR)" \
+	GO_BUILD_BIN_DIR="$(GO_PKG_BUILD_BIN_DIR)" \
+	GO_BUILD_DEPENDS_PATH="$(GO_PKG_BUILD_DEPENDS_PATH)" \
+	GO_BUILD_DEPENDS_SRC="$(GO_PKG_BUILD_DEPENDS_SRC)"
+
+GO_PKG_TARGET_VARS= \
+	GOOS="$(GO_OS)" \
+	GOARCH="$(GO_ARCH)" \
+	GO386="$(GO_386)" \
+	GOAMD64="$(GO_AMD64)" \
+	GOARM="$(GO_ARM)" \
+	GOMIPS="$(GO_MIPS)" \
+	GOMIPS64="$(GO_MIPS64)" \
+	GOPPC64="$(GO_PPC64)" \
+	CGO_ENABLED=1 \
+	CC="$(TARGET_CC)" \
+	CXX="$(TARGET_CXX)" \
+	CGO_CFLAGS="$(filter-out $(GO_CFLAGS_TO_REMOVE),$(TARGET_CFLAGS))" \
+	CGO_CPPFLAGS="$(TARGET_CPPFLAGS)" \
+	CGO_CXXFLAGS="$(filter-out $(GO_CFLAGS_TO_REMOVE),$(TARGET_CXXFLAGS))" \
+	CGO_LDFLAGS="$(TARGET_LDFLAGS)"
+
+GO_PKG_BUILD_VARS= \
+	GOPATH="$(GO_PKG_BUILD_DIR)" \
+	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
+	GOMODCACHE="$(GO_MOD_CACHE_DIR)" \
+	GOENV=off
+
+GO_PKG_VARS= \
+	$(GO_PKG_TARGET_VARS) \
+	$(GO_PKG_BUILD_VARS)
+
+GO_PKG_DEFAULT_GCFLAGS= \
+	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
+
+GO_PKG_DEFAULT_ASMFLAGS= \
+	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
+
+GO_PKG_DEFAULT_LDFLAGS= \
+	-buildid '$(SOURCE_DATE_EPOCH)' \
+	-linkmode external \
+	-extldflags '$(patsubst -z%,-Wl$(comma)-z$(comma)%,$(TARGET_LDFLAGS))'
+
+GO_PKG_CUSTOM_LDFLAGS= \
+	$(GO_PKG_LDFLAGS) \
+	$(patsubst %,-X %,$(GO_PKG_LDFLAGS_X))
+
+GO_PKG_INSTALL_ARGS= \
+	-v \
+	-buildvcs=false \
+	-trimpath \
+	-ldflags "all=$(GO_PKG_DEFAULT_LDFLAGS)" \
+	$(if $(strip $(GO_PKG_DEFAULT_GCFLAGS)),-gcflags "all=$(GO_PKG_DEFAULT_GCFLAGS)") \
+	$(if $(strip $(GO_PKG_DEFAULT_ASMFLAGS)),-asmflags "all=$(GO_PKG_DEFAULT_ASMFLAGS)") \
+	$(if $(GO_PKG_ENABLE_PIE),-buildmode pie) \
+	$(if $(filter $(GO_ARCH),arm),-installsuffix "v$(GO_ARM)") \
+	$(if $(filter $(GO_ARCH),mips mipsle),-installsuffix "$(GO_MIPS)") \
+	$(if $(filter $(GO_ARCH),mips64 mips64le),-installsuffix "$(GO_MIPS64)") \
+	$(if $(strip $(GO_PKG_GCFLAGS)),-gcflags "$(GO_PKG_GCFLAGS) $(GO_PKG_DEFAULT_GCFLAGS)") \
+	$(if $(strip $(GO_PKG_CUSTOM_LDFLAGS)),-ldflags "$(GO_PKG_CUSTOM_LDFLAGS) $(GO_PKG_DEFAULT_LDFLAGS)") \
+	$(if $(strip $(GO_PKG_TAGS)),-tags "$(GO_PKG_TAGS)")
+
+define GoPackage/Build/Configure
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_PKG_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh configure
+endef
+
+# $(1) additional arguments for go command line (optional)
+define GoPackage/Build/Compile
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_PKG_BUILD_CONFIG_VARS) \
+	$(GO_PKG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh build $(GO_PKG_INSTALL_ARGS) $(1)
+endef
+
+define GoPackage/Build/InstallDev
+	$(call GoPackage/Package/Install/Src,$(1))
+endef
+
+define GoPackage/Package/Install/Bin
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_PKG_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_bin "$(1)"
+endef
+
+define GoPackage/Package/Install/Src
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(GO_PKG_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_src "$(1)"
+endef
+
+define GoPackage/Package/Install
+	$(if $(filter $(GO_PKG_SOURCE_ONLY),1),, \
+		$(call GoPackage/Package/Install/Bin,$(1)) \
+	)
+	$(call GoPackage/Package/Install/Src,$(1))
+endef
+
+
+ifneq ($(strip $(GO_PKG)),)
+  ifeq ($(GO_TARGET_SPECTRE_SUPPORTED),1)
+    PKG_CONFIG_DEPENDS+=CONFIG_GOLANG_SPECTRE
+  endif
+
+  Build/Configure=$(call GoPackage/Build/Configure)
+  Build/Compile=$(call GoPackage/Build/Compile)
+  Hooks/Compile/Post+=Go/CacheCleanup
+  Build/InstallDev=$(call GoPackage/Build/InstallDev,$(1))
+endif
+
+define GoPackage
+  ifndef Package/$(1)/install
+    Package/$(1)/install=$$(call GoPackage/Package/Install,$$(1))
+  endif
+endef
+
+define GoBinPackage
+  ifndef Package/$(1)/install
+    Package/$(1)/install=$$(call GoPackage/Package/Install/Bin,$$(1))
+  endif
+endef
+
+define GoSrcPackage
+  ifndef Package/$(1)/install
+    Package/$(1)/install=$$(call GoPackage/Package/Install/Src,$$(1))
+  endif
+endef
diff -uprN a/feeds/packages/golang/golang-values.mk b/feeds/packages/golang/golang-values.mk
--- a/feeds/packages/golang/golang-values.mk	1970-01-01 08:00:00.000000000 +0800
+++ b/feeds/packages/golang/golang-values.mk	2023-04-28 20:37:51.085955000 +0800
@@ -0,0 +1,268 @@
+#
+# Copyright (C) 2018, 2020 Jeffery To
+#
+# This is free software, licensed under the GNU General Public License v2.
+# See /LICENSE for more information.
+#
+
+ifeq ($(origin GO_INCLUDE_DIR),undefined)
+  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
+endif
+
+
+# Unset environment variables
+# There are more magic variables to track down, but ain't nobody got time for that
+
+# From https://pkg.go.dev/cmd/go#hdr-Environment_variables
+
+# General-purpose environment variables:
+unexport \
+  GO111MODULE \
+  GCCGO \
+  GOARCH \
+  GOBIN \
+  GOCACHE \
+  GOMODCACHE \
+  GODEBUG \
+  GOENV \
+  GOFLAGS \
+  GOOS \
+  GOPATH \
+  GOROOT \
+  GOTMPDIR \
+  GOWORK
+# Unmodified:
+#   GOINSECURE
+#   GOPRIVATE
+#   GOPROXY
+#   GONOPROXY
+#   GOSUMDB
+#   GONOSUMDB
+#   GOVCS
+
+# Environment variables for use with cgo:
+unexport \
+  AR \
+  CC \
+  CGO_ENABLED \
+  CGO_CFLAGS   CGO_CFLAGS_ALLOW   CGO_CFLAGS_DISALLOW \
+  CGO_CPPFLAGS CGO_CPPFLAGS_ALLOW CGO_CPPFLAGS_DISALLOW \
+  CGO_CXXFLAGS CGO_CXXFLAGS_ALLOW CGO_CXXFLAGS_DISALLOW \
+  CGO_FFLAGS   CGO_FFLAGS_ALLOW   CGO_FFLAGS_DISALLOW \
+  CGO_LDFLAGS  CGO_LDFLAGS_ALLOW  CGO_LDFLAGS_DISALLOW \
+  CXX \
+  FC
+# Unmodified:
+#   PKG_CONFIG
+
+# Architecture-specific environment variables:
+unexport \
+  GOARM \
+  GO386 \
+  GOAMD64 \
+  GOMIPS \
+  GOMIPS64 \
+  GOPPC64 \
+  GOWASM
+
+# Environment variables for use with code coverage:
+unexport \
+  GOCOVERDIR
+
+# Special-purpose environment variables:
+unexport \
+  GCCGOTOOLDIR \
+  GOEXPERIMENT \
+  GOROOT_FINAL \
+  GO_EXTLINK_ENABLED
+# Unmodified:
+#   GIT_ALLOW_PROTOCOL
+
+# From https://pkg.go.dev/runtime#hdr-Environment_Variables
+unexport \
+  GOGC \
+  GOMEMLIMIT \
+  GOMAXPROCS \
+  GORACE \
+  GOTRACEBACK
+
+# From https://pkg.go.dev/cmd/cgo#hdr-Using_cgo_with_the_go_command
+unexport \
+  CC_FOR_TARGET \
+  CXX_FOR_TARGET
+# Todo:
+#   CC_FOR_${GOOS}_${GOARCH}
+#   CXX_FOR_${GOOS}_${GOARCH}
+
+# From https://go.dev/doc/install/source#environment
+unexport \
+  GOHOSTOS \
+  GOHOSTARCH
+
+# From https://go.dev/src/make.bash
+unexport \
+  GO_GCFLAGS \
+  GO_LDFLAGS \
+  GO_LDSO \
+  GO_DISTFLAGS \
+  GOBUILDTIMELOGFILE \
+  GOROOT_BOOTSTRAP
+
+# From https://go.dev/doc/go1.9#parallel-compile
+unexport \
+  GO19CONCURRENTCOMPILATION
+
+# From https://go.dev/src/cmd/dist/build.go
+unexport \
+  BOOT_GO_GCFLAGS \
+  BOOT_GO_LDFLAGS
+
+# From https://go.dev/src/cmd/dist/buildtool.go
+unexport \
+  GOBOOTSTRAP_TOOLEXEC
+
+
+# GOOS / GOARCH
+
+go_arch=$(subst \
+  aarch64,arm64,$(subst \
+  i386,386,$(subst \
+  mipsel,mipsle,$(subst \
+  mips64el,mips64le,$(subst \
+  powerpc64,ppc64,$(subst \
+  x86_64,amd64,$(1)))))))
+
+GO_OS:=linux
+GO_ARCH:=$(call go_arch,$(ARCH))
+GO_OS_ARCH:=$(GO_OS)_$(GO_ARCH)
+
+GO_HOST_OS:=$(call tolower,$(HOST_OS))
+GO_HOST_ARCH:=$(call go_arch,$(subst \
+  armv6l,arm,$(subst \
+  armv7l,arm,$(subst \
+  i686,i386,$(HOST_ARCH)))))
+GO_HOST_OS_ARCH:=$(GO_HOST_OS)_$(GO_HOST_ARCH)
+
+ifeq ($(GO_OS_ARCH),$(GO_HOST_OS_ARCH))
+  GO_HOST_TARGET_SAME:=1
+else
+  GO_HOST_TARGET_DIFFERENT:=1
+endif
+
+ifeq ($(GO_ARCH),386)
+  ifeq ($(CONFIG_TARGET_x86_geode)$(CONFIG_TARGET_x86_legacy),y)
+    GO_386:=softfloat
+  else
+    GO_386:=sse2
+  endif
+
+  # -fno-plt: causes "unexpected GOT reloc for non-dynamic symbol" errors
+  GO_CFLAGS_TO_REMOVE:=-fno-plt
+
+else ifeq ($(GO_ARCH),amd64)
+  GO_AMD64:=v1
+
+else ifeq ($(GO_ARCH),arm)
+  GO_TARGET_FPU:=$(word 2,$(subst +,$(space),$(call qstrip,$(CONFIG_CPU_TYPE))))
+
+  # FPU names from https://gcc.gnu.org/onlinedocs/gcc-8.4.0/gcc/ARM-Options.html#index-mfpu-1
+  # see also https://github.com/gcc-mirror/gcc/blob/releases/gcc-8.4.0/gcc/config/arm/arm-cpus.in
+
+  ifeq ($(GO_TARGET_FPU),)
+    GO_ARM:=5
+  else ifneq ($(filter $(GO_TARGET_FPU),vfp vfpv2),)
+    GO_ARM:=6
+  else
+    GO_ARM:=7
+  endif
+
+else ifneq ($(filter $(GO_ARCH),mips mipsle),)
+  ifeq ($(CONFIG_HAS_FPU),y)
+    GO_MIPS:=hardfloat
+  else
+    GO_MIPS:=softfloat
+  endif
+
+  # -mips32r2: conflicts with -march=mips32 set by go
+  GO_CFLAGS_TO_REMOVE:=-mips32r2
+
+else ifneq ($(filter $(GO_ARCH),mips64 mips64le),)
+  ifeq ($(CONFIG_HAS_FPU),y)
+    GO_MIPS64:=hardfloat
+  else
+    GO_MIPS64:=softfloat
+  endif
+
+else ifeq ($(GO_ARCH),ppc64)
+  GO_PPC64:=power8
+
+endif
+
+
+# Target Go
+
+GO_ARCH_DEPENDS:=@(aarch64||arm||i386||i686||mips||mips64||mips64el||mipsel||powerpc64||x86_64)
+
+
+# ASLR/PIE
+
+# From https://go.dev/src/internal/platform/supported.go
+GO_PIE_SUPPORTED_OS_ARCH:= \
+  android_386  android_amd64  android_arm  android_arm64 \
+  linux_386    linux_amd64    linux_arm    linux_arm64 \
+  windows_386  windows_amd64  windows_arm  windows_arm64 \
+  \
+  darwin_amd64 darwin_arm64 \
+  ios_amd64    ios_arm64 \
+  \
+  freebsd_amd64 \
+  \
+  aix_ppc64 \
+  \
+  linux_ppc64le linux_riscv64 linux_s390x
+
+# From https://go.dev/src/cmd/go/internal/work/init.go
+go_pie_install_suffix=$(if $(filter $(1),aix_ppc64 windows_386 windows_amd64 windows_arm windows_arm64),,shared)
+
+ifneq ($(filter $(GO_HOST_OS_ARCH),$(GO_PIE_SUPPORTED_OS_ARCH)),)
+  GO_HOST_PIE_SUPPORTED:=1
+  GO_HOST_PIE_INSTALL_SUFFIX:=$(call go_pie_install_suffix,$(GO_HOST_OS_ARCH))
+endif
+
+ifneq ($(filter $(GO_OS_ARCH),$(GO_PIE_SUPPORTED_OS_ARCH)),)
+  GO_TARGET_PIE_SUPPORTED:=1
+  GO_TARGET_PIE_INSTALL_SUFFIX:=$(call go_pie_install_suffix,$(GO_OS_ARCH))
+endif
+
+
+# Spectre mitigations
+
+GO_SPECTRE_SUPPORTED_ARCH:=amd64
+
+ifneq ($(filter $(GO_HOST_ARCH),$(GO_SPECTRE_SUPPORTED_ARCH)),)
+  GO_HOST_SPECTRE_SUPPORTED:=1
+endif
+
+ifneq ($(filter $(GO_ARCH),$(GO_SPECTRE_SUPPORTED_ARCH)),)
+  GO_TARGET_SPECTRE_SUPPORTED:=1
+endif
+
+
+# General build info
+
+GO_BUILD_CACHE_DIR:=$(or $(call qstrip,$(CONFIG_GOLANG_BUILD_CACHE_DIR)),$(TMP_DIR)/go-build)
+GO_MOD_CACHE_DIR:=$(DL_DIR)/go-mod-cache
+
+GO_MOD_ARGS= \
+	-modcacherw
+
+GO_GENERAL_BUILD_CONFIG_VARS= \
+	CONFIG_GOLANG_MOD_CACHE_WORLD_READABLE="$(CONFIG_GOLANG_MOD_CACHE_WORLD_READABLE)" \
+	GO_BUILD_CACHE_DIR="$(GO_BUILD_CACHE_DIR)" \
+	GO_MOD_CACHE_DIR="$(GO_MOD_CACHE_DIR)" \
+	GO_MOD_ARGS="$(GO_MOD_ARGS)"
+
+define Go/CacheCleanup
+	$(GO_GENERAL_BUILD_CONFIG_VARS) \
+	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh cache_cleanup
+endef
diff -uprN a/feeds/packages/lang/chicken-scheme/Makefile b/feeds/packages/lang/chicken-scheme/Makefile
--- a/feeds/packages/lang/chicken-scheme/Makefile	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/chicken-scheme/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,147 +0,0 @@
-# Copyright (C) 2019-2020 Jerônimo Cordoni Pellegrini <j_p@aleph0.info>
-#
-# This file is free software, licensed under the GNU General Public License v3
-# or later.
-# See /LICENSE for details
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=chicken-scheme
-PKG_VERSION:=5.2.0
-PKG_RELEASE:=2
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/chicken-$(PKG_VERSION)
-PKG_SOURCE:=chicken-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://code.call-cc.org/releases/$(PKG_VERSION)/
-PKG_HASH:=819149c8ce7303a9b381d3fdc1d5765c5f9ac4dee6f627d1652f47966a8780fa
-PKG_MAINTAINER:=Jeronimo Pellegrini <j_p@aleph0.info>
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-
-
-
-define Package/chicken-scheme/Default
-  SECTION:=lang
-  CATEGORY:=Languages
-  URL:=https://call-cc.org
-  ABI_VERSION:=11
-endef
-
-
-##
-## chicken-scheme-interpreter
-##
-
-define Package/chicken-scheme-interpreter
-$(call Package/chicken-scheme/Default)
-  TITLE:=Chicken Scheme -- interpreter only
-  SECTION:=lang
-  CATEGORY:=Languages
-endef
-
-define Package/chicken-scheme-interpreter/description
-  Chicken is an implementation of the Scheme language. It is portable, efficient, and supports 
-  the R5RS and R7RS (work in progress) standards, and many extensions.
-  Chicken can be used as a scripting language to automate tasks.
-  This package contains the interpreter, 'csi', only --
-  the compiler and the package installer are not included because they depend on a C compiler.
-  For more information, please refer to the Chicken Scheme website at https://call-cc.org.
-endef
-
-MAKE_FLAGS += PLATFORM=linux C_COMPILER=$(TARGET_CC) LINKER=$(TARGET_CC) PREFIX=/usr C_COMPILER_OPTIMIZATION_OPTIONS="$(TARGET_CFLAGS)"
-
-# not installed:
-# - csc and chicken, the compiler
-# - the include dir (only useful with the compiler)
-# - install, uninstall, status, and chicken-do, which deal with modules
-#   (installation of more modules depends on the compiler)
-# - profiler
-# - feathers, the debugger
-# - libchicken.a, the static library
-define Package/chicken-scheme-interpreter/install
-	$(INSTALL_DIR)  $(1)/usr/bin
-	$(INSTALL_DIR)  $(1)/usr/lib/chicken/$(ABI_VERSION)
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/csi                 $(1)/usr/bin/
-	$(CP) $(PKG_BUILD_DIR)/libchicken.so.$(ABI_VERSION) $(1)/usr/lib/
-	$(CP) $(PKG_BUILD_DIR)/libchicken.so                $(1)/usr/lib/
-	$(CP) $(PKG_BUILD_DIR)/*.import.so                  $(1)/usr/lib/chicken/$(ABI_VERSION)/
-	$(CP) $(PKG_BUILD_DIR)/types.db                     $(1)/usr/lib/chicken/$(ABI_VERSION)/
-endef
-
-$(eval $(call BuildPackage,chicken-scheme-interpreter))
-
-
-
-##
-## chicken-scheme-full
-##
-
-# mips-openwrt-linux-musl-gcc dowsn't seem to link with libchicken.so.
-# already tried -lchicken and passing /usr/lib/libchicken.so on the command
-# line.
-# also tried -Wl,-R/usr/lib,-R/usr/lib/chicken/$(ABI_VERSION)
-#
-# current solution: we do not strip binaries in chicken-scheme-full
-# we do this by unsetting STRIP and RSTRIP, *and* reloading rules.mk
-#
-STRIP:=:
-RSTRIP:=:
-include $(TOPDIR)/rules.mk
-
-define Package/chicken-scheme-full
-$(call Package/chicken-scheme/Default)
-  TITLE:=Chicken Scheme -- full package
-  SECTION:=lang
-  CATEGORY:=Languages
-  # csc depends on gcc; chicken-install uses the 'install' command from coreutils
-  EXTRA_DEPENDS:= gcc, coreutils-install
-endef
-
-define Package/chicken-scheme-full/description
-  Chicken is an implementation of the Scheme language. It is portable, efficient, and supports 
-  the R5RS and R7RS (work in progress) standards, and many extensions.
-  Chicken can be used as a scripting language to automate tasks.
-  This package contains the interpreter, 'csi'; the compiler, 'csc';
-  the tools for installing and removing eggs (modules); the profiler and
-  the debugger.
-  Note that this package depends on gcc, which is quite large (more than 100Mb).
-  For more information, please refer to the Chicken Scheme website at https://call-cc.org.
-endef
-
-
-# not installed:
-# - libchicken.a, the static library
-define Package/chicken-scheme-full/install
-	$(INSTALL_DIR)  $(1)/usr/bin
-	$(INSTALL_DIR)  $(1)/usr/lib/chicken/$(ABI_VERSION)
-	$(INSTALL_DIR)  $(1)/usr/include/chicken
-	$(INSTALL_DIR)  $(1)/usr/share/chicken
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/csi                 $(1)/usr/bin/
-	$(CP) $(PKG_BUILD_DIR)/libchicken.so.$(ABI_VERSION) $(1)/usr/lib/
-	$(CP) $(PKG_BUILD_DIR)/libchicken.so                $(1)/usr/lib/
-	$(CP) $(PKG_BUILD_DIR)/*.import.so                  $(1)/usr/lib/chicken/$(ABI_VERSION)/
-	$(CP) $(PKG_BUILD_DIR)/types.db                     $(1)/usr/lib/chicken/$(ABI_VERSION)/
-	# csc
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/csc     		$(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/chicken 		$(1)/usr/bin/
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/chicken.h		$(1)/usr/include/chicken/
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/chicken-config.h	$(1)/usr/include/chicken/
-	# chicken-install
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/chicken-install		$(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/chicken-uninstall	$(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/chicken-status		$(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/chicken-do		$(1)/usr/bin/
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/setup.defaults		$(1)/usr/share/chicken/
-	# profile
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/chicken-profile		$(1)/usr/bin/
-	# feathers
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/feathers.tcl		$(1)/usr/share/chicken/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/feathers		$(1)/usr/bin/
-endef
-
-$(eval $(call BuildPackage,chicken-scheme-full))
diff -uprN a/feeds/packages/lang/dkjson/Makefile b/feeds/packages/lang/dkjson/Makefile
--- a/feeds/packages/lang/dkjson/Makefile	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/dkjson/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 20013-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=dkjson
-PKG_VERSION:=2.5
-PKG_RELEASE:=4
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/LuaDist/dkjson/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=8560ee3c7ed421b293bf0905017bc90bd2f282d56517aa59ec6c53f5fb4057bd
-
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/dkjson
-	SUBMENU:=Lua
-	SECTION:=lang
-	CATEGORY:=Languages
-	TITLE:=DKJSON
-	URL:=http://dkolf.de/src/dkjson-lua.fsl/home
-	MAINTAINER:=Lars Gierth <larsg@systemli.org>
-	DEPENDS:=+lua
-	PKGARCH:=all
-endef
-
-define Package/dkjson/description
-	Lua JSON parser/serializer with UTF-8 support
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Package/dkjson/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/dkjson.lua $(1)/usr/lib/lua/
-endef
-
-$(eval $(call BuildPackage,dkjson))
diff -uprN a/feeds/packages/lang/erlang/Makefile b/feeds/packages/lang/erlang/Makefile
--- a/feeds/packages/lang/erlang/Makefile	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/erlang/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,421 +0,0 @@
-#
-# Copyright (C) 2009-2020 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=erlang
-PKG_VERSION:=23.0
-PKG_RELEASE:=5
-
-PKG_SOURCE:=otp_src_$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:= http://www.erlang.org/download/
-PKG_HASH:=42dcf3c721f4de59fe74ae7b65950c2174c46dc8d1dd4e27c0594d86f606a635
-
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=Arnaud Sautaux <arnaud.sautaux@infoteam.ch>
-PKG_CPE_ID:=cpe:/a:erlang:erlang
-
-PKG_BUILD_DEPENDS:=erlang/host openssl
-PKG_USE_MIPS16:=0
-PKG_ASLR_PIE:=0
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/otp_src_$(PKG_VERSION)
-PKG_BUILD_DIR:=$(BUILD_DIR)/otp_src_$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/erlang/Default
-  SUBMENU:=Erlang
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Erlang/OTP programming language
-  URL:=http://www.erlang.org/
-endef
-
-define Package/erlang/Default/description
- Erlang/OTP is a general-purpose programming language and runtime
- environment. Erlang has built-in support for concurrency, distribution
- and fault tolerance.
-endef
-
-define Package/erlang
-$(call Package/erlang/Default)
-  DEPENDS+= +libncurses +librt +zlib
-  PROVIDES:= erlang-erts=10.0.1 erlang-kernel=6.0 erlang-sasl=3.2 erlang-stdlib=3.5
-endef
-
-define Package/erlang/description
-$(call Package/erlang/Default/description)
- .
- This package contains the runtime implementation and a minimal set of
- modules (erts, kernel, sasl & stdlib).
-endef
-
-
-define Package/erlang-asn1
-$(call Package/erlang/Default)
-  TITLE:=Abstract Syntax Notation One (ASN.1) support
-  VERSION:=5.0.6
-  DEPENDS+= +erlang +erlang-syntax-tools
-endef
-
-define Package/erlang-asn1/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides Abstract Syntax Notation One (ASN.1)
- support.
-endef
-
-
-define Package/erlang-compiler
-$(call Package/erlang/Default)
-  TITLE:=Byte code compiler
-  VERSION:=7.2
-  DEPENDS+= +erlang +erlang-hipe
-endef
-
-define Package/erlang-compiler/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides a byte code compiler for Erlang which
- produces highly compact code.
-endef
-
-
-define Package/erlang-crypto
-$(call Package/erlang/Default)
-  TITLE:=Cryptography support
-  VERSION:=4.3
-  DEPENDS+= +erlang +libopenssl
-endef
-
-define Package/erlang-crypto/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides functions for computation of message
- digests, and encryption and decryption functions.
-endef
-
-
-define Package/erlang-hipe
-$(call Package/erlang/Default)
-  TITLE:=High Performance Erlang
-  VERSION:=3.18
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-hipe/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides HiPE (High Performance Erlang)
- support.
-endef
-
-
-define Package/erlang-inets
-$(call Package/erlang/Default)
-  TITLE:=Internet clients and servers
-  VERSION:=7.0
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-inets/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides a container for Internet clients and
- servers. Currently a FTP client, a HTTP client and server, and a tftp
- client and server have been incorporated in Inets.
-endef
-
-
-define Package/erlang-mnesia
-$(call Package/erlang/Default)
-  TITLE:=Distributed database
-  VERSION:=4.15.4
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-mnesia/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides a distributed DataBase Management
- System (DBMS), appropriate for telecommunications applications and
- other Erlang applications which require continuous operation and
- exhibit soft real-time properties.
-endef
-
-
-define Package/erlang-runtime-tools
-$(call Package/erlang/Default)
-  TITLE:=Low-profile debugging/tracing tools
-  VERSION:=1.13
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-runtime-tools/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides low footprint tracing/debugging tools
- suitable for inclusion in a production system.
-endef
-
-
-define Package/erlang-snmp
-$(call Package/erlang/Default)
-  TITLE:=Simple Network Management Protocol (SNMP) support
-  VERSION:=5.2.11
-  DEPENDS+= +erlang +erlang-asn1
-endef
-
-define Package/erlang-snmp/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides Simple Network Management Protocol
- (SNMP) support including a MIB compiler and tools for creating SNMP
- agents.
-endef
-
-
-define Package/erlang-public-key
-$(call Package/erlang/Default)
-  TITLE:=Public Key support
-  VERSION:=1.6
-  DEPENDS+= +erlang +erlang-crypto +erlang-asn1
-endef
-
-define Package/erlang-public-key/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides functions to handle public-key infrastructure.
-endef
-
-
-define Package/erlang-ssh
-$(call Package/erlang/Default)
-  TITLE:=Secure Shell (SSH) support
-  VERSION:=4.7
-  DEPENDS+= +erlang +erlang-crypto
-endef
-
-define Package/erlang-ssh/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides an implementation of the Secure Shell
- protocol, with SSH & SFTP support.
-endef
-
-
-define Package/erlang-ssl
-$(call Package/erlang/Default)
-  TITLE:=Secure Sockets Layer (SSL) support
-  VERSION:=9.0
-  DEPENDS+= +erlang +erlang-crypto
-endef
-
-define Package/erlang-ssl/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides support for secure communication over
- sockets.
-endef
-
-
-define Package/erlang-syntax-tools
-$(call Package/erlang/Default)
-  TITLE:=Abstract Erlang syntax trees handling support
-  VERSION:=2.1.5
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-syntax-tools/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides support for handling abstract Erlang
- syntax trees.
-endef
-
-
-define Package/erlang-tools
-$(call Package/erlang/Default)
-  TITLE:=Erlang tools support
-  VERSION:=3.0
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-tools/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides support for misc tools.
-endef
-
-
-define Package/erlang-reltool
-$(call Package/erlang/Default)
-  TITLE:=Erlang reltool support
-  VERSION:=0.7.6
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-reltool/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides support for release management.
-endef
-
-
-define Package/erlang-erl-interface
-$(call Package/erlang/Default)
-  TITLE:=Erlang erl_interface support
-  VERSION:=3.9.3
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-erl-interface/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides support for erlang interoperability with other languages.
-endef
-
-define Package/erlang-os_mon
-$(call Package/erlang/Default)
-  TITLE:=Erlang OS Monitoring Application
-  VERSION:=2.4.5
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-os_mon/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides the following services:
-  cpu_sup CPU load and utilization supervision
-  disksup Disk supervision
-  memsup Memory supervision
-endef
-
-define Package/erlang-xmerl
-$(call Package/erlang/Default)
-  TITLE:=Erlang XML export
-  VERSION:=1.3.17
-  DEPENDS+= +erlang
-endef
-
-define Package/erlang-xmerl/description
-$(call Package/erlang/Default/description)
- .
- This Erlang/OTP package provides functions for exporting XML data to an external format
-endef
-
-# Host
-
-HOST_CONFIGURE_ARGS += \
-	--disable-hipe \
-	--disable-pgo \
-	--disable-smp-support \
-	--without-javac
-
-# Target
-
-CONFIGURE_ARGS += \
-	--disable-hipe \
-	--disable-smp-support \
-	--without-javac \
-	--enable-dynamic-ssl-lib
-
-CONFIGURE_VARS += \
-	SHLIB_LD="$(TARGET_CC)" \
-	TARGET_ARCH="$(TARGET_ARCH)" \
-	ac_cv_func_mmap_fixed_mapped=yes \
-	ac_cv_path_WX_CONFIG_PATH=no \
-	erl_xcomp_getaddrinfo=no \
-	erl_xcomp_sysroot="$(STAGING_DIR)"
-
-EXTRA_CFLAGS+=-D_GNU_SOURCE
-EXTRA_LDFLAGS+=-lz
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		noboot
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		INSTALL_PREFIX="$(PKG_INSTALL_DIR)" \
-		install
-endef
-
-define Package/erlang/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	for f in epmd erl erlc escript run_erl; do \
-		$(CP) $(PKG_INSTALL_DIR)/usr/bin/$$$$f $(1)/usr/bin/ ; \
-	done
-	$(INSTALL_DIR) $(1)/usr/lib/erlang/bin
-	for f in erl erlc escript run_erl start start.boot start.script start_clean.boot start_erl start_sasl.boot to_erl; do \
-		$(CP) $(PKG_INSTALL_DIR)/usr/lib/erlang/bin/$$$$f $(1)/usr/lib/erlang/bin/ ; \
-	done
-	$(INSTALL_DIR) $(1)/usr/lib/erlang/lib
-	for m in erts kernel sasl stdlib; do \
-		$(CP) $(PKG_INSTALL_DIR)/usr/lib/erlang/lib/$$$$m-* $(1)/usr/lib/erlang/lib/ ; \
-		rm -rf $(1)/usr/lib/erlang/lib/$$$$m-*/examples ; \
-		rm -rf $(1)/usr/lib/erlang/lib/$$$$m-*/src ; \
-	done
-	$(INSTALL_DIR) $(1)/usr/lib/erlang
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/erlang/erts-* $(1)/usr/lib/erlang/
-	rm -rf $(1)/usr/lib/erlang/erts-*/{doc,include,lib,man,src}
-	rm -rf $(1)/usr/lib/erlang/erts-*/bin/*.src
-	$(INSTALL_DIR) $(1)/usr/lib/erlang/releases
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/erlang/releases/* $(1)/usr/lib/erlang/releases/
-	$(SED) 's,%ERL_ROOT%,/usr/lib/erlang,g' \
-		$(1)/usr/lib/erlang/releases/RELEASES.src
-	mv -f $(1)/usr/lib/erlang/releases/RELEASES.src \
-		$(1)/usr/lib/erlang/releases/RELEASES
-	for f in bin/erl bin/start erts-*/bin/erl erts-*/bin/start; do \
-		$(SED) 's,^\(ROOTDIR\)=.*,\1=/usr/lib/erlang,g' \
-			$(1)/usr/lib/erlang/$$$$f ; \
-	done
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_BUILD_DIR)/lib/erl_interface/obj/*/*.a $(1)/usr/lib/
-	$(INSTALL_DIR) $(1)/usr/include
-	$(CP) $(PKG_BUILD_DIR)/lib/erl_interface/include/*.h $(1)/usr/include/
-endef
-
-define BuildModule
-
-  define Package/erlang-$(1)/install
-	$(INSTALL_DIR) $$(1)/usr/lib/erlang/lib
-	for m in $(2); do \
-		$(CP) $(PKG_INSTALL_DIR)/usr/lib/erlang/lib/$$$$$$$$m-* $$(1)/usr/lib/erlang/lib/ ; \
-		rm -rf $$(1)/usr/lib/erlang/lib/$$$$$$$$m-*/{examples,priv/obj,src} ; \
-	done
-  endef
-
-  $$(eval $$(call BuildPackage,erlang-$(1)))
-
-endef
-
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,erlang))
-$(eval $(call BuildModule,asn1,asn1))
-$(eval $(call BuildModule,compiler,compiler))
-$(eval $(call BuildModule,crypto,crypto))
-$(eval $(call BuildModule,hipe,hipe))
-$(eval $(call BuildModule,inets,inets))
-$(eval $(call BuildModule,mnesia,mnesia))
-$(eval $(call BuildModule,runtime-tools,runtime_tools))
-$(eval $(call BuildModule,snmp,snmp))
-$(eval $(call BuildModule,public-key,public_key))
-$(eval $(call BuildModule,ssh,ssh))
-$(eval $(call BuildModule,ssl,ssl))
-$(eval $(call BuildModule,syntax-tools,syntax_tools))
-$(eval $(call BuildModule,tools,tools))
-$(eval $(call BuildModule,reltool,reltool))
-$(eval $(call BuildModule,erl-interface,erl_interface))
-$(eval $(call BuildModule,os_mon,os_mon))
-$(eval $(call BuildModule,xmerl,xmerl))
-
diff -uprN a/feeds/packages/lang/erlang/patches/010-openssl-deprecated.patch b/feeds/packages/lang/erlang/patches/010-openssl-deprecated.patch
--- a/feeds/packages/lang/erlang/patches/010-openssl-deprecated.patch	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/erlang/patches/010-openssl-deprecated.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,66 +0,0 @@
---- a/lib/crypto/c_src/crypto_callback.c
-+++ b/lib/crypto/c_src/crypto_callback.c
-@@ -112,6 +112,7 @@ static ErlNifRWLock** lock_vec = NULL; /
- 
- #include <openssl/crypto.h>
- 
-+#if OPENSSL_VERSION_NUMBER < PACKED_OPENSSL_VERSION_PLAIN(1,1,0)
- static INLINE void locking(int mode, ErlNifRWLock* lock)
- {
-     switch (mode) {
-@@ -132,7 +133,6 @@ static INLINE void locking(int mode, Erl
-     }
- }
- 
--#if OPENSSL_VERSION_NUMBER < PACKED_OPENSSL_VERSION_PLAIN(1,1,0)
- static void locking_function(int mode, int n, const char *file, int line)
- {
-     locking(mode, lock_vec[n]);
---- a/lib/crypto/c_src/engine.c
-+++ b/lib/crypto/c_src/engine.c
-@@ -244,7 +244,7 @@ ERL_NIF_TERM engine_load_dynamic_nif(Erl
- #ifdef HAS_ENGINE_SUPPORT
-     ASSERT(argc == 0);
- 
--    ENGINE_load_dynamic();
-+    ENGINE_load_builtin_engines();
-     return atom_ok;
- #else
-     return atom_notsup;
---- a/lib/crypto/c_src/info.c
-+++ b/lib/crypto/c_src/info.c
-@@ -20,6 +20,11 @@
- 
- #include "info.h"
- 
-+#if OPENSSL_VERSION_NUMBER < PACKED_OPENSSL_VERSION_PLAIN(1,1,0)
-+#define OPENSSL_VERSION	SSLEAY_VERSION
-+#define OpenSSL_version	SSLeay_version
-+#endif
-+
- #ifdef HAVE_DYNAMIC_CRYPTO_LIB
- 
- # if defined(DEBUG)
-@@ -77,7 +82,7 @@ ERL_NIF_TERM info_lib(ErlNifEnv *env, in
-     ASSERT(argc == 0);
- 
-     name_sz = strlen(libname);
--    ver = SSLeay_version(SSLEAY_VERSION);
-+    ver = OpenSSL_version(OPENSSL_VERSION);
-     ver_sz = strlen(ver);
-     ver_num = OPENSSL_VERSION_NUMBER;
- 
---- a/lib/crypto/c_src/otp_test_engine.c
-+++ b/lib/crypto/c_src/otp_test_engine.c
-@@ -100,9 +100,11 @@ static int test_init(ENGINE *e) {
-         goto err;
- #endif /* if defined(FAKE_RSA_IMPL) */
- 
-+#if OPENSSL_VERSION_NUMBER < PACKED_OPENSSL_VERSION_PLAIN(1,1,0)
-     /* Load all digest and cipher algorithms. Needed for password protected private keys */
-     OpenSSL_add_all_ciphers();
-     OpenSSL_add_all_digests();
-+#endif
- 
-     return 111;
- 
diff -uprN a/feeds/packages/lang/erlang/patches/020-erts-emulator-reorder-inclued-headers-paths.patch b/feeds/packages/lang/erlang/patches/020-erts-emulator-reorder-inclued-headers-paths.patch
--- a/feeds/packages/lang/erlang/patches/020-erts-emulator-reorder-inclued-headers-paths.patch	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/erlang/patches/020-erts-emulator-reorder-inclued-headers-paths.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-From 85a3e5b4f65e5284e59dcdd90e92ea7d50ef6907 Mon Sep 17 00:00:00 2001
-From: Romain Naour <romain.naour@openwide.fr>
-Date: Sun, 8 Feb 2015 17:23:13 +0100
-Subject: [PATCH] erts/emulator: reorder inclued headers paths
-
-If the Perl Compatible Regular Expressions is installed on the
-host and the path to the headers is added to the CFLAGS, the
-pcre.h from the host is used instead of the one provided by
-erlang.
-
-Erlang use an old version of this file which is incompatible
-with the upstream one.
-
-Move INCLUDES before CFLAGS to use pcre.h from erlang.
-
-http://autobuild.buildroot.net/results/cbd/cbd8b54eef535f19d7d400fd269af1b3571d6143/build-end.log
-
-Signed-off-by: Romain Naour <romain.naour@openwide.fr>
-[Bernd: rebased for erlang-21.0]
-Signed-off-by: Bernd Kuhls <bernd.kuhls@t-online.de>
----
- erts/emulator/Makefile.in | 4 ++--
- 1 file changed, 2 insertions(+), 2 deletions(-)
-
---- a/erts/emulator/Makefile.in
-+++ b/erts/emulator/Makefile.in
-@@ -751,7 +751,7 @@ endif
- # Usually the same as the default rule, but certain platforms (e.g. win32) mix
- # different compilers
- $(OBJDIR)/beam_emu.o: beam/beam_emu.c
--	$(V_EMU_CC) $(subst -O2, $(GEN_OPT_FLGS), $(CFLAGS)) $(INCLUDES) -c $< -o $@
-+	$(V_EMU_CC) $(INCLUDES) $(subst -O2, $(GEN_OPT_FLGS), $(CFLAGS)) -c $< -o $@
- 
- $(OBJDIR)/beam_emu.S: beam/beam_emu.c
- 	$(V_EMU_CC) -S -fverbose-asm $(subst -O2, $(GEN_OPT_FLGS), $(CFLAGS)) $(INCLUDES) -c $< -o $@
-@@ -804,7 +804,7 @@ endif
- # General targets
- #
- $(OBJDIR)/%.o: beam/%.c
--	$(V_CC) $(subst -O2, $(GEN_OPT_FLGS), $(CFLAGS)) $(INCLUDES) -c $< -o $@
-+	$(V_CC) $(INCLUDES) $(subst -O2, $(GEN_OPT_FLGS), $(CFLAGS)) -c $< -o $@
- 
- $(OBJDIR)/%.o: $(TARGET)/%.c
- 	$(V_CC) $(CFLAGS) $(INCLUDES) -Idrivers/common -c $< -o $@
diff -uprN a/feeds/packages/lang/golang/golang/Config.in b/feeds/packages/lang/golang/golang/Config.in
--- a/feeds/packages/lang/golang/golang/Config.in	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/golang/golang/Config.in	1970-01-01 08:00:00.000000000 +0800
@@ -1,33 +0,0 @@
-menu "Configuration"
-
-config GOLANG_EXTERNAL_BOOTSTRAP_ROOT
-	string "External bootstrap Go root directory"
-	default ""
-	help
-	  Path to a working Go tree (>= Go 1.4), with bin, pkg, and src
-	  subdirectories and the Go compiler at bin/go.
-
-	  If specified, the existing Go installation will be used to
-	  compile host (buildroot) Go.
-
-	  Leave blank to compile the default bootstrap Go.
-
-config GOLANG_BUILD_CACHE_DIR
-	string "Go build cache directory"
-	default ""
-	help
-	  Store the Go build cache in this directory.
-	  If not set, uses '$(TMP_DIR)/go-build'.
-
-config GOLANG_MOD_CACHE_WORLD_READABLE
-	bool "Ensure Go module cache is world-readable"
-	default n
-
-config GOLANG_SPECTRE
-	bool "Enable Spectre mitigations"
-	default n
-	depends on x86_64
-	help
-	  Currently only available for x86-64 (amd64).
-
-endmenu
diff -uprN a/feeds/packages/lang/golang/golang/files/go-gcc-helper b/feeds/packages/lang/golang/golang/files/go-gcc-helper
--- a/feeds/packages/lang/golang/golang/files/go-gcc-helper	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/golang/golang/files/go-gcc-helper	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#!/bin/sh
-
-me=go-gcc-helper
-name="${0##*/}"
-
-log() {
-	# shellcheck disable=SC2039
-	local IFS=" "
-	printf '%s\n' "$me: $*"
-}
-
-case "$name" in
-gcc)
-	if [ -z "$GO_GCC_HELPER_CC" ]; then
-		log "missing GO_GCC_HELPER_CC"
-		exit 1
-	fi
-	cmd="$GO_GCC_HELPER_CC"
-	;;
-g++)
-	if [ -z "$GO_GCC_HELPER_CXX" ]; then
-		log "missing GO_GCC_HELPER_CXX"
-		exit 1
-	fi
-	cmd="$GO_GCC_HELPER_CXX"
-	;;
-*)
-	log "unknown command \"$name\""
-	exit 1
-	;;
-esac
-
-if [ -n "$GO_GCC_HELPER_PATH" ]; then
-	export PATH="$GO_GCC_HELPER_PATH"
-else
-	log "missing GO_GCC_HELPER_PATH"
-fi
-
-log "running $cmd $*"
-
-$cmd "$@"
diff -uprN a/feeds/packages/lang/golang/golang/Makefile b/feeds/packages/lang/golang/golang/Makefile
--- a/feeds/packages/lang/golang/golang/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/golang/golang/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,368 +0,0 @@
-#
-# Copyright (C) 2018, 2020 Jeffery To
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-GO_VERSION_MAJOR_MINOR:=1.17
-GO_VERSION_PATCH:=8
-
-PKG_NAME:=golang
-PKG_VERSION:=$(GO_VERSION_MAJOR_MINOR)$(if $(GO_VERSION_PATCH),.$(GO_VERSION_PATCH))
-PKG_RELEASE:=1
-
-GO_SOURCE_URLS:=https://dl.google.com/go/ \
-                https://mirrors.ustc.edu.cn/golang/ \
-                https://mirrors.nju.edu.cn/golang/
-
-PKG_SOURCE:=go$(PKG_VERSION).src.tar.gz
-PKG_SOURCE_URL:=$(GO_SOURCE_URLS)
-PKG_HASH:=2effcd898140da79a061f3784ca4f8d8b13d811fb2abe9dad2404442dabbdf7a
-
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:golang:go
-
-PKG_BUILD_DEPENDS:=golang/host
-PKG_BUILD_DIR:=$(BUILD_DIR)/go-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-PKG_USE_MIPS16:=0
-
-PKG_GO_PREFIX:=/usr
-PKG_GO_VERSION_ID:=$(GO_VERSION_MAJOR_MINOR)
-PKG_GO_ROOT:=$(PKG_GO_PREFIX)/lib/go-$(PKG_GO_VERSION_ID)
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/go-$(PKG_VERSION)
-HOST_BUILD_PARALLEL:=1
-
-HOST_GO_PREFIX:=$(STAGING_DIR_HOSTPKG)
-HOST_GO_VERSION_ID:=cross
-HOST_GO_ROOT:=$(HOST_GO_PREFIX)/lib/go-$(HOST_GO_VERSION_ID)
-
-HOST_GO_VALID_OS_ARCH:= \
-  android_386  android_amd64  android_arm  android_arm64 \
-  freebsd_386  freebsd_amd64  freebsd_arm  freebsd_arm64 \
-  linux_386    linux_amd64    linux_arm    linux_arm64 \
-  openbsd_386  openbsd_amd64  openbsd_arm  openbsd_arm64 \
-  netbsd_386   netbsd_amd64   netbsd_arm   netbsd_arm64 \
-  windows_386  windows_amd64  windows_arm  windows_arm64 \
-  \
-  plan9_386    plan9_amd64    plan9_arm \
-  \
-  darwin_amd64 darwin_arm64 \
-  ios_amd64    ios_arm64 \
-  \
-  dragonfly_amd64 \
-  illumos_amd64 \
-  solaris_amd64 \
-  \
-  aix_ppc64 \
-  js_wasm \
-  \
-  linux_ppc64 linux_ppc64le \
-  linux_mips linux_mipsle linux_mips64 linux_mips64le \
-  linux_riscv64 linux_s390x \
-  \
-  openbsd_mips64
-
-BOOTSTRAP_SOURCE:=go1.4-bootstrap-20171003.tar.gz
-BOOTSTRAP_SOURCE_URL:=$(GO_SOURCE_URLS)
-BOOTSTRAP_HASH:=f4ff5b5eb3a3cae1c993723f3eab519c5bae18866b5e5f96fe1102f0cb5c3e52
-
-BOOTSTRAP_BUILD_DIR:=$(HOST_BUILD_DIR)/.go_bootstrap
-
-BOOTSTRAP_GO_VALID_OS_ARCH:= \
-  darwin_386     darwin_amd64 \
-  dragonfly_386  dragonfly_amd64 \
-  freebsd_386    freebsd_amd64    freebsd_arm \
-  linux_386      linux_amd64      linux_arm \
-  netbsd_386     netbsd_amd64     netbsd_arm \
-  openbsd_386    openbsd_amd64 \
-  plan9_386      plan9_amd64 \
-                 solaris_amd64 \
-  windows_386    windows_amd64
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-include ../golang-compiler.mk
-include ../golang-package.mk
-
-PKG_UNPACK:=$(HOST_TAR) -C "$(PKG_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(PKG_SOURCE)"
-HOST_UNPACK:=$(HOST_TAR) -C "$(HOST_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(PKG_SOURCE)"
-BOOTSTRAP_UNPACK:=$(HOST_TAR) -C "$(BOOTSTRAP_BUILD_DIR)" --strip-components=1 -xzf "$(DL_DIR)/$(BOOTSTRAP_SOURCE)"
-
-# don't strip ELF executables in test data
-RSTRIP:=:
-STRIP:=:
-
-ifeq ($(GO_TARGET_SPECTRE_SUPPORTED),1)
-  PKG_CONFIG_DEPENDS+=CONFIG_GOLANG_SPECTRE
-endif
-
-define Package/golang/Default
-$(call GoPackage/GoSubMenu)
-  TITLE:=Go programming language
-  URL:=https://go.dev/
-  DEPENDS:=$(GO_ARCH_DEPENDS)
-endef
-
-define Package/golang/Default/description
-The Go programming language is an open source project to make
-programmers more productive.
-
-Go is expressive, concise, clean, and efficient. Its concurrency
-mechanisms make it easy to write programs that get the most out of
-multicore and networked machines, while its novel type system enables
-flexible and modular program construction. Go compiles quickly to
-machine code yet has the convenience of garbage collection and the power
-of run-time reflection. It's a fast, statically typed, compiled language
-that feels like a dynamically typed, interpreted language.
-endef
-
-# go tool requires source present:
-# https://github.com/golang/go/issues/4635
-define Package/golang
-$(call Package/golang/Default)
-  TITLE+= (compiler)
-  DEPENDS+= +golang-src
-endef
-
-define Package/golang/description
-$(call Package/golang/Default/description)
-
-This package provides an assembler, compiler, linker, and compiled
-libraries for the Go programming language.
-endef
-
-define Package/golang/config
-  source "$(SOURCE)/Config.in"
-endef
-
-define Package/golang-doc
-$(call Package/golang/Default)
-  TITLE+= (documentation)
-endef
-
-define Package/golang-doc/description
-$(call Package/golang/Default/description)
-
-This package provides the documentation for the Go programming language.
-endef
-
-define Package/golang-src
-$(call Package/golang/Default)
-  TITLE+= (source files)
-endef
-
-define Package/golang-src/description
-$(call Package/golang/Default/description)
-
-This package provides the Go programming language source files needed
-for cross-compilation.
-endef
-
-
-# Bootstrap
-
-BOOTSTRAP_ROOT_DIR:=$(call qstrip,$(CONFIG_GOLANG_EXTERNAL_BOOTSTRAP_ROOT))
-
-ifeq ($(BOOTSTRAP_ROOT_DIR),)
-  BOOTSTRAP_ROOT_DIR:=$(BOOTSTRAP_BUILD_DIR)
-
-  define Download/golang-bootstrap
-    FILE:=$(BOOTSTRAP_SOURCE)
-    URL:=$(BOOTSTRAP_SOURCE_URL)
-    HASH:=$(BOOTSTRAP_HASH)
-  endef
-  $(eval $(call Download,golang-bootstrap))
-
-  define Bootstrap/Prepare
-	mkdir -p "$(BOOTSTRAP_BUILD_DIR)"
-	$(BOOTSTRAP_UNPACK)
-  endef
-  Hooks/HostPrepare/Post+=Bootstrap/Prepare
-
-  $(eval $(call GoCompiler/AddProfile,Bootstrap,$(BOOTSTRAP_BUILD_DIR),,bootstrap,$(GO_HOST_OS_ARCH)))
-endif
-
-
-# Host
-
-ifeq ($(GO_HOST_PIE_SUPPORTED),1)
-  HOST_GO_ENABLE_PIE:=1
-endif
-
-# when using GO_LDFLAGS to set buildmode=pie, the PIE install suffix
-# does not apply (we also delete the std lib during Host/Install)
-
-$(eval $(call GoCompiler/AddProfile,Host,$(HOST_BUILD_DIR),$(HOST_GO_PREFIX),$(HOST_GO_VERSION_ID),$(GO_HOST_OS_ARCH),$(HOST_GO_INSTALL_SUFFIX)))
-
-HOST_GO_VARS= \
-	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
-	GOENV=off \
-	CC="$(HOSTCC_NOCACHE)" \
-	CXX="$(HOSTCXX_NOCACHE)"
-
-define Host/Compile
-	$(call GoCompiler/Bootstrap/CheckHost,$(BOOTSTRAP_GO_VALID_OS_ARCH))
-	$(call GoCompiler/Host/CheckHost,$(HOST_GO_VALID_OS_ARCH))
-
-	mkdir -p "$(GO_BUILD_CACHE_DIR)"
-
-	$(call GoCompiler/Bootstrap/Make, \
-		$(HOST_GO_VARS) \
-	)
-
-	$(call GoCompiler/Host/Make, \
-		GOROOT_BOOTSTRAP="$(BOOTSTRAP_ROOT_DIR)" \
-		$(if $(HOST_GO_ENABLE_PIE),GO_LDFLAGS="-buildmode pie") \
-		$(HOST_GO_VARS) \
-	)
-endef
-
-# if host and target os/arch are the same,
-# when go compiles a program, it will use the host std lib
-# so remove it now and force go to rebuild std for target later
-define Host/Install
-	$(call Host/Uninstall)
-
-	$(call GoCompiler/Host/Install/Bin,)
-	$(call GoCompiler/Host/Install/Src,)
-
-	$(call GoCompiler/Host/Install/BinLinks,)
-
-	rm -rf "$(HOST_GO_ROOT)/pkg/$(GO_HOST_OS_ARCH)$(if $(HOST_GO_INSTALL_SUFFIX),_$(HOST_GO_INSTALL_SUFFIX))"
-
-	$(INSTALL_DIR) "$(HOST_GO_ROOT)/openwrt"
-	$(INSTALL_BIN) ./files/go-gcc-helper "$(HOST_GO_ROOT)/openwrt/"
-	$(LN) go-gcc-helper "$(HOST_GO_ROOT)/openwrt/gcc"
-	$(LN) go-gcc-helper "$(HOST_GO_ROOT)/openwrt/g++"
-endef
-
-define Host/Uninstall
-	rm -rf "$(HOST_GO_ROOT)/openwrt"
-
-	$(call GoCompiler/Host/Uninstall/BinLinks,)
-
-	$(call GoCompiler/Host/Uninstall,)
-endef
-
-
-# Target
-
-ifeq ($(GO_PKG_ENABLE_PIE),1)
-  PKG_GO_INSTALL_SUFFIX:=$(GO_TARGET_PIE_INSTALL_SUFFIX)
-endif
-
-$(eval $(call GoCompiler/AddProfile,Package,$(PKG_BUILD_DIR),$(PKG_GO_PREFIX),$(PKG_GO_VERSION_ID),$(GO_OS_ARCH),$(PKG_GO_INSTALL_SUFFIX)))
-
-PKG_GO_ZBOOTSTRAP_MODS:= \
-	s/defaultGO386 = `[^`]*`/defaultGO386 = `$(or $(GO_386),sse2)`/; \
-	s/defaultGOARM = `[^`]*`/defaultGOARM = `$(or $(GO_ARM),5)`/; \
-	s/defaultGOMIPS = `[^`]*`/defaultGOMIPS = `$(or $(GO_MIPS),hardfloat)`/; \
-	s/defaultGOMIPS64 = `[^`]*`/defaultGOMIPS64 = `$(or $(GO_MIPS64),hardfloat)`/; \
-	s/defaultGOPPC64 = `[^`]*`/defaultGOPPC64 = `power8`/;
-
-PKG_GO_ZBOOTSTRAP_PATH:=$(PKG_BUILD_DIR)/src/internal/buildcfg/zbootstrap.go
-
-PKG_GO_VARS= \
-	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
-	GOENV=off \
-	GO_GCC_HELPER_PATH="$$$$PATH" \
-	CC=gcc \
-	CXX=g++ \
-	PKG_CONFIG=pkg-config \
-	PATH="$(HOST_GO_ROOT)/openwrt:$$$$PATH"
-
-PKG_GO_GCFLAGS= \
-	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
-
-PKG_GO_ASMFLAGS= \
-	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
-
-PKG_GO_LDFLAGS= \
-	-buildid '$(SOURCE_DATE_EPOCH)' \
-	-linkmode external \
-	-extldflags '$(patsubst -z%,-Wl$(comma)-z$(comma)%,$(TARGET_LDFLAGS))' \
-	$(if $(CONFIG_NO_STRIP)$(CONFIG_DEBUG),,-s -w)
-
-# setting -trimpath is not necessary here because the paths inside the
-# compiler binary are relative to GOROOT_FINAL (PKG_GO_ROOT), which is
-# static / not dependent on the build environment
-PKG_GO_INSTALL_ARGS= \
-	-ldflags "all=$(PKG_GO_LDFLAGS)" \
-	$(if $(PKG_GO_GCFLAGS),-gcflags "all=$(PKG_GO_GCFLAGS)") \
-	$(if $(PKG_GO_ASMFLAGS),-asmflags "all=$(PKG_GO_ASMFLAGS)") \
-	$(if $(filter $(GO_PKG_ENABLE_PIE),1),-buildmode pie)
-
-define Build/Compile
-	mkdir -p "$(GO_BUILD_CACHE_DIR)"
-
-	@echo "Building target Go first stage"
-
-	$(call GoCompiler/Package/Make, \
-		GOROOT_BOOTSTRAP="$(HOST_GO_ROOT)" \
-		GO_GCC_HELPER_CC="$(HOSTCC)" \
-		GO_GCC_HELPER_CXX="$(HOSTCXX)" \
-		$(PKG_GO_VARS) \
-	)
-
-	$(SED) '$(PKG_GO_ZBOOTSTRAP_MODS)' "$(PKG_GO_ZBOOTSTRAP_PATH)"
-
-	( \
-		if echo 'int main() { return 0; }' | $(TARGET_CC) -o $(PKG_BUILD_DIR)/test-ldso -x c - > /dev/null 2>&1; then \
-			LDSO=$$$$( \
-				readelf -l $(PKG_BUILD_DIR)/test-ldso | \
-				sed -n -e 's/^.*interpreter: \(.*\)[]]/\1/p' \
-			) ; \
-		fi ; \
-		$(SED) "s,defaultGO_LDSO = \`[^\`]*\`,defaultGO_LDSO = \`$$$$LDSO\`," "$(PKG_GO_ZBOOTSTRAP_PATH)" ; \
-	)
-
-	@echo "Building target Go second stage"
-
-	( \
-		cd "$(PKG_BUILD_DIR)/bin" ; \
-		export $(GO_PKG_TARGET_VARS) ; \
-		$(CP) go go-host ; \
-		GOROOT_FINAL="$(PKG_GO_ROOT)" \
-		GO_GCC_HELPER_CC="$(TARGET_CC)" \
-		GO_GCC_HELPER_CXX="$(TARGET_CXX)" \
-		$(PKG_GO_VARS) \
-		./go-host install -a $(PKG_GO_INSTALL_ARGS) std cmd ; \
-		retval="$$$$?" ; \
-		rm -f go-host ; \
-		exit "$$$$retval" ; \
-	)
-endef
-
-define Package/golang/install
-	$(call GoCompiler/Package/Install/Bin,$(1)$(PKG_GO_PREFIX))
-	$(call GoCompiler/Package/Install/BinLinks,$(1)$(PKG_GO_PREFIX))
-endef
-
-define Package/golang-doc/install
-	$(call GoCompiler/Package/Install/Doc,$(1)$(PKG_GO_PREFIX))
-endef
-
-define Package/golang-src/install
-	$(call GoCompiler/Package/Install/Src,$(1)$(PKG_GO_PREFIX))
-endef
-
-# src/debug contains ELF executables as test data
-# and they reference these libraries
-# we need to call this in Package/$(1)/extra_provides
-# to pass CheckDependencies in include/package-ipkg.mk
-define Package/golang-src/extra_provides
-	echo 'libc.so.6'
-endef
-
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,golang))
-$(eval $(call BuildPackage,golang-doc))
-$(eval $(call BuildPackage,golang-src))
diff -uprN a/feeds/packages/lang/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch b/feeds/packages/lang/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch
--- a/feeds/packages/lang/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/golang/golang/patches/001-cmd-link-use-gold-on-ARM-ARM64-only-if-gold-is-available.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-This is https://github.com/golang/go/pull/49748 backported for Go 1.17.
-
---- a/src/cmd/link/internal/ld/lib.go
-+++ b/src/cmd/link/internal/ld/lib.go
-@@ -1391,23 +1391,18 @@ func (ctxt *Link) hostlink() {
- 		}
- 
- 		if ctxt.Arch.InFamily(sys.ARM, sys.ARM64) && buildcfg.GOOS == "linux" {
--			// On ARM, the GNU linker will generate COPY relocations
--			// even with -znocopyreloc set.
-+			// On ARM, older versions of the GNU linker will generate
-+			// COPY relocations even with -znocopyreloc set.
- 			// https://sourceware.org/bugzilla/show_bug.cgi?id=19962
- 			//
--			// On ARM64, the GNU linker will fail instead of
--			// generating COPY relocations.
-+			// On ARM64, older versions of the GNU linker will fail
-+			// instead of generating COPY relocations.
- 			//
--			// In both cases, switch to gold.
--			altLinker = "gold"
--
--			// If gold is not installed, gcc will silently switch
--			// back to ld.bfd. So we parse the version information
--			// and provide a useful error if gold is missing.
-+			// In both cases, switch to gold if gold is available.
- 			cmd := exec.Command(*flagExtld, "-fuse-ld=gold", "-Wl,--version")
- 			if out, err := cmd.CombinedOutput(); err == nil {
--				if !bytes.Contains(out, []byte("GNU gold")) {
--					log.Fatalf("ARM external linker must be gold (issue #15696), but is not: %s", out)
-+				if bytes.Contains(out, []byte("GNU gold")) {
-+					altLinker = "gold"
- 				}
- 			}
- 		}
diff -uprN a/feeds/packages/lang/golang/golang-build.sh b/feeds/packages/lang/golang/golang-build.sh
--- a/feeds/packages/lang/golang/golang-build.sh	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/golang/golang-build.sh	1970-01-01 08:00:00.000000000 +0800
@@ -1,204 +0,0 @@
-#!/bin/sh
-
-nl="
-"
-
-log() {
-	# shellcheck disable=SC2039
-	local IFS=" "
-	printf '%s\n' "$*"
-}
-
-log_error() {
-	# shellcheck disable=SC2039
-	local IFS=" "
-	printf 'Error: %s\n' "$*" >&2
-}
-
-link_contents() {
-	# shellcheck disable=SC2039
-	local src="$1" dest="$2" IFS="$nl" dirs dir base
-
-	if [ -n "$(find "$src" -mindepth 1 -maxdepth 1 -name "*.go" -not -type d)" ]; then
-		log_error "$src is already a Go library"
-		return 1
-	fi
-
-	dirs="$(find "$src" -mindepth 1 -maxdepth 1 -type d)"
-	for dir in $dirs; do
-		base="${dir##*/}"
-		if [ -d "$dest/$base" ]; then
-			case "$dir" in
-			*$GO_BUILD_DEPENDS_SRC/$GO_PKG)
-				log "$GO_PKG is already installed. Please check for circular dependencies."
-				;;
-			*)
-				link_contents "$src/$base" "$dest/$base"
-				;;
-			esac
-		else
-			log "...${src#$GO_BUILD_DEPENDS_SRC}/$base"
-			ln -sf "$src/$base" "$dest/$base"
-		fi
-	done
-
-	return 0
-}
-
-configure() {
-	# shellcheck disable=SC2039
-	local files code testdata gomod pattern extra IFS file dest
-
-	cd "$BUILD_DIR" || return 1
-
-	files="$(find ./ -path "*/.*" -prune -o -not -type d -print)"
-
-	if [ "$GO_INSTALL_ALL" != 1 ]; then
-		code="$(printf '%s\n' "$files" | grep '\.\(c\|cc\|cpp\|go\|h\|hh\|hpp\|proto\|s\)$')"
-		testdata="$(printf '%s\n' "$files" | grep '/testdata/')"
-		gomod="$(printf '%s\n' "$files" | grep '/go\.\(mod\|sum\)$')"
-
-		for pattern in $GO_INSTALL_EXTRA; do
-			extra="$(printf '%s\n' "$extra"; printf '%s\n' "$files" | grep -e "$pattern")"
-		done
-
-		files="$(printf '%s\n%s\n%s\n%s\n' "$code" "$testdata" "$gomod" "$extra" | grep -v '^[[:space:]]*$' | sort -u)"
-	fi
-
-	IFS="$nl"
-
-	log "Copying files from $BUILD_DIR into $GO_BUILD_DIR/src/$GO_PKG"
-	mkdir -p "$GO_BUILD_DIR/src"
-	for file in $files; do
-		log "${file#./}"
-		dest="$GO_BUILD_DIR/src/$GO_PKG/${file#./}"
-		mkdir -p "${dest%/*}"
-		cp -fpR "$file" "$dest"
-	done
-	log
-
-	if [ "$GO_SOURCE_ONLY" != 1 ]; then
-		if [ -d "$GO_BUILD_DEPENDS_SRC" ]; then
-			log "Symlinking directories from $GO_BUILD_DEPENDS_SRC into $GO_BUILD_DIR/src"
-			link_contents "$GO_BUILD_DEPENDS_SRC" "$GO_BUILD_DIR/src"
-		else
-			log "$GO_BUILD_DEPENDS_SRC does not exist, skipping symlinks"
-		fi
-	else
-		log "Not building binaries, skipping symlinks"
-	fi
-	log
-
-	return 0
-}
-
-build() {
-	# shellcheck disable=SC2039
-	local modargs pattern targets retval
-
-	cd "$GO_BUILD_DIR" || return 1
-
-	if [ -f "$BUILD_DIR/go.mod" ] ; then
-		mkdir -p "$GO_MOD_CACHE_DIR"
-		modargs="$GO_MOD_ARGS"
-	fi
-
-	log "Finding targets"
-	# shellcheck disable=SC2086
-	targets="$(go list $modargs $GO_BUILD_PKG)"
-	for pattern in $GO_EXCLUDES; do
-		targets="$(printf '%s\n' "$targets" | grep -v "$pattern")"
-	done
-	log
-
-	if [ "$GO_GO_GENERATE" = 1 ]; then
-		log "Calling go generate"
-		# shellcheck disable=SC2086
-		GOOS='' GOARCH='' GO386='' GOARM='' GOMIPS='' GOMIPS64='' \
-		go generate -v $targets
-		log
-	fi
-
-	if [ "$GO_SOURCE_ONLY" = 1 ]; then
-		return 0
-	fi
-
-	log "Building targets"
-	mkdir -p "$GO_BUILD_DIR/bin" "$GO_BUILD_CACHE_DIR"
-	# shellcheck disable=SC2086
-	go install $modargs "$@" $targets
-	retval="$?"
-	log
-
-	if [ "$retval" -eq 0 ] && [ -z "$(find "$GO_BUILD_BIN_DIR" -maxdepth 0 -type d -not -empty 2>/dev/null)" ]; then
-		log_error "No binaries were built"
-		retval=1
-	fi
-
-	if [ "$retval" -ne 0 ]; then
-		cache_cleanup
-	fi
-
-	return "$retval"
-}
-
-install_bin() {
-	# shellcheck disable=SC2039
-	local dest="$1"
-	install -d -m0755 "$dest/$GO_INSTALL_BIN_PATH"
-	install -m0755 "$GO_BUILD_BIN_DIR"/* "$dest/$GO_INSTALL_BIN_PATH/"
-}
-
-install_src() {
-	# shellcheck disable=SC2039
-	local dest="$1" dir="${GO_PKG%/*}"
-	install -d -m0755 "$dest/$GO_BUILD_DEPENDS_PATH/src/$dir"
-	cp -fpR "$GO_BUILD_DIR/src/$GO_PKG" "$dest/$GO_BUILD_DEPENDS_PATH/src/$dir/"
-}
-
-cache_cleanup() {
-	if ! [ -d "$GO_MOD_CACHE_DIR" ]; then
-		return 0
-	fi
-
-	# in case go is called without -modcacherw
-	find "$GO_MOD_CACHE_DIR" -type d -not -perm -u+w -exec chmod u+w '{}' +
-
-	if [ -n "$CONFIG_GOLANG_MOD_CACHE_WORLD_READABLE" ]; then
-		find "$GO_MOD_CACHE_DIR"      -type d -not -perm -go+rx -exec chmod go+rx '{}' +
-		find "$GO_MOD_CACHE_DIR" -not -type d -not -perm -go+r  -exec chmod go+r  '{}' +
-	fi
-
-	return 0
-}
-
-
-if [ "$#" -lt 1 ]; then
-	log_error "Missing command"
-	exit 1
-fi
-
-command="$1"
-shift 1
-
-case "$command" in
-	configure)
-		configure
-		;;
-	build)
-		build "$@"
-		;;
-	install_bin)
-		install_bin "$@"
-		;;
-	install_src)
-		install_src "$@"
-		;;
-	cache_cleanup)
-		cache_cleanup
-		;;
-	*)
-		log_error "Invalid command \"$command\""
-		exit 1
-		;;
-esac
diff -uprN a/feeds/packages/lang/golang/golang-compiler.mk b/feeds/packages/lang/golang/golang-compiler.mk
--- a/feeds/packages/lang/golang/golang-compiler.mk	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/golang/golang-compiler.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,186 +0,0 @@
-#
-# Copyright (C) 2018, 2020 Jeffery To
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-ifeq ($(origin GO_INCLUDE_DIR),undefined)
-  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
-endif
-
-include $(GO_INCLUDE_DIR)/golang-values.mk
-
-
-# $(1) valid GOOS_GOARCH combinations
-# $(2) go version id
-define GoCompiler/Default/CheckHost
-	$(if $(filter $(GO_HOST_OS_ARCH),$(1)),,$(error go-$(2) cannot be installed on $(GO_HOST_OS)/$(GO_HOST_ARCH)))
-endef
-
-# $(1) source go root
-# $(2) destination prefix
-# $(3) go version id
-# $(4) additional environment variables (optional)
-define GoCompiler/Default/Make
-	( \
-		cd "$(1)/src" ; \
-		$(if $(2),GOROOT_FINAL="$(2)/lib/go-$(3)") \
-		$(4) \
-		$(BASH) make.bash --no-banner ; \
-	)
-endef
-
-# $(1) destination prefix
-# $(2) go version id
-define GoCompiler/Default/Install/make-dirs
-	$(INSTALL_DIR) "$(1)/lib/go-$(2)"
-	$(INSTALL_DIR) "$(1)/share/go-$(2)"
-endef
-
-# $(1) source go root
-# $(2) destination prefix
-# $(3) go version id
-# $(4) file/directory name
-define GoCompiler/Default/Install/install-share-data
-	$(CP) "$(1)/$(4)" "$(2)/share/go-$(3)/"
-	$(LN) "../../share/go-$(3)/$(4)" "$(2)/lib/go-$(3)/"
-endef
-
-# $(1) source go root
-# $(2) destination prefix
-# $(3) go version id
-# $(4) GOOS_GOARCH
-# $(5) install suffix (optional)
-define GoCompiler/Default/Install/Bin
-	$(call GoCompiler/Default/Install/make-dirs,$(2),$(3))
-
-	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),api)
-
-	$(INSTALL_DATA) -p "$(1)/VERSION" "$(2)/lib/go-$(3)/"
-
-	for file in AUTHORS CONTRIBUTING.md CONTRIBUTORS LICENSE PATENTS README.md SECURITY.md; do \
-		if [ -f "$(1)/$$$$file" ]; then \
-			$(INSTALL_DATA) -p "$(1)/$$$$file" "$(2)/share/go-$(3)/" ; \
-		fi ; \
-	done
-
-	$(INSTALL_DIR) "$(2)/lib/go-$(3)/bin"
-
-  ifeq ($(4),$(GO_HOST_OS_ARCH))
-	$(INSTALL_BIN) -p "$(1)/bin"/* "$(2)/lib/go-$(3)/bin/"
-  else
-	$(INSTALL_BIN) -p "$(1)/bin/$(4)"/* "$(2)/lib/go-$(3)/bin/"
-  endif
-
-	$(INSTALL_DIR) "$(2)/lib/go-$(3)/pkg"
-	$(CP) "$(1)/pkg/$(4)$(if $(5),_$(5))" "$(2)/lib/go-$(3)/pkg/"
-
-	$(INSTALL_DIR) "$(2)/lib/go-$(3)/pkg/tool/$(4)"
-	$(INSTALL_BIN) -p "$(1)/pkg/tool/$(4)"/* "$(2)/lib/go-$(3)/pkg/tool/$(4)/"
-endef
-
-# $(1) destination prefix
-# $(2) go version id
-define GoCompiler/Default/Install/BinLinks
-	$(INSTALL_DIR) "$(1)/bin"
-	$(LN) "../lib/go-$(2)/bin/go" "$(1)/bin/go"
-	$(LN) "../lib/go-$(2)/bin/gofmt" "$(1)/bin/gofmt"
-endef
-
-# $(1) source go root
-# $(2) destination prefix
-# $(3) go version id
-define GoCompiler/Default/Install/Doc
-	$(call GoCompiler/Default/Install/make-dirs,$(2),$(3))
-
-	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),doc)
-endef
-
-# $(1) source go root
-# $(2) destination prefix
-# $(3) go version id
-define GoCompiler/Default/Install/Src
-	$(call GoCompiler/Default/Install/make-dirs,$(2),$(3))
-
-	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),lib)
-	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),misc)
-	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),src)
-	$(call GoCompiler/Default/Install/install-share-data,$(1),$(2),$(3),test)
-
-	$(FIND) \
-		"$(2)/share/go-$(3)/src/" \
-		\! -type d -a \( -name "*.bat" -o -name "*.rc" \) \
-		-delete
-
-	if [ -d "$(1)/pkg/include" ]; then \
-		$(INSTALL_DIR) "$(2)/lib/go-$(3)/pkg" ; \
-		$(INSTALL_DIR) "$(2)/share/go-$(3)/pkg" ; \
-		$(CP) "$(1)/pkg/include" "$(2)/share/go-$(3)/pkg/" ; \
-		$(LN) "../../../share/go-$(3)/pkg/include" "$(2)/lib/go-$(3)/pkg/" ; \
-	fi
-endef
-
-# $(1) destination prefix
-# $(2) go version id
-define GoCompiler/Default/Uninstall
-	rm -rf "$(1)/lib/go-$(2)"
-	rm -rf "$(1)/share/go-$(2)"
-endef
-
-# $(1) destination prefix
-define GoCompiler/Default/Uninstall/BinLinks
-	rm -f "$(1)/bin/go"
-	rm -f "$(1)/bin/gofmt"
-endef
-
-
-# $(1) profile name
-# $(2) source go root
-# $(3) destination prefix
-# $(4) go version id
-# $(5) GOOS_GOARCH
-# $(6) install suffix (optional)
-define GoCompiler/AddProfile
-
-  # $$(1) valid GOOS_GOARCH combinations
-  define GoCompiler/$(1)/CheckHost
-	$$(call GoCompiler/Default/CheckHost,$$(1),$(4))
-  endef
-
-  # $$(1) additional environment variables (optional)
-  define GoCompiler/$(1)/Make
-	$$(call GoCompiler/Default/Make,$(2),$(3),$(4),$$(1))
-  endef
-
-  # $$(1) override install prefix (optional)
-  define GoCompiler/$(1)/Install/Bin
-	$$(call GoCompiler/Default/Install/Bin,$(2),$$(or $$(1),$(3)),$(4),$(5),$(6))
-  endef
-
-  # $$(1) override install prefix (optional)
-  define GoCompiler/$(1)/Install/BinLinks
-	$$(call GoCompiler/Default/Install/BinLinks,$$(or $$(1),$(3)),$(4))
-  endef
-
-  # $$(1) override install prefix (optional)
-  define GoCompiler/$(1)/Install/Doc
-	$$(call GoCompiler/Default/Install/Doc,$(2),$$(or $$(1),$(3)),$(4))
-  endef
-
-  # $$(1) override install prefix (optional)
-  define GoCompiler/$(1)/Install/Src
-	$$(call GoCompiler/Default/Install/Src,$(2),$$(or $$(1),$(3)),$(4))
-  endef
-
-  # $$(1) override install prefix (optional)
-  define GoCompiler/$(1)/Uninstall
-	$$(call GoCompiler/Default/Uninstall,$$(or $$(1),$(3)),$(4))
-  endef
-
-  # $$(1) override install prefix (optional)
-  define GoCompiler/$(1)/Uninstall/BinLinks
-	$$(call GoCompiler/Default/Uninstall/BinLinks,$$(or $$(1),$(3)))
-  endef
-
-endef
diff -uprN a/feeds/packages/lang/golang/golang-host-build.mk b/feeds/packages/lang/golang/golang-host-build.mk
--- a/feeds/packages/lang/golang/golang-host-build.mk	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/golang/golang-host-build.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,220 +0,0 @@
-#
-# Copyright (C) 2020 Jeffery To
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-ifeq ($(origin GO_INCLUDE_DIR),undefined)
-  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
-endif
-
-include $(GO_INCLUDE_DIR)/golang-values.mk
-
-
-# these variables have the same meanings as in golang-package.mk
-GO_HOST_INSTALL_EXTRA?=$(GO_PKG_INSTALL_EXTRA)
-GO_HOST_INSTALL_ALL?=$(GO_PKG_INSTALL_ALL)
-GO_HOST_SOURCE_ONLY?=$(GO_PKG_SOURCE_ONLY)
-GO_HOST_BUILD_PKG?=$(GO_PKG_BUILD_PKG)
-GO_HOST_EXCLUDES?=$(GO_PKG_EXCLUDES)
-GO_HOST_GO_GENERATE?=$(GO_PKG_GO_GENERATE)
-GO_HOST_GCFLAGS?=$(GO_PKG_GCFLAGS)
-GO_HOST_LDFLAGS?=$(GO_PKG_LDFLAGS)
-GO_HOST_LDFLAGS_X?=$(GO_PKG_LDFLAGS_X)
-GO_HOST_TAGS?=$(GO_PKG_TAGS)
-GO_HOST_INSTALL_BIN_PATH?=/bin
-
-
-# need to repeat this here in case golang-package.mk is not included
-GO_PKG_BUILD_PKG?=$(strip $(GO_PKG))/...
-
-GO_HOST_WORK_DIR_NAME:=.go_work
-GO_HOST_BUILD_DIR=$(HOST_BUILD_DIR)/$(GO_HOST_WORK_DIR_NAME)/build
-GO_HOST_BUILD_BIN_DIR=$(GO_HOST_BUILD_DIR)/bin
-
-GO_HOST_BUILD_DEPENDS_PATH:=/share/gocode
-GO_HOST_BUILD_DEPENDS_SRC=$(STAGING_DIR_HOSTPKG)$(GO_HOST_BUILD_DEPENDS_PATH)/src
-
-GO_HOST_DIR_NAME:=$(lastword $(subst /,$(space),$(CURDIR)))
-GO_HOST_STAGING_DIR:=$(TMP_DIR)/host-stage-$(GO_HOST_DIR_NAME)
-GO_HOST_STAGING_FILES_LIST_DIR:=$(HOST_BUILD_PREFIX)/stamp
-GO_HOST_BIN_STAGING_FILES_LIST:=$(GO_HOST_STAGING_FILES_LIST_DIR)/$(GO_HOST_DIR_NAME)-bin.list
-GO_HOST_SRC_STAGING_FILES_LIST:=$(GO_HOST_STAGING_FILES_LIST_DIR)/$(GO_HOST_DIR_NAME)-src.list
-
-ifeq ($(GO_HOST_PIE_SUPPORTED),1)
-  GO_HOST_ENABLE_PIE:=1
-endif
-
-GO_HOST_BUILD_CONFIG_VARS= \
-	GO_PKG="$(strip $(GO_PKG))" \
-	GO_INSTALL_EXTRA="$(strip $(GO_HOST_INSTALL_EXTRA))" \
-	GO_INSTALL_ALL="$(strip $(GO_HOST_INSTALL_ALL))" \
-	GO_SOURCE_ONLY="$(strip $(GO_HOST_SOURCE_ONLY))" \
-	GO_BUILD_PKG="$(strip $(GO_HOST_BUILD_PKG))" \
-	GO_EXCLUDES="$(strip $(GO_HOST_EXCLUDES))" \
-	GO_GO_GENERATE="$(strip $(GO_HOST_GO_GENERATE))" \
-	GO_INSTALL_BIN_PATH="$(strip $(GO_HOST_INSTALL_BIN_PATH))" \
-	BUILD_DIR="$(HOST_BUILD_DIR)" \
-	GO_BUILD_DIR="$(GO_HOST_BUILD_DIR)" \
-	GO_BUILD_BIN_DIR="$(GO_HOST_BUILD_BIN_DIR)" \
-	GO_BUILD_DEPENDS_PATH="$(GO_HOST_BUILD_DEPENDS_PATH)" \
-	GO_BUILD_DEPENDS_SRC="$(GO_HOST_BUILD_DEPENDS_SRC)"
-
-GO_HOST_MORE_CFLAGS?= \
-	-Wformat -Werror=format-security \
-	-fstack-protector-strong \
-	-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 \
-	-Wl,-z,now -Wl,-z,relro \
-	$(if $(GO_HOST_ENABLE_PIE),$(FPIC))
-
-GO_HOST_MORE_LDFLAGS?= \
-	-znow -zrelro \
-	$(if $(GO_HOST_ENABLE_PIE),$(FPIC) -specs=$(INCLUDE_DIR)/hardened-ld-pie.specs)
-
-GO_HOST_TARGET_VARS= \
-	CGO_ENABLED=1 \
-	CC=gcc \
-	CXX=g++ \
-	PKG_CONFIG=pkg-config \
-	CGO_CFLAGS="$(HOST_CFLAGS) $(GO_HOST_MORE_CFLAGS)" \
-	CGO_CPPFLAGS="$(HOST_CPPFLAGS) $(GO_HOST_MORE_CPPFLAGS)" \
-	CGO_CXXFLAGS="$(HOST_CFLAGS) $(GO_HOST_MORE_CFLAGS)" \
-	CGO_LDFLAGS="$(HOST_LDFLAGS) $(GO_HOST_MORE_LDFLAGS)" \
-	GO_GCC_HELPER_CC="$(HOSTCC)" \
-	GO_GCC_HELPER_CXX="$(HOSTCXX)" \
-	GO_GCC_HELPER_PATH="$$$$PATH" \
-	PATH="$(STAGING_DIR_HOSTPKG)/lib/go-cross/openwrt:$$$$PATH"
-
-GO_HOST_BUILD_VARS= \
-	GOPATH="$(GO_HOST_BUILD_DIR)" \
-	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
-	GOMODCACHE="$(GO_MOD_CACHE_DIR)" \
-	GOENV=off
-
-GO_HOST_VARS= \
-	$(GO_HOST_TARGET_VARS) \
-	$(GO_HOST_BUILD_VARS)
-
-GO_HOST_DEFAULT_LDFLAGS= \
-	-linkmode external \
-	-extldflags '$(patsubst -z%,-Wl$(comma)-z$(comma)%,$(HOST_LDFLAGS) $(GO_HOST_MORE_LDFLAGS))'
-
-GO_HOST_CUSTOM_LDFLAGS= \
-	$(GO_HOST_LDFLAGS) \
-	$(patsubst %,-X %,$(GO_HOST_LDFLAGS_X))
-
-GO_HOST_INSTALL_ARGS= \
-	-v \
-	-ldflags "all=$(GO_HOST_DEFAULT_LDFLAGS)" \
-	$(if $(filter $(GO_HOST_ENABLE_PIE),1),-buildmode pie) \
-	$(if $(GO_HOST_GCFLAGS),-gcflags "$(GO_HOST_GCFLAGS)") \
-	$(if $(GO_HOST_CUSTOM_LDFLAGS),-ldflags "$(GO_HOST_CUSTOM_LDFLAGS) $(GO_HOST_DEFAULT_LDFLAGS)") \
-	$(if $(GO_HOST_TAGS),-tags "$(GO_HOST_TAGS)")
-
-define GoHost/Host/Configure
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_HOST_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh configure
-endef
-
-# $(1) additional arguments for go command line (optional)
-define GoHost/Host/Compile
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_HOST_BUILD_CONFIG_VARS) \
-	$(GO_HOST_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh build $(GO_HOST_INSTALL_ARGS) $(1)
-endef
-
-define GoHost/Host/Install/Bin
-	rm -rf "$(GO_HOST_STAGING_DIR)"
-	mkdir -p "$(GO_HOST_STAGING_DIR)" "$(GO_HOST_STAGING_FILES_LIST_DIR)"
-
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_HOST_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_bin "$(GO_HOST_STAGING_DIR)"
-
-	if [ -f "$(GO_HOST_BIN_STAGING_FILES_LIST)" ]; then \
-		"$(SCRIPT_DIR)/clean-package.sh" \
-			"$(GO_HOST_BIN_STAGING_FILES_LIST)" \
-			"$(1)" ; \
-	fi
-
-	cd "$(GO_HOST_STAGING_DIR)" && find ./ > "$(GO_HOST_STAGING_DIR).files"
-
-	$(call locked, \
-		mv "$(GO_HOST_STAGING_DIR).files" "$(GO_HOST_BIN_STAGING_FILES_LIST)" && \
-		$(CP) "$(GO_HOST_STAGING_DIR)"/* "$(1)/", \
-		host-staging-dir \
-	)
-
-	rm -rf "$(GO_HOST_STAGING_DIR)"
-endef
-
-define GoHost/Host/Install/Src
-	rm -rf "$(GO_HOST_STAGING_DIR)"
-	mkdir -p "$(GO_HOST_STAGING_DIR)" "$(GO_HOST_STAGING_FILES_LIST_DIR)"
-
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_HOST_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_src "$(GO_HOST_STAGING_DIR)"
-
-	if [ -f "$(GO_HOST_SRC_STAGING_FILES_LIST)" ]; then \
-		"$(SCRIPT_DIR)/clean-package.sh" \
-			"$(GO_HOST_SRC_STAGING_FILES_LIST)" \
-			"$(1)" ; \
-	fi
-
-	cd "$(GO_HOST_STAGING_DIR)" && find ./ > "$(GO_HOST_STAGING_DIR).files"
-
-	$(call locked, \
-		mv "$(GO_HOST_STAGING_DIR).files" "$(GO_HOST_SRC_STAGING_FILES_LIST)" && \
-		$(CP) "$(GO_HOST_STAGING_DIR)"/* "$(1)/", \
-		host-staging-dir \
-	)
-
-	rm -rf "$(GO_HOST_STAGING_DIR)"
-endef
-
-define GoHost/Host/Install
-	$(if $(filter $(GO_HOST_SOURCE_ONLY),1),, \
-		$(call GoHost/Host/Install/Bin,$(1)) \
-	)
-	$(call GoHost/Host/Install/Src,$(1))
-endef
-
-define GoHost/Host/Uninstall
-	if [ -f "$(GO_HOST_BIN_STAGING_FILES_LIST)" ]; then \
-		"$(SCRIPT_DIR)/clean-package.sh" \
-			"$(GO_HOST_BIN_STAGING_FILES_LIST)" \
-			"$(HOST_BUILD_PREFIX)" ; \
-		rm -f "$(GO_HOST_BIN_STAGING_FILES_LIST)" ; \
-	fi
-
-	if [ -f "$(GO_HOST_SRC_STAGING_FILES_LIST)" ]; then \
-		"$(SCRIPT_DIR)/clean-package.sh" \
-			"$(GO_HOST_SRC_STAGING_FILES_LIST)" \
-			"$(HOST_BUILD_PREFIX)" ; \
-		rm -f "$(GO_HOST_SRC_STAGING_FILES_LIST)" ; \
-	fi
-endef
-
-
-ifneq ($(strip $(GO_PKG)),)
-  Host/Configure=$(call GoHost/Host/Configure)
-  Host/Compile=$(call GoHost/Host/Compile)
-  Hooks/HostCompile/Post+=Go/CacheCleanup
-  Host/Uninstall=$(call GoHost/Host/Uninstall,$(1))
-endif
-
-define GoHostBuild
-  Host/Install=$$(call GoHost/Host/Install,$$(1))
-endef
-
-define GoBinHostBuild
-  Host/Install=$$(call GoHost/Host/Install/Bin,$$(1))
-endef
-
-define GoSrcHostBuild
-  Host/Install=$$(call GoHost/Host/Install/Src,$$(1))
-endef
diff -uprN a/feeds/packages/lang/golang/golang-package.mk b/feeds/packages/lang/golang/golang-package.mk
--- a/feeds/packages/lang/golang/golang-package.mk	2023-04-14 21:27:49.456066000 +0800
+++ b/feeds/packages/lang/golang/golang-package.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,327 +0,0 @@
-#
-# Copyright (C) 2018-2020 Jeffery To
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-ifeq ($(origin GO_INCLUDE_DIR),undefined)
-  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
-endif
-
-include $(GO_INCLUDE_DIR)/golang-values.mk
-
-
-# Variables (all optional, except GO_PKG) to be set in package
-# Makefiles:
-#
-# GO_PKG (required) - name of Go package
-#
-#   Go name of the package.
-#
-#   e.g. GO_PKG:=golang.org/x/text
-#
-#
-# GO_PKG_INSTALL_EXTRA - list of regular expressions, default empty
-#
-#   Additional files/directories to install. By default, only these
-#   files are installed:
-#
-#   * Files with one of these extensions:
-#     .go, .c, .cc, .cpp, .h, .hh, .hpp, .proto, .s
-#
-#   * Files in any 'testdata' directory
-#
-#   * go.mod and go.sum, in any directory
-#
-#   e.g. GO_PKG_INSTALL_EXTRA:=example.toml marshal_test.toml
-#
-#
-# GO_PKG_INSTALL_ALL - boolean (0 or 1), default false
-#
-#   If true, install all files regardless of extension or directory.
-#
-#   e.g. GO_PKG_INSTALL_ALL:=1
-#
-#
-# GO_PKG_SOURCE_ONLY - boolean (0 or 1), default false
-#
-#   If true, 'go install' will not be called. If the package does not
-#   (or should not) build any binaries, then specifying this option will
-#   save build time.
-#
-#   e.g. GO_PKG_SOURCE_ONLY:=1
-#
-#
-# GO_PKG_BUILD_PKG - list of build targets, default GO_PKG/...
-#
-#   Build targets for compiling this Go package, i.e. arguments passed
-#   to 'go install'.
-#
-#   e.g. GO_PKG_BUILD_PKG:=github.com/debian/ratt/cmd/...
-#
-#
-# GO_PKG_EXCLUDES - list of regular expressions, default empty
-#
-#   Patterns to exclude from the build targets expanded from
-#   GO_PKG_BUILD_PKG.
-#
-#   e.g. GO_PKG_EXCLUDES:=examples/
-#
-#
-# GO_PKG_GO_GENERATE - boolean (0 or 1), default false
-#
-#   If true, 'go generate' will be called on all build targets (as
-#   determined by GO_PKG_BUILD_PKG and GO_PKG_EXCLUDES). This is usually
-#   not necessary.
-#
-#   e.g. GO_PKG_GO_GENERATE:=1
-#
-#
-# GO_PKG_GCFLAGS - list of options, default empty
-#
-#   Additional go tool compile options to use when building targets.
-#
-#   e.g. GO_PKG_GCFLAGS:=-N -l
-#
-#
-# GO_PKG_LDFLAGS - list of options, default empty
-#
-#   Additional go tool link options to use when building targets.
-#
-#   Note that the OpenWrt build system has an option to strip binaries
-#   (enabled by default), so -s (Omit the symbol table and debug
-#   information) and -w (Omit the DWARF symbol table) flags are not
-#   necessary.
-#
-#   e.g. GO_PKG_LDFLAGS:=-r dir1:dir2 -u
-#
-#
-# GO_PKG_LDFLAGS_X - list of string variable definitions, default empty
-#
-#   Each definition will be passed as the parameter to the -X go tool
-#   link option, i.e. -ldflags "-X importpath.name=value".
-#
-#   e.g. GO_PKG_LDFLAGS_X:=main.Version=$(PKG_VERSION) main.BuildStamp=$(SOURCE_DATE_EPOCH)
-#
-#
-# GO_PKG_TAGS - list of build tags, default empty
-#
-#   Build tags to consider satisfied during the build, passed as the
-#   parameter to the -tags option for 'go install'.
-#
-#   e.g. GO_PKG_TAGS:=release,noupgrade
-#
-#
-# GO_PKG_INSTALL_BIN_PATH - target directory path, default /usr/bin
-#
-#   Directory path under "dest_dir" where binaries will be installed by
-#   '$(call GoPackage/Package/Install/Bin,dest_dir)'.
-#
-#   e.g. GO_PKG_INSTALL_BIN_PATH:=/sbin
-
-# Credit for this package build process (GoPackage/Build/Configure and
-# GoPackage/Build/Compile) belong to Debian's dh-golang completely.
-# https://salsa.debian.org/go-team/packages/dh-golang
-
-
-GO_PKG_BUILD_PKG?=$(strip $(GO_PKG))/...
-GO_PKG_INSTALL_BIN_PATH?=/usr/bin
-
-GO_PKG_WORK_DIR_NAME:=.go_work
-GO_PKG_BUILD_DIR=$(PKG_BUILD_DIR)/$(GO_PKG_WORK_DIR_NAME)/build
-GO_PKG_BUILD_BIN_DIR=$(GO_PKG_BUILD_DIR)/bin$(if $(GO_HOST_TARGET_DIFFERENT),/$(GO_OS_ARCH))
-
-GO_PKG_BUILD_DEPENDS_PATH:=/usr/share/gocode
-GO_PKG_BUILD_DEPENDS_SRC=$(STAGING_DIR)$(GO_PKG_BUILD_DEPENDS_PATH)/src
-
-ifdef CONFIG_PKG_ASLR_PIE_ALL
-  ifeq ($(strip $(PKG_ASLR_PIE)),1)
-    ifeq ($(GO_TARGET_PIE_SUPPORTED),1)
-      GO_PKG_ENABLE_PIE:=1
-    else
-      $(warning PIE buildmode is not supported for $(GO_OS)/$(GO_ARCH))
-    endif
-  endif
-endif
-
-ifdef CONFIG_PKG_ASLR_PIE_REGULAR
-  ifeq ($(strip $(PKG_ASLR_PIE_REGULAR)),1)
-    ifeq ($(GO_TARGET_PIE_SUPPORTED),1)
-      GO_PKG_ENABLE_PIE:=1
-    else
-      $(warning PIE buildmode is not supported for $(GO_OS)/$(GO_ARCH))
-    endif
-  endif
-endif
-
-ifdef CONFIG_GOLANG_SPECTRE
-  ifeq ($(GO_TARGET_SPECTRE_SUPPORTED),1)
-    GO_PKG_ENABLE_SPECTRE:=1
-  else
-    $(warning Spectre mitigations are not supported for $(GO_ARCH))
-  endif
-endif
-
-# sstrip causes corrupted section header size
-ifneq ($(CONFIG_USE_SSTRIP),)
-  ifneq ($(CONFIG_DEBUG),)
-    GO_PKG_STRIP_ARGS:=--strip-unneeded --remove-section=.comment --remove-section=.note
-  else
-    GO_PKG_STRIP_ARGS:=--strip-all
-  endif
-  STRIP:=$(TARGET_CROSS)strip $(GO_PKG_STRIP_ARGS)
-endif
-
-define GoPackage/GoSubMenu
-  SUBMENU:=Go
-  SECTION:=lang
-  CATEGORY:=Languages
-endef
-
-GO_PKG_BUILD_CONFIG_VARS= \
-	GO_PKG="$(strip $(GO_PKG))" \
-	GO_INSTALL_EXTRA="$(strip $(GO_PKG_INSTALL_EXTRA))" \
-	GO_INSTALL_ALL="$(strip $(GO_PKG_INSTALL_ALL))" \
-	GO_SOURCE_ONLY="$(strip $(GO_PKG_SOURCE_ONLY))" \
-	GO_BUILD_PKG="$(strip $(GO_PKG_BUILD_PKG))" \
-	GO_EXCLUDES="$(strip $(GO_PKG_EXCLUDES))" \
-	GO_GO_GENERATE="$(strip $(GO_PKG_GO_GENERATE))" \
-	GO_INSTALL_BIN_PATH="$(strip $(GO_PKG_INSTALL_BIN_PATH))" \
-	BUILD_DIR="$(PKG_BUILD_DIR)" \
-	GO_BUILD_DIR="$(GO_PKG_BUILD_DIR)" \
-	GO_BUILD_BIN_DIR="$(GO_PKG_BUILD_BIN_DIR)" \
-	GO_BUILD_DEPENDS_PATH="$(GO_PKG_BUILD_DEPENDS_PATH)" \
-	GO_BUILD_DEPENDS_SRC="$(GO_PKG_BUILD_DEPENDS_SRC)"
-
-GO_PKG_TARGET_VARS= \
-	GOOS="$(GO_OS)" \
-	GOARCH="$(GO_ARCH)" \
-	GO386="$(GO_386)" \
-	GOARM="$(GO_ARM)" \
-	GOMIPS="$(GO_MIPS)" \
-	GOMIPS64="$(GO_MIPS64)" \
-	CGO_ENABLED=1 \
-	CC="$(TARGET_CC)" \
-	CXX="$(TARGET_CXX)" \
-	CGO_CFLAGS="$(filter-out $(GO_CFLAGS_TO_REMOVE),$(TARGET_CFLAGS))" \
-	CGO_CPPFLAGS="$(TARGET_CPPFLAGS)" \
-	CGO_CXXFLAGS="$(filter-out $(GO_CFLAGS_TO_REMOVE),$(TARGET_CXXFLAGS))" \
-	CGO_LDFLAGS="$(TARGET_LDFLAGS)"
-
-GO_PKG_BUILD_VARS= \
-	GOPATH="$(GO_PKG_BUILD_DIR)" \
-	GOCACHE="$(GO_BUILD_CACHE_DIR)" \
-	GOMODCACHE="$(GO_MOD_CACHE_DIR)" \
-	GOENV=off
-
-GO_PKG_VARS= \
-	$(GO_PKG_TARGET_VARS) \
-	$(GO_PKG_BUILD_VARS)
-
-GO_PKG_DEFAULT_GCFLAGS= \
-	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
-
-GO_PKG_DEFAULT_ASMFLAGS= \
-	$(if $(GO_PKG_ENABLE_SPECTRE),-spectre all)
-
-GO_PKG_DEFAULT_LDFLAGS= \
-	-buildid '$(SOURCE_DATE_EPOCH)' \
-	-linkmode external \
-	-extldflags '$(patsubst -z%,-Wl$(comma)-z$(comma)%,$(TARGET_LDFLAGS))'
-
-GO_PKG_CUSTOM_LDFLAGS= \
-	$(GO_PKG_LDFLAGS) \
-	$(patsubst %,-X %,$(GO_PKG_LDFLAGS_X))
-
-GO_PKG_INSTALL_ARGS= \
-	-v \
-	-trimpath \
-	-ldflags "all=$(GO_PKG_DEFAULT_LDFLAGS)" \
-	$(if $(GO_PKG_DEFAULT_GCFLAGS),-gcflags "all=$(GO_PKG_DEFAULT_GCFLAGS)") \
-	$(if $(GO_PKG_DEFAULT_ASMFLAGS),-asmflags "all=$(GO_PKG_DEFAULT_ASMFLAGS)") \
-	$(if $(filter $(GO_PKG_ENABLE_PIE),1),-buildmode pie) \
-	$(if $(filter $(GO_ARCH),arm),-installsuffix "v$(GO_ARM)") \
-	$(if $(filter $(GO_ARCH),mips mipsle),-installsuffix "$(GO_MIPS)") \
-	$(if $(filter $(GO_ARCH),mips64 mips64le),-installsuffix "$(GO_MIPS64)") \
-	$(if $(GO_PKG_GCFLAGS),-gcflags "$(GO_PKG_GCFLAGS) $(GO_PKG_DEFAULT_GCFLAGS)") \
-	$(if $(GO_PKG_CUSTOM_LDFLAGS),-ldflags "$(GO_PKG_CUSTOM_LDFLAGS) $(GO_PKG_DEFAULT_LDFLAGS)") \
-	$(if $(GO_PKG_TAGS),-tags "$(GO_PKG_TAGS)")
-
-define GoPackage/Build/Configure
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_PKG_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh configure
-endef
-
-# $(1) additional arguments for go command line (optional)
-define GoPackage/Build/Compile
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_PKG_BUILD_CONFIG_VARS) \
-	$(GO_PKG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh build $(GO_PKG_INSTALL_ARGS) $(1)
-endef
-
-define GoPackage/Build/InstallDev
-	$(call GoPackage/Package/Install/Src,$(1))
-endef
-
-define GoPackage/Package/Install/Bin
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_PKG_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_bin "$(1)"
-endef
-
-define GoPackage/Package/Install/Src
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(GO_PKG_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh install_src "$(1)"
-endef
-
-define GoPackage/Package/Install
-	$(if $(filter $(GO_PKG_SOURCE_ONLY),1),, \
-		$(call GoPackage/Package/Install/Bin,$(1)) \
-	)
-	$(call GoPackage/Package/Install/Src,$(1))
-endef
-
-
-ifneq ($(strip $(GO_PKG)),)
-  ifeq ($(GO_TARGET_SPECTRE_SUPPORTED),1)
-    PKG_CONFIG_DEPENDS+=CONFIG_GOLANG_SPECTRE
-  endif
-
-  Build/Configure=$(call GoPackage/Build/Configure)
-  Build/Compile=$(call GoPackage/Build/Compile)
-  Hooks/Compile/Post+=Go/CacheCleanup
-  Build/InstallDev=$(call GoPackage/Build/InstallDev,$(1))
-endif
-
-define GoPackage
-  ifndef Package/$(1)/install
-    Package/$(1)/install=$$(call GoPackage/Package/Install,$$(1))
-  endif
-endef
-
-define GoBinPackage
-  ifndef Package/$(1)/install
-    Package/$(1)/install=$$(call GoPackage/Package/Install/Bin,$$(1))
-  endif
-endef
-
-define GoSrcPackage
-  ifndef Package/$(1)/install
-    Package/$(1)/install=$$(call GoPackage/Package/Install/Src,$$(1))
-  endif
-endef
-
-
-# Deprecated variables - these will be removed after the next OpenWrt release
-GO_PKG_PATH=$(GO_PKG_BUILD_DEPENDS_PATH)
-GO_PKG_WORK_DIR=$(PKG_BUILD_DIR)/$(GO_PKG_WORK_DIR_NAME)
-GO_PKG_CACHE_DIR=$(GO_BUILD_CACHE_DIR)
-GO_PKG_DEFAULT_VARS=$(GO_PKG_VARS)
-GoPackage/Environment=$(GO_PKG_VARS)
-GoPackage/is_dir_not_empty=$$$$($(FIND) "$(1)" -maxdepth 0 -type d \! -empty 2>/dev/null)
-GoPackage/has_binaries=$(call GoPackage/is_dir_not_empty,$(GO_PKG_BUILD_BIN_DIR))
-# End of deprecated variables
diff -uprN a/feeds/packages/lang/golang/golang-values.mk b/feeds/packages/lang/golang/golang-values.mk
--- a/feeds/packages/lang/golang/golang-values.mk	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/golang/golang-values.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,256 +0,0 @@
-#
-# Copyright (C) 2018, 2020 Jeffery To
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-ifeq ($(origin GO_INCLUDE_DIR),undefined)
-  GO_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
-endif
-
-
-# Unset environment variables
-# There are more magic variables to track down, but ain't nobody got time for that
-
-# From https://pkg.go.dev/cmd/go#hdr-Environment_variables
-
-# General-purpose environment variables:
-unexport \
-  GO111MODULE \
-  GCCGO \
-  GOARCH \
-  GOBIN \
-  GOCACHE \
-  GOMODCACHE \
-  GODEBUG \
-  GOENV \
-  GOFLAGS \
-  GOOS \
-  GOPATH \
-  GOROOT \
-  GOTMPDIR
-# Unmodified:
-#   GOINSECURE
-#   GOPRIVATE
-#   GOPROXY
-#   GONOPROXY
-#   GOSUMDB
-#   GONOSUMDB
-#   GOVCS
-
-# Environment variables for use with cgo:
-unexport \
-  AR \
-  CC \
-  CGO_ENABLED \
-  CGO_CFLAGS   CGO_CFLAGS_ALLOW   CGO_CFLAGS_DISALLOW \
-  CGO_CPPFLAGS CGO_CPPFLAGS_ALLOW CGO_CPPFLAGS_DISALLOW \
-  CGO_CXXFLAGS CGO_CXXFLAGS_ALLOW CGO_CXXFLAGS_DISALLOW \
-  CGO_FFLAGS   CGO_FFLAGS_ALLOW   CGO_FFLAGS_DISALLOW \
-  CGO_LDFLAGS  CGO_LDFLAGS_ALLOW  CGO_LDFLAGS_DISALLOW \
-  CXX \
-  FC
-# Unmodified:
-#   PKG_CONFIG
-
-# Architecture-specific environment variables:
-unexport \
-  GOARM \
-  GO386 \
-  GOMIPS \
-  GOMIPS64 \
-  GOWASM
-
-# Special-purpose environment variables:
-unexport \
-  GCCGOTOOLDIR \
-  GOEXPERIMENT \
-  GOROOT_FINAL \
-  GO_EXTLINK_ENABLED
-# Unmodified:
-#   GIT_ALLOW_PROTOCOL
-
-# From https://pkg.go.dev/runtime#hdr-Environment_Variables
-unexport \
-  GOGC \
-  GOMAXPROCS \
-  GORACE \
-  GOTRACEBACK
-
-# From https://pkg.go.dev/cmd/cgo#hdr-Using_cgo_with_the_go_command
-unexport \
-  CC_FOR_TARGET \
-  CXX_FOR_TARGET
-# Todo:
-#   CC_FOR_${GOOS}_${GOARCH}
-#   CXX_FOR_${GOOS}_${GOARCH}
-
-# From https://golang.org/doc/install/source#environment
-unexport \
-  GOHOSTOS \
-  GOHOSTARCH \
-  GOPPC64
-
-# From https://golang.org/src/make.bash
-unexport \
-  GO_GCFLAGS \
-  GO_LDFLAGS \
-  GO_LDSO \
-  GO_DISTFLAGS \
-  GOBUILDTIMELOGFILE \
-  GOROOT_BOOTSTRAP
-
-# From https://golang.org/doc/go1.9#parallel-compile
-unexport \
-  GO19CONCURRENTCOMPILATION
-
-# From https://golang.org/src/cmd/dist/build.go
-unexport \
-  BOOT_GO_GCFLAGS \
-  BOOT_GO_LDFLAGS
-
-# From https://golang.org/src/cmd/dist/buildtool.go
-unexport \
-  GOBOOTSTRAP_TOOLEXEC
-
-
-# GOOS / GOARCH
-
-go_arch=$(subst \
-  aarch64,arm64,$(subst \
-  i386,386,$(subst \
-  mipsel,mipsle,$(subst \
-  mips64el,mips64le,$(subst \
-  powerpc64,ppc64,$(subst \
-  x86_64,amd64,$(1)))))))
-
-GO_OS:=linux
-GO_ARCH:=$(call go_arch,$(ARCH))
-GO_OS_ARCH:=$(GO_OS)_$(GO_ARCH)
-
-GO_HOST_OS:=$(call tolower,$(HOST_OS))
-GO_HOST_ARCH:=$(call go_arch,$(subst \
-  armv6l,arm,$(subst \
-  armv7l,arm,$(subst \
-  i686,i386,$(HOST_ARCH)))))
-GO_HOST_OS_ARCH:=$(GO_HOST_OS)_$(GO_HOST_ARCH)
-
-ifeq ($(GO_OS_ARCH),$(GO_HOST_OS_ARCH))
-  GO_HOST_TARGET_SAME:=1
-else
-  GO_HOST_TARGET_DIFFERENT:=1
-endif
-
-ifeq ($(GO_ARCH),386)
-  ifeq ($(CONFIG_TARGET_x86_geode)$(CONFIG_TARGET_x86_legacy),y)
-    GO_386:=softfloat
-  else
-    GO_386:=sse2
-  endif
-
-  # -fno-plt: causes "unexpected GOT reloc for non-dynamic symbol" errors
-  GO_CFLAGS_TO_REMOVE:=-fno-plt
-
-else ifeq ($(GO_ARCH),arm)
-  GO_TARGET_FPU:=$(word 2,$(subst +,$(space),$(call qstrip,$(CONFIG_CPU_TYPE))))
-
-  # FPU names from https://gcc.gnu.org/onlinedocs/gcc-8.4.0/gcc/ARM-Options.html#index-mfpu-1
-  # see also https://github.com/gcc-mirror/gcc/blob/releases/gcc-8.4.0/gcc/config/arm/arm-cpus.in
-
-  ifeq ($(GO_TARGET_FPU),)
-    GO_ARM:=5
-  else ifneq ($(filter $(GO_TARGET_FPU),vfp vfpv2),)
-    GO_ARM:=6
-  else
-    GO_ARM:=7
-  endif
-
-else ifneq ($(filter $(GO_ARCH),mips mipsle),)
-  ifeq ($(CONFIG_HAS_FPU),y)
-    GO_MIPS:=hardfloat
-  else
-    GO_MIPS:=softfloat
-  endif
-
-  # -mips32r2: conflicts with -march=mips32 set by go
-  GO_CFLAGS_TO_REMOVE:=-mips32r2
-
-else ifneq ($(filter $(GO_ARCH),mips64 mips64le),)
-  ifeq ($(CONFIG_HAS_FPU),y)
-    GO_MIPS64:=hardfloat
-  else
-    GO_MIPS64:=softfloat
-  endif
-
-endif
-
-
-# Target Go
-
-GO_ARCH_DEPENDS:=@(aarch64||arm||i386||i686||mips||mips64||mips64el||mipsel||powerpc64||x86_64)
-
-
-# ASLR/PIE
-
-# From https://golang.org/src/cmd/internal/sys/supported.go
-GO_PIE_SUPPORTED_OS_ARCH:= \
-  android_386  android_amd64  android_arm  android_arm64 \
-  linux_386    linux_amd64    linux_arm    linux_arm64 \
-  \
-  windows_386  windows_amd64  windows_arm \
-  \
-  darwin_amd64 darwin_arm64 \
-  ios_amd64    ios_arm64 \
-  \
-  freebsd_amd64 \
-  \
-  aix_ppc64 \
-  \
-  linux_ppc64le linux_riscv64 linux_s390x
-
-# From https://golang.org/src/cmd/go/internal/work/init.go
-go_pie_install_suffix=$(if $(filter $(1),aix_ppc64 windows_386 windows_amd64 windows_arm),,shared)
-
-ifneq ($(filter $(GO_HOST_OS_ARCH),$(GO_PIE_SUPPORTED_OS_ARCH)),)
-  GO_HOST_PIE_SUPPORTED:=1
-  GO_HOST_PIE_INSTALL_SUFFIX:=$(call go_pie_install_suffix,$(GO_HOST_OS_ARCH))
-endif
-
-ifneq ($(filter $(GO_OS_ARCH),$(GO_PIE_SUPPORTED_OS_ARCH)),)
-  GO_TARGET_PIE_SUPPORTED:=1
-  GO_TARGET_PIE_INSTALL_SUFFIX:=$(call go_pie_install_suffix,$(GO_OS_ARCH))
-endif
-
-
-# Spectre mitigations
-
-GO_SPECTRE_SUPPORTED_ARCH:=amd64
-
-ifneq ($(filter $(GO_HOST_ARCH),$(GO_SPECTRE_SUPPORTED_ARCH)),)
-  GO_HOST_SPECTRE_SUPPORTED:=1
-endif
-
-ifneq ($(filter $(GO_ARCH),$(GO_SPECTRE_SUPPORTED_ARCH)),)
-  GO_TARGET_SPECTRE_SUPPORTED:=1
-endif
-
-
-# General build info
-
-GO_BUILD_CACHE_DIR:=$(or $(call qstrip,$(CONFIG_GOLANG_BUILD_CACHE_DIR)),$(TMP_DIR)/go-build)
-GO_MOD_CACHE_DIR:=$(DL_DIR)/go-mod-cache
-
-GO_MOD_ARGS= \
-	-modcacherw
-
-GO_GENERAL_BUILD_CONFIG_VARS= \
-	CONFIG_GOLANG_MOD_CACHE_WORLD_READABLE="$(CONFIG_GOLANG_MOD_CACHE_WORLD_READABLE)" \
-	GO_BUILD_CACHE_DIR="$(GO_BUILD_CACHE_DIR)" \
-	GO_MOD_CACHE_DIR="$(GO_MOD_CACHE_DIR)" \
-	GO_MOD_ARGS="$(GO_MOD_ARGS)"
-
-define Go/CacheCleanup
-	$(GO_GENERAL_BUILD_CONFIG_VARS) \
-	$(SHELL) $(GO_INCLUDE_DIR)/golang-build.sh cache_cleanup
-endef
diff -uprN a/feeds/packages/lang/json4lua/Makefile b/feeds/packages/lang/json4lua/Makefile
--- a/feeds/packages/lang/json4lua/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/json4lua/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,51 +0,0 @@
-#
-# Copyright (C) 2006-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#  
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=json4lua
-PKG_VERSION:=0.9.54
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/amrhassan/json4lua/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=2498e5224b024521af7f2de9a2c2af4028cd8da4b724ffd6bd94beede2402cfe
-
-PKG_MAINTAINER:=Amr Hassan <amr.hassan@gmail.com>
-PKG_LICENSE:=MIT
-
-LUA_MODULE_PATH:=/usr/lib/lua
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/json4lua
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=json4lua
-  URL:=https://github.com/amrhassan/json4lua
-  DEPENDS:=+lua +luasocket
-  PKGARCH:=all
-endef
-
-define Package/json4lua/description
-	JSON and JSONRPC for Lua
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Package/json4lua/install
-	$(INSTALL_DIR) $(1)/$(LUA_MODULE_PATH)/json
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/json/json.lua $(1)/$(LUA_MODULE_PATH)/json.lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/json/rpc.lua $(1)/$(LUA_MODULE_PATH)/json/rpc.lua
-endef
-
-$(eval $(call BuildPackage,json4lua))
diff -uprN a/feeds/packages/lang/ldbus/Makefile b/feeds/packages/lang/ldbus/Makefile
--- a/feeds/packages/lang/ldbus/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/ldbus/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,61 +0,0 @@
-#
-# Copyright (C) 2006-2017 OpenWrt.org
-#
-# This is free software, licensed under the GPL 2 license.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=ldbus
-PKG_SOURCE_DATE:=2019-08-15
-PKG_SOURCE_VERSION:=9e176fe851006037a643610e6d8f3a8e597d4073
-PKG_RELEASE:=1
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL=https://github.com/daurnimator/ldbus
-PKG_MIRROR_HASH:=65fc7c975a17cfd3929b54973558205354fc285b6bd88a732c045e8444000d44
-
-PKG_MAINTAINER:=Enrico Mioso <mrkiko.rs@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=luarocks/host
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/ldbus
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=ldbus Lua DBus bindings
-  URL:=https://github.com/daurnimator/ldbus
-  DEPENDS:=+dbus +lua
-endef
-
-define Package/ldbus/description
-  This package contains "ldbus": LUA bindings to interact with the DBUS
-  message bus system, and services connected to it.
-  See https://github.com/daurnimator/ldbus
-  for details.
-endef
-
-define Build/Compile
-  cd $(PKG_BUILD_DIR) && \
-  luarocks make --pack-binary-rock ldbus-scm-0.rockspec \
-    LUA_LIBDIR=$(STAGING_DIR)/usr/lib/lua \
-    LUA_PKGNAME=lua5.1 \
-    DBUS_INCDIR=$(STAGING_DIR)/usr/include/dbus-1.0/ \
-    DBUS_ARCH_INCDIR=$(STAGING_DIR)/usr/lib/dbus-1.0/include \
-    DBUS_LIBDIR=$(STAGING_DIR)/usr/lib \
-    CC="$(TARGET_CC)" LD="$(TARGET_CC)" \
-    CFLAGS="$(TARGET_CFLAGS) $(FPIC)" \
-    LDFLAGS="$(TARGET_LDFLAGS)"
-endef
-
-define Package/ldbus/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/ldbus.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,ldbus))
diff -uprN a/feeds/packages/lang/linotify/Makefile b/feeds/packages/lang/linotify/Makefile
--- a/feeds/packages/lang/linotify/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/linotify/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# This is free software, licensed under your choice of the following SPDX identifiers:
-# Apache-2.0, BSD-2-Clause, CC-BY-4.0, ISC, MIT, X11 or GPL-2.0-or-later
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=linotify
-PKG_VERSION:=0.5
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL=https://codeload.github.com/hoelzro/$(PKG_NAME)/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=21d005f16043397a85913a7d14a267716d6384f0228718d5de464bfc0274e338
-
-PKG_MAINTAINER:=Karl Palsson <karlp@etactica.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYRIGHT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/linotify
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=inotify binding for lua
-  DEPENDS:=+lua
-  URL:=https://github.com/hoelzro/linotify
-endef
-
-define Package/linotify/description
- This provides a lua binding to the inotify file system change notification system
-endef
-
-define Build/Compile
-  cd $(PKG_BUILD_DIR) && \
-  $(TARGET_CC) -o inotify.so -shared $(FPIC) $(TARGET_CFLAGS) $(TARGET_LDFLAGS) linotify.c
-endef
-
-define Package/$(PKG_NAME)/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/inotify.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,linotify))
diff -uprN a/feeds/packages/lang/lpeg/Makefile b/feeds/packages/lang/lpeg/Makefile
--- a/feeds/packages/lang/lpeg/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lpeg/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lpeg
-PKG_VERSION:=1.0.2
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=http://www.inf.puc-rio.br/~roberto/lpeg/
-PKG_HASH:=48d66576051b6c78388faad09b70493093264588fcd0f258ddaab1cdd4a15ffe
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lpeg
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=LPeg
-  URL:=http://www.inf.puc-rio.br/~roberto/lpeg/
-  DEPENDS:=+lua
-endef
-
-define Package/lpeg/description
-	LPeg is a new pattern-matching library for Lua, based on Parsing Expression Grammars (PEGs)
-endef
-
-define Build/Configure
-endef
-
-# add make variable overrides here
-MAKE_FLAGS += \
-	COPT="$(TARGET_CFLAGS) $(TARGET_CPPFLAGS) -O2"
-
-define Package/lpeg/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/lpeg.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lpeg))
diff -uprN a/feeds/packages/lang/lua-argparse/Makefile b/feeds/packages/lang/lua-argparse/Makefile
--- a/feeds/packages/lang/lua-argparse/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-argparse/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2006-2020 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-argparse
-PKG_VERSION:=0.6.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/mpeterv/argparse/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=0eddda29d591536bc7310b99ce7acc3e5e00557f18d6e63ab10d56683e8952f1
-PKG_BUILD_DIR:=$(BUILD_DIR)/argparse-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Vladimir Malyutin <first-leon@yandex.ru>
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-argparse
-        SUBMENU:=Lua
-        SECTION:=lang
-        CATEGORY:=Languages
-        TITLE:=lua-argparse
-        URL:=https://github.com/mpeterv/argparse
-        DEPENDS:=+lua
-        PKGARCH:=all
-endef
-
-define Package/lua-argparse/description
-        Argparse is a feature-rich command line parser for Lua inspired by argparse for Python.
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Package/lua-argparse/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/argparse.lua $(1)/usr/lib/lua/
-endef
-
-$(eval $(call BuildPackage,lua-argparse))
diff -uprN a/feeds/packages/lang/lua-bencode/Makefile b/feeds/packages/lang/lua-bencode/Makefile
--- a/feeds/packages/lang/lua-bencode/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-bencode/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) 20013-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-bencode
-PKG_VERSION:=2.2.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://bitbucket.org/wilhelmy/lua-bencode/downloads/
-PKG_HASH:=25830ff3fe342c09c65995d46c4d89ad0387cc502b1a2f70f9cca2d8c7ccafdd
-
-PKG_MAINTAINER:=Lars Gierth <larsg@systemli.org>
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-bencode
-	SUBMENU:=Lua
-	SECTION:=lang
-	CATEGORY:=Languages
-	TITLE:=lua-bencode
-	URL:=https://bitbucket.org/wilhelmy/lua-bencode
-	DEPENDS:=+lua
-	PKGARCH:=all
-endef
-
-define Package/lua-bencode/description
-	This is a module for the lua programming language for decoding and encoding
-	bencoded data which can be used to read and write torrent files for bittorrent.
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-
-define Package/lua-bencode/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/bencode.lua $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-bencode))
diff -uprN a/feeds/packages/lang/lua-bit32/Makefile b/feeds/packages/lang/lua-bit32/Makefile
--- a/feeds/packages/lang/lua-bit32/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-bit32/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,59 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-bit32
-PKG_VERSION:=5.3.0
-PKG_RELEASE:=1
-
-
-PKG_SRC_NAME:=lua-compat-5.2
-PKG_SRC_VERSION:=0.3
-PKG_SOURCE_URL=https://codeload.github.com/keplerproject/$(PKG_SRC_NAME)/tar.gz/v$(PKG_SRC_VERSION)?
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_HASH:=627e842c488c1afece4383da9f9a839a7ddbc2f7fedfc456f76e3a590d4ca67f
-PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_SRC_NAME)-$(PKG_SRC_VERSION)
-
-PKG_MAINTAINER:=Maxim Storchak <m.storchak@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=luarocks/host
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-bit32
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua 5.2 bit manipulation library
-  DEPENDS:=+lua
-endef
-
-define Package/lua-bit32/description
-  lua-bit32 is the native Lua 5.2 bit manipulation library,
-  backported to Lua 5.1
-endef
-
-TARGET_CFLAGS += \
-	-I$(STAGING_DIR)/usr/include
-
-define Build/Compile
-  cd $(PKG_BUILD_DIR) && \
-  luarocks make --pack-binary-rock bit32-scm-1.rockspec \
-    LUA_LIBDIR=$(STAGING_DIR)/usr/lib/lua \
-    LUA_PKGNAME=lua5.1 \
-	CFLAGS="$(TARGET_CFLAGS) $(FPIC)" \
-	LDFLAGS="$(TARGET_LDFLAGS)" \
-    CC="$(TARGET_CC)" LD="$(TARGET_CC)"
-endef
-
-define Package/$(PKG_NAME)/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/bit32.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-bit32))
diff -uprN a/feeds/packages/lang/luabitop/Makefile b/feeds/packages/lang/luabitop/Makefile
--- a/feeds/packages/lang/luabitop/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luabitop/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luabitop
-PKG_VERSION:=1.0.2
-PKG_RELEASE:=1
-
-_BASENAME:=LuaBitOp
-
-PKG_MAINTAINER:=Maxim Storchak <m.storchak@gmail.com>
-PKG_SOURCE:=$(_BASENAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=http://bitop.luajit.org/download/
-PKG_HASH:=1207c9293dcd52eb9dca6538d1b87352bd510f4e760938f5048433f7f272ce99
-PKG_BUILD_DIR:=$(BUILD_DIR)/$(_BASENAME)-$(PKG_VERSION)
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luabitop
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=luabitop
-  URL:=http://bitop.luajit.org/
-  DEPENDS:=+liblua
-endef
-
-define Package/luabitop/description
-Lua BitOp is a C extension module for Lua 5.1/5.2 which adds bitwise operations on numbers.
-endef
-
-define Build/Configure
-endef
-
-
-TARGET_CFLAGS += $(FPIC) -DLUA_USE_LINUX -DLUA_NUMBER_DOUBLE
-
-define Build/Compile
-	$(TARGET_CC) $(TARGET_CFLAGS) $(TARGET_CPPFLAGS) $(TARGET_CPPFLAGS) -std=gnu99 $(FPIC) -DLUA_USE_LINUX -shared -o $(PKG_BUILD_DIR)/bit.so $(PKG_BUILD_DIR)/bit.c
-endef
-
-define Package/luabitop/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/bit.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,luabitop))
diff -uprN a/feeds/packages/lang/lua-cjson/Makefile b/feeds/packages/lang/lua-cjson/Makefile
--- a/feeds/packages/lang/lua-cjson/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-cjson/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,55 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-cjson
-PKG_VERSION:=2.1.0
-PKG_RELEASE:=2
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=http://www.kyne.com.au/~mark/software/download/
-PKG_HASH:=51bc69cd55931e0cba2ceae39e9efa2483f4292da3a88a1ed470eda829f6c778
-
-HOST_BUILD_DEPENDS:=lua/host
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/cmake.mk
-
-define Package/lua-cjson
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua CJSON parser
-  URL:=https://github.com/mpx/lua-cjson
-  DEPENDS:= +lua
-endef
-
-define Package/lua-cjson/description
-  Lua CJSON is a fast JSON encoding/parsing module for Lua.
-endef
-
-CMAKE_OPTIONS += \
-	-DUSE_LUA=ON
-
-CMAKE_HOST_OPTIONS += \
-	-DLUA_MATH_LIBRARY=m
-
-define Package/lua-cjson/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/cjson.so $(1)/usr/lib/lua/
-
-	$(INSTALL_DIR) $(1)/usr/lib/lua/cjson
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/lua/cjson/util.lua $(1)/usr/lib/lua/cjson
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,lua-cjson))
diff -uprN a/feeds/packages/lang/lua-copas/Makefile b/feeds/packages/lang/lua-copas/Makefile
--- a/feeds/packages/lang/lua-copas/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-copas/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,60 +0,0 @@
-#
-# Copyright (C) 2009-2013 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-copas
-PKG_VERSION:=2.0.2
-PKG_RELEASE:=1
-
-PKG_SOURCE:=copas-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/keplerproject/copas/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=1469eaf987513f5a9a0bee345c040c8fa30ca6194bc75ad78171362f9904cf3e
-PKG_BUILD_DIR:=$(BUILD_DIR)/copas-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_BUILD_PARALLEL:=1
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-copas
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua-Copas
-  URL:=https://github.com/keplerproject/copas
-  DEPENDS:=+lua
-endef
-
-define Package/lua-copas/description
-  Copas is a dispatcher based on coroutines that can be used by TCP/IP servers.
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		T="$(BUILD_VARIANT)" \
-		PREFIX="$(PKG_INSTALL_DIR)/usr" \
-		install
-endef
-
-define Package/lua-copas/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DIR) $(1)/usr/lib/lua/copas
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/copas.lua $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/copas/ftp.lua $(1)/usr/lib/lua/copas
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/copas/smtp.lua $(1)/usr/lib/lua/copas
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/copas/http.lua $(1)/usr/lib/lua/copas
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/copas/limit.lua $(1)/usr/lib/lua/copas
-endef
-
-$(eval $(call BuildPackage,lua-copas))
diff -uprN a/feeds/packages/lang/lua-coxpcall/Makefile b/feeds/packages/lang/lua-coxpcall/Makefile
--- a/feeds/packages/lang/lua-coxpcall/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-coxpcall/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,60 +0,0 @@
-#
-# Copyright (C) 2009-2013 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-coxpcall
-PKG_VERSION:=1.17.0
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_MIRROR_HASH:=e037c1aa1d2a2b213fca144d86cd5b5cf2cd77cec6d8f52d056add7ea806f0dc
-PKG_SOURCE_URL:=https://github.com/keplerproject/coxpcall.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_VERSION:=ea22f44e490430e40217f0792bf82eaeaec51903
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-coxpcall
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua-Coxpcall
-  URL:=https://github.com/keplerproject/coxpcall
-  DEPENDS:=+lua
-endef
-
-define Package/lua-coxpcall/description
-  Coxpcall encapsulates the protected calls with a coroutine based loop,
-  so errors can be dealed without the usual pcall/xpcall issues with coroutines.
-endef
-
-TARGET_CFLAGS += $(FPIC)
-# add make variable overrides here
-MAKE_FLAGS +=
-
-define Build/Configure
-endef
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		T="$(BUILD_VARIANT)" \
-		LUA_DIR="$(PKG_INSTALL_DIR)/usr/lib/lua" \
-		install
-endef
-
-define Package/lua-coxpcall/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/coxpcall.lua $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-coxpcall))
diff -uprN a/feeds/packages/lang/lua-coxpcall/patches/config.patch b/feeds/packages/lang/lua-coxpcall/patches/config.patch
--- a/feeds/packages/lang/lua-coxpcall/patches/config.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-coxpcall/patches/config.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,4 +0,0 @@
---- /dev/null
-+++ b/config
-@@ -0,0 +1 @@
-+LUA_DIR ?=$(DESTDIR)/usr/lib/lua
diff -uprN a/feeds/packages/lang/lua-ev/Makefile b/feeds/packages/lang/lua-ev/Makefile
--- a/feeds/packages/lang/lua-ev/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-ev/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2019 Jianhui Zhao
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-ev
-PKG_RELEASE:=1
-
-PKG_SOURCE_URL=https://github.com/brimworks/lua-ev.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_DATE=2015-8-4
-PKG_SOURCE_VERSION:=339426fbe528f11cb3cd1af69a88f06bba367981
-PKG_MIRROR_HASH:=fe138f05845d549998443628e1b63e07d797977548a30e75305085cca4b25567
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=
-
-PKG_MAINTAINER:=Jianhui Zhao <jianhuizhao329@gmail.com>
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/cmake.mk
-
-define Package/lua-ev
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=lua-ev
-  URL:=https://github.com/brimworks/lua-ev
-  DEPENDS:=+lua +libev
-endef
-
-define Package/lua-ev/description
-  Lua integration with libev.
-endef
-
-define Package/lua-ev/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/ev.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-ev))
diff -uprN a/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.c b/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.c
--- a/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.c	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.c	1970-01-01 08:00:00.000000000 +0800
@@ -1,97 +0,0 @@
-/*
-** Compat-5.1
-** Copyright Kepler Project 2004-2006 (http://www.keplerproject.org/compat)
-** $Id: compat-5.1.c,v 1.13 2006/02/20 21:12:47 carregal Exp $
-*/
-
-#include <stdio.h>
-#include <string.h>
-#include "lua.h"
-#include "lauxlib.h"
-#include "compat-5.1.h"
-
-static void getfield(lua_State *L, int idx, const char *name) {
-    const char *end = strchr(name, '.');
-    lua_pushvalue(L, idx);
-    while (end) {
-        lua_pushlstring(L, name, end - name);
-        lua_gettable(L, -2);
-        lua_remove(L, -2);
-        if (lua_isnil(L, -1)) return;
-        name = end+1;
-        end = strchr(name, '.');
-    }
-    lua_pushstring(L, name);
-    lua_gettable(L, -2);
-    lua_remove(L, -2);
-}
-
-static void setfield(lua_State *L, int idx, const char *name) {
-    const char *end = strchr(name, '.');
-    lua_pushvalue(L, idx);
-    while (end) {
-        lua_pushlstring(L, name, end - name);
-        lua_gettable(L, -2);
-        /* create table if not found */
-        if (lua_isnil(L, -1)) {
-            lua_pop(L, 1);
-            lua_newtable(L);
-            lua_pushlstring(L, name, end - name);
-            lua_pushvalue(L, -2);
-            lua_settable(L, -4);
-        }
-        lua_remove(L, -2);
-        name = end+1;
-        end = strchr(name, '.');
-    }
-    lua_pushstring(L, name);
-    lua_pushvalue(L, -3);
-    lua_settable(L, -3);
-    lua_pop(L, 2);
-}
-
-LUALIB_API void luaL_module(lua_State *L, const char *libname,
-                              const luaL_reg *l, int nup) {
-  if (libname) {
-    getfield(L, LUA_GLOBALSINDEX, libname);  /* check whether lib already exists */
-    if (lua_isnil(L, -1)) { 
-      int env, ns;
-      lua_pop(L, 1); /* get rid of nil */
-      lua_pushliteral(L, "require");
-      lua_gettable(L, LUA_GLOBALSINDEX); /* look for require */
-      lua_getfenv(L, -1); /* getfenv(require) */
-      lua_remove(L, -2); /* remove function require */
-      env = lua_gettop(L);
-
-      lua_newtable(L); /* create namespace for lib */
-      ns = lua_gettop(L);
-      getfield(L, env, "package.loaded"); /* get package.loaded table */
-      if (lua_isnil(L, -1)) { /* create package.loaded table */
-          lua_pop(L, 1); /* remove previous result */
-          lua_newtable(L);
-          lua_pushvalue(L, -1);
-          setfield(L, env, "package.loaded");
-      }
-      else if (!lua_istable(L, -1))
-        luaL_error(L, "name conflict for library `%s'", libname);
-      lua_pushstring(L, libname);
-      lua_pushvalue(L, ns); 
-      lua_settable(L, -3); /* package.loaded[libname] = ns */
-      lua_pop(L, 1); /* get rid of package.loaded table */
-      lua_pushvalue(L, ns); /* copy namespace */
-      setfield(L, LUA_GLOBALSINDEX, libname);
-      lua_remove (L, env); /* remove env */
-    }
-    lua_insert(L, -(nup+1));  /* move library table to below upvalues */
-  }
-  for (; l->name; l++) {
-    int i;
-    lua_pushstring(L, l->name);
-    for (i=0; i<nup; i++)  /* copy upvalues to the top */
-      lua_pushvalue(L, -(nup+1));
-    lua_pushcclosure(L, l->func, nup);
-    lua_settable(L, -(nup+3));
-  }
-  lua_pop(L, nup);  /* remove upvalues */
-}
-
diff -uprN a/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.h b/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.h
--- a/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.h	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.h	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
-/*
-** Compat-5.1
-** Copyright Kepler Project 2004-2006 (http://www.keplerproject.org/compat/)
-** $Id: compat-5.1.h,v 1.8 2006/02/20 21:12:47 carregal Exp $
-*/
-
-#ifndef COMPAT_H
-
-LUALIB_API void luaL_module(lua_State *L, const char *libname,
-                                       const luaL_reg *l, int nup);
-#define luaL_openlib luaL_module
-
-#endif
diff -uprN a/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.lua b/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.lua
--- a/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.lua	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaexpat/files/compat-5.1r5/compat-5.1.lua	1970-01-01 08:00:00.000000000 +0800
@@ -1,267 +0,0 @@
---
--- Compat-5.1
--- Copyright Kepler Project 2004-2006 (http://www.keplerproject.org/compat)
--- According to Lua 5.1
--- $Id: compat-5.1.lua,v 1.22 2006/02/20 21:12:47 carregal Exp $
---
-
-_COMPAT51 = "Compat-5.1 R5"
-
-local LUA_DIRSEP = '/'
-local LUA_OFSEP = '_'
-local OLD_LUA_OFSEP = ''
-local POF = 'luaopen_'
-local LUA_PATH_MARK = '?'
-local LUA_IGMARK = ':'
-
-local assert, error, getfenv, ipairs, loadfile, loadlib, pairs, setfenv, setmetatable, type = assert, error, getfenv, ipairs, loadfile, loadlib, pairs, setfenv, setmetatable, type
-local find, format, gfind, gsub, sub = string.find, string.format, string.gfind, string.gsub, string.sub
-
---
--- avoid overwriting the package table if it's already there
---
-package = package or {}
-local _PACKAGE = package
-
-package.path = LUA_PATH or os.getenv("LUA_PATH") or
-             ("./?.lua;" ..
-              "/usr/local/share/lua/5.0/?.lua;" ..
-              "/usr/local/share/lua/5.0/?/?.lua;" ..
-              "/usr/local/share/lua/5.0/?/init.lua" )
- 
-package.cpath = LUA_CPATH or os.getenv("LUA_CPATH") or
-             "./?.so;" ..
-             "./l?.so;" ..
-             "/usr/local/lib/lua/5.0/?.so;" ..
-             "/usr/local/lib/lua/5.0/l?.so"
-
---
--- make sure require works with standard libraries
---
-package.loaded = package.loaded or {}
-package.loaded.debug = debug
-package.loaded.string = string
-package.loaded.math = math
-package.loaded.io = io
-package.loaded.os = os
-package.loaded.table = table 
-package.loaded.base = _G
-package.loaded.coroutine = coroutine
-local _LOADED = package.loaded
-
---
--- avoid overwriting the package.preload table if it's already there
---
-package.preload = package.preload or {}
-local _PRELOAD = package.preload
-
-
---
--- looks for a file `name' in given path
---
-local function findfile (name, pname)
-	name = gsub (name, "%.", LUA_DIRSEP)
-	local path = _PACKAGE[pname]
-	assert (type(path) == "string", format ("package.%s must be a string", pname))
-	for c in gfind (path, "[^;]+") do
-		c = gsub (c, "%"..LUA_PATH_MARK, name)
-		local f = io.open (c)
-		if f then
-			f:close ()
-			return c
-		end
-	end
-	return nil -- not found
-end
-
-
---
--- check whether library is already loaded
---
-local function loader_preload (name)
-	assert (type(name) == "string", format (
-		"bad argument #1 to `require' (string expected, got %s)", type(name)))
-	assert (type(_PRELOAD) == "table", "`package.preload' must be a table")
-	return _PRELOAD[name]
-end
-
-
---
--- Lua library loader
---
-local function loader_Lua (name)
-	assert (type(name) == "string", format (
-		"bad argument #1 to `require' (string expected, got %s)", type(name)))
-	local filename = findfile (name, "path")
-	if not filename then
-		return false
-	end
-	local f, err = loadfile (filename)
-	if not f then
-		error (format ("error loading module `%s' (%s)", name, err))
-	end
-	return f
-end
-
-
-local function mkfuncname (name)
-	name = gsub (name, "^.*%"..LUA_IGMARK, "")
-	name = gsub (name, "%.", LUA_OFSEP)
-	return POF..name
-end
-
-local function old_mkfuncname (name)
-	--name = gsub (name, "^.*%"..LUA_IGMARK, "")
-	name = gsub (name, "%.", OLD_LUA_OFSEP)
-	return POF..name
-end
-
---
--- C library loader
---
-local function loader_C (name)
-	assert (type(name) == "string", format (
-		"bad argument #1 to `require' (string expected, got %s)", type(name)))
-	local filename = findfile (name, "cpath")
-	if not filename then
-		return false
-	end
-	local funcname = mkfuncname (name)
-	local f, err = loadlib (filename, funcname)
-	if not f then
-		funcname = old_mkfuncname (name)
-		f, err = loadlib (filename, funcname)
-		if not f then
-			error (format ("error loading module `%s' (%s)", name, err))
-		end
-	end
-	return f
-end
-
-
-local function loader_Croot (name)
-	local p = gsub (name, "^([^.]*).-$", "%1")
-	if p == "" then
-		return
-	end
-	local filename = findfile (p, "cpath")
-	if not filename then
-		return
-	end
-	local funcname = mkfuncname (name)
-	local f, err, where = loadlib (filename, funcname)
-	if f then
-		return f
-	elseif where ~= "init" then
-		error (format ("error loading module `%s' (%s)", name, err))
-	end
-end
-
--- create `loaders' table
-package.loaders = package.loaders or { loader_preload, loader_Lua, loader_C, loader_Croot, }
-local _LOADERS = package.loaders
-
-
---
--- iterate over available loaders
---
-local function load (name, loaders)
-	-- iterate over available loaders
-	assert (type (loaders) == "table", "`package.loaders' must be a table")
-	for i, loader in ipairs (loaders) do
-		local f = loader (name)
-		if f then
-			return f
-		end
-	end
-	error (format ("module `%s' not found", name))
-end
-
--- sentinel
-local sentinel = function () end
-
---
--- new require
---
-function _G.require (modname)
-	assert (type(modname) == "string", format (
-		"bad argument #1 to `require' (string expected, got %s)", type(name)))
-	local p = _LOADED[modname]
-	if p then -- is it there?
-		if p == sentinel then
-			error (format ("loop or previous error loading module '%s'", modname))
-		end
-		return p -- package is already loaded
-	end
-	local init = load (modname, _LOADERS)
-	_LOADED[modname] = sentinel
-	local actual_arg = _G.arg
-	_G.arg = { modname }
-	local res = init (modname)
-	if res then
-		_LOADED[modname] = res
-	end
-	_G.arg = actual_arg
-	if _LOADED[modname] == sentinel then
-		_LOADED[modname] = true
-	end
-	return _LOADED[modname]
-end
-
-
--- findtable
-local function findtable (t, f)
-	assert (type(f)=="string", "not a valid field name ("..tostring(f)..")")
-	local ff = f.."."
-	local ok, e, w = find (ff, '(.-)%.', 1)
-	while ok do
-		local nt = rawget (t, w)
-		if not nt then
-			nt = {}
-			t[w] = nt
-		elseif type(t) ~= "table" then
-			return sub (f, e+1)
-		end
-		t = nt
-		ok, e, w = find (ff, '(.-)%.', e+1)
-	end
-	return t
-end
-
---
--- new package.seeall function
---
-function _PACKAGE.seeall (module)
-	local t = type(module)
-	assert (t == "table", "bad argument #1 to package.seeall (table expected, got "..t..")")
-	local meta = getmetatable (module)
-	if not meta then
-		meta = {}
-		setmetatable (module, meta)
-	end
-	meta.__index = _G
-end
-
-
---
--- new module function
---
-function _G.module (modname, ...)
-	local ns = _LOADED[modname]
-	if type(ns) ~= "table" then
-		ns = findtable (_G, modname)
-		if not ns then
-			error (string.format ("name conflict for module '%s'", modname))
-		end
-		_LOADED[modname] = ns
-	end
-	if not ns._NAME then
-		ns._NAME = modname
-		ns._M = ns
-		ns._PACKAGE = gsub (modname, "[^.]*$", "")
-	end
-	setfenv (2, ns)
-	for i, f in ipairs (arg) do
-		f (ns)
-	end
-end
diff -uprN a/feeds/packages/lang/luaexpat/Makefile b/feeds/packages/lang/luaexpat/Makefile
--- a/feeds/packages/lang/luaexpat/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaexpat/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,58 +0,0 @@
-# 
-# Copyright (C) 2009 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luaexpat
-PKG_VERSION:=1.3.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=http://matthewwild.co.uk/projects/luaexpat
-PKG_HASH:=d060397960d87b2c89cf490f330508b7def1a0677bdc120531c571609fc57dc3
-
-PKG_CPE_ID:=cpe:/a:matthewwild:luaexpat
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luaexpat
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=LuaExpat 
-  URL:=http://matthewwild.co.uk/projects/luaexpat/
-  MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-  DEPENDS:=+lua +libexpat
-endef
-
-define Package/luaexpat/description
-  LuaExpat is a SAX XML parser based on the Expat library.
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-	$(CP) files/compat-5.1r5 $(PKG_BUILD_DIR)/compat-5.1r5
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-	EXPAT_INC="-I$(STAGING_DIR)/usr/include/" \
-	LUA_INC="-I$(STAGING_DIR)/usr/include/" \
-	LUA_LIBDIR="$(STAGING_DIR)/usr/lib/" \
-	COMPAT_DIR="$(PKG_BUILD_DIR)/compat-5.1r5" \
-	LDFLAGS="-shared $(TARGET_LDFLAGS)" \
-	CC="$(TARGET_CC) $(TARGET_CFLAGS) $(FPIC) -std=c99" \
-	LD="$(TARGET_CROSS)ld -shared" 
-endef
-
-define Package/luaexpat/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/lxp.so $(1)/usr/lib/lua/lxp.so
-	$(INSTALL_DIR) $(1)/usr/lib/lua/lxp
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/lxp/lom.lua $(1)/usr/lib/lua/lxp
-endef
-
-$(eval $(call BuildPackage,luaexpat))
diff -uprN a/feeds/packages/lang/luafilesystem/Makefile b/feeds/packages/lang/luafilesystem/Makefile
--- a/feeds/packages/lang/luafilesystem/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luafilesystem/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,65 +0,0 @@
-#
-# Copyright (C) 2008-2010 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luafilesystem
-PKG_VERSION:=1.8.0
-PKG_RELEASE:=1
-
-PKG_MIRROR_HASH:=0342b54bcbd4aa1679bf23b2a4cc8177f630e6415b7a82e58cefb9f8991e0a8e
-PKG_SOURCE_URL:=https://github.com/keplerproject/luafilesystem.git
-PKG_SOURCE_VERSION:=v$(subst .,_,$(PKG_VERSION))
-PKG_SOURCE_PROTO:=git
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luafilesystem
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=LuaFileSystem
-  URL:=http://keplerproject.github.com/luafilesystem/
-  MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-  DEPENDS:=+liblua
-endef
-
-define Package/luafilesystem/description
- This package contains the LuaFileSystem library, a set of portable
- functions for directory creation, listing and deletion and for file
- locking.
-endef
-
-define Build/Configure
-endef
-
-TARGET_CFLAGS += $(FPIC) $(TARGET_CPPFLAGS)
-
-TARGET_LDFLAGS += -llua
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		$(TARGET_CONFIGURE_OPTS) \
-		CFLAGS="$(TARGET_CFLAGS) -std=gnu99" \
-		LDFLAGS="$(TARGET_LDFLAGS)"
-	$(TARGET_CROSS)ar r $(PKG_BUILD_DIR)/src/luafilesystem.a $(PKG_BUILD_DIR)/src/lfs.o
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(STAGING_DIR)/usr/include
-	$(INSTALL_DIR) $(STAGING_DIR)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/lfs.h $(STAGING_DIR)/usr/include
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/lfs.so $(STAGING_DIR)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/luafilesystem.a $(STAGING_DIR)/usr/lib/lua
-endef
-
-define Package/luafilesystem/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/lfs.so $(1)/usr/lib/lua/lfs.so
-endef
-
-$(eval $(call BuildPackage,luafilesystem))
diff -uprN a/feeds/packages/lang/luajit/Makefile b/feeds/packages/lang/luajit/Makefile
--- a/feeds/packages/lang/luajit/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luajit/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,89 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luajit
-PKG_VERSION:=2.1.0-beta3
-PKG_RELEASE:=5
-
-PKG_SOURCE:=LuaJIT-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://luajit.org/download
-PKG_HASH:=1ad2e34b111c802f9d0cdf019e986909123237a28c746b21295b63c9e785d9c3
-PKG_BUILD_DIR:=$(BUILD_DIR)/LuaJIT-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Morteza Milani <milani@pichak.co>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYRIGHT
-
-PKG_USE_MIPS16:=0
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-
-define Package/luajit
- SUBMENU:=Lua
- SECTION:=lang
- CATEGORY:=Languages
- TITLE:=LuaJIT
- URL:=https://www.luajit.org
- DEPENDS:=@(i386||x86_64||arm||armeb||aarch64||(powerpc&&HAS_FPU)||mips||mipsel||mips64)
-endef
-
-define Package/luajit/description
- LuaJIT is a Just-In-Time (JIT) compiler for the Lua programming language. *** Requires GCC Multilib on host system to build! ***
-endef
-ifeq ($(HOST_ARCH),$(filter $(HOST_ARCH), x86_64 mips64))
-  ifeq ($(CONFIG_ARCH_64BIT),)
-    HOST_BITS := -m32
-  endif
-endif
-
-define Build/Compile
-	$(MAKE) $(PKG_JOBS) -C $(PKG_BUILD_DIR) \
-		HOST_CC="$(HOSTCC) $(HOST_CFLAGS) $(HOST_BITS)" \
-		CROSS="$(TARGET_CROSS)" \
-		DPREFIX=$(PKG_INSTALL_DIR)/usr \
-		PREFIX=/usr \
-		TARGET_SYS=Linux \
-		TARGET_CFLAGS="$(TARGET_CFLAGS)" \
-		BUILDMODE=dynamic
-	rm -rf $(PKG_INSTALL_DIR)
-	mkdir -p $(PKG_INSTALL_DIR)
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		DPREFIX=$(PKG_INSTALL_DIR)/usr \
-		PREFIX=/usr \
-		TARGET_SYS=Linux \
-		install
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include/luajit-2.1
-	$(CP) $(PKG_INSTALL_DIR)/usr/include/luajit-2.1/*.{h,hpp} $(1)/usr/include/luajit-2.1
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/*so* $(1)/usr/lib/
-	$(INSTALL_DIR) $(1)/usr/lib/pkgconfig
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/pkgconfig/luajit.pc $(1)/usr/lib/pkgconfig/
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/luajit-$(PKG_VERSION) $(PKG_INSTALL_DIR)/usr/bin/$(PKG_NAME)
-endef
-
-define Package/luajit/install
-	$(INSTALL_DIR) $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/*.so* $(1)/usr/lib/
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/luajit-$(PKG_VERSION) $(1)/usr/bin/$(PKG_NAME)
-endef
-
-define Host/Compile
-	$(MAKE) $(HOST_JOBS) -C $(HOST_BUILD_DIR) \
-		DPREFIX=$(STAGING_DIR_HOSTPKG) \
-		TARGET_CFLAGS="$(HOST_CFLAGS)" \
-		TARGET_LDFLAGS="$(HOST_LDFLAGS)"
-endef
-
-define Host/Install
-	$(MAKE) $(HOST_JOBS) -C $(HOST_BUILD_DIR) \
-		DPREFIX=$(STAGING_DIR_HOSTPKG) \
-		install
-	$(CP) $(STAGING_DIR_HOSTPKG)/bin/luajit-$(PKG_VERSION) $(STAGING_DIR_HOSTPKG)/bin/$(PKG_NAME)
-endef
-
-$(eval $(call HostBuild,luajit))
-$(eval $(call BuildPackage,luajit))
diff -uprN a/feeds/packages/lang/luajit/patches/010-lua-path.patch b/feeds/packages/lang/luajit/patches/010-lua-path.patch
--- a/feeds/packages/lang/luajit/patches/010-lua-path.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luajit/patches/010-lua-path.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
---- a/src/luaconf.h
-+++ b/src/luaconf.h
-@@ -35,8 +35,8 @@
- #ifndef LUA_LMULTILIB
- #define LUA_LMULTILIB	"lib"
- #endif
--#define LUA_LROOT	"/usr/local"
--#define LUA_LUADIR	"/lua/5.1/"
-+#define LUA_LROOT	"/usr"
-+#define LUA_LUADIR	"/lua/"
- #define LUA_LJDIR	"/luajit-2.1.0-beta3/"
- 
- #ifdef LUA_ROOT
diff -uprN a/feeds/packages/lang/lualanes/Makefile b/feeds/packages/lang/lualanes/Makefile
--- a/feeds/packages/lang/lualanes/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lualanes/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,66 +0,0 @@
-#
-# Copyright (C) 2007-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lualanes
-PKG_VERSION:=3.13.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/LuaLanes/lanes/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=53a17d7ee11f17ca0543ae5aa640208dcb62d37862a0d0ea450455fae12c8ff1
-PKG_BUILD_DIR:=$(BUILD_DIR)/lanes-$(PKG_VERSION)
-
-PKG_INSTALL:=1
-PKG_BUILD_PARALLEL:=1
-
-PKG_BUILD_DEPENDS:=lua/host
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lualanes
-	SUBMENU:=Lua
-	SECTION:=lang
-	CATEGORY:=Languages
-	TITLE:=LuaLanes
-	URL:=http://lualanes.github.io/lanes/
-	DEPENDS:=+lua +luac +liblua +libpthread
-	MAINTAINER:=Vladimir Malyutin <first-leon@yandex.ru>
-endef
-
-define Package/lualanes/description
- Lua Lanes is a Lua extension library providing the possibility to run
-multiple Lua states in parallel. It is intended to be used for optimizing
-performance on multicore CPU's and to study ways to make Lua programs
-naturally parallel to begin with.
-
-Lanes is included into your software by the regular require "lanes" method.
-No C side programming is needed; all APIs are Lua side, and most existing
-extension modules should work seamlessly together with the multiple lanes.
-
-Lanes supports Lua 5.1, 5.2 and 5.3
-endef
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR) all \
-        CC="$(TARGET_CC)" \
-        LUA="$(STAGING_DIR_HOSTPKG)/bin/lua" \
-        LUAC="$(STAGING_DIR_HOSTPKG)/bin/luac" \
-	LUA_FLAGS= \
-	LUA_LIBS=-llua \
-        OPT_FLAGS="$(TARGET_CFLAGS) -Dpthread_yield=sched_yield"
-endef
-
-define Package/lualanes/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/lanes.lua $(1)/usr/lib/lua/
-	$(INSTALL_DIR) $(1)/usr/lib/lua/lanes
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/lanes/core.so $(1)/usr/lib/lua/lanes/core.so
-endef
-
-$(eval $(call BuildPackage,lualanes))
diff -uprN a/feeds/packages/lang/lualanes/patches/100-musl-compat.patch b/feeds/packages/lang/lualanes/patches/100-musl-compat.patch
--- a/feeds/packages/lang/lualanes/patches/100-musl-compat.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lualanes/patches/100-musl-compat.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/src/threading.h
-+++ b/src/threading.h
-@@ -110,7 +110,7 @@ enum e_status { PENDING, RUNNING, WAITIN
-   #endif // PLATFORM_WIN32
-   #include <pthread.h>
- 
--  #ifdef PLATFORM_LINUX
-+  #if defined(PLATFORM_LINUX) && defined(__UCLIBC__)
-   # define _MUTEX_RECURSIVE PTHREAD_MUTEX_RECURSIVE_NP
-   #else
-     /* OS X, ... */
diff -uprN a/feeds/packages/lang/lualanes/patches/200-fix-redef-error.patch b/feeds/packages/lang/lualanes/patches/200-fix-redef-error.patch
--- a/feeds/packages/lang/lualanes/patches/200-fix-redef-error.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lualanes/patches/200-fix-redef-error.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/src/threading.c
-+++ b/src/threading.c
-@@ -35,7 +35,9 @@ THE SOFTWARE.
- ===============================================================================
- */
- #if defined(__linux__)
-+#ifndef _GNU_SOURCE
- # define _GNU_SOURCE /* must be defined before any include */
-+#endif
- # ifdef __ANDROID__
- #  include <android/log.h>
- #  define LOG_TAG "LuaLanes"
diff -uprN a/feeds/packages/lang/lua-libmodbus/Makefile b/feeds/packages/lang/lua-libmodbus/Makefile
--- a/feeds/packages/lang/lua-libmodbus/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-libmodbus/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-libmodbus
-PKG_VERSION:=0.7
-PKG_RELEASE:=1
-
-PKG_SOURCE:=lua-libmodbus-$(PKG_VERSION).tar.gz
-PKG_SOURCE_SUBDIR:=lua-libmodbus-$(PKG_VERSION)
-PKG_SOURCE_URL:=https://codeload.github.com/etactica/lua-libmodbus/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=70369f4c4e36421095bf00dcee36c633b4284eaa79bcfdfd230bfefb27acefda
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-
-PKG_MAINTAINER:=Karl Palsson <karlp@etactica.com>
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-libmodbus
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=lua-libmodbus
-  URL:=https://github.com/etactica/lua-libmodbus
-  DEPENDS:=+liblua +libmodbus
-endef
-
-define Package/lua-libmodbus/description
-	lua-libmodbus is a binding to libmodbus,
-	see also http://www.libmodbus.org
-endef
-
-define Build/Configure
-endef
-
-define Package/lua-libmodbus/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/libmodbus.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-libmodbus))
diff -uprN a/feeds/packages/lang/lua-lsqlite3/Makefile b/feeds/packages/lang/lua-lsqlite3/Makefile
--- a/feeds/packages/lang/lua-lsqlite3/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-lsqlite3/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,57 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lsqlite3
-PKG_VERSION:=0.9.5
-PKG_RELEASE:=1
-
-PKG_SOURCE:=lsqlite3_fsl09y.zip
-PKG_SOURCE_URL:=http://lua.sqlite.org/index.cgi/zip/
-PKG_HASH:=d38402aa7640055d260c1246c36e6d6d31b425a25a805431f13695694466b722
-
-PKG_LICENSE:=MIT
-PKG_MAINTAINER:=Oskari Rauta <oskari.rauta@gmail.com>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/$(basename $(PKG_SOURCE))
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lsqlite3
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua wrapper for the SQLite3 library
-  URL:=http://lua.sqlite.org
-  DEPENDS:= +lua +libsqlite3
-endef
-
-define Package/lsqlite3/description
- LuaSQLite3 is a thin wrapper around the public domain SQLite3 database engine.
-endef
-
-TARGET_CFLAGS += $(FPIC) -std=gnu99
-TARGET_CPPFLAGS += -DLUA_USE_LINUX
-TARGET_LDFLAGS += -lsqlite3 -lpthread
-
-define Build/Compile
-	$(TARGET_CC) $(TARGET_CFLAGS) $(TARGET_CPPFLAGS) \
-		-c $(PKG_BUILD_DIR)/lsqlite3.c \
-		-o $(PKG_BUILD_DIR)/lsqlite3.o \
-		-DLSQLITE_VERSION=\"$(PKG_VERSION)\"
-	$(TARGET_CC) $(TARGET_LDFLAGS) -shared \
-		$(PKG_BUILD_DIR)/lsqlite3.o \
-		-o $(PKG_BUILD_DIR)/lsqlite3.so
-endef
-
-define Package/lsqlite3/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(CP) $(PKG_BUILD_DIR)/*.so $(1)/usr/lib/lua/
-endef
-
-$(eval $(call BuildPackage,lsqlite3))
diff -uprN a/feeds/packages/lang/lua-lzlib/Makefile b/feeds/packages/lang/lua-lzlib/Makefile
--- a/feeds/packages/lang/lua-lzlib/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-lzlib/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-lzlib
-PKG_VERSION:=0.4.3
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_MIRROR_HASH:=b6ef5e3f04b7f2137b39931a175ee802489a2486e70537770919bcccca10e723
-PKG_SOURCE_URL:=https://github.com/LuaDist/lzlib.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_VERSION:=79329a07d8f79c19eadd7ea2752b4c4e1574b015
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-lzlib
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua zlib binding
-  URL:=http://github.com/LuaDist/lzlib
-  DEPENDS:= +lua +zlib
-endef
-
-define Package/lua-lzlib/description
-	A library to access zlib library functions and also to read/write gzip files using an interface similar to the base io package. 
-endef
-
-MAKE_FLAGS += \
-	LUA="$(STAGING_DIR)/usr" \
-	OFLAGS="$(TARGET_CFLAGS)" \
-
-define Package/lua-lzlib/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/zlib.so $(1)/usr/lib/lua/
-
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/gzip.lua $(1)/usr/lib/lua/
-endef
-
-$(eval $(call BuildPackage,lua-lzlib))
diff -uprN a/feeds/packages/lang/lua-lzlib/patches/001-allow_optim_flags.patch b/feeds/packages/lang/lua-lzlib/patches/001-allow_optim_flags.patch
--- a/feeds/packages/lang/lua-lzlib/patches/001-allow_optim_flags.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-lzlib/patches/001-allow_optim_flags.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/Makefile
-+++ b/Makefile
-@@ -14,7 +14,8 @@ LUABIN= $(LUA)/bin
- ZLIB=../zlib-1.2.3
- 
- # no need to change anything below here
--CFLAGS= $(INCS) $(DEFS) $(WARN) -O0 -fPIC
-+CFLAGS= $(INCS) $(DEFS) $(WARN) $(OFLAGS) -fPIC
-+OFLAGS= -O0
- WARN= -g -Werror -Wall -pedantic #-ansi
- INCS= -I$(LUAINC) -I$(ZLIB)
- LIBS= -L$(ZLIB) -lz -L$(LUALIB) -L$(LUABIN) #-llua51
diff -uprN a/feeds/packages/lang/lua-md5/Makefile b/feeds/packages/lang/lua-md5/Makefile
--- a/feeds/packages/lang/lua-md5/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-md5/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,77 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-md5
-PKG_VERSION:=1.3
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_MIRROR_HASH:=675b8ba144d14cbe66abfd360d9a8861a18d5b69966768d6cdc78ca3c9fe0baf
-PKG_SOURCE_URL:=https://github.com/keplerproject/md5.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_VERSION:=2a98633d7587a4900cfa7cbed340f377f4acd930
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-md5
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua-MD5
-  URL:=https://github.com/keplerproject/md5
-  DEPENDS:=+lua
-endef
-
-define Package/lua-md5/description
-  MD5 offers basic cryptographic facilities for Lua
-endef
-
-TARGET_CFLAGS += $(FPIC)
-
-# add make variable overrides here
-MAKE_FLAGS +=
-
-define Build/Configure
-endef
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		PREFIX="$(STAGING_DIR)/usr" \
-		LUA_LIBDIR="$(STAGING_DIR)/usr/lib/lua" \
-		clean
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		PREFIX="$(STAGING_DIR)/usr" \
-		LUA_LIBDIR="$(STAGING_DIR)/usr/lib/lua" \
-		LIB_OPTION="-shared" \
-		CC="$(TARGET_CROSS)gcc" \
-		CFLAGS="$(TARGET_CFLAGS) $(TARGET_CPPFLAGS)" \
-		all
-endef
-
-define Build/Install
-	mkdir -p $(PKG_INSTALL_DIR)/usr/lib/lua
-	$(MAKE) -C $(PKG_BUILD_DIR) \
-		LUA_LIBDIR="$(PKG_INSTALL_DIR)/usr/lib/lua" \
-		LUA_DIR="$(PKG_INSTALL_DIR)/usr/lib/lua" \
-		install
-endef
-
-define Package/lua-md5/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/md5.lua $(1)/usr/lib/lua
-	$(INSTALL_DIR) $(1)/usr/lib/lua/md5
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/core.so $(1)/usr/lib/lua/md5/core.so
-endef
-
-$(eval $(call BuildPackage,lua-md5))
diff -uprN a/feeds/packages/lang/lua-md5/patches/config.patch b/feeds/packages/lang/lua-md5/patches/config.patch
--- a/feeds/packages/lang/lua-md5/patches/config.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-md5/patches/config.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,22 +0,0 @@
---- a/config
-+++ b/config
-@@ -1,16 +1,16 @@
- # Installation directories
- 
- # Default prefix
--PREFIX = /usr/local
-+PREFIX = /usr
- 
- # Lua version
- LUA_SYS_VER ?= 5.2
- 
- # System's libraries directory (where binary libraries are installed)
--LUA_LIBDIR= $(PREFIX)/lib/lua/$(LUA_SYS_VER)
-+LUA_LIBDIR= $(PREFIX)/lib/lua
- 
- # System's lua directory (where Lua libraries are installed)
--LUA_DIR= $(PREFIX)/share/lua/$(LUA_SYS_VER)
-+LUA_DIR= $(PREFIX)/share/lua
- 
- # Lua includes directory
- LUA_INC= $(PREFIX)/include
diff -uprN a/feeds/packages/lang/lua-md5/patches/makefile.patch b/feeds/packages/lang/lua-md5/patches/makefile.patch
--- a/feeds/packages/lang/lua-md5/patches/makefile.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-md5/patches/makefile.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/Makefile
-+++ b/Makefile
-@@ -1,6 +1,6 @@
- # $Id: Makefile,v 1.7 2007/10/11 00:02:56 carregal Exp $
- 
--CONFIG= ./config
-+CFLAGS+= -fPIC
- 
- include $(CONFIG)
- 
diff -uprN a/feeds/packages/lang/lua-mobdebug/Makefile b/feeds/packages/lang/lua-mobdebug/Makefile
--- a/feeds/packages/lang/lua-mobdebug/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-mobdebug/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,59 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-mobdebug
-PKG_VERSION:=0.70
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/pkulchenko/MobDebug/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=35ec131a0ecc74dbe1cc50582ed977120a4ef6d9f815ce07367fdb945cfee370
-PKG_BUILD_DIR:=$(BUILD_DIR)/MobDebug-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_PARALLEL:=1
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-mobdebug
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua-MobDebug
-  URL:=https://github.com/pkulchenko/MobDebug
-  DEPENDS:=+lua
-  PKGARCH:=all
-endef
-
-define Package/lua-mobdebug/description
-  MobDebug is a remote debugger for Lua (including Lua 5.1, Lua 5.2, Lua 5.3, and LuaJIT 2.x).
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Build/Install
-endef
-
-# add make variable overrides here
-MAKE_FLAGS +=
-
-define Package/lua-mobdebug/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/mobdebug.lua $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-mobdebug))
diff -uprN a/feeds/packages/lang/lua-mosquitto/Makefile b/feeds/packages/lang/lua-mosquitto/Makefile
--- a/feeds/packages/lang/lua-mosquitto/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-mosquitto/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2013-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-mosquitto
-PKG_VERSION:=0.4.1
-PKG_RELEASE:=1
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_MIRROR_HASH:=d6bc828ea05f9a1ff3241f575a6ce699e577f9b79277182699e8fa03ac094ac9
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-PKG_SOURCE_URL:=https://github.com/flukso/lua-mosquitto.git
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-mosquitto
-    SUBMENU:=Lua
-    SECTION:=lang
-    CATEGORY:=Languages
-    TITLE:=Lua-mosquitto
-    DEPENDS:=+libmosquitto +lua
-    MAINTAINER:=Karl Palsson <karlp@etactica.com>
-endef
-
-define Package/lua-mosquitto/description
-	Lua bindings to libmosquitto
-endef
-
-define Package/lua-mosquitto/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/mosquitto.so $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-mosquitto))
diff -uprN a/feeds/packages/lang/lua-openssl/Makefile b/feeds/packages/lang/lua-openssl/Makefile
--- a/feeds/packages/lang/lua-openssl/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-openssl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2016 Amnon Paz <pazamnon@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-openssl
-PKG_VERSION:=0.7.4
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Amnon Paz <pazamnon@gmail.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_MIRROR_HASH:=c27cedee438de95877823b1ae0607556564d82c8692be40f43743ca9cc5a029a
-PKG_SOURCE_URL:=https://github.com/zhaozg/lua-openssl.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_VERSION:=96effbaf477ca205f1787aaf1cce643bd208066b
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-openssl
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua openSSL binding
-  URL:=http://github.com/zhaozg/lua-openssl
-  DEPENDS:=+lua +libopenssl +librt
-endef
-
-define Package/lua-openssl/description
-    A free, MIT-licensed OpenSSL binding for Lua.
-endef
-
-define Package/lua-openssl/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/openssl.so $(1)/usr/lib/lua/
-endef
-
-$(eval $(call BuildPackage,lua-openssl))
diff -uprN a/feeds/packages/lang/lua-openssl/patches/0001-Revise-Makefile.patch b/feeds/packages/lang/lua-openssl/patches/0001-Revise-Makefile.patch
--- a/feeds/packages/lang/lua-openssl/patches/0001-Revise-Makefile.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-openssl/patches/0001-Revise-Makefile.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,146 +0,0 @@
---- a/Makefile
-+++ b/Makefile
-@@ -1,121 +1,52 @@
- T=openssl
-+.PHONY: install clean
- 
--PREFIX		?=/usr/local
--CC		:= $(CROSS)$(CC)
--AR		:= $(CROSS)$(AR)
--LD		:= $(CROSS)$(LD)
--
--#OS auto detect
--ifneq (,$(TARGET_SYS))
--  SYS		:= $(TARGET_SYS)
--else
--  SYS		:= $(shell gcc -dumpmachine)
--endif
--
--#Lua auto detect
--LUA_VERSION	:= $(shell pkg-config luajit --print-provides)
--ifeq ($(LUA_VERSION),)
--  # Not found luajit package, try lua
--  LUA_VERSION	:= $(shell pkg-config lua --print-provides)
--  ifeq ($(LUA_VERSION),)
--    # Not found lua package, try from prefix
--    LUA_VERSION := $(shell lua -e "_,_,v=string.find(_VERSION,'Lua (.+)');print(v)")
--    LUA_CFLAGS	?= -I$(PREFIX)/include/lua$(LUA_VERSION)
--    LUA_LIBS	?= -L$(PREFIX)/lib -llua
--    LUA_LIBDIR	?= $(PREFIX)/lib/lua/$(LUA_VERSION)
--  else
--    # Found lua package
--    LUA_VERSION	:= $(shell lua -e "_,_,v=string.find(_VERSION,'Lua (.+)');print(v)")
--    LUA_CFLAGS	?= $(shell pkg-config lua --cflags)
--    LUA_LIBS	?= $(shell pkg-config lua --libs)
--    LUA_LIBDIR	?= $(PREFIX)/lib/lua/$(LUA_VERSION)
--  endif
--else
--  # Found luajit package
--  LUA_VERSION	:= $(shell luajit -e "_,_,v=string.find(_VERSION,'Lua (.+)');print(v)")
--  LUA_CFLAGS	?= $(shell pkg-config luajit --cflags)
--  LUA_LIBS	?= $(shell pkg-config luajit --libs)
--  LUA_LIBDIR	?= $(PREFIX)/lib/lua/$(LUA_VERSION)
--endif
--
--#OpenSSL auto detect
--OPENSSL_CFLAGS	?= $(shell pkg-config openssl --cflags)
--OPENSSL_LIBS	?= $(shell pkg-config openssl --static --libs)
--
--ifneq (, $(findstring linux, $(SYS)))
--  # Do linux things
--  CFLAGS	 = -fpic
--  LDFLAGS	 = -Wl,--no-undefined -fpic -lrt -ldl -lm
--endif
--
--ifneq (, $(findstring apple, $(SYS)))
--  # Do darwin things
--  CFLAGS	 = -fPIC
--  LDFLAGS	 = -fPIC -undefined dynamic_lookup -ldl
--  #MACOSX_DEPLOYMENT_TARGET="10.3"
--  CC		:= MACOSX_DEPLOYMENT_TARGET=${MACOSX_DEPLOYMENT_TARGET} $(CC)
--endif
-+PKGC ?= pkg-config
- 
--ifneq (, $(findstring mingw, $(SYS)))
--  # Do mingw things
--  CFLAGS	 = -DLUA_LIB -DLUA_BUILD_AS_DLL -DWIN32_LEAN_AND_MEAN
--endif
-+LIB_OPTION	= -shared
-+LUAPKGC = lua
- 
--ifneq (, $(findstring cygwin, $(SYS)))
--  # Do cygwin things
--  CFLAGS	 = -fPIC
--endif
-+# LUA include/libraries build flags
-+LUA_CFLAGS  := $(shell $(PKGC) --cflags $(LUAPKGC))
-+LUA_LIBS_DIR := $(shell $(PKGC) --libs $(LUAPKGC))
- 
--ifneq (, $(findstring iOS, $(SYS)))
--  # Do iOS things
--  CFLAGS	 = -fPIC
--  LDFLAGS	 = -fPIC -ldl
--endif
-+# openssl include/libraries build flags
-+OPENSSL_CFLAGS      ?= $(shell $(PKGC) openssl --cflags)
-+OPENSSL_LIBS_DIR    ?= $(shell $(PKGC) openssl --libs)
- 
--#custom config
-+LDFLAGS		= -Wl,--no-undefined -fpic -lrt -ldl -lm $(OPENSSL_LIBS_DIR) $(LUA_LIBS_DIR)
-+CFLAGS          += -fPIC -DPTHREADS $(OPENSSL_CFLAGS) $(LUA_CFLAGS)
- ifeq (.config, $(wildcard .config))
--  include .config
-+include .config
- endif
- 
--LIBNAME= $T.so.$V
-+LIBNAME= $T.so
- 
--CFLAGS		+= $(OPENSSL_CFLAGS) $(LUA_CFLAGS) $(TARGET_FLAGS)
--LDFLAGS		+= -shared $(OPENSSL_LIBS) $(LUA_LIBS)
- # Compilation directives
- WARN_MIN	 = -Wall -Wno-unused-value
- WARN		 = -Wall
- WARN_MOST	 = $(WARN) -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings -pedantic
- CFLAGS		+= -g $(WARN_MIN) -DPTHREADS -Ideps -Ideps/lua-compat -Ideps/auxiliar
- 
--
- OBJS=src/asn1.o deps/auxiliar/auxiliar.o src/bio.o src/cipher.o src/cms.o src/compat.o src/crl.o src/csr.o src/dh.o src/digest.o src/dsa.o \
- src/ec.o src/engine.o src/hmac.o src/lbn.o src/lhash.o src/misc.o src/ocsp.o src/openssl.o src/ots.o src/pkcs12.o src/pkcs7.o    \
- src/pkey.o src/rsa.o src/ssl.o src/th-lock.o src/util.o src/x509.o src/xattrs.o src/xexts.o src/xname.o src/xstore.o \
- src/xalgor.o src/callback.o src/srp.o deps/auxiliar/subsidiar.o
- 
--.c.o:
--	$(CC) $(CFLAGS) -c -o $@ $?
-+%.o: %.c
-+	$(CC) $(CFLAGS) -c $< -o $@
- 
- all: $T.so
--	@echo "Target system: "$(SYS)
-+	echo $(SYS)
-+	$(CC) $(LDFLAGS) $(LIB_OPTION) $(OBJS) -o $@
- 
--$T.so: lib$T.a
--	$(CC) -o $@ src/openssl.o -L. -l$T $(LDFLAGS)
--
--lib$T.a: $(OBJS)
--	$(AR) rcs $@ $?
-+$T.so: $(OBJS)
-+	echo "LUA LIBS_DIR: " $(LUA_LIBS_DIR)
-+	$(CC) $(CFLAGS) $(LIB_OPTION) -o $T.so $(OBJS) $(LDFLAGS)
- 
- install: all
- 	mkdir -p $(LUA_LIBDIR)
- 	cp $T.so $(LUA_LIBDIR)
- 
--info:
--	@echo "Target system: "$(SYS)
--	@echo "CC:" $(CC)
--	@echo "AR:" $(AR)
--	@echo "PREFIX:" $(PREFIX)
--
- clean:
--	rm -f $T.so lib$T.a $(OBJS)
--
--# vim: ts=8 sw=8 noet
-+	rm -f $T.so $(OBJS)
diff -uprN a/feeds/packages/lang/lua-penlight/Makefile b/feeds/packages/lang/lua-penlight/Makefile
--- a/feeds/packages/lang/lua-penlight/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-penlight/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-penlight
-PKG_VERSION:=1.8.0
-PKG_RELEASE:=1
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/Penlight-$(PKG_VERSION)
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/Tieske/Penlight/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=a1a41c5ec82c0459bc0508a0fb1cb56dfaa83a1dd7754d7174b336ad65420d3d
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.md
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-penlight
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Penlight
-  URL:=http://tieske.github.io/Penlight/manual/01-introduction.md.html
-  DEPENDS:=+luafilesystem
-  MAINTAINER:=Karl Palsson <karlp@etactica.com>
-endef
-
-define Package/lua-penlight/description
-  It is often said of Lua that it does not include batteries.
-  Penlight is the batteries.
-endef
-
-define Build/Compile
-	echo "Nothing to compile, pure lua package"
-endef
-
-define Package/lua-penlight/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(CP) $(PKG_BUILD_DIR)/lua/pl $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-penlight))
diff -uprN a/feeds/packages/lang/luaposix/Makefile b/feeds/packages/lang/luaposix/Makefile
--- a/feeds/packages/lang/luaposix/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaposix/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,65 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luaposix
-PKG_VERSION:=35.0
-PKG_RELEASE:=1
-
-PKG_SOURCE_URL:=https://codeload.github.com/$(PKG_NAME)/$(PKG_NAME)/tar.gz/v$(PKG_VERSION)?
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_HASH:=a4edf2f715feff65acb009e8d1689e57ec665eb79bc36a6649fae55eafd56809
-PKG_MAINTAINER:=Maxim Storchak <m.storchak@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYING
-
-PKG_BUILD_DEPENDS:=luarocks/host
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luaposix
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=POSIX binding for LuaJIT, Lua 5.1, 5.2 and 5.3
-  URL:=https://github.com/luaposix/luaposix
-  DEPENDS:=+lua +lua-bit32
-endef
-
-define Package/luaposix/description
-  luaposix is a general POSIX library for Lua providing access
-  to various low level libc functions.
-endef
-
-TARGET_PATH_PKG:=$(CURDIR)/scripts:$(TARGET_PATH_PKG)
-
-TARGET_CFLAGS += \
-	-I$(STAGING_DIR)/usr/include
-
-define Build/Compile
-  cd $(PKG_BUILD_DIR) && \
-	LDFLAGS="$(TARGET_LDFLAGS) $(FPIC)" \
-	CFLAGS="$(TARGET_CFLAGS) $(FPIC)" \
-    CC="$(TARGET_CC)" LD="$(TARGET_CC)" \
-    LUA_PKGNAME=lua5.1 \
-    LUA_LIBDIR=$(STAGING_DIR)/usr/lib/lua \
-    luarocks make --force --deps-mode=none --pack-binary-rock luaposix-$(PKG_VERSION)-1.rockspec \
-    LUA_LIBDIR=$(STAGING_DIR)/usr/lib/lua \
-    LUA_PKGNAME=lua5.1 \
-    CC="$(TARGET_CC)" LD="$(TARGET_CC)" \
-	CFLAGS="$(TARGET_CFLAGS) $(FPIC)" \
-	LDFLAGS="$(TARGET_LDFLAGS)"
-endef
-
-define Package/luaposix/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua/posix/sys
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/linux/posix/*.so $(1)/usr/lib/lua/posix/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/linux/posix/sys/*.so $(1)/usr/lib/lua/posix/sys/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/lib/posix/*.lua $(1)/usr/lib/lua/posix/
-	rm -f $(1)/usr/lib/lua/posix/{deprecated,compat}.lua
-endef
-
-$(eval $(call BuildPackage,luaposix))
diff -uprN a/feeds/packages/lang/luaposix/patches/102-disable-compat-deprecated.patch b/feeds/packages/lang/luaposix/patches/102-disable-compat-deprecated.patch
--- a/feeds/packages/lang/luaposix/patches/102-disable-compat-deprecated.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaposix/patches/102-disable-compat-deprecated.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
---- a/lib/posix/init.lua
-+++ b/lib/posix/init.lua
-@@ -325,14 +325,6 @@ do
-          end
-       end
-    end
--
--   -- Inject deprecated APIs (overwriting submodules) for backwards compatibility.
--   for k, v in next, (require 'posix.deprecated') do
--      M[k] = v
--   end
--   for k, v in next, (require 'posix.compat') do
--      M[k] = v
--   end
- end
- 
- 
diff -uprN a/feeds/packages/lang/luaposix/patches/900-disable-ldoc.patch b/feeds/packages/lang/luaposix/patches/900-disable-ldoc.patch
--- a/feeds/packages/lang/luaposix/patches/900-disable-ldoc.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaposix/patches/900-disable-ldoc.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/lukefile
-+++ b/lukefile
-@@ -29,8 +29,6 @@ incdirs  = {
-    '$LUA_INCDIR',
- }
- 
--ldocs    = 'build-aux/config.ld.in'
--
- modules  = {
-    ['posix']               = 'lib/posix/init.lua',
-    ['posix._base']         = 'lib/posix/_base.lua',
diff -uprN a/feeds/packages/lang/luaposix/scripts/uname b/feeds/packages/lang/luaposix/scripts/uname
--- a/feeds/packages/lang/luaposix/scripts/uname	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luaposix/scripts/uname	1970-01-01 08:00:00.000000000 +0800
@@ -1,2 +0,0 @@
-#!/bin/sh
-echo Linux
diff -uprN a/feeds/packages/lang/lua-rings/Makefile b/feeds/packages/lang/lua-rings/Makefile
--- a/feeds/packages/lang/lua-rings/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-rings/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,55 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-rings
-PKG_VERSION:=1.3.0
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_MIRROR_HASH:=7026ce5898d37a4175b7afad693d59ff1fff1a84adafcabfafd065956a03616c
-PKG_SOURCE_URL:=https://github.com/keplerproject/rings.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_VERSION:=2b8a900f8b9dbde304859a3ac9d437795c3fdde3
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-
-PKG_FIXUP:=autoreconf
-
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-rings
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua-Rings
-  URL:=http://keplerproject.github.io/rings/
-  DEPENDS:=+lua
-endef
-
-define Package/lua-rings/description
-  Rings is a library which provides a way to create new Lua states from within Lua.
-endef
-
-TARGET_CFLAGS += $(FPIC)
-# add make variable overrides here
-MAKE_FLAGS +=
-
-define Build/Configure
-endef
-
-define Package/lua-rings/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/rings.so $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/stable.lua $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-rings))
diff -uprN a/feeds/packages/lang/lua-rings/patches/config.patch b/feeds/packages/lang/lua-rings/patches/config.patch
--- a/feeds/packages/lang/lua-rings/patches/config.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-rings/patches/config.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
---- a/config
-+++ b/config
-@@ -1,15 +1,15 @@
- # Installation directories
- 
- # Default prefix
--PREFIX ?= /usr/local
-+PREFIX ?= /usr
- 
- DESTDIR ?= /
- 
- # System's libraries directory (where binary libraries are installed)
--LUA_LIBDIR ?= $(PREFIX)/lib/lua/5.1
-+LUA_LIBDIR ?= $(PREFIX)/lib/lua
- 
- # System's lua directory (where Lua libraries are installed)
--LUA_DIR ?= $(PREFIX)/share/lua/5.1
-+LUA_DIR ?= $(PREFIX)/lib/lua
- 
- # Lua includes directory
- LUA_INC ?= $(PREFIX)/include
-@@ -24,6 +24,5 @@ LIBNAME ?= $T.so.$V
- WARN ?= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings -Wpointer-arith -pedantic
- INCS ?= -I$(LUA_INC)
- CFLAGS ?= $(WARN) $(INCS)
--CC ?= gcc
- 
- # $Id: config,v 1.7 2007/10/29 22:51:39 carregal Exp $
diff -uprN a/feeds/packages/lang/lua-rings/patches/makefile.patch b/feeds/packages/lang/lua-rings/patches/makefile.patch
--- a/feeds/packages/lang/lua-rings/patches/makefile.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-rings/patches/makefile.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile
-+++ b/Makefile
-@@ -3,6 +3,8 @@
- T= rings
- CONFIG= ./config
- 
-+CFLAGS+= -fPIC
-+
- include $(CONFIG)
- 
- SRCS= src/rings.c
diff -uprN a/feeds/packages/lang/luarocks/Makefile b/feeds/packages/lang/luarocks/Makefile
--- a/feeds/packages/lang/luarocks/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luarocks/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,89 +0,0 @@
-#
-# Copyright (C) 2006-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luarocks
-PKG_VERSION:=2.2.2
-PKG_RELEASE:=4
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://github.com/keplerproject/luarocks
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-PKG_MIRROR_HASH:=e4cf874c9bce34a5accd41daaf51a3213763b8b6f7f658ca4d13a70a7ddb1c0c
-
-PKG_MAINTAINER:=Amr Hassan <amr.hassan@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYING
-
-PKG_INSTALL:=1
-PKG_BUILD_PARALLEL:=1
-PKG_BUILD_DEPENDS:=lua/host
-HOST_BUILD_DEPENDS:=$(PKG_BUILD_DEPENDS)
-HOST_BUILD_PARALLEL:=1
-
-HOST_BUILD_PREFIX:=$(STAGING_DIR)/host
-HOST_BUILD_DIR:=$(BUILD_DIR)/host/$(PKG_NAME)-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luarocks
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=luarocks
-  URL:=https://github.com/keplerproject/luarocks
-  DEPENDS:=+lua +luac +liblua +luasocket +unzip +curl +luasec
-endef
-
-define Package/luarocks/description
-	LuaRocks is a deployment and management system for Lua modules.
-endef
-
-# My custom args, copied and modified from SDK_ROOT/include/package-defaults.mk
-CONFIGURE_ARGS = \
-    --prefix=$(CONFIGURE_PREFIX) \
-    --sysconfdir=/etc \
-    --with-lua=$(STAGING_DIR_HOSTPKG)
-
-HOST_CONFIGURE_ARGS= \
-    --prefix=$(STAGING_DIR)/host \
-    --sysconfdir=$(STAGING_DIR)/host/etc \
-    --with-lua=$(STAGING_DIR_HOSTPKG)
-
-CONFIGURE_VARS = \
-	LUAROCKS_UNAME_S="Linux" \
-	LUAROCKS_UNAME_M="$(ARCH)"
-
-HOST_CONFIGURE_VARS = \
-	LUAROCKS_UNAME_S="Linux" \
-	LUAROCKS_UNAME_M="$(ARCH)"
-
-define Build/Compile
-	$(call Build/Compile/Default,build)
-endef
-
-define Host/Compile
-  $(call Host/Compile/Default,build)
-endef
-
-define Package/luarocks/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/luarocks-5.1 $(1)/usr/bin/luarocks
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/luarocks-admin-5.1 $(1)/usr/bin/luarocks-admin
-	$(CP) $(PKG_INSTALL_DIR)/usr/share $(1)/usr/share
-	$(CP) $(PKG_INSTALL_DIR)/etc $(1)/etc
-endef
-
-define Host/Install
-  $(MAKE) -C $(HOST_BUILD_DIR) install
-endef
-
-$(eval $(call BuildPackage,luarocks))
-
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/luarocks/patches/01_dont_modify_bin_shebang.diff b/feeds/packages/lang/luarocks/patches/01_dont_modify_bin_shebang.diff
--- a/feeds/packages/lang/luarocks/patches/01_dont_modify_bin_shebang.diff	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luarocks/patches/01_dont_modify_bin_shebang.diff	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile
-+++ b/Makefile
-@@ -89,7 +89,7 @@ build_bins: cleanup_bins
- 	for f in $(BIN_FILES) ;\
- 	do \
- 	   sed "1d" src/bin/$$f > src/bin/$$f.bak ;\
--	   echo "#!$(LUA_BINDIR)/lua$(LUA_SUFFIX)" > src/bin/$$f ;\
-+	   echo "#!/usr/bin/env lua5.1" > src/bin/$$f ;\
- 	   echo "package.path = [[$(LUADIR)/?.lua;]]..package.path" | sed "s,//,/,g" >> src/bin/$$f ;\
- 	   cat src/bin/$$f.bak >> src/bin/$$f ;\
- 	   chmod +x src/bin/$$f ;\
diff -uprN a/feeds/packages/lang/luarocks/patches/02_allow_configure_uname_siteconfig_adjustment.patch b/feeds/packages/lang/luarocks/patches/02_allow_configure_uname_siteconfig_adjustment.patch
--- a/feeds/packages/lang/luarocks/patches/02_allow_configure_uname_siteconfig_adjustment.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luarocks/patches/02_allow_configure_uname_siteconfig_adjustment.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
---- a/configure
-+++ b/configure
-@@ -388,18 +388,22 @@ then
- fi
- 
- echo_n "Configuring for system... "
--if uname -s
--then
--   LUAROCKS_UNAME_S=`uname -s`
--else
--   die "Could not determine operating system. 'uname -s' failed."
-+if [ -z "$LUAROCKS_UNAME_S" ]; then
-+    if uname -s
-+    then
-+        LUAROCKS_UNAME_S=`uname -s`
-+    else
-+        die "Could not determine operating system. 'uname -s' failed."
-+    fi
- fi
- echo_n "Configuring for architecture... "
--if uname -m
--then
--   LUAROCKS_UNAME_M=`uname -m`
--else
--   die "Could not determine processor architecture. 'uname -m' failed."
-+if [ -z "$LUAROCKS_UNAME_M" ]; then
-+    if uname -m
-+    then
-+        LUAROCKS_UNAME_M=`uname -m`
-+    else
-+        die "Could not determine processor architecture. 'uname -m' failed."
-+    fi
- fi
- 
- for v in 5.1 5.2 5.3; do
diff -uprN a/feeds/packages/lang/lua-rs232/Makefile b/feeds/packages/lang/lua-rs232/Makefile
--- a/feeds/packages/lang/lua-rs232/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-rs232/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,64 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-rs232
-PKG_SOURCE_DATE:=2019-11-20
-PKG_SOURCE_VERSION:=c106c94d1a5a84e8582c936528303528608776c2
-PKG_RELEASE:=1
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://github.com/srdgame/librs232
-PKG_MIRROR_HASH:=6fcabfd1501b3a7719229334ce73f1cc74f5ac5795b8faf6d65eb2ae6b14f9a5
-
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYING
-
-PKG_FIXUP:=autoreconf
-PKG_INSTALL:=1
-PKG_BUILD_PARALLEL:=1
-PKG_BUILD_DEPENDS:=lua/host
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-rs232
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua Serial Library
-  URL:=https://github.com/srdgame/librs232
-  DEPENDS:= +lua
-endef
-
-define Package/lua-rs232/description
-  multiplatform library for serial communications over RS-232
-endef
-
-TARGET_CFLAGS += -ffunction-sections -fdata-sections
-TARGET_LDFLAGS += -Wl,--gc-sections,--as-needed
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include/librs232
-	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/include/librs232/rs232* $(1)/usr/include/librs232
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/librs232* $(1)/usr/lib/
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/lib/lua/5.1/luars232* $(1)/usr/lib/lua
-	$(INSTALL_DIR) $(1)/usr/lib/pkgconfig
-	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/lib/pkgconfig/librs232.pc $(1)/usr/lib/pkgconfig
-endef
-
-define Package/lua-rs232/install
-	$(INSTALL_DIR) $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/librs232.so* $(1)/usr/lib/
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/lib/lua/5.1/luars232* $(1)/usr/lib/lua
-endef
-
-$(eval $(call BuildPackage,lua-rs232))
diff -uprN a/feeds/packages/lang/lua-rs232/patches/100-remove-build-timestamps.patch b/feeds/packages/lang/lua-rs232/patches/100-remove-build-timestamps.patch
--- a/feeds/packages/lang/lua-rs232/patches/100-remove-build-timestamps.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-rs232/patches/100-remove-build-timestamps.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
---- a/bindings/lua/luars232.c
-+++ b/bindings/lua/luars232.c
-@@ -31,7 +31,6 @@
- 
- #include "librs232/rs232.h"
- 
--#define MODULE_TIMESTAMP __DATE__ " " __TIME__
- #define MODULE_NAMESPACE "luars232"
- #define MODULE_VERSION "1.0.3"
- #define MODULE_BUILD "$Id: luars232.c 15 2011-02-23 09:02:20Z sp $"
-@@ -553,9 +552,6 @@ RS232_LIB int luaopen_luars232(lua_State
- 	lua_pushstring(L, MODULE_BUILD);
- 	lua_setfield(L, -2, "_BUILD");
- 
--	lua_pushstring(L, MODULE_TIMESTAMP);
--	lua_setfield(L, -2, "_TIMESTAMP");
--
- 	lua_pushstring(L, MODULE_COPYRIGHT);
- 	lua_setfield(L, -2, "_COPYRIGHT");
- 
diff -uprN a/feeds/packages/lang/luasec/Makefile b/feeds/packages/lang/luasec/Makefile
--- a/feeds/packages/lang/luasec/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luasec/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,65 +0,0 @@
-#
-# Copyright (C) 2009-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luasec
-PKG_VERSION:=0.9
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/brunoos/luasec/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=6b6b94e8517bf6baf545fad29a2112f9ac7957ad85b4aae8e0727bec77d7a325
-
-MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_PARALLEL:=1
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luasec
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=LuaSec
-  URL:=https://github.com/brunoos/luasec
-  DEPENDS:=+lua +libopenssl +luasocket
-endef
-
-define Package/luasec/description
-  LuaSec is a binding for OpenSSL library to provide TLS/SSL communication.
-endef
-
-define Build/Configure
-endef
-
-TARGET_CFLAGS += $(FPIC)
-TARGET_LDFLAGS += $(FPIC)
-
-MAKE_FLAGS += \
-	LD="$(TARGET_CC)" \
-	INC_PATH="" \
-	LIB_PATH="" \
-	LUACPATH="$(PKG_INSTALL_DIR)/usr/lib/lua" \
-	LUAPATH="$(PKG_INSTALL_DIR)/usr/lib/lua"
-
-define Build/Compile
-$(call Build/Compile/Default,linux)
-endef
-
-define Package/luasec/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/lib/lua/ssl.so $(1)/usr/lib/lua/
-	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/lib/lua/ssl.lua $(1)/usr/lib/lua/
-	$(INSTALL_DIR) $(1)/usr/lib/lua/ssl
-	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/lib/lua/ssl/https.lua $(1)/usr/lib/lua/ssl/
-endef
-
-$(eval $(call BuildPackage,luasec))
diff -uprN a/feeds/packages/lang/luasec/patches/100-fix-compilation.patch b/feeds/packages/lang/luasec/patches/100-fix-compilation.patch
--- a/feeds/packages/lang/luasec/patches/100-fix-compilation.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luasec/patches/100-fix-compilation.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
---- a/src/Makefile
-+++ b/src/Makefile
-@@ -16,8 +16,8 @@ WARN=-Wall -pedantic
- BSD_CFLAGS=-O2 -fPIC $(WARN) $(INCDIR) $(DEFS)
- BSD_LDFLAGS=-O -fPIC -shared $(LIBDIR)
- 
--LNX_CFLAGS=-O2 -fPIC $(WARN) $(INCDIR) $(DEFS)
--LNX_LDFLAGS=-O -fPIC -shared $(LIBDIR)
-+LNX_CFLAGS=$(INCDIR) $(DEFS)
-+LNX_LDFLAGS=-shared $(LIBDIR)
- 
- MAC_ENV=env MACOSX_DEPLOYMENT_TARGET='$(MACVER)'
- MAC_CFLAGS=-O2 -fno-common $(WARN) $(INCDIR) $(DEFS)
-@@ -34,10 +34,10 @@ LDFLAGS += $(MYLDFLAGS)
- all:
- 
- install: $(CMOD) $(LMOD)
--	$(INSTALL) -d $(DESTDIR)$(LUAPATH)/ssl $(DESTDIR)$(LUACPATH)
--	$(INSTALL) $(CMOD) $(DESTDIR)$(LUACPATH)
--	$(INSTALL) -m644 $(LMOD) $(DESTDIR)$(LUAPATH)
--	$(INSTALL) -m644 https.lua $(DESTDIR)$(LUAPATH)/ssl
-+	$(INSTALL) -d $(LUAPATH)/ssl $(LUACPATH)
-+	$(INSTALL) $(CMOD) $(LUACPATH)
-+	$(INSTALL) -m644 $(LMOD) $(LUAPATH)
-+	$(INSTALL) -m644 https.lua $(LUAPATH)/ssl
- 
- linux:
- 	@$(MAKE) $(CMOD) MYCFLAGS="$(LNX_CFLAGS)" MYLDFLAGS="$(LNX_LDFLAGS)" EXTRA="$(EXTRA)"
diff -uprN a/feeds/packages/lang/lua-sha2/Makefile b/feeds/packages/lang/lua-sha2/Makefile
--- a/feeds/packages/lang/lua-sha2/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-sha2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 20013-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-sha2
-PKG_VERSION:=0.2.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_MIRROR_HASH:=79e65bd7cb1b8ef64e125c9e57f40b7d38678599587c1894ce57838814403945
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-PKG_SOURCE_URL:=https://github.com/lgierth/lua-sha2.git
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_VERSION:=02bd4bfdc8062c7e1ae51c5a72906efc0a6375ee
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-sha2
-	SUBMENU:=Lua
-	SECTION:=lang
-	CATEGORY:=Languages
-	TITLE:=Lua binding for Aaron Gifford's SHA-2 implementation
-	URL:=https://code.google.com/p/sha2/
-	MAINTAINER:=Lars Gierth <larsg@systemli.org>
-	DEPENDS:=+lua
-endef
-
-define Package/lua-sha2/description
-	Lua Binding for the SHA-2 (SHA-256/384/512) BSD-licensed C implementation by Aaron Gifford.
-	Also contains a HMAC implementation in Lua.
-endef
-
-TARGET_CFLAGS += -fPIC -DSHA2_USE_INTTYPES_H -DBYTE_ORDER -DLITTLE_ENDIAN
-TARGET_LDFLAGS += -fPIC -DSHA2_USE_INTTYPES_H -DBYTE_ORDER -DLITTLE_ENDIAN
-
-define Build/Configure
-endef
-
-define Package/lua-sha2/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua/hmac
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/sha2.so $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/hmac.lua $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/hmac/sha2.lua $(1)/usr/lib/lua/hmac
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/hmac/md5.lua $(1)/usr/lib/lua/hmac
-endef
-
-$(eval $(call BuildPackage,lua-sha2))
diff -uprN a/feeds/packages/lang/lua-sha2/patches/001-makefile.patch b/feeds/packages/lang/lua-sha2/patches/001-makefile.patch
--- a/feeds/packages/lang/lua-sha2/patches/001-makefile.patch	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-sha2/patches/001-makefile.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,14 +0,0 @@
-From: Lars Gierth <larsg@systemli.org>
-Date: Tue, 2 Sep 2014 00:05:39 +0200
-
-    Add rump Makefile
-
-new file mode 100644
-index 0000000..f081d38
---- /dev/null
-+++ b/Makefile
-@@ -0,0 +1,4 @@
-+all: sha2.o sha2lib.o
-+	$(CC) -shared -o sha2.so sha2.o sha2lib.o
-+
-+.PHONY: all
diff -uprN a/feeds/packages/lang/luasoap/Makefile b/feeds/packages/lang/luasoap/Makefile
--- a/feeds/packages/lang/luasoap/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luasoap/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,57 +0,0 @@
-#
-# Copyright (C) 2011 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luasoap
-PKG_VERSION:=2014-08-21
-PKG_RELEASE=$(PKG_SOURCE_VERSION)
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://github.com/tomasguisasola/luasoap.git
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-PKG_SOURCE_VERSION:=af1e100281cee4b972df10121e37e51d53367a98
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION)-$(PKG_SOURCE_VERSION).tar.gz
-PKG_MIRROR_HASH:=839317e9a12c0723cf15eb5cea8d249e3f666a077585018fb8757aa1fb47d4e8
-
-PKG_MAINTAINER:=Liu Peng <pengliu@credosemi.com>
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luasoap
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=LuaSOAP
-  URL:=https://github.com/tomasguisasola/luasoap
-  DEPENDS:=+lua +luaexpat +luasec +luasocket
-  PKGARCH:=all
-endef
-
-define Package/luasoap/description
-  LuaSOAP is a library of functions to deal with SOAP.
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Package/luasoap/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/soap.lua $(1)/usr/lib/lua/
-	$(INSTALL_DIR) $(1)/usr/lib/lua/soap
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/{client,server}.lua $(1)/usr/lib/lua/soap/
-	$(INSTALL_DIR) $(1)/usr/lib/lua/soap/client
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/client/https.lua $(1)/usr/lib/lua/soap/client/
-	$(INSTALL_DIR) $(1)/usr/lib/lua/soap/tests
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/tests/test{,-http,-server}.lua $(1)/usr/lib/lua/soap/tests/
-endef
-
-$(eval $(call BuildPackage,luasoap))
diff -uprN a/feeds/packages/lang/luasocket/Makefile b/feeds/packages/lang/luasocket/Makefile
--- a/feeds/packages/lang/luasocket/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/luasocket/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,99 +0,0 @@
-#
-# Copyright (C) 2009-2013 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luasocket
-PKG_SOURCE_DATE:=2019-04-21
-PKG_SOURCE_VERSION:=733af884f1aa18ff469bf3c4d18810e815853211
-PKG_RELEASE:=1
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://github.com/diegonehab/luasocket
-PKG_MIRROR_HASH:=60aef7544426cae3e6c7560a6e4ad556a04b879ca0ad0311645b2c513c872128
-
-PKG_MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luasocket/default
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  URL:=http://w3.impa.br/~diego/software/luasocket
-endef
-
-define Package/luasocket
-  $(Package/luasocket/default)
-  TITLE:=LuaSocket
-  DEPENDS:=+lua
-  VARIANT:=lua-51
-  DEFAULT_VARIANT:=1
-endef
-
-define Package/luasocket5.3
-  $(Package/luasocket/default)
-  TITLE:=LuaSocket 5.3
-  DEPENDS:=+liblua5.3
-  VARIANT:=lua-53
-endef
-
-ifeq ($(BUILD_VARIANT),lua-51)
-  LUA_VERSION=5.1
-endif
-
-ifeq ($(BUILD_VARIANT),lua-53)
-  LUA_VERSION=5.3
-endif
-
-
-define Package/luasocket/default/description
-  LuaSocket is the most comprehensive networking support
-  library for the Lua language. It provides easy access to
-  TCP, UDP, DNS, SMTP, FTP, HTTP, MIME and much more.
-endef
-Package/luasocket/description     = $(Package/luasocket/default/description)
-Package/luasocket5.3/description = $(Package/luasocket/default/description)
-
-define Build/Configure
-endef
-
-define Build/Compile
-	$(MAKE) -C $(PKG_BUILD_DIR)/ \
-		LIBDIR="$(TARGET_LDFLAGS)" \
-		CC="$(TARGET_CC) $(TARGET_CFLAGS) $(TARGET_CPPFLAGS) $(FPIC)" \
-		LD="$(TARGET_CROSS)ld -shared" \
-		LUAV=$(LUA_VERSION) LUAINC_linux_base=$(STAGING_DIR)/usr/include \
-		all
-endef
-
-define Package/luasocket/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/{ltn12,mime,socket}.lua $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/mime-1.0.3.so $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/socket-3.0-rc1.so $(1)/usr/lib/lua
-	$(INSTALL_DIR) $(1)/usr/lib/lua/mime
-	ln -sf ../mime-1.0.3.so $(1)/usr/lib/lua/mime/core.so
-	$(INSTALL_DIR) $(1)/usr/lib/lua/socket
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/{ftp,http,smtp,tp,url,headers}.lua $(1)/usr/lib/lua/socket
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/unix.so $(1)/usr/lib/lua/socket
-	ln -sf ../socket-3.0-rc1.so $(1)/usr/lib/lua/socket/core.so
-endef
-
-
-define Package/luasocket5.3/install
-	$(MAKE) -C $(PKG_BUILD_DIR)/src \
-		DESTDIR="$(1)" \
-		LUAV=$(LUA_VERSION) \
-		install
-endef
-
-
-$(eval $(call BuildPackage,luasocket))
-$(eval $(call BuildPackage,luasocket5.3))
diff -uprN a/feeds/packages/lang/luasocket/patches/0001-Add-interface-support.patch b/feeds/packages/lang/luasocket/patches/0001-Add-interface-support.patch
--- a/feeds/packages/lang/luasocket/patches/0001-Add-interface-support.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luasocket/patches/0001-Add-interface-support.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,228 +0,0 @@
-From 96fdf07acf78ecfc9be76a8b0591f38fe6f1a875 Mon Sep 17 00:00:00 2001
-From: Steven Barth <steven@midlink.org>
-Date: Sat, 9 Nov 2013 12:01:42 +0100
-Subject: [PATCH] Add interface resolving
-
----
- src/if.c        | 113 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
- src/if.h        |  27 ++++++++++++++
- src/luasocket.c |   2 +
- src/makefile    |   2 +
- src/options.c   |   9 +++++
- 5 files changed, 153 insertions(+)
- create mode 100644 src/if.c
- create mode 100644 src/if.h
-
---- /dev/null
-+++ b/src/if.c
-@@ -0,0 +1,117 @@
-+/*
-+ * $Id: if.c $
-+ *
-+ * Author: Markus Stenberg <fingon@iki.fi>
-+ *
-+ * Copyright (c) 2012 cisco Systems, Inc.
-+ *
-+ * Created:       Tue Dec  4 14:50:34 2012 mstenber
-+ * Last modified: Wed Dec  5 18:51:08 2012 mstenber
-+ * Edit time:     24 min
-+ *
-+ */
-+
-+#include <sys/types.h>
-+#include <sys/socket.h>
-+#include <net/if.h>
-+
-+#include "if.h"
-+
-+#include "lauxlib.h"
-+
-+static int if_global_indextoname(lua_State *L);
-+static int if_global_nametoindex(lua_State *L);
-+static int if_global_nameindex(lua_State *L);
-+
-+static luaL_Reg func[] = {
-+    { "indextoname", if_global_indextoname},
-+    { "nametoindex", if_global_nametoindex},
-+    { "nameindex", if_global_nameindex},
-+    { NULL, NULL}
-+};
-+
-+int if_open(lua_State *L)
-+{
-+    lua_pushstring(L, "iface");
-+    lua_newtable(L);
-+#if LUA_VERSION_NUM < 503
-+    luaL_openlib(L, NULL, func, 0);
-+#else
-+    luaL_setfuncs(L, func, 0);
-+#endif
-+    lua_settable(L, -3);
-+    return 0;
-+}
-+
-+int if_global_indextoname(lua_State *L)
-+{
-+  unsigned int ifnumber;
-+  const char *name;
-+  char buf[IF_NAMESIZE+1];
-+
-+  if (!lua_isnumber(L, 1))
-+    {
-+      lua_pushnil(L);
-+      lua_pushstring(L, "indextoname expects only number argument");
-+      return 2;
-+    }
-+  ifnumber = lua_tonumber(L, 1);
-+  if (!(name = if_indextoname(ifnumber, buf)))
-+    {
-+      lua_pushnil(L);
-+      lua_pushstring(L, "nonexistent interface");
-+      return 2;
-+    }
-+  lua_pushstring(L, name);
-+  return 1;
-+}
-+
-+int if_global_nametoindex(lua_State *L)
-+{
-+  unsigned int ifnumber;
-+  if (!lua_isstring(L, 1))
-+    {
-+      lua_pushnil(L);
-+      lua_pushstring(L, "nametoindex expects only string argument");
-+      return 2;
-+    }
-+  if (!(ifnumber = if_nametoindex(lua_tostring(L, 1))))
-+    {
-+      lua_pushnil(L);
-+      lua_pushstring(L, "nonexistent interface");
-+      return 2;
-+    }
-+  lua_pushnumber(L, ifnumber);
-+  return 1;
-+}
-+
-+int if_global_nameindex(lua_State *L)
-+{
-+  struct if_nameindex *ni, *oni;
-+  int i = 1;
-+  oni = ni = if_nameindex();
-+  lua_newtable(L);
-+  while (ni && ni->if_index && *(ni->if_name))
-+    {
-+      /* at result[i], we store.. */
-+      lua_pushnumber(L, i);
-+
-+      /* new table with two items - index, name*/
-+      lua_newtable(L);
-+      lua_pushstring(L, "index");
-+      lua_pushnumber(L, ni->if_index);
-+      lua_settable(L, -3);
-+
-+      lua_pushstring(L, "name");
-+      lua_pushstring(L, ni->if_name);
-+      lua_settable(L, -3);
-+
-+      /* Then, actually store it */
-+      lua_settable(L, -3);
-+
-+      i++;
-+      ni++;
-+    }
-+  if_freenameindex(oni);
-+  return 1;
-+}
---- /dev/null
-+++ b/src/if.h
-@@ -0,0 +1,27 @@
-+/*
-+ * $Id: if.h $
-+ *
-+ * Author: Markus Stenberg <fingon@iki.fi>
-+ *
-+ *  Copyright (c) 2012 cisco Systems, Inc.
-+ *
-+ * Created:       Tue Dec  4 14:37:24 2012 mstenber
-+ * Last modified: Tue Dec  4 14:51:43 2012 mstenber
-+ * Edit time:     7 min
-+ *
-+ */
-+
-+/* This module provides Lua wrapping for the advanced socket API
-+ * defined in RFC3542, or mainly, the access to the system's interface
-+ * list. It is necessary for use of recvmsg/sendmsg.
-+ *
-+ * TODO - Do something clever with Windows?
-+ */
-+#ifndef IF_H
-+#define IF_H
-+
-+#include "lua.h"
-+
-+int if_open(lua_State *L);
-+
-+#endif /* IF_H */
---- a/src/luasocket.c
-+++ b/src/luasocket.c
-@@ -21,6 +21,7 @@
- #include "tcp.h"
- #include "udp.h"
- #include "select.h"
-+#include "if.h"
- 
- /*-------------------------------------------------------------------------*\
- * Internal function prototypes
-@@ -41,6 +42,7 @@ static const luaL_Reg mod[] = {
-     {"tcp", tcp_open},
-     {"udp", udp_open},
-     {"select", select_open},
-+    {"iface", if_open},
-     {NULL, NULL}
- };
- 
---- a/src/makefile
-+++ b/src/makefile
-@@ -303,6 +303,7 @@ SOCKET_OBJS= \
- 	compat.$(O) \
- 	options.$(O) \
- 	inet.$(O) \
-+	if.$(O) \
- 	$(SOCKET) \
- 	except.$(O) \
- 	select.$(O) \
-@@ -440,6 +441,7 @@ auxiliar.$(O): auxiliar.c auxiliar.h
- buffer.$(O): buffer.c buffer.h io.h timeout.h
- except.$(O): except.c except.h
- inet.$(O): inet.c inet.h socket.h io.h timeout.h usocket.h
-+if.$(O): if.c if.h
- io.$(O): io.c io.h timeout.h
- luasocket.$(O): luasocket.c luasocket.h auxiliar.h except.h \
- 	timeout.h buffer.h io.h inet.h socket.h usocket.h tcp.h \
---- a/src/options.c
-+++ b/src/options.c
-@@ -7,7 +7,10 @@
- #include "options.h"
- #include "inet.h"
- #include <string.h>
--
-+#include <sys/types.h>
-+#include <sys/socket.h>
-+#include <net/if.h>
-+ 
- /*=========================================================================*\
- * Internal functions prototypes
- \*=========================================================================*/
-@@ -388,6 +391,12 @@ static int opt_ip6_setmembership(lua_Sta
-     if (!lua_isnil(L, -1)) {
-         if (lua_isnumber(L, -1)) {
-             val.ipv6mr_interface = (unsigned int) lua_tonumber(L, -1);
-+        } else if (lua_isstring(L, -1)) {
-+            if (!(val.ipv6mr_interface = if_nametoindex(lua_tostring(L, -1)))) {
-+                lua_pushnil(L);
-+                lua_pushstring(L, "nonexistent interface");
-+                return 2;
-+            }
-         } else
-           luaL_argerror(L, -1, "number 'interface' field expected");
-     }
diff -uprN a/feeds/packages/lang/luasocket/patches/0301-Fix-mpc85xx-build.patch b/feeds/packages/lang/luasocket/patches/0301-Fix-mpc85xx-build.patch
--- a/feeds/packages/lang/luasocket/patches/0301-Fix-mpc85xx-build.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luasocket/patches/0301-Fix-mpc85xx-build.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,25 +0,0 @@
---- a/src/makefile
-+++ b/src/makefile
-@@ -397,18 +397,18 @@ none:
- all: $(SOCKET_SO) $(MIME_SO)
- 
- $(SOCKET_SO): $(SOCKET_OBJS)
--	$(LD) $(SOCKET_OBJS) $(LDFLAGS)$@
-+	$(CC) $(SOCKET_OBJS) $(LDFLAGS)$@
- 
- $(MIME_SO): $(MIME_OBJS)
--	$(LD) $(MIME_OBJS) $(LDFLAGS)$@
-+	$(CC) $(MIME_OBJS) $(LDFLAGS)$@
- 
- all-unix: all $(UNIX_SO) $(SERIAL_SO)
- 
- $(UNIX_SO): $(UNIX_OBJS)
--	$(LD) $(UNIX_OBJS) $(LDFLAGS)$@
-+	$(CC) $(UNIX_OBJS) $(LDFLAGS)$@
- 
- $(SERIAL_SO): $(SERIAL_OBJS)
--	$(LD) $(SERIAL_OBJS) $(LDFLAGS)$@
-+	$(CC) $(SERIAL_OBJS) $(LDFLAGS)$@
- 
- install:
- 	$(INSTALL_DIR) $(INSTALL_TOP_LDIR)
diff -uprN a/feeds/packages/lang/luasocket/patches/040-remove-fpic-and-warnings.patch b/feeds/packages/lang/luasocket/patches/040-remove-fpic-and-warnings.patch
--- a/feeds/packages/lang/luasocket/patches/040-remove-fpic-and-warnings.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luasocket/patches/040-remove-fpic-and-warnings.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,14 +0,0 @@
---- a/src/makefile
-+++ b/src/makefile
-@@ -174,9 +174,8 @@ SO_linux=so
- O_linux=o
- CC_linux=gcc
- DEF_linux=-DLUASOCKET_$(DEBUG)
--CFLAGS_linux=$(LUAINC:%=-I%) $(DEF) -Wall -Wshadow -Wextra \
--	-Wimplicit -O2 -ggdb3 -fpic
--LDFLAGS_linux=-O -shared -fpic -o 
-+CFLAGS_linux=$(LUAINC:%=-I%) $(DEF) -O2
-+LDFLAGS_linux=-O -shared -o
- LD_linux=gcc
- SOCKET_linux=usocket.o
- 
diff -uprN a/feeds/packages/lang/luasql/Makefile b/feeds/packages/lang/luasql/Makefile
--- a/feeds/packages/lang/luasql/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luasql/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,111 +0,0 @@
-#
-# Copyright (C) 2010-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luasql
-PKG_VERSION:=2.4.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/keplerproject/luasql/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=db2458a8c8c5f3bc717e4030fe2878f1ad8d71e437ec6149c381eebad5d525c5
-
-PKG_MAINTAINER:=
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=docs/us/license.html
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/luasql/Default
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua SQL binding
-  URL:=https://keplerproject.github.io/luasql/
-  DEPENDS:= +lua
-endef
-
-define Package/luasql/Default/description
- LuaSQL is a simple interface from Lua to a DBMS.
-endef
-
-
-define Package/luasql-mysql
-$(call Package/luasql/Default)
-  TITLE+= for MySQL
-  DEPENDS+= +libmysqlclient
-  VARIANT:=mysql
-endef
-
-define Package/luasql-mysql/description
-$(call Package/luasql/Default/description)
- .
- This package contains the MySQL binding.
-endef
-
-
-define Package/luasql-pgsql
-$(call Package/luasql/Default)
-  TITLE+= for PostgreSQL
-  DEPENDS+= +libpq
-  VARIANT:=postgres
-endef
-
-define Package/luasql-pgsql/description
-$(call Package/luasql/Default/description)
- .
- This package contains the PostgreSQL binding.
-endef
-
-
-define Package/luasql-sqlite3
-$(call Package/luasql/Default)
-  TITLE+= for SQLite 3
-  DEPENDS+= +libsqlite3
-  VARIANT:=sqlite3
-endef
-
-define Package/luasql-sqlite3/description
-$(call Package/luasql/Default/description)
- .
- This package contains the SQLite 3 binding.
-endef
-
-
-TARGET_CFLAGS += $(FPIC) -std=gnu99
-TARGET_CPPFLAGS += -DLUA_USE_LINUX
-
-ifeq ($(BUILD_VARIANT),mysql)
-  MAKE_FLAGS += DRIVER_INCS_mysql='-I$(STAGING_DIR)/usr/include/mysql' \
-		DRIVER_LIBS_mysql='$(TARGET_LDFLAGS) -L$(STAGING_DIR)/usr/lib/mysql -lmysqlclient -lz'
-endif
-
-ifeq ($(BUILD_VARIANT),postgres)
-  MAKE_FLAGS += DRIVER_LIBS_postgres='$(TARGET_LDFLAGS) -lpq'
-endif
-
-ifeq ($(BUILD_VARIANT),sqlite3)
-  MAKE_FLAGS += DRIVER_LIBS_sqlite='$(TARGET_LDFLAGS) -lsqlite3 -lpthread'
-endif
-
-MAKE_FLAGS += \
-	CFLAGS="$(TARGET_CFLAGS) $(TARGET_CPPFLAGS)" \
-	$(BUILD_VARIANT)
-
-define Package/Install/Default
-	$(INSTALL_DIR) $(1)/usr/lib/lua/luasql
-	$(CP) $(PKG_BUILD_DIR)/src/*.so $(1)/usr/lib/lua/luasql/
-endef
-
-Package/luasql-mysql/install = $(Package/Install/Default)
-Package/luasql-pgsql/install = $(Package/Install/Default)
-Package/luasql-sqlite3/install = $(Package/Install/Default)
-
-$(eval $(call BuildPackage,luasql-mysql))
-$(eval $(call BuildPackage,luasql-pgsql))
-$(eval $(call BuildPackage,luasql-sqlite3))
diff -uprN a/feeds/packages/lang/luasrcdiet/Makefile b/feeds/packages/lang/luasrcdiet/Makefile
--- a/feeds/packages/lang/luasrcdiet/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luasrcdiet/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,58 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luasrcdiet
-PKG_VERSION:=1.0.0
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Matthias Schiffer <mschiffer@universe-factory.net>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYRIGHT
-
-PKG_SOURCE_URL:=https://github.com/jirutka/luasrcdiet.git
-PKG_SOURCE_VERSION:=f138fc9359821d9201cd6b57cfa2fcbed5b9af97
-PKG_SOURCE_PROTO:=git
-PKG_MIRROR_HASH:=d4e9c396312ef3d91d86ea192569f03875459432994bc822dbdbbd0a34e306c5
-
-HOST_BUILD_DEPENDS:=lua/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-
-define Package/luasrcdiet
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=luasrcdiet
-  URL:=https://github.com/jirutka/luasrcdiet
-  DEPENDS:=+lua
-  PKGARCH:=all
-endef
-
-define Package/luasrcdiet/description
-  Compresses Lua source code by removing unnecessary characters
-endef
-
-define Build/Compile
-endef
-
-define Package/luasrcdiet/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/bin/luasrcdiet $(1)/usr/bin/luasrcdiet
-
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(CP) $(PKG_BUILD_DIR)/luasrcdiet $(1)/usr/lib/lua/
-endef
-
-define Host/Compile
-endef
-
-define Host/Install
-	$(INSTALL_DIR) $(1)/bin
-	$(INSTALL_BIN) $(HOST_BUILD_DIR)/bin/luasrcdiet $(1)/bin/
-
-	$(INSTALL_DIR) $(1)/lib/lua/5.1
-	$(CP) $(HOST_BUILD_DIR)/luasrcdiet $(1)/lib/lua/5.1/
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,luasrcdiet))
diff -uprN a/feeds/packages/lang/lua-wsapi/Makefile b/feeds/packages/lang/lua-wsapi/Makefile
--- a/feeds/packages/lang/lua-wsapi/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-wsapi/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,97 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-wsapi
-PKG_VERSION:=1.7
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/keplerproject/wsapi/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=48dc7aba0fd2e96a3e5ef51045b5d923964f6ae299de761aa0467031ad44e987
-PKG_BUILD_DIR:=$(BUILD_DIR)/wsapi-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_BUILD_PARALLEL:=1
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-wsapi/Default
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua WSAPI
-  URL:=https://keplerproject.github.io/wsapi/
-  DEPENDS:= +lua
-  PKGARCH:=all
-endef
-
-define Package/lua-wsapi/Default/description
-  WSAPI is an API that abstracts the web server from Lua web applications
-endef
-
-
-define Package/lua-wsapi-base
-$(call Package/lua-wsapi/Default)
-  TITLE+= base
-  DEPENDS+= +luafilesystem
-  VARIANT:=base
-endef
-
-define Package/lua-wsapi-base/description
-$(call Package/lua-wsapi/Default/description)
- .
- This package contains the basic stuff.
-endef
-
-define Package/lua-wsapi-xavante
-$(call Package/lua-wsapi/Default)
-  TITLE+= xavante
-  DEPENDS+= +lua-wsapi-base +lua-xavante
-  VARIANT:=xavante
-endef
-
-define Package/lua-wsapi-xavante/description
-$(call Package/lua-wsapi/Default/description)
- .
- This package contains the Xavante stuff.
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Build/Install
-endef
-
-define Package/lua-wsapi-base/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/wsapi.lua $(1)/usr/lib/lua
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/launcher/wsapi.cgi $(1)/usr/bin
-
-	$(INSTALL_DIR) $(1)/usr/lib/lua/wsapi
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/wsapi/{common,request,response,util,cgi,sapi,ringer,mock}.lua $(1)/usr/lib/lua/wsapi
-endef
-
-define Package/lua-wsapi-xavante/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/src/launcher/wsapi $(1)/usr/bin
-
-	$(INSTALL_DIR) $(1)/usr/lib/lua/wsapi
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/wsapi/xavante.lua $(1)/usr/lib/lua/wsapi
-endef
-
-
-$(eval $(call BuildPackage,lua-wsapi-base))
-$(eval $(call BuildPackage,lua-wsapi-xavante))
diff -uprN a/feeds/packages/lang/lua-xavante/Makefile b/feeds/packages/lang/lua-xavante/Makefile
--- a/feeds/packages/lang/lua-xavante/Makefile	2023-04-14 21:27:49.460066000 +0800
+++ b/feeds/packages/lang/lua-xavante/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,60 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lua-xavante
-PKG_VERSION:=2.4.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/keplerproject/xavante/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=0e4f49dd96cb092cd5d80cc66a5204dcb22a14f80897a121f2f0d1dceb1c7ba5
-PKG_BUILD_DIR:=$(BUILD_DIR)/xavante-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_BUILD_PARALLEL:=1
-PKG_INSTALL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lua-xavante
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Xavante Web Server
-  URL:=https://keplerproject.github.io/xavante/
-  DEPENDS:= +lua
-  PKGARCH:=all
-endef
-
-define Package/lua-xavante/description
-  Xavante is a Lua HTTP 1.1 Web server that uses a modular architecture based on URI mapped handlers.
-endef
-
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Build/Install
-endef
-
-define Package/lua-xavante/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/sajax/sajax.lua $(1)/usr/lib/lua
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/xavante/xavante.lua $(1)/usr/lib/lua
-
-	$(INSTALL_DIR) $(1)/usr/lib/lua/xavante
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/xavante/{cgiluahandler,encoding,filehandler,httpd,mime,patternhandler,redirecthandler,vhostshandler,indexhandler,urlhandler,ruleshandler}.lua $(1)/usr/lib/lua/xavante
-endef
-
-$(eval $(call BuildPackage,lua-xavante))
diff -uprN a/feeds/packages/lang/luv/Config.in b/feeds/packages/lang/luv/Config.in
--- a/feeds/packages/lang/luv/Config.in	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luv/Config.in	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
-menu "Configuration"
-	depends on PACKAGE_luv
-
-config LUV_USE_LUAJIT_ENGINE
-	bool "Use luajit engine"
-	select PACKAGE_luajit
-	help
-		If selected, luv will be compiled against luajit. If not selected, luv will use Lua as engine.
-	default n
-
-endmenu
diff -uprN a/feeds/packages/lang/luv/Makefile b/feeds/packages/lang/luv/Makefile
--- a/feeds/packages/lang/luv/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/luv/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,59 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=luv
-PKG_VERSION:=1.22.0-1
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://github.com/luvit/luv/releases/download/$(PKG_VERSION)
-PKG_HASH:=27886acb3d3f531a3d6ca70360d2593ddf1a8d4daf94ca3beea14d9381227ff7
-
-PKG_MAINTAINER:=Morteza Milani <milani@pichak.co>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/cmake.mk
-
-define Package/luv
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Luv
-  URL:=https://github.com/luvit/luv
-  DEPENDS:=+libuv +!LUV_USE_LUAJIT_ENGINE:lua
-endef
-
-define Package/luv/description
-  Bare libuv bindings for lua
-endef
-
-define Package/luv/config
-	source "$(SOURCE)/Config.in"
-endef
-
-CMAKE_OPTIONS += -DLUA_BUILD_TYPE=System
-CMAKE_OPTIONS += -DWITH_SHARED_LIBUV=ON
-CMAKE_OPTIONS += -DBUILD_MODULE=OFF
-CMAKE_OPTIONS += -DBUILD_SHARED_LIBS=ON
-
-ifeq ($(CONFIG_LUV_USE_LUAJIT_ENGINE),y)
-	CMAKE_OPTIONS += -DWITH_LUA_ENGINE=Luajit
-else
-	CMAKE_OPTIONS += -DWITH_LUA_ENGINE=Lua
-endif
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include/luv
-	$(CP) $(PKG_INSTALL_DIR)/usr/include/luv/*.h $(1)/usr/include/luv
-	$(INSTALL_DIR) $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/*.so* $(1)/usr/lib
-endef
-
-define Package/luv/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/libluv.so.1.9.1 $(1)/usr/lib/lua/luv.so
-endef
-
-
-$(eval $(call BuildPackage,luv))
diff -uprN a/feeds/packages/lang/lyaml/Makefile b/feeds/packages/lang/lyaml/Makefile
--- a/feeds/packages/lang/lyaml/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/lyaml/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,62 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lyaml
-PKG_VERSION:=6.2.7
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/gvvaughan/lyaml/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=9bb489cefae48b150d66f6bab4141d8d5831fcb7465bfc52a9845fa01efc63b0
-
-PKG_MAINTAINER:=Mathew McBride <matt@traverse.com.au>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=lua/host luarocks/host
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/lyaml
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua lib-yaml bindings
-  URL:=https://github.com/gvvaughan/lyaml
-  DEPENDS:= +lua +libyaml
-endef
-
-define Package/lyaml/description
-  Lua bindings for libyaml
-endef
-
-TARGET_CFLAGS += \
-	-I$(STAGING_DIR)/usr/include
-
-# Note: the duplicate environment exports are not a typo!
-# First is for luarocks, then the second is for the compilation
-# invoked by luarocks
-# (Same setup as luaposix)
-define Build/Compile
-	cd $(PKG_BUILD_DIR) && \
-	LUA_LIBDIR=$(STAGING_DIR)/usr/lib/lua \
-	LUA_PKGNAME=lua5.1 \
-	CFLAGS="$(TARGET_CFLAGS) $(FPIC)" \
-	LDFLAGS="$(TARGET_LDFLAGS)" \
-	CC="$(TARGET_CC)" LD="$(TARGET_CC)" \
-	luarocks make --pack-binary-rock lyaml-$(PKG_VERSION)-1.rockspec \
-		LUA_LIBDIR=$(STAGING_DIR)/usr/lib/lua \
-		YAML_DIR=$(STAGING_DIR)/usr \
-		LUA_INCDIR=$(STAGING_DIR)/usr/include \
-		LUA_PKGNAME=lua5.1 \
-		CFLAGS="$(TARGET_CFLAGS) $(FPIC)" \
-		LDFLAGS="$(TARGET_LDFLAGS)" \
-		CC="$(TARGET_CC)" LD="$(TARGET_CC)"
-endef
-
-define Package/lyaml/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua/lyaml
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/linux/yaml.so $(1)/usr/lib/lua/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/lib/lyaml/*.lua $(1)/usr/lib/lua/lyaml/
-endef
-
-$(eval $(call BuildPackage,lyaml))
diff -uprN a/feeds/packages/lang/lzmq/Makefile b/feeds/packages/lang/lzmq/Makefile
--- a/feeds/packages/lang/lzmq/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/lzmq/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=lzmq
-PKG_VERSION:=0.4.4
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Dirk Chang <dirk@kooiot.com>
-PKG_LICENSE:=MIT
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/zeromq/lzmq/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=cf70200045b8bcb0e929c338ad421b6a291cf1038053532888dc201af3224d8b
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/cmake.mk
-
-define Package/lzmq
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lua ZeroMQ binding
-  URL:=https://github.com/zeromq/lzmq
-  DEPENDS:= +lua +libzmq
-endef
-
-define Package/lzmq/description
- LZMQ is a Lua binding to ZeroMQ.
-endef
-
-CMAKE_OPTIONS += \
-	-DUSE_LUA=ON
-
-define Package/lzmq/install
-	$(INSTALL_DIR) $(1)/usr/lib/lua
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/lzmq.so $(1)/usr/lib/lua/
-
-	$(INSTALL_DIR) $(1)/usr/lib/lua/lzmq
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/lzmq/timer.so $(1)/usr/lib/lua/lzmq
-	$(CP) -R $(PKG_BUILD_DIR)/src/lua/lzmq/* $(1)/usr/lib/lua/lzmq
-endef
-
-$(eval $(call BuildPackage,lzmq))
diff -uprN a/feeds/packages/lang/node/Makefile b/feeds/packages/lang/node/Makefile
--- a/feeds/packages/lang/node/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,158 +0,0 @@
-#
-# Copyright (C) 2006-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=node
-PKG_VERSION:=v14.18.3
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_SOURCE_URL:=https://nodejs.org/dist/$(PKG_VERSION)
-PKG_HASH:=783ac443cd343dd6c68d2abcf7e59e7b978a6a428f6a6025f9b84918b769d608
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>, Adrian Panella <ianchi74@outlook.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:nodejs:node.js
-
-HOST_BUILD_DEPENDS:=python3/host
-HOST_BUILD_PARALLEL:=1
-
-PKG_BUILD_DEPENDS:=python3/host
-PKG_BUILD_PARALLEL:=1
-PKG_INSTALL:=1
-PKG_USE_MIPS16:=0
-PKG_ASLR_PIE:=0
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Node.js
-  TITLE:=Node.js is a platform built on Chrome's JavaScript runtime
-  URL:=https://nodejs.org/
-  DEPENDS:=@HAS_FPU @(i386||x86_64||arm||aarch64||mipsel) \
-	   +libstdcpp +libopenssl +zlib +libnghttp2 +libuv \
-	   +libcares +libatomic +NODEJS_ICU_SYSTEM:icu +NODEJS_ICU_SYSTEM:icu-full-data
-endef
-
-define Package/node/description
-  Node.js® is a JavaScript runtime built on Chrome's V8 JavaScript engine. Node.js uses
-  an event-driven, non-blocking I/O model that makes it lightweight and efficient. Node.js'
-   package ecosystem, npm, is the largest ecosystem of open source libraries in the world.
-  *** The following preparations must be made on the host side. ***
-      1. gcc 6.3 or higher is required.
-      2. To build a 32-bit target, gcc-multilib, g++-multilib are required.
-      3. Requires libatomic package. (If necessary, install the 32-bit library at the same time.)
-     ex) sudo apt-get install gcc-multilib g++-multilib
-endef
-
-define Package/node-npm
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Node.js
-  TITLE:=NPM stands for Node Package Manager
-  URL:=https://www.npmjs.com/
-  DEPENDS:=+node
-endef
-
-define Package/node-npm/description
-	NPM is the package manager for NodeJS
-endef
-
-define Package/node/config
-	if PACKAGE_node
-	choice
-		prompt "i18n features"
-		default NODEJS_ICU_SMALL
-		help
-		 Select i18n features
-
-		config NODEJS_ICU_NONE
-			bool "Disable"
-
-		config NODEJS_ICU_SMALL
-			bool "small-icu"
-
-		config NODEJS_ICU_SYSTEM
-			depends on ARCH_64BIT
-			bool "system-icu"
-	endchoice
-	endif
-endef
-
-NODEJS_CPU:=$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH))))
-
-ifneq ($(CONFIG_ARCH_64BIT),y)
-FORCE_32BIT:=-m32
-endif
-
-MAKE_VARS+= \
-	DESTCPU=$(NODEJS_CPU) \
-	NO_LOAD='cctest.target.mk embedtest.target.mk node_mksnapshot.target.mk' \
-	LD_LIBRARY_PATH=$(STAGING_DIR_HOSTPKG)/share/icu/current/lib
-
-HOST_MAKE_VARS+=NO_LOAD='cctest.target.mk embedtest.target.mk'
-
-CONFIGURE_VARS:= \
-	CC="$(TARGET_CC) $(TARGET_OPTIMIZATION)" \
-	CXX="$(TARGET_CXX) $(TARGET_OPTIMIZATION)" \
-	CC_host="$(HOSTCC) $(FORCE_32BIT)" \
-	CXX_host="$(HOSTCXX) $(FORCE_32BIT)"
-
-CONFIGURE_ARGS:= \
-	--dest-cpu=$(NODEJS_CPU) \
-	--dest-os=linux \
-	--cross-compiling \
-	--shared-zlib \
-	--shared-openssl \
-	--shared-nghttp2 \
-	--shared-libuv \
-	--shared-cares \
-	--with-intl=$(if $(CONFIG_NODEJS_ICU_SMALL),small-icu,$(if $(CONFIG_NODEJS_ICU_SYSTEM),system-icu,none)) \
-	$(if $(findstring +neon,$(CONFIG_CPU_TYPE)),--with-arm-fpu=neon) \
-	$(if $(findstring +vfp",$(CONFIG_CPU_TYPE)),--with-arm-fpu=vfp) \
-	$(if $(findstring +vfpv3",$(CONFIG_CPU_TYPE)),--with-arm-fpu=vfpv3-d16) \
-	$(if $(findstring +vfpv4",$(CONFIG_CPU_TYPE)),--with-arm-fpu=vfpv3) \
-	--prefix=/usr
-
-HOST_CONFIGURE_VARS:=
-
-HOST_CONFIGURE_ARGS:= \
-	--dest-os=$(if $(findstring Darwin,$(HOST_OS)),mac,linux) \
-	--with-intl=small-icu \
-	--prefix=$(STAGING_DIR_HOSTPKG)
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include
-	$(CP) $(PKG_INSTALL_DIR)/usr/include/* $(1)/usr/include/
-endef
-
-define Package/node/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/node $(1)/usr/bin/
-endef
-
-define Package/node-npm/install
-	$(INSTALL_DIR) $(1)/usr/lib/node_modules/npm
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/npm/{package.json,LICENSE} \
-		$(1)/usr/lib/node_modules/npm/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/npm/{AUTHORS,*.md} \
-		$(1)/usr/lib/node_modules/npm/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/npm/{node_modules,bin,lib} \
-		$(1)/usr/lib/node_modules/npm/
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(LN) ../lib/node_modules/npm/bin/npm-cli.js $(1)/usr/bin/npm
-	$(LN) ../lib/node_modules/npm/bin/npx-cli.js $(1)/usr/bin/npx
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,node))
-$(eval $(call BuildPackage,node-npm))
diff -uprN a/feeds/packages/lang/node/patches/003-path.patch b/feeds/packages/lang/node/patches/003-path.patch
--- a/feeds/packages/lang/node/patches/003-path.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/003-path.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/lib/internal/modules/cjs/loader.js
-+++ b/lib/internal/modules/cjs/loader.js
-@@ -1202,7 +1202,8 @@ Module._initPaths = function() {
-     path.resolve(process.execPath, '..') :
-     path.resolve(process.execPath, '..', '..');
- 
--  let paths = [path.resolve(prefixDir, 'lib', 'node')];
-+  let paths = [path.resolve(prefixDir, 'lib', 'node'),
-+               path.resolve(prefixDir, 'lib', 'node_modules')];
- 
-   if (homeDir) {
-     ArrayPrototypeUnshift(paths, path.resolve(homeDir, '.node_libraries'));
diff -uprN a/feeds/packages/lang/node/patches/004-musl_support.patch b/feeds/packages/lang/node/patches/004-musl_support.patch
--- a/feeds/packages/lang/node/patches/004-musl_support.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/004-musl_support.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
---- a/deps/v8/src/base/platform/condition-variable.cc
-+++ b/deps/v8/src/base/platform/condition-variable.cc
-@@ -16,7 +16,7 @@ namespace base {
- 
- ConditionVariable::ConditionVariable() {
- #if (V8_OS_FREEBSD || V8_OS_NETBSD || V8_OS_OPENBSD || \
--     (V8_OS_LINUX && V8_LIBC_GLIBC))
-+     V8_OS_LINUX)
-   // On Free/Net/OpenBSD and Linux with glibc we can change the time
-   // source for pthread_cond_timedwait() to use the monotonic clock.
-   pthread_condattr_t attr;
-@@ -92,7 +92,7 @@ bool ConditionVariable::WaitFor(Mutex* m
-       &native_handle_, &mutex->native_handle(), &ts);
- #else
- #if (V8_OS_FREEBSD || V8_OS_NETBSD || V8_OS_OPENBSD || \
--     (V8_OS_LINUX && V8_LIBC_GLIBC))
-+     V8_OS_LINUX)
-   // On Free/Net/OpenBSD and Linux with glibc we can change the time
-   // source for pthread_cond_timedwait() to use the monotonic clock.
-   result = clock_gettime(CLOCK_MONOTONIC, &ts);
---- a/deps/v8/src/base/platform/platform-posix.cc
-+++ b/deps/v8/src/base/platform/platform-posix.cc
-@@ -839,7 +839,7 @@ bool Thread::Start() {
- #if V8_OS_MACOSX
-     // Default on Mac OS X is 512kB -- bump up to 1MB
-     stack_size = 1 * 1024 * 1024;
--#elif V8_OS_AIX
-+#elif V8_OS_AIX || !defined(__GLIBC__)
-     // Default on AIX is 96kB -- bump up to 2MB
-     stack_size = 2 * 1024 * 1024;
- #endif
---- a/deps/v8/src/codegen/external-reference-table.cc
-+++ b/deps/v8/src/codegen/external-reference-table.cc
-@@ -9,7 +9,7 @@
- #include "src/ic/stub-cache.h"
- #include "src/logging/counters.h"
- 
--#if defined(DEBUG) && defined(V8_OS_LINUX) && !defined(V8_OS_ANDROID)
-+#if defined(DEBUG) && defined(V8_OS_LINUX) && !defined(V8_OS_ANDROID) && defined(V8_LIBC_GLIBC)
- #define SYMBOLIZE_FUNCTION
- #include <execinfo.h>
- #include <vector>
diff -uprN a/feeds/packages/lang/node/patches/007-fix_host_build_on_macos.patch b/feeds/packages/lang/node/patches/007-fix_host_build_on_macos.patch
--- a/feeds/packages/lang/node/patches/007-fix_host_build_on_macos.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/007-fix_host_build_on_macos.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/tools/gyp/pylib/gyp/generator/make.py
-+++ b/tools/gyp/pylib/gyp/generator/make.py
-@@ -180,7 +180,7 @@ cmd_solink_module = $(LINK.$(TOOLSET)) -
- 
- LINK_COMMANDS_MAC = """\
- quiet_cmd_alink = LIBTOOL-STATIC $@
--cmd_alink = rm -f $@ && ./gyp-mac-tool filter-libtool libtool $(GYP_LIBTOOLFLAGS) -static -o $@ $(filter %.o,$^)
-+cmd_alink = rm -f $@ && ./gyp-mac-tool filter-libtool /usr/bin/libtool $(GYP_LIBTOOLFLAGS) -static -o $@ $(filter %.o,$^)
- 
- quiet_cmd_link = LINK($(TOOLSET)) $@
- cmd_link = $(LINK.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o "$@" $(LD_INPUTS) $(LIBS)
diff -uprN a/feeds/packages/lang/node/patches/999-delete_unnecessary_libraries_for_host_execute.patch b/feeds/packages/lang/node/patches/999-delete_unnecessary_libraries_for_host_execute.patch
--- a/feeds/packages/lang/node/patches/999-delete_unnecessary_libraries_for_host_execute.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/999-delete_unnecessary_libraries_for_host_execute.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,78 +0,0 @@
---- a/tools/icu/icu-generic.gyp
-+++ b/tools/icu/icu-generic.gyp
-@@ -419,6 +419,7 @@
-       'target_name': 'genrb',
-       'type': 'executable',
-       'toolsets': [ 'host' ],
-+      'libraries!':[ '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'dependencies': [ 'icutools' ],
-       'sources': [
-         '<@(icu_src_genrb)'
-@@ -435,6 +436,7 @@
-       'target_name': 'iculslocs',
-       'toolsets': [ 'host' ],
-       'type': 'executable',
-+      'libraries!':[ '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'dependencies': [ 'icutools' ],
-       'sources': [
-         'iculslocs.cc',
-@@ -447,6 +449,7 @@
-       'target_name': 'icupkg',
-       'toolsets': [ 'host' ],
-       'type': 'executable',
-+      'libraries!':[ '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'dependencies': [ 'icutools' ],
-       'sources': [
-         '<@(icu_src_icupkg)',
-@@ -458,6 +461,7 @@
-       'target_name': 'genccode',
-       'toolsets': [ 'host' ],
-       'type': 'executable',
-+      'libraries!':[ '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'dependencies': [ 'icutools' ],
-       'sources': [
-         '<@(icu_src_genccode)',
---- a/tools/v8_gypfiles/v8.gyp
-+++ b/tools/v8_gypfiles/v8.gyp
-@@ -1310,6 +1310,7 @@
-     {
-       'target_name': 'bytecode_builtins_list_generator',
-       'type': 'executable',
-+      'libraries!':[ '-licui18n', '-licuuc', '-licudata', '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'conditions': [
-         ['want_separate_host_toolset', {
-           'toolsets': ['host'],
-@@ -1333,6 +1334,8 @@
-     {
-       'target_name': 'mksnapshot',
-       'type': 'executable',
-+      'libraries!':[ '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-+      'library_dirs':[ '../../../../staging_dir/hostpkg/share/icu/current/lib' ],
-       'dependencies': [
-         'v8_base_without_compiler',
-         'v8_compiler_for_mksnapshot',
-@@ -1354,6 +1357,7 @@
-     {
-       'target_name': 'torque',
-       'type': 'executable',
-+      'libraries!':[ '-licui18n', '-licuuc', '-licudata', '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'dependencies': [
-         'torque_base',
-         # "build/win:default_exe_manifest",
-@@ -1392,6 +1396,7 @@
-     {
-       'target_name': 'torque-language-server',
-       'type': 'executable',
-+      'libraries!':[ '-licui18n', '-licuuc', '-licudata', '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-       'conditions': [
-         ['want_separate_host_toolset', {
-           'toolsets': ['host'],
-@@ -1419,6 +1424,8 @@
-     {
-       'target_name': 'gen-regexp-special-case',
-       'type': 'executable',
-+      'libraries!':[ '-lcrypto', '-lssl', '-lz', '-lhttp_parser', '-luv', '-lnghttp2', '-lcares' ],
-+      'library_dirs':[ '../../../../staging_dir/hostpkg/share/icu/current/lib' ],
-       'dependencies': [
-         'v8_libbase',
-         # "build/win:default_exe_manifest",
diff -uprN a/feeds/packages/lang/node/patches/999-fix_building_with_system_c-ares_on_Linux.patch b/feeds/packages/lang/node/patches/999-fix_building_with_system_c-ares_on_Linux.patch
--- a/feeds/packages/lang/node/patches/999-fix_building_with_system_c-ares_on_Linux.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/999-fix_building_with_system_c-ares_on_Linux.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-From 8699aa501c4d4e1567ebe8901e5ec80cadaa9323 Mon Sep 17 00:00:00 2001
-From: Felix Yan <felixonmars@archlinux.org>
-Date: Thu, 12 Aug 2021 02:44:43 +0800
-Subject: [PATCH] deps: fix building with system c-ares on Linux
-
-The change in #39724 breaks building with system c-ares
-(`--shared-cares`):
-```
-In file included from ../src/cares_wrap.cc:25:
-../src/cares_wrap.h:25:11: fatal error: ares_nameser.h: No such file or
-directory
-   25 | # include <ares_nameser.h>
-      |           ^~~~~~~~~~~~~~~~
-```
-
-Since `ares_nameser.h` isn't available with a default system c-ares
-installation, let's add back the include check and use the old
-`arpa/nameser.h` routine instead.
-
-Tested to build fine on Arch Linux with shared c-ares.
----
- src/cares_wrap.h | 8 ++++++++
- 1 file changed, 8 insertions(+)
-
---- a/src/cares_wrap.h
-+++ b/src/cares_wrap.h
-@@ -22,7 +22,15 @@
- # include <netdb.h>
- #endif  // __POSIX__
- 
-+#if defined(__ANDROID__) || \
-+    defined(__MINGW32__) || \
-+    defined(__OpenBSD__) || \
-+    defined(_MSC_VER)
-+
- # include <ares_nameser.h>
-+#else
-+# include <arpa/nameser.h>
-+#endif
- 
- namespace node {
- namespace cares_wrap {
diff -uprN a/feeds/packages/lang/node/patches/999-fix_icu_conflict.patch b/feeds/packages/lang/node/patches/999-fix_icu_conflict.patch
--- a/feeds/packages/lang/node/patches/999-fix_icu_conflict.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/999-fix_icu_conflict.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,74 +0,0 @@
---- a/tools/icu/icu-generic.gyp
-+++ b/tools/icu/icu-generic.gyp
-@@ -107,6 +107,7 @@
-           'sources': [
-             '<@(icu_src_i18n)'
-           ],
-+          'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-           'include_dirs': [
-             '<(icu_path)/source/i18n',
-           ],
-@@ -115,6 +116,7 @@
-           ],
-           'dependencies': [ 'icuucx', 'icu_implementation', 'icu_uconfig', 'icu_uconfig_target' ],
-           'direct_dependent_settings': {
-+            'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-             'include_dirs': [
-               '<(icu_path)/source/i18n',
-             ],
-@@ -201,6 +203,7 @@
-               # full data - no trim needed
-               'sources': [ '<(SHARED_INTERMEDIATE_DIR)/icudt<(icu_ver_major)_dat.<(icu_asm_ext)' ],
-               'dependencies': [ 'genccode#host', 'icupkg#host', 'icu_implementation#host', 'icu_uconfig' ],
-+              'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-               'include_dirs': [
-                 '<(icu_path)/source/common',
-               ],
-@@ -285,6 +288,7 @@
-               # This file contains the small ICU data
-               'sources': [ '<(SHARED_INTERMEDIATE_DIR)/icusmdt<(icu_ver_major)_dat.<(icu_asm_ext)' ],
-               # for umachine.h
-+              'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-               'include_dirs': [
-                 '<(icu_path)/source/common',
-               ],
-@@ -301,6 +305,7 @@
-       'sources': [
-         '<@(icu_src_stubdata)'
-       ],
-+      'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-       'include_dirs': [
-         '<(icu_path)/source/common',
-       ],
-@@ -340,6 +345,7 @@
-           '_XOPEN_SOURCE_EXTENDED=0',
-         ]}],
-       ],
-+      'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-       'include_dirs': [
-         '<(icu_path)/source/common',
-       ],
-@@ -349,6 +355,7 @@
-       'cflags_c': ['-std=c99'],
-       'export_dependent_settings': [ 'icu_uconfig', 'icu_uconfig_target' ],
-       'direct_dependent_settings': {
-+        'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-         'include_dirs': [
-           '<(icu_path)/source/common',
-         ],
-@@ -379,6 +386,7 @@
-         '<(icu_path)/source/tools/toolutil/dbgutil.cpp',
-         '<(icu_path)/source/tools/toolutil/dbgutil.h',
-       ],
-+      'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-       'include_dirs': [
-         '<(icu_path)/source/common',
-         '<(icu_path)/source/i18n',
-@@ -398,6 +406,7 @@
-         }]
-       ],
-       'direct_dependent_settings': {
-+        'include_dirs!': [ '<!@(echo "$STAGING_DIR"/usr/include)' ],
-         'include_dirs': [
-           '<(icu_path)/source/common',
-           '<(icu_path)/source/i18n',
diff -uprN a/feeds/packages/lang/node/patches/999-localhost-no-addrconfig.patch b/feeds/packages/lang/node/patches/999-localhost-no-addrconfig.patch
--- a/feeds/packages/lang/node/patches/999-localhost-no-addrconfig.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node/patches/999-localhost-no-addrconfig.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,29 +0,0 @@
-Description: do not use dns.ADDRCONFIG for localhost
- it fails on IPv6-only systems. Setting it with libc fails on linux.
- https://github.com/nodejs/node/issues/33279
-Author: Jérémy Lal <kapouer@melix.org>
-Last-Update: 2020-06-11
-Bug-Debian: https://bugs.debian.org/962318
-Forwarded: https://github.com/nodejs/node/issues/33816
---- a/lib/net.js
-+++ b/lib/net.js
-@@ -1,4 +1,5 @@
- // Copyright Joyent, Inc. and other Node contributors.
-+
- //
- // Permission is hereby granted, free of charge, to any person obtaining a
- // copy of this software and associated documentation files (the
-@@ -1039,13 +1040,6 @@ function lookupAndConnect(self, options)
-     hints: options.hints || 0
-   };
- 
--  if (!isWindows &&
--      dnsopts.family !== 4 &&
--      dnsopts.family !== 6 &&
--      dnsopts.hints === 0) {
--    dnsopts.hints = dns.ADDRCONFIG;
--  }
--
-   debug('connect: find host', host);
-   debug('connect: dns options', dnsopts);
-   self._host = host;
diff -uprN a/feeds/packages/lang/node-arduino-firmata/files/usr/lib/node/arduino-firmata/lib/arduino-firmata.js b/feeds/packages/lang/node-arduino-firmata/files/usr/lib/node/arduino-firmata/lib/arduino-firmata.js
--- a/feeds/packages/lang/node-arduino-firmata/files/usr/lib/node/arduino-firmata/lib/arduino-firmata.js	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-arduino-firmata/files/usr/lib/node/arduino-firmata/lib/arduino-firmata.js	1970-01-01 08:00:00.000000000 +0800
@@ -1,295 +0,0 @@
-(function() {
-  'use strict';
-  var ArduinoFirmata, debug, events, exports, serialport;
-
-  events = require('eventemitter2');
-
-  serialport = require('serialport');
-
-  debug = require('debug')('arduino-firmata');
-
-  exports = module.exports = ArduinoFirmata = (function() {
-    class ArduinoFirmata extends events.EventEmitter2 {
-      static list(callback) {
-        return serialport.list(function(err, ports) {
-          var devices, j, len, port;
-          if (err) {
-            return callback(err);
-          }
-          devices = [];
-          for (j = 0, len = ports.length; j < len; j++) {
-            port = ports[j];
-            if (/usb|acm|com|ama\d+/i.test(port.comName)) {
-              devices.push(port.comName);
-            }
-          }
-          return callback(null, devices);
-        });
-      }
-
-      constructor() {
-        super();
-        this.status = ArduinoFirmata.Status.CLOSE;
-        this.wait_for_data = 0;
-        this.execute_multi_byte_command = 0;
-        this.multi_byte_channel = 0;
-        this.stored_input_data = [];
-        this.parsing_sysex = false;
-        this.sysex_bytes_read = 0;
-        this.digital_output_data = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
-        this.digital_input_data = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
-        this.analog_input_data = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
-        this.boardVersion = null;
-      }
-
-      isOldArduinoDevice() {
-        return /usbserial|USB/.test(this.serialport_name);
-      }
-
-      connect(serialport_name, opts = {
-          baudRate: 57600
-        }) {
-        this.serialport_name = serialport_name;
-        opts.parser = serialport.parsers.raw;
-        if (!this.serialport_name) {
-          ArduinoFirmata.list((err, devices) => {
-            return this.connect(devices[0], opts);
-          });
-          return this;
-        }
-        this.once('boardReady', function() {
-          var io_init_wait;
-          debug('boardReady');
-          io_init_wait = this.isOldArduinoDevice() ? (debug(`old arduino device found ${this.serialport_name}`), 3000) : (debug(`new arduino device found ${this.serialport_name}`), 100);
-          debug(`wait ${io_init_wait}(msec)`);
-          return setTimeout(() => {
-            var i, j, k;
-            for (i = j = 0; j < 6; i = ++j) {
-              this.write([ArduinoFirmata.REPORT_ANALOG | i, 1]);
-            }
-            for (i = k = 0; k < 2; i = ++k) {
-              this.write([ArduinoFirmata.REPORT_DIGITAL | i, 1]);
-            }
-            debug('init IO ports');
-            return this.emit('connect');
-          }, io_init_wait);
-        });
-        this.serialport = new serialport(this.serialport_name, opts);
-        this.serialport.once('open', () => {
-          var cid;
-          cid = setInterval(() => {
-            debug('request REPORT_VERSION');
-            return this.write([ArduinoFirmata.REPORT_VERSION]);
-          }, 500);
-          this.once('boardVersion', (version) => {
-            clearInterval(cid);
-            this.status = ArduinoFirmata.Status.OPEN;
-            return this.emit('boardReady');
-          });
-          return this.serialport.on('data', (data) => {
-            var byte, j, len, results;
-            results = [];
-            for (j = 0, len = data.length; j < len; j++) {
-              byte = data[j];
-              results.push(this.process_input(byte));
-            }
-            return results;
-          });
-        });
-        return this;
-      }
-
-      isOpen() {
-        return this.status === ArduinoFirmata.Status.OPEN;
-      }
-
-      close(callback) {
-        this.status = ArduinoFirmata.Status.CLOSE;
-        return this.serialport.close(callback);
-      }
-
-      reset(callback) {
-        return this.write([ArduinoFirmata.SYSTEM_RESET], callback);
-      }
-
-      write(bytes, callback) {
-        return this.serialport.write(bytes, callback);
-      }
-
-      sysex(command, data = [], callback) {
-        var write_data;
-        //# http://firmata.org/wiki/V2.1ProtocolDetails#Sysex_Message_Format
-        data = data.map(function(i) {
-          return i & 0b1111111; // 7bit
-        });
-        write_data = [ArduinoFirmata.START_SYSEX, command].concat(data, [ArduinoFirmata.END_SYSEX]);
-        return this.write(write_data, callback);
-      }
-
-      pinMode(pin, mode, callback) {
-        switch (mode) {
-          case true:
-            mode = ArduinoFirmata.OUTPUT;
-            break;
-          case false:
-            mode = ArduinoFirmata.INPUT;
-        }
-        return this.write([ArduinoFirmata.SET_PIN_MODE, pin, mode], callback);
-      }
-
-      digitalWrite(pin, value, callback) {
-        var port_num;
-        this.pinMode(pin, ArduinoFirmata.OUTPUT);
-        port_num = (pin >>> 3) & 0x0F;
-        if (value === 0 || value === false) {
-          this.digital_output_data[port_num] &= ~(1 << (pin & 0x07));
-        } else {
-          this.digital_output_data[port_num] |= 1 << (pin & 0x07);
-        }
-        return this.write([ArduinoFirmata.DIGITAL_MESSAGE | port_num, this.digital_output_data[port_num] & 0x7F, this.digital_output_data[port_num] >>> 7], callback);
-      }
-
-      analogWrite(pin, value, callback) {
-        value = Math.floor(value);
-        this.pinMode(pin, ArduinoFirmata.PWM);
-        return this.write([ArduinoFirmata.ANALOG_MESSAGE | (pin & 0x0F), value & 0x7F, value >>> 7], callback);
-      }
-
-      servoWrite(pin, angle, callback) {
-        this.pinMode(pin, ArduinoFirmata.SERVO);
-        return this.write([ArduinoFirmata.ANALOG_MESSAGE | (pin & 0x0F), angle & 0x7F, angle >>> 7], callback);
-      }
-
-      digitalRead(pin) {
-        return ((this.digital_input_data[pin >>> 3] >>> (pin & 0x07)) & 0x01) > 0;
-      }
-
-      analogRead(pin) {
-        return this.analog_input_data[pin];
-      }
-
-      process_input(input_data) {
-        var analog_value, command, diff, i, j, old_analog_value, results, stat, sysex_command, sysex_data;
-        if (this.parsing_sysex) {
-          if (input_data === ArduinoFirmata.END_SYSEX) {
-            this.parsing_sysex = false;
-            sysex_command = this.stored_input_data[0];
-            sysex_data = this.stored_input_data.slice(1, this.sysex_bytes_read);
-            return this.emit('sysex', {
-              command: sysex_command,
-              data: sysex_data
-            });
-          } else {
-            this.stored_input_data[this.sysex_bytes_read] = input_data;
-            return this.sysex_bytes_read += 1;
-          }
-        } else if (this.wait_for_data > 0 && input_data < 128) {
-          this.wait_for_data -= 1;
-          this.stored_input_data[this.wait_for_data] = input_data;
-          if (this.execute_multi_byte_command !== 0 && this.wait_for_data === 0) {
-            switch (this.execute_multi_byte_command) {
-              case ArduinoFirmata.DIGITAL_MESSAGE:
-                input_data = (this.stored_input_data[0] << 7) + this.stored_input_data[1];
-                diff = this.digital_input_data[this.multi_byte_channel] ^ input_data;
-                this.digital_input_data[this.multi_byte_channel] = input_data;
-                if (this.listeners('digitalChange').length > 0) {
-                  results = [];
-                  for (i = j = 0; j <= 13; i = ++j) {
-                    if (((0x01 << i) & diff) > 0) {
-                      stat = (input_data & diff) > 0;
-                      results.push(this.emit('digitalChange', {
-                        pin: i + this.multi_byte_channel * 8,
-                        value: stat,
-                        old_value: !stat
-                      }));
-                    } else {
-                      results.push(void 0);
-                    }
-                  }
-                  return results;
-                }
-                break;
-              case ArduinoFirmata.ANALOG_MESSAGE:
-                analog_value = (this.stored_input_data[0] << 7) + this.stored_input_data[1];
-                old_analog_value = this.analogRead(this.multi_byte_channel);
-                this.analog_input_data[this.multi_byte_channel] = analog_value;
-                if (old_analog_value !== analog_value) {
-                  return this.emit('analogChange', {
-                    pin: this.multi_byte_channel,
-                    value: analog_value,
-                    old_value: old_analog_value
-                  });
-                }
-                break;
-              case ArduinoFirmata.REPORT_VERSION:
-                this.boardVersion = `${this.stored_input_data[1]}.${this.stored_input_data[0]}`;
-                return this.emit('boardVersion', this.boardVersion);
-            }
-          }
-        } else {
-          if (input_data < 0xF0) {
-            command = input_data & 0xF0;
-            this.multi_byte_channel = input_data & 0x0F;
-          } else {
-            command = input_data;
-          }
-          if (command === ArduinoFirmata.START_SYSEX) {
-            this.parsing_sysex = true;
-            return this.sysex_bytes_read = 0;
-          } else if (command === ArduinoFirmata.DIGITAL_MESSAGE || command === ArduinoFirmata.ANALOG_MESSAGE || command === ArduinoFirmata.REPORT_VERSION) {
-            this.wait_for_data = 2;
-            return this.execute_multi_byte_command = command;
-          }
-        }
-      }
-
-    };
-
-    ArduinoFirmata.Status = {
-      CLOSE: 0,
-      OPEN: 1
-    };
-
-    ArduinoFirmata.INPUT = 0;
-
-    ArduinoFirmata.OUTPUT = 1;
-
-    ArduinoFirmata.ANALOG = 2;
-
-    ArduinoFirmata.PWM = 3;
-
-    ArduinoFirmata.SERVO = 4;
-
-    ArduinoFirmata.SHIFT = 5;
-
-    ArduinoFirmata.I2C = 6;
-
-    ArduinoFirmata.LOW = 0;
-
-    ArduinoFirmata.HIGH = 1;
-
-    ArduinoFirmata.MAX_DATA_BYTES = 32;
-
-    ArduinoFirmata.DIGITAL_MESSAGE = 0x90; // send data for a digital port
-
-    ArduinoFirmata.ANALOG_MESSAGE = 0xE0; // send data for an analog pin (or PWM)
-
-    ArduinoFirmata.REPORT_ANALOG = 0xC0; // enable analog input by pin
-
-    ArduinoFirmata.REPORT_DIGITAL = 0xD0; // enable digital input by port
-
-    ArduinoFirmata.SET_PIN_MODE = 0xF4; // set a pin to INPUT/OUTPUT/PWM/etc
-
-    ArduinoFirmata.REPORT_VERSION = 0xF9; // report firmware version
-
-    ArduinoFirmata.SYSTEM_RESET = 0xFF; // reset from MIDI
-
-    ArduinoFirmata.START_SYSEX = 0xF0; // start a MIDI SysEx message
-
-    ArduinoFirmata.END_SYSEX = 0xF7; // end a MIDI SysEx message
-
-    return ArduinoFirmata;
-
-  }).call(this);
-
-}).call(this);
diff -uprN a/feeds/packages/lang/node-arduino-firmata/Makefile b/feeds/packages/lang/node-arduino-firmata/Makefile
--- a/feeds/packages/lang/node-arduino-firmata/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-arduino-firmata/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,72 +0,0 @@
-#
-# Copyright (C) 2014 Arduino LLC
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=arduino-firmata
-PKG_NAME:=node-$(PKG_NPM_NAME)
-PKG_VERSION:=0.3.4
-PKG_RELEASE:=3
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_NPM_NAME)/-/
-PKG_HASH:=d7157e02867eae82887cb5e17b90c963fe7489bacd464110bfd20c672b8d5a98
-
-PKG_BUILD_DEPENDS:=node/host
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-arduino-firmata
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Arduino Firmata implementation for Node.js
-  URL:=https://www.npmjs.com/package/arduino-firmata
-  DEPENDS:=+node +node-npm +node-serialport
-endef
-
-define Package/node-arduino-firmata/description
- Arduino Firmata protocol (http://firmata.org) implementation on Node.js.
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-
-define Build/Compile
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp
-	rm -rf $(TMP_DIR)/npm-cache
-endef
-
-define Package/node-arduino-firmata/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{package.json,README.md} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{tests,*.txt} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{node_modules,lib} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) ./files/* $(1)/
-endef
-
-$(eval $(call BuildPackage,node-arduino-firmata))
diff -uprN a/feeds/packages/lang/node-arduino-firmata/patches/000-new-serialport.patch b/feeds/packages/lang/node-arduino-firmata/patches/000-new-serialport.patch
--- a/feeds/packages/lang/node-arduino-firmata/patches/000-new-serialport.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-arduino-firmata/patches/000-new-serialport.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/package.json
-+++ b/package.json
-@@ -30,7 +30,6 @@
-   "author": "Sho Hashimoto <hashimoto@shokai.org>",
-   "license": "MIT",
-   "dependencies": {
--    "serialport": "*",
-     "eventemitter2": "*",
-     "debug": "*"
-   },
diff -uprN a/feeds/packages/lang/node-cylon/Makefile b/feeds/packages/lang/node-cylon/Makefile
--- a/feeds/packages/lang/node-cylon/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-cylon/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,107 +0,0 @@
-#
-# Copyright (C) 2014 Arduino LLC
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=cylon
-PKG_NAME:=node-$(PKG_NPM_NAME)
-PKG_SRC_NAME:=$(PKG_NPM_NAME)-firmata
-PKG_VERSION:=0.24.0
-PKG_RELEASE:=3
-
-PKG_SOURCE:=$(PKG_SRC_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_SRC_NAME)/-/
-PKG_HASH:=06ac7a8e2e6012577d2f4b043af766bf28a1d3e2a0d50e46629dab4f0bb65104
-PKG_SOURCE_SUBDIR:=$(PKG_SRC_NAME)-$(PKG_VERSION)
-
-PKG_BUILD_DEPENDS:=node/host
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-cylon/default
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=CylonJS - $(1)
-  URL:=https://www.npmjs.org/package/cylon-firmata
-  DEPENDS:=+node +node-npm $(2)
-endef
-
-define Package/node-cylon
-  $(call Package/node-cylon/default,Core)
-endef
-
-define Package/node-cylon-i2c
-  $(call Package/node-cylon/default,I2C,+node-cylon)
-endef
-
-define Package/node-cylon-gpio
-  $(call Package/node-cylon/default,GPIO,+node-cylon)
-endef
-
-define Package/node-cylon-firmata
-  $(call Package/node-cylon/default,Firmata,+node-cylon-gpio +node-cylon-i2c +node-arduino-firmata)
-endef
-
-define Package/node-cylon/description
- JavaScript Robotics, By Your Command Next generation robotics framework with support for 36 different platforms Get Started
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-
-define Build/Compile
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp
-	rm -rf $(TMP_DIR)/npm-cache
-endef
-
-define Package/node-cylon/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/cylon
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/cylon-firmata/node_modules/cylon/* $(1)/usr/lib/node/cylon/
-endef
-
-define Package/node-cylon-i2c/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/cylon-i2c
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/cylon-firmata/node_modules/cylon-i2c/* $(1)/usr/lib/node/cylon-i2c/
-endef
-
-define Package/node-cylon-gpio/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/cylon-gpio
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/cylon-firmata/node_modules/cylon-gpio/* $(1)/usr/lib/node/cylon-gpio/
-endef
-
-define Package/node-cylon-firmata/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/cylon-firmata
-	$(CP) $(PKG_BUILD_DIR)/{package.json,LICENSE,*.md} \
-		$(1)/usr/lib/node/cylon-firmata/
-	$(CP) $(PKG_BUILD_DIR)/{docs,examples,*.js} \
-		$(1)/usr/lib/node/cylon-firmata/
-	$(CP) $(PKG_BUILD_DIR)/{lib,spec} \
-		$(1)/usr/lib/node/cylon-firmata/
-endef
-
-$(eval $(call BuildPackage,node-cylon))
-$(eval $(call BuildPackage,node-cylon-i2c))
-$(eval $(call BuildPackage,node-cylon-gpio))
-$(eval $(call BuildPackage,node-cylon-firmata))
diff -uprN a/feeds/packages/lang/node-cylon/patches/0001-serialport.patch b/feeds/packages/lang/node-cylon/patches/0001-serialport.patch
--- a/feeds/packages/lang/node-cylon/patches/0001-serialport.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-cylon/patches/0001-serialport.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
---- a/package.json
-+++ b/package.json
-@@ -41,7 +41,8 @@
-   },
- 
-   "dependencies": {
--    "firmata":    ">= 0.8.0",
--    "cylon":      "^1.3.0"
-+    "cylon":      "^1.3.0",
-+    "cylon-gpio": "0.30.1",
-+    "cylon-i2c":  "0.26.1"
-   }
- }
diff -uprN a/feeds/packages/lang/node-hid/Makefile b/feeds/packages/lang/node-hid/Makefile
--- a/feeds/packages/lang/node-hid/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-hid/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,80 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=node-hid
-PKG_NAME:=$(PKG_NPM_NAME)
-PKG_VERSION:=2.1.1
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_NPM_NAME)/-/
-PKG_HASH:=6c1f05935215feed4e8d2f4aecf31abbad8fa783d252b0bd6041ed2f2e96e9ba
-
-PKG_BUILD_DEPENDS:=node/host
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>
-PKG_LICENSE:=MIT or X11
-PKG_LICENSE_FILES:=
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-
-define Package/node-hid
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Node.js package to access HID devices
-  URL:=https://www.npmjs.com/package/node-hid
-  DEPENDS:=+node +node-npm +libusb-1.0 +libudev $(ICONV_DEPENDS)
-endef
-
-define Package/node-hid/description
- Node.js package to access HID devices
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-TMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-
-TARGET_CFLAGS+=$(FPIC) -I$(STAGING_DIR)/usr/include/libusb-1.0
-TARGET_LDFLAGS+=$(if $(ICONV_FULL),-liconv)
-
-define Build/Compile
-	GYP_DEFINES='driver="hidraw"' \
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(TMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(TMPNPM) \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(TMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(TMPNPM)
-endef
-
-define Package/node-hid/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{package.json,*.md,*.js} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{node_modules,src} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(INSTALL_DIR) $(1)/usr/lib/node/$(PKG_NPM_NAME)/build/Release
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/build/Release/HID*.node \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/build/Release/
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(LN) ../lib/node/$(PKG_NPM_NAME)/src/show-devices.js $(1)/usr/bin/hid-showdevices
-endef
-
-$(eval $(call BuildPackage,node-hid))
diff -uprN a/feeds/packages/lang/node-hid/patches/000-support_musl.patch b/feeds/packages/lang/node-hid/patches/000-support_musl.patch
--- a/feeds/packages/lang/node-hid/patches/000-support_musl.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-hid/patches/000-support_musl.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/hidapi/linux/hid.c
-+++ b/hidapi/linux/hid.c
-@@ -24,6 +24,7 @@
- /* C */
- #include <stdio.h>
- #include <string.h>
-+#include <stdarg.h>
- #include <stdlib.h>
- #include <locale.h>
- #include <errno.h>
diff -uprN a/feeds/packages/lang/node-homebridge/files/homebridge.init b/feeds/packages/lang/node-homebridge/files/homebridge.init
--- a/feeds/packages/lang/node-homebridge/files/homebridge.init	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-homebridge/files/homebridge.init	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
-#!/bin/sh /etc/rc.common
-
-START=98
-USE_PROCD=1
-
-start_service() {
-	[ -d /usr/share/homebridge ] || {
-		mkdir -m 0755 -p /usr/share/homebridge
-		chmod 0700 /usr/share/homebridge
-		chown homebridge:homebridge /usr/share/homebridge
-	}
-	procd_open_instance
-	procd_set_param command /usr/bin/homebridge -U /usr/share/homebridge
-	procd_set_param user homebridge
-	procd_set_param stdout 1
-	procd_set_param stderr 1
-	procd_close_instance
-}
diff -uprN a/feeds/packages/lang/node-homebridge/Makefile b/feeds/packages/lang/node-homebridge/Makefile
--- a/feeds/packages/lang/node-homebridge/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-homebridge/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,78 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=homebridge
-PKG_NAME:=node-$(PKG_NPM_NAME)
-PKG_VERSION:=1.2.4
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_NPM_NAME)/-/
-PKG_HASH:=f91ab0058707a0498d97d87f45f19682065f80660fac942e0985caf9bb205f2a
-
-PKG_BUILD_DEPENDS:=node/host
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>
-PKG_LICENSE:=ISC Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-homebridge
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Node.js HomeKit Server
-  URL:=https://www.npmjs.org/package/homebridge
-  DEPENDS:=+node +node-npm
-  USERID:=homebridge:homebridge
-endef
-
-define Package/node-homebridge/description
- Homebridge is a lightweight Node.js server you can run on your home network that emulates the iOS HomeKit API
- *** You need to install avahi-nodbus-daemon or avahi-dbus-daemon or umdns or mdnsd package. ***
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-TMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-
-TARGET_CFLAGS+=$(FPIC)
-TARGET_CPPFLAGS+=$(FPIC)
-
-define Build/Compile
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(TMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(TMPNPM) \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(TMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(TMPNPM)
-endef
-
-define Package/node-homebridge/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{*.json,*.md} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{node_modules,lib} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{LICENSE,bin} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(LN) ../lib/node/$(PKG_NPM_NAME)/bin/homebridge $(1)/usr/bin/homebridge
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/homebridge.init $(1)/etc/init.d/homebridge
-endef
-
-$(eval $(call BuildPackage,node-homebridge))
diff -uprN a/feeds/packages/lang/node-homebridge/patches/000-add_module_search_path.patch b/feeds/packages/lang/node-homebridge/patches/000-add_module_search_path.patch
--- a/feeds/packages/lang/node-homebridge/patches/000-add_module_search_path.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-homebridge/patches/000-add_module_search_path.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/lib/pluginManager.js
-+++ b/lib/pluginManager.js
-@@ -324,6 +324,7 @@ class PluginManager {
-             else {
-                 this.searchPaths.add("/usr/local/lib/node_modules");
-                 this.searchPaths.add("/usr/lib/node_modules");
-+                this.searchPaths.add("/usr/lib/node");
-                 this.searchPaths.add(child_process_1.execSync("/bin/echo -n \"$(npm --no-update-notifier -g prefix)/lib/node_modules\"").toString("utf8"));
-             }
-         }
diff -uprN a/feeds/packages/lang/node-javascript-obfuscator/Makefile b/feeds/packages/lang/node-javascript-obfuscator/Makefile
--- a/feeds/packages/lang/node-javascript-obfuscator/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-javascript-obfuscator/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,104 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=javascript-obfuscator
-PKG_NAME:=node-$(PKG_NPM_NAME)
-PKG_VERSION:=2.9.4
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_NPM_NAME)/-/
-PKG_HASH:=db443ed7c07a7a111352dac4aa7c6edd7969f97386f37c1cfe884d5a8c5f5408
-
-PKG_BUILD_DEPENDS:=node/host
-HOST_BUILD_PARALLEL:=1
-
-HOST_BUILD_DEPENDS:=node/host
-PKG_BUILD_PARALLEL:=1
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Zbynek Kocur <zbynek.kocur@fel.cvut.cz>
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.BSD
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-javascript-obfuscator
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=JavaScript obfuscator
-  URL:=https://www.npmjs.org/package/javascript-obfuscator
-  DEPENDS:=+node
-endef
-
-define Package/node-javascript-obfuscator/description
- JavaScript obfuscator is a powerful free obfuscator for JavaScript with a wide number of features which provides protection for your source code.
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-TMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-HOSTTMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-
-TARGET_CFLAGS+=$(FPIC)
-TARGET_CPPFLAGS+=$(FPIC)
-
-define Build/Compile
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(TMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(TMPNPM) \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(TMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(TMPNPM)
-endef
-
-define Package/node-javascript-obfuscator/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{package.json,LICENSE.BSD} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/README.md \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{node_modules,bin,dist} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(LN) ../lib/node/javascript-obfuscator/bin/javascript-obfuscator $(1)/usr/bin/javascript-obfuscator
-endef
-
-define Host/Compile
-	$(HOST_MAKE_VARS) \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(HOST_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(HOSTTMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(HOSTTMPNPM) \
-	npm install -g --no-optional $(HOST_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(HOSTTMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(HOSTTMPNPM)
-endef
-
-define Host/Install
-	$(INSTALL_DIR) $(1)/lib/node_modules/$(PKG_NPM_NAME)
-	$(CP) $(HOST_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{package.json,LICENSE.BSD} \
-		$(1)/lib/node_modules/$(PKG_NPM_NAME)/
-	$(CP) $(HOST_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/README.md \
-		$(1)/lib/node_modules/$(PKG_NPM_NAME)/
-	$(CP) $(HOST_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{node_modules,bin,dist} \
-		$(1)/lib/node_modules/$(PKG_NPM_NAME)/
-	$(INSTALL_DIR) $(1)/bin
-	$(LN) ../lib/node_modules/javascript-obfuscator/bin/javascript-obfuscator $(1)/bin/javascript-obfuscator
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,node-javascript-obfuscator))
diff -uprN a/feeds/packages/lang/node-serialport/Makefile b/feeds/packages/lang/node-serialport/Makefile
--- a/feeds/packages/lang/node-serialport/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-serialport/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,74 +0,0 @@
-#
-# Copyright (C) 2014 Arduino LLC
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=serialport
-PKG_NAME:=node-$(PKG_NPM_NAME)
-PKG_VERSION:=9.0.4
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_NPM_NAME)/-/
-PKG_HASH:=e19fe993ad16ae0e03fc42e24cfe4babf8fd90f8358e1885d5e216277dda1086
-
-PKG_BUILD_DEPENDS:=node/host
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-serialport
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Node.js package to access serial ports
-  URL:=https://serialport.io/
-  DEPENDS:=+node +node-npm +node-serialport-bindings
-endef
-
-define Package/node-serialport/description
- Node.js package to access serial ports for reading and writing OR Welcome your robotic JavaScript overlords. Better yet, program them!
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-TMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-
-TARGET_CFLAGS+=$(FPIC)
-
-define Build/Compile
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(TMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(TMPNPM) \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(TMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(TMPNPM)
-endef
-
-define Package/node-serialport/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{package.json,LICENSE,*.md} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/*.js \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{node_modules,lib} \
-		$(1)/usr/lib/node/$(PKG_NPM_NAME)/
-endef
-
-$(eval $(call BuildPackage,node-serialport))
diff -uprN a/feeds/packages/lang/node-serialport/patches/000-remove_depends.patch b/feeds/packages/lang/node-serialport/patches/000-remove_depends.patch
--- a/feeds/packages/lang/node-serialport/patches/000-remove_depends.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-serialport/patches/000-remove_depends.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/package.json
-+++ b/package.json
-@@ -46,7 +46,6 @@
-   ],
-   "dependencies": {
-     "@serialport/binding-mock": "^9.0.2",
--    "@serialport/bindings": "^9.0.4",
-     "@serialport/parser-byte-length": "^9.0.1",
-     "@serialport/parser-cctalk": "^9.0.1",
-     "@serialport/parser-delimiter": "^9.0.1",
diff -uprN a/feeds/packages/lang/node-serialport-bindings/Makefile b/feeds/packages/lang/node-serialport-bindings/Makefile
--- a/feeds/packages/lang/node-serialport-bindings/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-serialport-bindings/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,74 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_SCOPE:=serialport
-PKG_NPM_NAME:=bindings
-PKG_NAME:=node-$(PKG_NPM_SCOPE)-$(PKG_NPM_NAME)
-PKG_VERSION:=9.0.4
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)/-/
-PKG_HASH:=aec200860bd175e4b14b4ab1aa56a5f750172b6c8e20ccb234846206395848d4
-
-PKG_BUILD_DEPENDS:=node/host
-PKG_USE_MIPS16:=0
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-serialport-bindings
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=SerialPort Bindings
-  URL:=https://www.npmjs.com/package/@serialport/bindings
-  DEPENDS:=+node
-endef
-
-define Package/node-serialport-bindings/description
- The Binding is how Node-SerialPort talks to the underlying system. By default, we auto detect Windows, Linux and OS X, and load the appropriate module for your system. You can assign SerialPort.Binding to any binding you like.
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-NODEJS_CPU:=$(subst powerpc,ppc,$(subst aarch64,arm64,$(subst x86_64,x64,$(subst i386,ia32,$(ARCH)))))
-TMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-
-TARGET_CFLAGS+=$(FPIC)
-TARGET_CPPFLAGS+=$(FPIC)
-
-define Build/Compile
-	$(MAKE_VARS) \
-	$(MAKE_FLAGS) \
-	npm_config_arch=$(NODEJS_CPU) \
-	npm_config_target_arch=$(NODEJS_CPU) \
-	npm_config_build_from_source=true \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(PKG_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(TMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(TMPNPM) \
-	npm install -g $(PKG_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(TMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(TMPNPM)
-endef
-
-define Package/node-serialport-bindings/install
-	$(INSTALL_DIR) $(1)/usr/lib/node/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)/{package.json,LICENSE,*.md} \
-		$(1)/usr/lib/node/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)/{node_modules,lib} \
-		$(1)/usr/lib/node/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)
-	$(INSTALL_DIR) $(1)/usr/lib/node/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)/build/Release
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/node_modules/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)/build/Release/bindings.node \
-		$(1)/usr/lib/node/@$(PKG_NPM_SCOPE)/$(PKG_NPM_NAME)/build/Release/
-endef
-
-$(eval $(call BuildPackage,node-serialport-bindings))
diff -uprN a/feeds/packages/lang/node-yarn/Makefile b/feeds/packages/lang/node-yarn/Makefile
--- a/feeds/packages/lang/node-yarn/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/node-yarn/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,71 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NPM_NAME:=yarn
-PKG_NAME:=node-$(PKG_NPM_NAME)
-PKG_VERSION:=1.22.10
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NPM_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://registry.npmjs.org/$(PKG_NPM_NAME)/-/
-PKG_HASH:=05a22fff30d7d8e8005bed277bf20d55111ba2bed65a6b91a0fcd1307b71fd8d
-
-PKG_MAINTAINER:=Hirokazu MORIKAWA <morikw2@gmail.com>, Patrik Laszlo <alabard@gmail.com>, Dobroslaw Kijowski <dobo90@gmail.com>
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_HOST_ONLY:=1
-HOST_BUILD_DEPENDS:=node/host
-HOST_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/node-yarn
-  SUBMENU:=Node.js
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Fast, reliable, and secure dependency management
-  URL:=https://yarnpkg.com/
-  DEPENDS:=+node
-  BUILDONLY:=1
-endef
-
-define Package/node-yarn/description
- Fast, reliable, and secure dependency management
-endef
-
-TAR_OPTIONS+= --strip-components 1
-TAR_CMD=$(HOST_TAR) -C $(1) $(TAR_OPTIONS)
-
-HOSTTMPNPM:=$(shell mktemp -u XXXXXXXXXX)
-
-define Host/Compile
-	$(HOST_MAKE_VARS) \
-	npm_config_nodedir=$(STAGING_DIR)/usr/ \
-	npm_config_prefix=$(HOST_INSTALL_DIR)/usr/ \
-	npm_config_cache=$(TMP_DIR)/npm-cache-$(HOSTTMPNPM) \
-	npm_config_tmp=$(TMP_DIR)/npm-tmp-$(HOSTTMPNPM) \
-	npm install -g $(HOST_BUILD_DIR)
-	rm -rf $(TMP_DIR)/npm-tmp-$(HOSTTMPNPM)
-	rm -rf $(TMP_DIR)/npm-cache-$(HOSTTMPNPM)
-endef
-
-define Host/Install
-	$(INSTALL_DIR) $(1)/lib/node_modules/$(PKG_NPM_NAME)
-	$(CP) $(HOST_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{package.json,LICENSE} \
-		$(1)/lib/node_modules/$(PKG_NPM_NAME)/
-	$(CP) $(HOST_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/README.md \
-		$(1)/lib/node_modules/$(PKG_NPM_NAME)/
-	$(CP) $(HOST_INSTALL_DIR)/usr/lib/node_modules/$(PKG_NPM_NAME)/{bin,lib} \
-		$(1)/lib/node_modules/$(PKG_NPM_NAME)/
-	$(INSTALL_DIR) $(1)/bin
-	$(LN) ../lib/node_modules/$(PKG_NPM_NAME)/bin/yarn.js $(1)/bin/yarn
-	$(LN) ../lib/node_modules/$(PKG_NPM_NAME)/bin/yarn.js $(1)/bin/yarnpkg
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,node-yarn))
diff -uprN a/feeds/packages/lang/perl/Config.in b/feeds/packages/lang/perl/Config.in
--- a/feeds/packages/lang/perl/Config.in	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/Config.in	1970-01-01 08:00:00.000000000 +0800
@@ -1,31 +0,0 @@
-menu "Configuration"
-	depends on PACKAGE_perl
-
-config PERL_THREADS
-    bool "Enable threading support"
-    default y if (mips || mipsel || i386 || i686 || x86_64 || armeb || arm)
-    default n
-
-config PERL_TESTS
-	bool "Include perl tests"
-	default n
-	help
-		Include test suites for all perl packages.
-		
-		This will increase the size of perl and related packages
-		considerably.
-		Test support is still in development. Some tests will fail,
-		others are just missing completely.
-
-config PERL_NOCOMMENT
-	bool "Strip comments and pod sections from modules"
-	default y
-	help
-		Remove comments and pod sections for all perl packages.
-
-		This will descrease the size of perl libraries moderately.
-
-		Stripping occasionally gets confused and mangles valid code,
-		so disable this option if you're not pressed for space.
-
-endmenu
diff -uprN a/feeds/packages/lang/perl/files/aarch64.config b/feeds/packages/lang/perl/files/aarch64.config
--- a/feeds/packages/lang/perl/files/aarch64.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/aarch64.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-owrt:arch=aarch64
-owrt:bits=64
-owrt:endian=little
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols='__ELF__=1 _FILE_OFFSET_BITS=64 _LARGEFILE_SOURCE=1 _LP64=1 _STDC_PREDEF_H= _XOPEN_SOURCE=700 __AARCH64EL__=1 __AARCH64_CMODEL_SMALL__=1 __ARM_64BIT_STATE=1 __ARM_ARCH=8 __ARM_ARCH_8A=1 __ARM_ARCH_ISA_A64=1 __ARM_ARCH_PROFILE=65 __ARM_FEATURE_CLZ=1 __ARM_FEATURE_FMA=1 __ARM_FEATURE_IDIV=1 __ARM_FEATURE_NUMERIC_MAXMIN=1 __ARM_FEATURE_UNALIGNED=1 __ARM_FP=12 __ARM_NEON=1 __ARM_NEON_FP=12 __ARM_PCS_AAPCS64=1 __ARM_SIZEOF_MINIMAL_ENUM=4 __ARM_SIZEOF_WCHAR_T=4 __ATOMIC_ACQUIRE=2 __ATOMIC_ACQ_REL=4 __ATOMIC_CONSUME=1 __ATOMIC_RELAXED=0 __ATOMIC_RELEASE=3 __ATOMIC_SEQ_CST=5 __BIGGEST_ALIGNMENT__=16 __BYTE_ORDER__=1234 __CHAR16_TYPE__=short\ unsigned\ int __CHAR32_TYPE__=unsigned\ int __CHAR_BIT__=8 __CHAR_UNSIGNED__=1 __DBL_DECIMAL_DIG__=17 __DBL_DENORM_MIN__=((double)4.94065645841246544176568792868221372e-324L) __DBL_DIG__=15 __DBL_EPSILON__=((double)2.22044604925031308084726333618164062e-16L) __DBL_HAS_DENORM__=1 __DBL_HAS_INFINITY__=1 __DBL_HAS_QUIET_NAN__=1 __DBL_MANT_DIG__=53 __DBL_MAX_10_EXP__=308 __DBL_MAX_EXP__=1024 __DBL_MAX__=((double)1.79769313486231570814527423731704357e+308L) __DBL_MIN_10_EXP__=(-307) __DBL_MIN_EXP__=(-1021) __DBL_MIN__=((double)2.22507385850720138309023271733240406e-308L) __DEC128_EPSILON__=1E-33DL __DEC128_MANT_DIG__=34 __DEC128_MAX_EXP__=6145 __DEC128_MAX__=9.999999999999999999999999999999999E6144DL __DEC128_MIN_EXP__=(-6142) __DEC128_MIN__=1E-6143DL __DEC128_SUBNORMAL_MIN__=0.000000000000000000000000000000001E-6143DL __DEC32_EPSILON__=1E-6DF __DEC32_MANT_DIG__=7 __DEC32_MAX_EXP__=97 __DEC32_MAX__=9.999999E96DF __DEC32_MIN_EXP__=(-94) __DEC32_MIN__=1E-95DF __DEC32_SUBNORMAL_MIN__=0.000001E-95DF __DEC64_EPSILON__=1E-15DD __DEC64_MANT_DIG__=16 __DEC64_MAX_EXP__=385 __DEC64_MAX__=9.999999999999999E384DD __DEC64_MIN_EXP__=(-382) __DEC64_MIN__=1E-383DD __DEC64_SUBNORMAL_MIN__=0.000000000000001E-383DD __DECIMAL_DIG__=36 __DEC_EVAL_METHOD__=2 __ELF__=1 __FINITE_MATH_ONLY__=0 __FLOAT_WORD_ORDER__=1234 __FLT_DECIMAL_DIG__=9 __FLT_DENORM_MIN__=1.40129846432481707092372958328991613e-45F __FLT_DIG__=6 __FLT_EPSILON__=1.19209289550781250000000000000000000e-7F __FLT_EVAL_METHOD__=0 __FLT_HAS_DENORM__=1 __FLT_HAS_INFINITY__=1 __FLT_HAS_QUIET_NAN__=1 __FLT_MANT_DIG__=24 __FLT_MAX_10_EXP__=38 __FLT_MAX_EXP__=128 __FLT_MAX__=3.40282346638528859811704183484516925e+38F __FLT_MIN_10_EXP__=(-37) __FLT_MIN_EXP__=(-125) __FLT_MIN__=1.17549435082228750796873653722224568e-38F __FLT_RADIX__=2 __FP_FAST_FMA=1 __FP_FAST_FMAF=1 __GCC_ATOMIC_BOOL_LOCK_FREE=2 __GCC_ATOMIC_CHAR16_T_LOCK_FREE=2 __GCC_ATOMIC_CHAR32_T_LOCK_FREE=2 __GCC_ATOMIC_CHAR_LOCK_FREE=2 __GCC_ATOMIC_INT_LOCK_FREE=2 __GCC_ATOMIC_LLONG_LOCK_FREE=2 __GCC_ATOMIC_LONG_LOCK_FREE=2 __GCC_ATOMIC_POINTER_LOCK_FREE=2 __GCC_ATOMIC_SHORT_LOCK_FREE=2 __GCC_ATOMIC_TEST_AND_SET_TRUEVAL=1 __GCC_ATOMIC_WCHAR_T_LOCK_FREE=2 __GCC_HAVE_SYNC_COMPARE_AND_SWAP_1=1 __GCC_HAVE_SYNC_COMPARE_AND_SWAP_2=1 __GCC_HAVE_SYNC_COMPARE_AND_SWAP_4=1 __GCC_HAVE_SYNC_COMPARE_AND_SWAP_8=1 __GCC_IEC_559=2 __GCC_IEC_559_COMPLEX=2 __GNUC_MINOR__=4 __GNUC_PATCHLEVEL__=0 __GNUC_STDC_INLINE__=1 __GNUC__=5 __INT16_C=__INT16_C __INT16_MAX__=0x7fff __INT16_TYPE__=short\ int __INT32_C=__INT32_C __INT32_MAX__=0x7fffffff __INT32_TYPE__=int __INT64_C=__INT64_C __INT64_MAX__=0x7fffffffffffffffL __INT64_TYPE__=long\ int __INT8_C=__INT8_C __INT8_MAX__=0x7f __INT8_TYPE__=signed\ char __INTMAX_C=__INTMAX_C __INTMAX_MAX__=0x7fffffffffffffffL __INTMAX_TYPE__=long\ int __INTPTR_MAX__=0x7fffffffffffffffL __INTPTR_TYPE__=long\ int __INT_FAST16_MAX__=0x7fffffff __INT_FAST16_TYPE__=int __INT_FAST32_MAX__=0x7fffffff __INT_FAST32_TYPE__=int __INT_FAST64_MAX__=0x7fffffffffffffffL __INT_FAST64_TYPE__=long\ int __INT_FAST8_MAX__=0x7f __INT_FAST8_TYPE__=signed\ char __INT_LEAST16_MAX__=0x7fff __INT_LEAST16_TYPE__=short\ int __INT_LEAST32_MAX__=0x7fffffff __INT_LEAST32_TYPE__=int __INT_LEAST64_MAX__=0x7fffffffffffffffL __INT_LEAST64_TYPE__=long\ int __INT_LEAST8_MAX__=0x7f __INT_LEAST8_TYPE__=signed\ char __INT_MAX__=0x7fffffff __LDBL_DENORM_MIN__=6.47517511943802511092443895822764655e-4966L __LDBL_DIG__=33 __LDBL_EPSILON__=1.92592994438723585305597794258492732e-34L __LDBL_HAS_DENORM__=1 __LDBL_HAS_INFINITY__=1 __LDBL_HAS_QUIET_NAN__=1 __LDBL_MANT_DIG__=113 __LDBL_MAX_10_EXP__=4932 __LDBL_MAX_EXP__=16384 __LDBL_MAX__=1.18973149535723176508575932662800702e+4932L __LDBL_MIN_10_EXP__=(-4931) __LDBL_MIN_EXP__=(-16381) __LDBL_MIN__=3.36210314311209350626267781732175260e-4932L __LONG_LONG_MAX__=0x7fffffffffffffffLL __LONG_MAX__=0x7fffffffffffffffL __LP64__=1 __ORDER_BIG_ENDIAN__=4321 __ORDER_LITTLE_ENDIAN__=1234 __ORDER_PDP_ENDIAN__=3412 __PRAGMA_REDEFINE_EXTNAME=1 __PTRDIFF_MAX__=0x7fffffffffffffffL __PTRDIFF_TYPE__=long\ int __REGISTER_PREFIX__= __SCHAR_MAX__=0x7f __SHRT_MAX__=0x7fff __SIG_ATOMIC_MAX__=0x7fffffff __SIG_ATOMIC_MIN__=(-0x7fffffff\ -\ 1) __SIG_ATOMIC_TYPE__=int __SIZEOF_DOUBLE__=8 __SIZEOF_FLOAT__=4 __SIZEOF_INT128__=16 __SIZEOF_INT__=4 __SIZEOF_LONG_DOUBLE__=16 __SIZEOF_LONG_LONG__=8 __SIZEOF_LONG__=8 __SIZEOF_POINTER__=8 __SIZEOF_PTRDIFF_T__=8 __SIZEOF_SHORT__=2 __SIZEOF_SIZE_T__=8 __SIZEOF_WCHAR_T__=4 __SIZEOF_WINT_T__=4 __SIZE_MAX__=0xffffffffffffffffUL __SIZE_TYPE__=long\ unsigned\ int __STDC_HOSTED__=1 __STDC_IEC_559__=1 __STDC_ISO_10646__=201206L __STDC_UTF_16__=1 __STDC_UTF_32__=1 __STDC__=1 __UINT16_C=__UINT16_C __UINT16_MAX__=0xffff __UINT16_TYPE__=short\ unsigned\ int __UINT32_C=__UINT32_C __UINT32_MAX__=0xffffffffU __UINT32_TYPE__=unsigned\ int __UINT64_C=__UINT64_C __UINT64_MAX__=0xffffffffffffffffUL __UINT64_TYPE__=long\ unsigned\ int __UINT8_C=__UINT8_C __UINT8_MAX__=0xff __UINT8_TYPE__=unsigned\ char __UINTMAX_C=__UINTMAX_C __UINTMAX_MAX__=0xffffffffffffffffUL __UINTMAX_TYPE__=long\ unsigned\ int __UINTPTR_MAX__=0xffffffffffffffffUL __UINTPTR_TYPE__=long\ unsigned\ int __UINT_FAST16_MAX__=0xffffffffU __UINT_FAST16_TYPE__=unsigned\ int __UINT_FAST32_MAX__=0xffffffffU __UINT_FAST32_TYPE__=unsigned\ int __UINT_FAST64_MAX__=0xffffffffffffffffUL __UINT_FAST64_TYPE__=long\ unsigned\ int __UINT_FAST8_MAX__=0xff __UINT_FAST8_TYPE__=unsigned\ char __UINT_LEAST16_MAX__=0xffff __UINT_LEAST16_TYPE__=short\ unsigned\ int __UINT_LEAST32_MAX__=0xffffffffU __UINT_LEAST32_TYPE__=unsigned\ int __UINT_LEAST64_MAX__=0xffffffffffffffffUL __UINT_LEAST64_TYPE__=long\ unsigned\ int __UINT_LEAST8_MAX__=0xff __UINT_LEAST8_TYPE__=unsigned\ char __USER_LABEL_PREFIX__= __WCHAR_MAX__=0xffffffffU __WCHAR_MIN__=0U __WCHAR_TYPE__=unsigned\ int __WINT_MAX__=0xffffffffU __WINT_MIN__=0U __WINT_TYPE__=unsigned\ int __aarch64__=1 __linux=1 __linux__=1 __unix=1 __unix__=1 linux=1 unix=1'
-d_casti32='define'
-d_double_style_ieee='define'
-d_modflproto='define'
-doublekind='3'
-fpossize='16'
-longdblkind='1'
-need_va_copy='undef'
-quadkind='2'
-
-owrt:sig_count='64'
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS'
-owrt:sig_name_extra='IOT CLD POLL UNUSED'
-owrt:sig_num_extra='6 17 29 31'
diff -uprN a/feeds/packages/lang/perl/files/architecture.config b/feeds/packages/lang/perl/files/architecture.config
--- a/feeds/packages/lang/perl/files/architecture.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/architecture.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,121 +0,0 @@
-alignbytes='8'
-
-($owrt:bits eq '32') {
-	($owrt:endian eq 'little') {
-		byteorder='1234'
-	}
-	($owrt:endian eq 'big') {
-		byteorder='4321'
-	}
-	
-	# Types
-	ivsize='4'
-	uvsize='4'
-	longsize='4'
-	longdblsize='8'
-	ptrsize='4'
-	
-	#quadkind='3'
-	#doublekind='3'
-	#longdblkind='0'
-	
-	i8type='signed char'
-	i16type='signed short'
-	i32type='signed long'
-	i64type='signed long long'
-	u32type='unsigned long'
-	u64type='unsigned long long'
-	quadtype='long long'
-	uquadtype='unsigned long long'
-	
-	sizesize='4'
-	
-	use64bitall='undef'
-	use64bitint='undef'
-	
-	uidformat='"lu"'
-	gidformat='"lu"'
-	
-	selectminbits='32'
-	
-	sGMTIME_max='2147483647'
-	sGMTIME_min='-2147483648'
-	sLOCALTIME_max='2147483647'
-	sLOCALTIME_min='-2147483648'
-	
-	sPRIi64='"Li"'
-	sPRIo64='"Lo"'
-	sPRIu64='"Lu"'
-	sPRIx64='"Lx"'
-	sPRId64='"Ld"'
-	
-	netdb_host_type='const void *'
-	nv_preserves_uv_bits='32'
-	d_nv_preserves_uv='define'
-	d_printf_format_null='define'
-	d_u32align='undef'
-}
-($owrt:bits eq '64') {
-	($owrt:endian eq 'little') {
-		byteorder='12345678'
-	}
-	($owrt:endian eq 'big') {
-		byteorder='87654321'
-	}
-	
-	# Types
-	ivsize='8'
-	uvsize='8'
-	longsize='8'
-	longdblsize='16'
-	ptrsize='8'
-	
-	quadtype='long'
-	
-	i16type='signed short'
-	i32type='signed int'
-	i64type='signed long'
-	i8type='signed char'
-	
-	u32type='unsigned int'
-	u64type='unsigned long'
-	uquadtype='unsigned long'
-	
-	sizesize='8'
-	
-	uidformat='"u"'
-	gidformat='"u"'
-	
-	selectminbits='64'
-	
-	sGMTIME_max='67768036191676799'
-	sGMTIME_min='-62167219200'
-	sLOCALTIME_max='67768036191673199'
-	sLOCALTIME_min='-62167222408'
-	
-	sPRIi64='"li"'
-	sPRIo64='"lo"'
-	sPRIu64='"lu"'
-	sPRIx64='"lx"'
-	sPRId64='"ld"'
-	
-	netdb_host_type='char *'
-	nv_preserves_uv_bits='53'
-	d_nv_preserves_uv='undef'
-	d_printf_format_null='undef'
-	d_u32align='define'
-	use64bitall='define'
-	use64bitint='define'
-}
-
-# Only defined by i486 and x86_64. Provide defaults for all others
-(!defined($sPRIEUldbl)) {
-	sPRIEUldbl='"E"'
-	sPRIFUldbl='"F"'
-	sPRIGUldbl='"G"'
-	sPRIXU64='"LX"'
-	sPRIeldbl='"e"'
-	sPRIfldbl='"f"'
-	sPRIgldbl='"g"'
-	sSCNfldbl='"f"'
-}
diff -uprN a/feeds/packages/lang/perl/files/arm.config b/feeds/packages/lang/perl/files/arm.config
--- a/feeds/packages/lang/perl/files/arm.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/arm.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-owrt:arch=arm
-owrt:bits=32
-owrt:endian=little
-
-ccsymbols='__ARM_ARCH_3__=1'
-cppccsymbols=''
-cppsymbols='__ELF__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 _LARGEFILE_SOURCE=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 linux=1 __linux=1 __linux__=1 unix=1 __unix=1 __unix__=1'
-d_casti32='define'
-d_double_style_ieee='define'
-d_modflproto='undef'
-doublekind='3'
-fpossize='20'
-longdblkind='0'
-need_va_copy='undef'
-quadkind='3'
-
-owrt:sig_count='64'
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS'
-owrt:sig_name_extra='IOT CLD POLL UNUSED'
-owrt:sig_num_extra='6 17 29 31'
diff -uprN a/feeds/packages/lang/perl/files/armeb.config b/feeds/packages/lang/perl/files/armeb.config
--- a/feeds/packages/lang/perl/files/armeb.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/armeb.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-owrt:arch=armeb
-owrt:bits=32
-owrt:endian=big
-
-ccsymbols='__ARM_ARCH_3__=1'
-cppccsymbols=''
-cppsymbols='__ELF__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 _LARGEFILE_SOURCE=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 linux=1 __linux=1 __linux__=1 unix=1 __unix=1 __unix__=1'
-d_casti32='define'
-d_double_style_ieee='define'
-d_modflproto='undef'
-doublekind='4'
-fpossize='20'
-longdblkind='0'
-need_va_copy='undef'
-quadkind='3'
-
-owrt:sig_count='64'
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS'
-owrt:sig_name_extra='IOT CLD POLL UNUSED'
-owrt:sig_num_extra='6 17 29 31'
diff -uprN a/feeds/packages/lang/perl/files/base.config b/feeds/packages/lang/perl/files/base.config
--- a/feeds/packages/lang/perl/files/base.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/base.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,1057 +0,0 @@
-Author=''
-Date=''
-Header=''
-Id=''
-Locker=''
-Log=''
-PERL_CONFIG_SH=true
-PERL_PATCHLEVEL=
-RCSfile=''
-Revision=''
-Source=''
-State=''
-_a='.a'
-_exe=''
-_o='.o'
-afs='false'
-afsroot='/afs'
-ansi2knr=''
-aphostname='/bin/hostname'
-ar='ar'
-archname64=''
-archobjs=''
-awk='awk'
-baserev='5.0'
-bash=''
-bin='/usr/bin'
-bin_ELF='define'
-binexp='/usr/bin'
-bison='bison'
-byacc='byacc'
-c=''
-castflags='0'
-cat='cat'
-ccname='gcc'
-ccversion=''
-cf_by='root'
-charbits='8'
-charsize='1'
-chgrp=''
-chmod='chmod'
-chown=''
-clocktype='clock_t'
-comm='comm'
-compress=''
-config_arg0='./Configure'
-config_arg1='-der'
-contains='grep'
-cp='cp'
-cpio=''
-cpp='cpp'
-cpp_stuff='42'
-cpplast='-'
-cppminus='-'
-cryptlib=''
-csh='csh'
-ctermid_r_proto='0'
-d_Gconvert='sprintf((b),"%.*g",(n),(x))'
-d_PRIEUldbl='define'
-d_PRIFUldbl='define'
-d_PRIGUldbl='define'
-d_PRIXU64='define'
-d_PRId64='define'
-d_PRIeldbl='define'
-d_PRIfldbl='define'
-d_PRIgldbl='define'
-d_PRIi64='define'
-d_PRIo64='define'
-d_PRIu64='define'
-d_PRIx64='define'
-d_SCNfldbl='define'
-d__fwalk='undef'
-d_accept4='define'
-d_access='define'
-d_accessx='undef'
-d_acosh='define'
-d_aintl='undef'
-d_alarm='define'
-d_archlib='undef'
-d_asctime64='undef'
-d_asinh='define'
-d_atanh='define'
-d_atolf='undef'
-d_atoll='define'
-d_attribute_deprecated='define'
-d_attribute_format='define'
-d_attribute_malloc='define'
-d_attribute_nonnull='define'
-d_attribute_noreturn='define'
-d_attribute_pure='define'
-d_attribute_unused='define'
-d_attribute_warn_unused_result='define'
-d_backtrace='define'
-d_bcmp='define'
-d_bcopy='define'
-d_bsd='undef'
-d_bsdgetpgrp='undef'
-d_bsdsetpgrp='undef'
-d_builtin_add_overflow='define'
-d_builtin_choose_expr='define'
-d_builtin_expect='undef'
-d_builtin_mul_overflow='define'
-d_builtin_sub_overflow='define'
-d_bzero='define'
-d_c99_variadic_macros='define'
-d_castneg='define'
-d_cbrt='define'
-d_charvspr='undef'
-d_chown='define'
-d_chroot='define'
-d_chsize='undef'
-d_class='undef'
-d_clearenv='define'
-d_clock='define'
-d_clock_getres='define'
-d_clock_gettime='define'
-d_clock_nanosleep='define'
-d_closedir='define'
-d_cmsghdr_s='define'
-d_const='define'
-d_copysign='define'
-d_copysignl='undef'
-d_cplusplus='undef'
-d_csh='undef'
-d_ctermid='define'
-d_ctermid_r='undef'
-d_ctime64='undef'
-d_cuserid='define'
-d_dbl_dig='define'
-d_dbminitproto='undef'
-d_difftime='define'
-d_difftime64='undef'
-d_dir_dd_fd='undef'
-d_dirfd='define'
-d_dirnamlen='undef'
-d_dladdr='define'
-d_dlerror='define'
-d_dlopen='define'
-d_dlsymun='undef'
-d_dosuid='undef'
-d_double_has_inf='define'
-d_double_has_nan='define'
-d_double_has_negative_zero='define'
-d_double_has_subnormals='define'
-d_double_style_cray='undef'
-d_double_style_ibm='undef'
-d_double_style_ieee='define'
-d_double_style_vax='undef'
-d_drand48proto='define'
-d_dup2='define'
-d_dup3='define'
-d_duplocale='define'
-d_eaccess='undef'
-d_endgrent='define'
-d_endgrent_r='undef'
-d_endhent='define'
-d_endhostent_r='undef'
-d_endnent='define'
-d_endnetent_r='undef'
-d_endpent='define'
-d_endprotoent_r='undef'
-d_endpwent='define'
-d_endpwent_r='undef'
-d_endsent='define'
-d_endservent_r='undef'
-d_eofnblk='define'
-d_erf='define'
-d_erfc='define'
-d_eunice='undef'
-d_exp2='define'
-d_expm1='define'
-d_faststdio='undef'
-d_fchdir='define'
-d_fchmod='define'
-d_fchmodat='define'
-d_fchown='define'
-d_fcntl='define'
-d_fcntl_can_lock='define'
-d_fd_macros='define'
-d_fd_set='define'
-d_fdclose='undef'
-d_fdim='define'
-d_fgetpos='define'
-d_finite='define'
-d_finitel='undef'
-d_flexfnam='define'
-d_flock='define'
-d_flockproto='define'
-d_fma='define'
-d_fmax='define'
-d_fmin='define'
-d_fork='define'
-d_fp_class='undef'
-d_fp_classify='undef'
-d_fp_classl='undef'
-d_fpathconf='define'
-d_fpclass='undef'
-d_fpclassify='define'
-d_fpclassl='undef'
-d_fpgetround='undef'
-d_fpos64_t='undef'
-d_freelocale='define'
-d_frexpl='undef'
-d_fs_data_s='undef'
-d_fseeko='define'
-d_fsetpos='define'
-d_fstatfs='define'
-d_fstatvfs='define'
-d_fsync='define'
-d_ftello='define'
-d_ftime='undef'
-d_futimes='undef'
-d_gai_strerror='define'
-d_gdbm_ndbm_h_uses_prototypes='undef'
-d_gdbmndbm_h_uses_prototypes='undef'
-d_getaddrinfo='define'
-d_getcwd='define'
-d_getespwnam='undef'
-d_getfsstat='undef'
-d_getgrent='define'
-d_getgrps='define'
-d_gethbyaddr='define'
-d_gethbyname='define'
-d_gethent='define'
-d_gethname='define'
-d_gethostprotos='define'
-d_getitimer='define'
-d_getlogin='define'
-d_getmnt='undef'
-d_getmntent='define'
-d_getnameinfo='define'
-d_getnbyaddr='define'
-d_getnbyname='define'
-d_getnent='define'
-d_getnetprotos='define'
-d_getpagsz='define'
-d_getpbyname='define'
-d_getpbynumber='define'
-d_getpent='define'
-d_getpgid='define'
-d_getpgrp='define'
-d_getpgrp2='undef'
-d_getppid='define'
-d_getprior='define'
-d_getprotoprotos='define'
-d_getprpwnam='undef'
-d_getpwent='define'
-d_getsbyname='define'
-d_getsbyport='define'
-d_getsent='define'
-d_getservprotos='define'
-d_getspnam='define'
-d_gettimeod='define'
-d_gmtime64='undef'
-d_gnulibc='undef'
-d_grpasswd='define'
-d_hasmntopt='define'
-d_htonl='define'
-d_hypot='define'
-d_ilogb='define'
-d_ilogbl='undef'
-d_inc_version_list='undef'
-d_index='undef'
-d_inetaton='define'
-d_inetntop='define'
-d_inetpton='define'
-d_int64_t='define'
-d_ip_mreq='define'
-d_ip_mreq_source='define'
-d_ipv6_mreq="$owrt:ipv6"
-d_ipv6_mreq_source='undef'
-d_isascii='define'
-d_isblank='define'
-d_isfinite='define'
-d_isfinitel='undef'
-d_isinf='define'
-d_isinfl='define'
-d_isless='undef'
-d_isnan='define'
-d_isnanl='undef'
-d_isnormal='define'
-d_killpg='define'
-d_lc_monetary_2008='define'
-d_lchown='define'
-d_ldbl_dig='define'
-d_ldexpl='define'
-d_lgamma='define'
-d_lgamma_r='define'
-d_libm_lib_version='define'
-d_libname_unique='undef'
-d_link='define'
-d_linkat='define'
-d_llrint='define'
-d_llrintl='define'
-d_llround='define'
-d_llroundl='define'
-d_localeconv_l='undef'
-d_localtime64='undef'
-d_locconv='define'
-d_lockf='define'
-d_log1p='define'
-d_log2='define'
-d_logb='define'
-d_long_double_style_ieee='undef'
-d_long_double_style_ieee_doubledouble='undef'
-d_long_double_style_ieee_extended='undef'
-d_long_double_style_ieee_std='undef'
-d_long_double_style_vax='undef'
-d_longdbl='define'
-d_longlong='define'
-d_lrint='define'
-d_lrintl='define'
-d_lround='define'
-d_lroundl='define'
-d_lseekproto='define'
-d_lstat='define'
-d_madvise='define'
-d_malloc_good_size='undef'
-d_malloc_size='undef'
-d_mblen='define'
-d_mbrlen='define'
-d_mbrtowc='define'
-d_mbstowcs='define'
-d_mbtowc='define'
-d_memchr='define'
-d_memcmp='define'
-d_memcpy='define'
-d_memmem='define'
-d_memmove='define'
-d_memrchr='undef'
-d_memset='define'
-d_mkdir='define'
-d_mkdtemp='define'
-d_mkfifo='define'
-d_mkostemp='define'
-d_mkstemp='define'
-d_mkstemps='undef'
-d_mktime='define'
-d_mktime64='undef'
-d_mmap='define'
-d_modfl='undef'
-d_modfl_pow32_bug='undef'
-d_mprotect='define'
-d_msg='define'
-d_msg_ctrunc='define'
-d_msg_dontroute='define'
-d_msg_oob='define'
-d_msg_peek='define'
-d_msg_proxy='define'
-d_msgctl='define'
-d_msgget='define'
-d_msghdr_s='define'
-d_msgrcv='define'
-d_msgsnd='define'
-d_msync='define'
-d_munmap='define'
-d_mymalloc='undef'
-d_nan='define'
-d_nanosleep='define'
-d_ndbm='undef'
-d_ndbm_h_uses_prototypes='undef'
-d_nearbyint='define'
-d_newlocale='define'
-d_nextafter='define'
-d_nice='define'
-d_nl_langinfo='define'
-d_nv_zero_is_allbits_zero='define'
-d_old_pthread_create_joinable='undef'
-d_oldpthreads='undef'
-d_oldsock='undef'
-d_open3='define'
-d_openat='define'
-d_pathconf='define'
-d_pause='define'
-d_perl_otherlibdirs='undef'
-d_phostname='undef'
-d_pipe='define'
-d_pipe2='define'
-d_poll='define'
-d_portable='define'
-d_prctl='define'
-d_prctl_set_name='define'
-d_procselfexe='define'
-d_pseudofork='undef'
-d_pthread_attr_setscope='define'
-d_ptrdiff_t='define'
-d_pwage='undef'
-d_pwchange='undef'
-d_pwclass='undef'
-d_pwcomment='undef'
-d_pwexpire='undef'
-d_pwgecos='define'
-d_pwpasswd='define'
-d_pwquota='undef'
-d_qgcvt='undef'
-d_quad='define'
-d_querylocale='undef'
-d_re_comp='undef'
-d_readdir='define'
-d_readlink='define'
-d_readv='define'
-d_recvmsg='define'
-d_regcmp='undef'
-d_regcomp='define'
-d_remainder='define'
-d_remquo='define'
-d_renameat='define'
-d_rename='define'
-d_rewinddir='define'
-d_rint='define'
-d_rmdir='define'
-d_round='define'
-d_safebcpy='undef'
-d_safemcpy='undef'
-d_sanemcmp='define'
-d_sbrkproto='define'
-d_scalbn='define'
-d_scalbnl='undef'
-d_sched_yield='define'
-d_scm_rights='define'
-d_seekdir='define'
-d_select='define'
-d_sem='define'
-d_semctl='define'
-d_semctl_semid_ds='define'
-d_semctl_semun='define'
-d_semget='define'
-d_semop='define'
-d_sendmsg='define'
-d_setegid='define'
-d_seteuid='define'
-d_setgrent='define'
-d_setgrent_r='undef'
-d_setgrps='define'
-d_sethent='define'
-d_sethostent_r='undef'
-d_setitimer='define'
-d_setlinebuf='define'
-d_setlocale='define'
-d_setlocale_r='undef'
-d_setnent='define'
-d_setnetent_r='undef'
-d_setpent='define'
-d_setpgid='define'
-d_setpgrp='define'
-d_setpgrp2='undef'
-d_setprior='define'
-d_setproctitle='undef'
-d_setprotoent_r='undef'
-d_setpwent='define'
-d_setpwent_r='undef'
-d_setregid='define'
-d_setresgid='define'
-d_setresuid='define'
-d_setreuid='define'
-d_setrgid='undef'
-d_setruid='undef'
-d_setsent='define'
-d_setservent_r='undef'
-d_setsid='define'
-d_setvbuf='define'
-d_sfio='undef'
-d_shm='define'
-d_shmat='define'
-d_shmatprototype='define'
-d_shmctl='define'
-d_shmdt='define'
-d_shmget='define'
-d_sigaction='define'
-d_siginfo_si_addr='define'
-d_siginfo_si_band='define'
-d_siginfo_si_errno='define'
-d_siginfo_si_fd='define'
-d_siginfo_si_pid='define'
-d_siginfo_si_status='define'
-d_siginfo_si_uid='define'
-d_siginfo_si_value='define'
-d_signbit='undef'
-d_sigprocmask='define'
-d_sigsetjmp='define'
-d_sin6_scope_id="$owrt:ipv6"
-d_sitearch='define'
-d_snprintf='define'
-d_sockaddr_in6="$owrt:ipv6"
-d_sockaddr_sa_len='undef'
-d_sockatmark='undef'
-d_sockatmarkproto='undef'
-d_socket='define'
-d_socklen_t='define'
-d_sockpair='define'
-d_socks5_init='undef'
-d_sprintf_returns_strlen='define'
-d_sqrtl='undef'
-d_stat='define'
-d_statblks='define'
-d_statfs_f_flags='undef'
-d_statfs_s='define'
-d_static_inline='define'
-d_statvfs='define'
-d_stdio_cnt_lval='undef'
-d_stdio_ptr_lval='undef'
-d_stdio_ptr_lval_nochange_cnt='undef'
-d_stdio_ptr_lval_sets_cnt='undef'
-d_stdio_stream_array='undef'
-d_stdiobase='undef'
-d_stdstdio='undef'
-d_strchr='define'
-d_strcoll='define'
-d_strctcpy='define'
-d_strerrm='strerror(e)'
-d_strerror='define'
-d_strerror_l='define'
-d_strftime='define'
-d_strlcat='define'
-d_strlcpy='define'
-d_strnlen='define'
-d_strtod='define'
-d_strtod_l='define'
-d_strtol='define'
-d_strtold='define'
-d_strtold_l='define'
-d_strtoll='define'
-d_strtoq='define'
-d_strtoul='define'
-d_strtoull='define'
-d_strtouq='define'
-d_strxfrm='define'
-d_suidsafe='undef'
-d_symlink='define'
-d_syscall='define'
-d_syscallproto='define'
-d_sysconf='define'
-d_sysernlst=''
-d_syserrlst='undef'
-d_system='define'
-d_tcgetpgrp='define'
-d_tcsetpgrp='define'
-d_telldir='define'
-d_telldirproto='define'
-d_tgamma='define'
-d_thread_safe_nl_langinfo_l='define'
-d_time='define'
-d_timegm='define'
-d_times='define'
-d_tm_tm_gmtoff='define'
-d_tm_tm_zone='define'
-d_trunc='define'
-d_truncate='define'
-d_truncl='define'
-d_tzname='define'
-d_ualarm='define'
-d_umask='define'
-d_uname='define'
-d_union_semun='undef'
-d_unlinkat='define'
-d_unordered='undef'
-d_unsetenv='define'
-d_uselocale='define'
-d_usleep='define'
-d_usleepproto='define'
-d_ustat='define'
-d_vendorarch='undef'
-d_vendorbin='undef'
-d_vendorlib='undef'
-d_vendorscript='undef'
-d_vfork='undef'
-d_void_closedir='undef'
-d_voidsig='define'
-d_voidtty=''
-d_volatile='define'
-d_vprintf='define'
-d_vsnprintf='define'
-d_wait4='define'
-d_waitpid='define'
-d_wcscmp='define'
-d_wcstombs='define'
-d_wcsxfrm='define'
-d_wctomb='define'
-d_writev='define'
-d_xenix='undef'
-date='date'
-db_hashtype='u_int32_t'
-db_prefixtype='size_t'
-db_version_major=''
-db_version_minor=''
-db_version_patch=''
-default_inc_excludes_dot='define'
-defvoidused='15'
-direntrytype='struct dirent'
-dlext='so'
-dlsrc='dl_dlopen.xs'
-doublesize='8'
-drand01='drand48()'
-dtrace=''
-eagain='EAGAIN'
-ebcdic='undef'
-echo='echo'
-egrep='egrep'
-emacs=''
-endgrent_r_proto='0'
-endhostent_r_proto='0'
-endnetent_r_proto='0'
-endprotoent_r_proto='0'
-endpwent_r_proto='0'
-endservent_r_proto='0'
-eunicefix=':'
-exe_ext=''
-expr='expr'
-extern_C='extern'
-extras=''
-fflushNULL='define'
-fflushall='undef'
-find=''
-firstmakefile='makefile'
-flex=''
-fpostype='fpos_t'
-freetype='void'
-from=':'
-full_csh='csh'
-full_sed='sed'
-gccansipedantic=''
-gccosandvers=''
-gidsign='1'
-gidsize='4'
-gidtype='gid_t'
-glibpth='/usr/shlib  /lib /usr/lib /usr/lib/386 /lib/386 /usr/ccs/lib /usr/ucblib /usr/local/lib '
-gmake='gmake'
-gnulibc_version=''
-grep='grep'
-groupcat='cat /etc/group'
-groupstype='gid_t'
-gzip='gzip'
-h_fcntl='false'
-h_sysfile='true'
-hint='recommended'
-hostcat='cat /etc/hosts'
-hostgenerate="$owrt:host_perl_prefix/bin/generate_uudmap"
-hostosname=''
-hostperl="$owrt:host_perl_prefix/bin/perl"
-html1dir=' '
-html1direxp=''
-html3dir=' '
-html3direxp=''
-i16size='2'
-i32size='4'
-i64size='8'
-i8size='1'
-i_arpainet='define'
-i_assert='define'
-i_bfd='undef'
-i_bsdioctl=''
-i_db='define'
-i_dbm='undef'
-i_dirent='define'
-i_dld='undef'
-i_dlfcn='define'
-i_execinfo='define'
-i_fcntl='undef'
-i_fenv='undef'
-i_float='define'
-i_fp='undef'
-i_fp_class='undef'
-i_gdbm='define'
-i_gdbm_ndbm='undef'
-i_gdbmndbm='undef'
-i_grp='define'
-i_ieeefp='undef'
-i_inttypes='define'
-i_langinfo='define'
-i_libutil='undef'
-i_limits='define'
-i_locale='define'
-i_machcthr='undef'
-i_malloc='define'
-i_mallocmalloc='undef'
-i_math='define'
-i_memory='undef'
-i_mntent='define'
-i_ndbm='undef'
-i_netdb='define'
-i_neterrno='undef'
-i_netinettcp='define'
-i_niin='define'
-i_poll='define'
-i_prot='undef'
-i_pthread='define'
-i_pwd='define'
-i_quadmath='define'
-i_rpcsvcdbm='undef'
-i_sfio='undef'
-i_sgtty='undef'
-i_shadow='define'
-i_socks='undef'
-i_stdarg='define'
-i_stdbool='define'
-i_stddef='define'
-i_stdint='define'
-i_stdlib='define'
-i_string='define'
-i_sunmath='undef'
-i_sysaccess='undef'
-i_sysdir='define'
-i_sysfile='define'
-i_sysfilio='undef'
-i_sysin='undef'
-i_sysioctl='define'
-i_syslog='define'
-i_sysmman='define'
-i_sysmode='undef'
-i_sysmount='define'
-i_sysndir='undef'
-i_sysparam='define'
-i_syspoll='define'
-i_sysresrc='define'
-i_syssecrt='undef'
-i_sysselct='define'
-i_syssockio='undef'
-i_sysstat='define'
-i_sysstatfs='define'
-i_sysstatvfs='define'
-i_systime='define'
-i_systimek='undef'
-i_systimes='define'
-i_systypes='define'
-i_sysuio='define'
-i_sysun='define'
-i_sysutsname='define'
-i_sysvfs='define'
-i_syswait='define'
-i_termio='undef'
-i_termios='define'
-i_time='define'
-i_unistd='define'
-i_ustat='define'
-i_utime='define'
-i_values='define'
-i_varargs='undef'
-i_varhdr='stdarg.h'
-i_vfork='undef'
-i_wchar='define'
-i_xlocale='undef'
-ignore_versioned_solibs='y'
-inc_version_list=' '
-inc_version_list_init='0'
-incpath=''
-inews=''
-initialinstalllocation='/usr/bin'
-installbin='/usr/bin'
-installhtml1dir=''
-installhtml3dir=''
-installman1dir=''
-installman3dir=''
-installprefix='/usr'
-installprefixexp='/usr'
-installscript='/usr/bin'
-installsitebin='/usr/bin'
-installsitehtml1dir=''
-installsitehtml3dir=''
-installsiteman1dir=''
-installsiteman3dir=''
-installsitescript='/usr/bin'
-installstyle='lib/perl5'
-installusrbinperl='define'
-installvendorarch=''
-installvendorbin=''
-installvendorhtml1dir=''
-installvendorhtml3dir=''
-installvendorlib=''
-installvendorman1dir=''
-installvendorman3dir=''
-installvendorscript=''
-intsize='4'
-issymlink='test -h'
-ivdformat='"ld"'
-ivtype='long'
-ksh=''
-ld_can_script='define'
-ldlibpthname='LD_LIBRARY_PATH'
-less='less'
-lib_ext='.a'
-libc=''
-libdb_needs_pthread='N'
-libperl='libperl.so'
-libpth="$owrt:staging_dir/lib $owrt:staging_dir/usr/lib"
-libsdirs="$owrt:staging_dir/lib $owrt:staging_dir/usr/lib"
-libspath="$owrt:staging_dir/lib $owrt:staging_dir/usr/lib"
-libswanted_uselargefiles=''
-line=''
-lint=''
-lkflags=''
-ln='ln'
-lns='/bin/ln -s'
-locincpth=' '
-loclibpth=' '
-longlongsize='8'
-lp=''
-lpr=''
-ls='ls'
-lseeksize='8'
-lseektype='off_t'
-mail=''
-mailx=''
-make='make'
-make_set_make='#'
-mallocobj=''
-mallocsrc=''
-malloctype='void *'
-man1dir=' '
-man1direxp=''
-man1ext='0'
-man3dir=' '
-man3direxp=''
-man3ext='0'
-mips_type=''
-mistrustnm=''
-mkdir='mkdir'
-mmaptype='void *'
-modetype='mode_t'
-more='more'
-multiarch='undef'
-mv=''
-mydomain='.dev.null'
-n='-n'
-netdb_hlen_type='size_t'
-netdb_name_type='const char *'
-netdb_net_type='in_addr_t'
-nm='nm'
-nm_opt=''
-nm_so_opt='--dynamic'
-nroff='nroff'
-nvEUformat='"E"'
-nvFUformat='"F"'
-nvGUformat='"G"'
-nv_overflows_integers_at='256.0*256.0*256.0*256.0*256.0*256.0*2.0*2.0*2.0*2.0*2.0'
-nveformat='"e"'
-nvfformat='"f"'
-nvgformat='"g"'
-nvsize='8'
-nvtype='double'
-o_nonblock='O_NONBLOCK'
-obj_ext='.o'
-old_pthread_create_joinable=''
-optimize='-O2'
-orderlib='false'
-osname='linux'
-otherlibdirs=' '
-package='perl5'
-pager='/usr/bin/less'
-passcat='cat /etc/passwd'
-path_sep=':'
-perl=''
-perl5=''
-perl_patchlevel=''
-perl_static_inline='static __inline__'
-perlpath='/usr/bin/perl'
-pg='pg'
-phostname='hostname'
-pidtype='pid_t'
-plibpth=''
-pmake=''
-pr=''
-prefix='/usr'
-prefixexp='/usr'
-procselfexe='"/proc/self/exe"'
-prototype='define'
-randbits='48'
-randfunc='drand48'
-randseedtype='long'
-ranlib=':'
-rd_nodata='-1'
-rm='rm'
-rm_try='/bin/rm -f try try a.out .out try.[cho] try..o core core.try* try.core*'
-rmail=''
-run=''
-runnm='false'
-sched_yield='sched_yield()'
-scriptdir='/usr/bin'
-scriptdirexp='/usr/bin'
-sed='sed'
-seedfunc='srand48'
-selecttype='fd_set *'
-sendmail=''
-setgrent_r_proto='0'
-sethostent_r_proto='0'
-setlocale_r_proto='0'
-setnetent_r_proto='0'
-setprotoent_r_proto='0'
-setpwent_r_proto='0'
-setservent_r_proto='0'
-sh='/bin/sh'
-shar=''
-sharpbang='#!'
-shmattype='void *'
-shortsize='2'
-shrpenv=''
-shsharp='true'
-signal_t='void'
-sitearch=''
-sitearchexp=''
-sitebin='/usr/bin'
-sitebinexp='/usr/bin'
-sitehtml1dir=''
-sitehtml1direxp=''
-sitehtml3dir=''
-sitehtml3direxp=''
-sitelib=''
-sitelibexp=''
-siteman1dir=''
-siteman1direxp=''
-siteman3dir=''
-siteman3direxp=''
-siteprefix='/usr'
-siteprefixexp='/usr'
-sitescript='/usr/bin'
-sitescriptexp='/usr/bin'
-sizetype='size_t'
-sleep=''
-smail=''
-so='so'
-sockethdr=''
-socketlib=''
-socksizetype='socklen_t'
-sort='sort'
-spackage='Perl5'
-spitshell='cat'
-src='.'
-ssizetype='ssize_t'
-st_ino_sign='1'
-st_ino_size='8'
-startperl='#!/usr/bin/perl'
-startsh='#!/bin/sh'
-static_ext=' '
-stdchar='char'
-stdio_base='((fp)->_base)'
-stdio_bufsiz='((fp)->_cnt + (fp)->_ptr - (fp)->_base)'
-stdio_cnt='((fp)->_cnt)'
-stdio_filbuf=''
-stdio_ptr='((fp)->_ptr)'
-stdio_stream_array=''
-submit=''
-sysman='/usr/share/man/man1'
-tail=''
-tar=''
-targetdir=''
-targetenv=''
-targethost=''
-targetmkdir=''
-targetport=''
-targetsh='/bin/sh'
-tbl=''
-tee=''
-test='test'
-timetype='time_t'
-to=':'
-touch='touch'
-tr='tr'
-trnl='\n'
-troff=''
-u16size='2'
-u16type='unsigned short'
-u32size='4'
-u64size='8'
-u8size='1'
-u8type='unsigned char'
-uidsign='1'
-uidsize='4'
-uidtype='uid_t'
-uname='uname'
-uniq='uniq'
-use5005threads='undef'
-usecbacktrace='undef'
-usecrosscompile='define'
-usedevel='undef'
-usedl='define'
-usedtrace='undef'
-usefaststdio='undef'
-usekernprocpathname='undef'
-uselargefiles='define'
-uselongdouble='undef'
-usemallocwrap='define'
-usemorebits='undef'
-usemymalloc='n'
-usenm='true'
-usensgetexecutablepath='undef'
-useopcode='true'
-useperlio='define'
-useposix='true'
-usequadmath='undef'
-usereentrant='undef'
-userelocatableinc='undef'
-usesfio='false'
-useshrplib='true'
-usesitecustomize='undef'
-usesocks='undef'
-usevendorprefix='undef'
-useversionedarchname='undef'
-usevfork='false'
-usrinc="$owrt:staging_dir/include $owrt:staging_dir/usr/include"
-uuname=''
-uvXUformat='"lX"'
-uvoformat='"lo"'
-uvtype='unsigned long'
-uvuformat='"lu"'
-uvxformat='"lx"'
-vaproto='define'
-vendorarch=''
-vendorarchexp=''
-vendorbin=''
-vendorbinexp=''
-vendorhtml1dir=' '
-vendorhtml1direxp=''
-vendorhtml3dir=' '
-vendorhtml3direxp=''
-vendorlib=''
-vendorlib_stem=''
-vendorlibexp=''
-vendorman1dir=' '
-vendorman1direxp=''
-vendorman3dir=' '
-vendorman3direxp=''
-vendorprefix=''
-vendorprefixexp=''
-vendorscript=''
-vendorscriptexp=''
-versiononly='undef'
-vi=''
-voidflags='15'
-xlibpth='/usr/lib/386 /lib/386'
-yacc='yacc'
-yaccflags=''
-zcat=''
-zip='zip'
-
-config_argc=1
-config_args='-der'
-
-# Tools
-cpprun="$owrt:target_cc -E"
-cppstdin="$owrt:target_cc -E"
-cc="$owrt:target_cc"
-ld="$cc"
-full_ar="${owrt:target_cross}ar"
-
-# Tool flags
-cppflags="$owrt:cflags"
-ccflags="-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 $owrt:cflags"
-ccflags_uselargefiles='-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64'
-ccdlflags="-fPIC -rdynamic -Wl,-rpath,$owrt:perllibpath/CORE"
-cccdlflags='-fPIC'
-ldflags="$owrt:ldflags"
-ldflags_uselargefiles=''
-lddlflags="-shared $owrt:ldflags"
-
-# Libraries
-perllibs='-ldl -lm -lcrypt -lutil -lc'
-libs='-lgdbm -ldb -ldl -lm -lcrypt -lutil -lc'
-libsfiles='libdl.so libm.so libcrypt.so libutil.so libc.so'
-libswanted='sfio socket inet nm ndbm gdbm dbm db malloc dl dld ld sun m crypt sec util c cposix posix ucb BSD'
diff -uprN a/feeds/packages/lang/perl/files/i486.config b/feeds/packages/lang/perl/files/i486.config
--- a/feeds/packages/lang/perl/files/i486.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/i486.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,31 +0,0 @@
-owrt:arch=i486
-owrt:bits=32
-owrt:endian=little
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols='__ELF__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 _LARGEFILE_SOURCE=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 i386=1 __i386=1 __i386__=1 linux=1 __linux=1 __linux__=1 unix=1 __unix=1 __unix__=1'
-d_casti32='undef'
-d_double_style_ieee='define'
-d_long_double_style_ieee='define'
-d_long_double_style_ieee_extended='define'
-d_modflproto='define'
-doublekind='3'
-fpossize='20'
-longdblkind='3'
-need_va_copy='undef'
-quadkind='3'
-
-sPRIEUldbl='"LE"'
-sPRIFUldbl='"LF"'
-sPRIGUldbl='"LG"'
-sPRIXU64='"LX"'
-sPRIeldbl='"Le"'
-sPRIfldbl='"Lf"'
-sPRIgldbl='"Lg"'
-sSCNfldbl='"Lf"'
-
-owrt:sig_count='64'
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS'
-owrt:sig_name_extra='IOT CLD POLL UNUSED'
-owrt:sig_num_extra='6 17 29 31'
diff -uprN a/feeds/packages/lang/perl/files/libc.config b/feeds/packages/lang/perl/files/libc.config
--- a/feeds/packages/lang/perl/files/libc.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/libc.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-($owrt:libc eq 'glibc') {
-	perllibs="$perllibs -lbsd"
-	ldflags="$ldflags -L$owrt:staging_dir/lib"
-}
-
-# uclibc does not provide crypt_r().
-($owrt:libc eq 'uclibc') {
-	crypt_r_proto='0'
-	d_crypt_r='undef'
-}
-
-($owrt:libc eq 'musl') {
-	# musl does not provide a working setlocale(). It accepts arbitrary locales
-	# and makes them act as if they were C.UTF-8.
-	d_setlocale='undef'
-	
-	d_stdio_ptr_lval='undef'
-	d_stdio_ptr_lval_sets_cnt='undef'
-	d_stdiobase='undef'
-	d_stdstdio='undef'
-	
-	d_getnetbyname_r='undef'
-	
-	d_getprotobyname_r='undef'
-	d_getpwent_r='undef'
-	d_getservent_r='undef'
-	d_gethostent_r='undef'
-	d_getnetent_r='undef'
-	d_getnetbyaddr_r='undef'
-	d_getprotoent_r='undef'
-	d_getprotobynumber_r='undef'
-	d_getgrent_r='undef'
-	
-	getprotobyname_r='undef'
-	getpwent_r='undef'
-	getservent_r='undef'
-	gethostent_r='undef'
-	getnetent_r='undef'
-	getnetbyaddr_r='undef'
-	getprotoent_r='undef'
-	getprotobynumber_r='undef'
-	getgrent_r='undef'
-	
-	i_fcntl='define'
-	h_fcntl='true'
-	d_strerror_r='undef'
-}
diff -uprN a/feeds/packages/lang/perl/files/mips64.config b/feeds/packages/lang/perl/files/mips64.config
--- a/feeds/packages/lang/perl/files/mips64.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/mips64.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,21 +0,0 @@
-owrt:arch=mips64
-owrt:bits=64
-owrt:endian=big
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols=''
-d_casti32='define'
-d_double_style_ieee='define'
-d_long_double_style_ieee_doubledouble='define'
-d_modflproto='undef'
-doublekind='4'
-fpossize='24'
-longdblkind='6'
-need_va_copy='define'
-quadkind='2'
-
-owrt:sig_count=128
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM USR1 USR2 CHLD PWR WINCH URG IO STOP TSTP CONT TTIN TTOU VTALRM PROF XCPU XFSZ'
-owrt:sig_name_extra='IOT CLD POLL'
-owrt:sig_num_extra='6 18 22'
diff -uprN a/feeds/packages/lang/perl/files/mips64el.config b/feeds/packages/lang/perl/files/mips64el.config
--- a/feeds/packages/lang/perl/files/mips64el.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/mips64el.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,21 +0,0 @@
-owrt:arch=mips64el
-owrt:bits=64
-owrt:endian=little
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols=''
-d_casti32='define'
-d_double_style_ieee='define'
-d_long_double_style_ieee_doubledouble='define'
-d_modflproto='undef'
-doublekind='3'
-fpossize='24'
-longdblkind='5'
-need_va_copy='define'
-quadkind='2'
-
-owrt:sig_count=128
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM USR1 USR2 CHLD PWR WINCH URG IO STOP TSTP CONT TTIN TTOU VTALRM PROF XCPU XFSZ'
-owrt:sig_name_extra='IOT CLD POLL'
-owrt:sig_num_extra='6 18 22'
diff -uprN a/feeds/packages/lang/perl/files/mips.config b/feeds/packages/lang/perl/files/mips.config
--- a/feeds/packages/lang/perl/files/mips.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/mips.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-owrt:arch=mips
-owrt:bits=32
-owrt:endian=big
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols='__ELF__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 LANGUAGE_C=1 _LANGUAGE_C=1 __LANGUAGE_C=1 __LANGUAGE_C__=1 _LARGEFILE_SOURCE=1 MIPSEL=1 _MIPSEL=1 __MIPSEL=1 __MIPSEL__=1 _MIPS_FPSET=16 _MIPS_ISA=_MIPS_ISA_MIPS1 _MIPS_SIM=1 _MIPS_SZINT=32 _MIPS_SZLONG=32 _MIPS_SZPTR=32 __PIC__=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 R3000=1 _R3000=1 __R3000=1 __R3000__=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 linux=1 __linux=1 __linux__=1 mips=1 _mips=1 __mips=1 __mips__=1 __pic__=1 unix=1 __unix=1 __unix__=1'
-d_casti32='define'
-d_double_style_ieee='define'
-d_modflproto='undef'
-doublekind='4'
-fpossize='24'
-longdblkind='0'
-need_va_copy='undef'
-quadkind='3'
-
-owrt:sig_count=128
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM USR1 USR2 CHLD PWR WINCH URG IO STOP TSTP CONT TTIN TTOU VTALRM PROF XCPU XFSZ'
-owrt:sig_name_extra='IOT CLD POLL'
-owrt:sig_num_extra='6 18 22'
diff -uprN a/feeds/packages/lang/perl/files/mipsel.config b/feeds/packages/lang/perl/files/mipsel.config
--- a/feeds/packages/lang/perl/files/mipsel.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/mipsel.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-owrt:arch=mipsel
-owrt:bits=32
-owrt:endian=little
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols='__ELF__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 LANGUAGE_C=1 _LANGUAGE_C=1 __LANGUAGE_C=1 __LANGUAGE_C__=1 _LARGEFILE_SOURCE=1 MIPSEL=1 _MIPSEL=1 __MIPSEL=1 __MIPSEL__=1 _MIPS_FPSET=16 _MIPS_ISA=_MIPS_ISA_MIPS1 _MIPS_SIM=1 _MIPS_SZINT=32 _MIPS_SZLONG=32 _MIPS_SZPTR=32 __PIC__=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 R3000=1 _R3000=1 __R3000=1 __R3000__=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 linux=1 __linux=1 __linux__=1 mips=1 _mips=1 __mips=1 __mips__=1 __pic__=1 unix=1 __unix=1 __unix__=1'
-d_casti32='define'
-d_double_style_ieee='define'
-d_modflproto='undef'
-doublekind='3'
-fpossize='24'
-longdblkind='0'
-need_va_copy='undef'
-quadkind='3'
-
-owrt:sig_count=128
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM USR1 USR2 CHLD PWR WINCH URG IO STOP TSTP CONT TTIN TTOU VTALRM PROF XCPU XFSZ'
-owrt:sig_name_extra='IOT CLD POLL'
-owrt:sig_num_extra='6 18 22'
diff -uprN a/feeds/packages/lang/perl/files/misc.config b/feeds/packages/lang/perl/files/misc.config
--- a/feeds/packages/lang/perl/files/misc.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/misc.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
-cf_email='naoir@gmx.net'
-osvers='3.18.19'
-gccversion="$owrt:gccversion"
-myhostname='OpenWrt'
-cf_time='Thu Jan 1 12:00:00 CEST 2015'
-
-perladmin="$cf_email"
-archname="$owrt:arch-linux-$owrt:libc"
-targetarch="$archname"
-myarchname="$archname"
-myuname="Linux $myhostname $osvers #1 SMP $cf_time @{[$owrt:arch =~ s/(el|eb)$//r]} GNU/Linux"
diff -uprN a/feeds/packages/lang/perl/files/perlconfig.pl b/feeds/packages/lang/perl/files/perlconfig.pl
--- a/feeds/packages/lang/perl/files/perlconfig.pl	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/perlconfig.pl	1970-01-01 08:00:00.000000000 +0800
@@ -1,313 +0,0 @@
-#!/usr/bin/perl
-
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-# 
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-# 
-# You should have received a copy of the GNU General Public License
-# along with this program.  If not, see <http://www.gnu.org/licenses/>.
-# 
-# Copyright 2015 Marcel Denia
-
-=head1 NAME
-
-perlconfig.pl
-
-=head1 SYNOPSIS
-
-B<perlconfig.pl> [B<-Dsymbol>=I<value>, ...] [B<-dsymbol>=I<value>, ...] I<[files]>
-
-Generate a configuration file suitable for (cross-)compiling perl 5.
-
-=head1 OPTIONS
-
-=over
-
-=item B<-Dsymbol=value>
-
-The symbol identified by I<name> will have the literal value I<value>.
-When generating the configuration file, it's value will be printed enclosed by
-single quotation marks(').
-
-=item B<-dsymbol=value>
-
-The symbol identified by I<name> will have the literal value I<value>.
-
-=back
-
-=head1 DESCRIPTION
-
-B<perlconfig.pl> is a program to compile and generate configuration files ready
-to be used as a "config.sh" file for compiling perl 5. It does so by processing
-specially-made configuration files(usually called *.config), typically augmented
-by command-line definitions.
-
-B<perlconfig.pl>'s intent is to be used in place of perl 5's own Configure
-script in situations where it can not be run, like cross-compiling.
-
-=head2 File syntax
-
-B<perlconfig.pl>'s configuration files a consist of symbol definitions in
-different variations, each one assigning a specific symbol identified by a name
-some value, as well as conditional blocks in order to allow for some
-flexibility.
-
-=head3 Symbol names
-
-A symbol name has to consist entirely of alphanumeric characters as well as
-the underscore(_) character. In addition, symbol names may be prefixed with an
-all-lowercase string, separated by a colon(:):
-
-  my:name=value
-
-Having a zero-length prefix string is also valid:
-
-  :name=value
-
-Symbols prefixed that way are called private symbols. They act exactly like
-regular symbols, with the only difference being that they will B<not> be written
-to the final configuration file.
-
-=head3 Symbol definitions
-
-A symbol definition is in the form of a simple name/value pair, separated by
-an equals sign(=):
-
-  name=value
-
-I<value> can be anything really. However, there are 3 notations, with
-differences in quoting and interpolation:
-
-=over
-
-=item name=foo
-
-The symbol identified by I<name> will have the literal value I<foo>.
-
-=item name='foo'
-
-The symbol identified by I<name> will have the literal value I<foo>.
-When generating the configuration file, it's value will be printed enclosed by
-single quotation marks(').
-
-=item name="foo"
-
-The symbol identified by I<name> will have the value of I<foo>
-S<B<after interpolation>>(as described in L</Interpolation>).
-When generating the configuration file, it's value will be printed enclosed by
-single quotation marks(').
-
-=back
-
-=head3 Conditional blocks
-
-A conditional block is of the form
-
-  (condition) {
-      ...
-  }
-
-B<perlconfig.pl> will execute everything enclosed in the curly braces({ and }),
-or inside the BLOCK in Perl 5 terms, if I<condition> evaluates to any true
-value. I<condition> will go through interpolation as described in
-L</Interpolation>. It may contain any valid Perl 5 expression. Some common
-examples are:
-
-=over
-
-=item $name eq 'foo'
-
-Evaluates to true if configuration symbol I<name> is literally equal to I<foo>.
-
-=item $name ne 'foo'
-
-Evaluates to true if configuration symbol I<name> is B<not> literally equal to
-I<foo>.
-
-=item defined($name)
-
-Evaluates to true if configuration symbol I<name> is defined(has any usable
-value, see L<perlfunc/defined>).
-
-=back
-
-Conditional blocks may be nested inside conditional blocks. Note that the
-opening curl brace({) has to be on the same line as your condition.
-
-=head3 Comments
-
-All lines starting with nothing or any number of whitespaces, followed by a
-hash sign(#), are considered comments and will be completely ignored by
-B<perlconfig.pl>.
-
-=head3 Interpolation
-
-In certain situations(see above), B<perlconfig.pl> will interpolate strings or
-constructs in order to allow you to refer to configuration symbols or embed
-code.
-
-Interpolated strings are subject to the following rules:
-
-=over
-
-=item You may not include any single(') or double(") quotation marks.
-
-You can use \qq in order to include double quotation marks(") in your string.
-
-=item $name and ${name} reference configuration symbols
-
-You can easily refer to existing configuration symbols using the commmon $name
-or ${name} syntax. In case you want to refer to the perl variable named $name,
-write \$name. This is useful for embedding code.
-
-=item Perl 5 interpolation rules apply
-
-Aside from the above, you may include anything that is also valid for an
-interpolated(qq//) string in Perl 5. For instance, it's perfectly valid to
-execute code using the @{[]} construct.
-
-=back
-
-=head1 EXAMPLES
-
-As a simple example, consider the following configuration file, named
-"example.config":
-
-  recommendation='The Perl you want is'
-  ($:maturity eq 'stable') {
-      recommendation="$recommendation Perl 5"
-  }
-  ($:maturity eq 'experimental') {
-      recommendation="$recommendation Perl 6(try Rakudo!)"
-  }
-
-Executing it using these command-lines will yield the following results:
-
-=over
-
-=item $ perlconfig.pl -D:maturity=stable example.config
-
-  recommendation='The Perl you want is Perl 5'
-
-=item $ perlconfig.pl -D:maturity=experimental example.config
-
-  recommendation='The Perl you want is Perl 6(try Rakudo!)'
-
-=back
-
-=head1 AUTHOR
-
-Marcel Denia <naoir@gmx.net>
-
-=head1 COPYRIGHT AND LICENSE
-
-Copyright 2015 Marcel Denia
-
-This program is free software: you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation, either version 3 of the License, or
-(at your option) any later version.
-
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License
-along with this program.  If not, see <http://www.gnu.org/licenses/>.
-
-=cut
-
-use strict;
-use warnings;
-use List::Util qw/all/;
-my $symbol_name_prefix_regex = '(?:[a-z]*:)';
-my $symbol_name_regex = "($symbol_name_prefix_regex?(?:[a-zA-Z0-9_]+))";
-
-my %config;
-
-sub interpolate {
-	my $string = shift;
-	my %options = @_;
-	
-	# First, convert $foo into ${foo}
-	$string =~ s/(?<!\\)\$$symbol_name_regex/\${$1}/gs;
-	
-	# Make ${foo} into $config{'foo'}->{value}
-	$string =~ s/\$\{$symbol_name_regex\}/\$config{\'$1\'}->{value}/g;
-	
-	# Un-escape \$foo
-	$string =~ s/\\\$/\$/g;
-	
-	# Turn \qq into "
-	$string =~ s/\\qq/\\"/g;
-	
-	return $string;
-}
-
-# Parse command-line symbol definitions
-while ($ARGV[0]) {
-	if ($ARGV[0] =~ /^-([D|d])$symbol_name_regex=(.*)$/) {
-		$config{$2} = { value => $3, quoted => $1 eq 'D' };
-		shift(@ARGV);
-	}
-	else {
-		last;
-	}
-}
-
-# Process configuration files
-my @condition_stack = ( 1 );
-for my $file (@ARGV) {
-	open(my $fh, '<', $file) or die "Can't open $file: $!\n";
-	while (my $line = <$fh>) {
-		chomp($line);
-		
-		if ($line =~ /^\s*$symbol_name_regex=(.*)$/) { # A symbol definition
-			if (all {$_ == 1} @condition_stack) {
-				my $symbol = $1;
-				(my $quote_begin, my $value, my $quote_end) = $2 =~ /^(['|"])?([^'"]*)(['|"])?$/;
-				
-				$quote_begin = '' unless defined $quote_begin;
-				$quote_end = '' unless defined $quote_end;
-				die "$file:$.: Unmatched quotes in \"$line\"\n" unless $quote_begin eq $quote_end;
-				
-				if ($quote_begin eq '"') {
-					$config{$symbol} = { value => eval('"' . interpolate($2) . '"'), quoted => 1 };
-				}
-				else {
-					$config{$symbol} = { value => $2, quoted => $quote_begin eq '\'' };
-				}
-			}
-		}
-		elsif ($line =~ /^\s*\((.*)\)\s?{$/) { # A conditional block
-			if (eval(interpolate($1))) {
-				push(@condition_stack, 1);
-			}
-			else {
-				push(@condition_stack, 0);
-			}
-		}
-		elsif ($line =~ /^\s*}$/) { # Closing a conditional block
-			pop(@condition_stack);
-			die "$file:$.: Closing non-existent block\n" unless @condition_stack;
-		}
-		elsif ($line =~ (/^\s*$/) || ($line =~ /^\s*#/)) { # An empty line or comment
-		}
-		else {
-			die "$file:$.: Malformed line: \"$line\"\n";
-		}
-	}
-}
-
-# Output
-for (sort(keys(%config))) {
-	my $quote = $config{$_}->{quoted} ? '\'' : '';
-	print("$_=$quote$config{$_}->{value}$quote\n") unless $_ =~ /^$symbol_name_prefix_regex/;
-}
\ No newline at end of file
diff -uprN a/feeds/packages/lang/perl/files/perl-run_tests.sh b/feeds/packages/lang/perl/files/perl-run_tests.sh
--- a/feeds/packages/lang/perl/files/perl-run_tests.sh	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/perl-run_tests.sh	1970-01-01 08:00:00.000000000 +0800
@@ -1,81 +0,0 @@
-#!/bin/sh
-
-PERL_TESTSDIR="/usr/share/perl/perl-tests"
-PERL_LIBDIR="/usr/lib/perl5/%%PERL_VERSION%%/"
-PERL_DISABLEDTESTS="%%PERL_DISABLEDTESTS%%"
-
-no_run=""
-manual_run=""
-manual_run_no_base=""
-
-while [ ! -z "$1" ]; do
-	case $1 in
-		-n)
-			no_run="yes"
-			;;
-		-m)
-			manual_run="yes"
-			;;
-		-mb)
-			manual_run="yes"
-			manual_run_no_base="yes"
-			;;
-		--help)
-			echo "run_tests.sh [-n|-m|-mb|--help]"
-			echo ""
-			echo "Options:"
-			echo "	-n        Just prepare the environment. Don't actually run any tests"
-			echo "	-m        Run tests manually according to MANIFEST, instead of whatever t/TEST chooses"
-			echo "	-mb       Don't run base tests. Implies -m"
-			echo "	--help    Print this help ;)"
-			echo ""
-			exit 0
-			;;
-		*)
-			echo "Invalid argument: $1"
-			;;
-	esac
-	shift
-done
-
-if [ ! -f "$PERL_TESTSDIR/__prepared" ]; then
-	# Many tests insist on having PERL5LIB in $PERL_TESTSDIR/lib. However,
-	# that directory may also contain tests. Some of them(FindBin.t in particular)
-	# also demand being located in a directory ending with "lib". So we can't do symlink
-	# trickery here.
-	# Our solution is to just copy PERL5LIB over.
-	if [ -d "$PERL_TESTSDIR/lib" ]; then
-		cp -a "$PERL_LIBDIR/"* "$PERL_TESTSDIR/lib/"
-	else
-		ln -s "$PERL_LIBDIR" "$PERL_TESTSDIR/lib"
-	fi
-
-	ln -s /usr/bin/perl "$PERL_TESTSDIR/perl"
-	ln -s /usr/bin/perl "$PERL_TESTSDIR/t/perl"
-	touch "$PERL_TESTSDIR/__prepared"
-	
-	for i in $PERL_DISABLEDTESTS; do
-		echo "Disabling $i tests"
-		sed 's!^'$i'.*$!!' -i $PERL_TESTSDIR/MANIFEST
-	done
-	
-	cat $PERL_TESTSDIR/MANIFEST | grep -v '^$' > $PERL_TESTSDIR/MANIFEST_NEW
-	rm $PERL_TESTSDIR/MANIFEST
-	mv $PERL_TESTSDIR/MANIFEST_NEW $PERL_TESTSDIR/MANIFEST
-fi
-
-if [ -z "$no_run" ]; then
-	cd "$PERL_TESTSDIR/t"
-	if [ ! -z "$manual_run" ]; then
-		for i in $(cat ../MANIFEST | sed 's/\t.*$//g' | grep '\.t$'); do
-			if [ ! -z "$manual_run_no_base" ] && [ ! -z "$(echo $i | grep '^t/')" ]; then
-				continue;
-			fi
-			echo "Running $i"
-			./TEST ../$i
-			echo ""
-		done
-	else
-		./perl TEST
-	fi
-fi
diff -uprN a/feeds/packages/lang/perl/files/powerpc.config b/feeds/packages/lang/perl/files/powerpc.config
--- a/feeds/packages/lang/perl/files/powerpc.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/powerpc.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-owrt:arch=powerpc
-owrt:bits=32
-owrt:endian=big
-
-ccsymbols='__gnu_linux__=1 __linux=1 __linux__=1 __unix=1 __unix__=1 system=linux system=posix system=unix'
-cppccsymbols='linux=1 unix=1'
-cppsymbols='_BIG_ENDIAN=1 __BIG_ENDIAN__=1 __ELF__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 _LARGEFILE_SOURCE=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 __linux=1 __linux__=1 __unix=1 __unix__=1'
-d_casti32='undef'
-d_double_style_ieee='define'
-d_modflproto='undef'
-doublekind='4'
-fpossize='24'
-longdblkind='0'
-need_va_copy='define'
-quadkind='3'
-
-owrt:sig_count='64'
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS'
-owrt:sig_name_extra='IOT CLD POLL UNUSED'
-owrt:sig_num_extra='6 17 29 31'
diff -uprN a/feeds/packages/lang/perl/files/README.config b/feeds/packages/lang/perl/files/README.config
--- a/feeds/packages/lang/perl/files/README.config	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/files/README.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,59 +0,0 @@
--- Perl configuration --
-
-Perl uses a huge configuration file, normally generated via the Configure script
-at build-time. This fails when cross-compiling though, so we need to supply our
-own.
-
-We're using perlconfig.pl to piece together the final configuration from a bunch
-of configuration files(all ending in .config). Please refer to perlconfig.pl's
-POD for information on usage and syntax.
-
-Throughout the files, you will see a bunch of references to private symbols with
-the prefix "owrt". These are used to control output in an effort to both
-simplify writing configuration files, as well as to provide switchable options
-to select the feature set of the resulting perl installation.
-
-The following will be a summary/quick reference of all private symbols we're
-currently using:
-
-Passed via architecture configuration file(mipsel.config, i486.config, ...)
----------------------------------------------------------------------------
-Symbol              Values              Description
-owrt:bits           32/64               Target's native word length.
-owrt:endian         little/big          Target's endianness.
-owrt:arch           mipsel, i486, ...   Target's architecture name.
-owrt:sig_count      64/128              Number of signals the target
-                                        provides(NSIG - 1).
-owrt:sigs           *                   Symbolic names of the first 32 signals
-                                        this architecture provides, in numeric
-                                        order. Separated by whitespaces.
-owrt:sig_name_extra *                   Symbolic names of any additional signals
-                                        this architecture provides after
-                                        owrt:sig_count. Separated by
-                                        whitespaces.
-owrt:sig_num_extra  *                   Numeric values associated with the
-                                        signal names provided in
-                                        owrt:sig_name_extra. Separated by
-                                        whitespaces.
-
-Passed via command line
------------------------
-Symbol                Values              Description
-owrt:libc             glibc/uclibc/musl   Which C library implementation is in
-                                          use.
-owrt:threads          yes/no              Whether to enable threading support.
-owrt:ipv6             define/undef        Whether to enable IPv6 support.
-owrt:target_cross     *                   Target architecture's host triplet.
-owrt:target_cc        *                   C compiler to use.
-owrt:gccversion       *                   target_cc's version number.
-owrt:cflags           *                   Additional C compiler flags.
-owrt:ldflags          *                   Additional linker flags.
-owrt:staging_dir      *                   Same as OpenWRT buildroot's
-                                          $(STAGING_DIR).
-owrt:host_perl_prefix *                   host-perl installation prefix.
-
-Passed via version.config
--------------------------
-Symbol           Values              Description
-owrt:perllibpath *                   Path to perl library files, from the
-                                     target's point of view.
diff -uprN a/feeds/packages/lang/perl/files/signal.config b/feeds/packages/lang/perl/files/signal.config
--- a/feeds/packages/lang/perl/files/signal.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/signal.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
-# Signal table helper
-
-(defined($owrt:sigs)) {
-	sig_name="$owrt:sigs"
-	(($owrt:libc eq 'glibc') || ($owrt:libc eq 'uclibc')) {
-		sig_name="$sig_name NUM32 NUM33 RTMIN NUM35 NUM36"
-	}
-	($owrt:libc eq 'musl') {
-		sig_name="$sig_name NUM32 NUM33 NUM34 RTMIN NUM36"
-	}
-	
-	sig_name="$sig_name @{[map({qq/NUM\$_/} 37..$owrt:sig_count - 2)]} RTMAX $owrt:sig_name_extra"
-	sig_num="@{[0..$owrt:sig_count - 1]} $owrt:sig_num_extra "
-	sig_count="$owrt:sig_count"
-	sig_size="@{[scalar(split(q/ /, $sig_name))]}"
-	sig_name_init="@{[join(q/, /, map({qq/\qq\$_\qq/} split(q/ /, $sig_name)))]}, 0"
-	sig_num_init="@{[join(q/, /, split(q/ /, $sig_num))]}, 0"
-}
diff -uprN a/feeds/packages/lang/perl/files/threads.config b/feeds/packages/lang/perl/files/threads.config
--- a/feeds/packages/lang/perl/files/threads.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/threads.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,197 +0,0 @@
-($owrt:threads eq 'yes') {
-	# Configure arguments
-	config_args="$config_args -Dusethreads"
-	config_arg2='-Dusethreads'
-	config_argc=2
-	
-	# Options
-	useithreads='define'
-	usemultiplicity='define'
-	usethreads='define'
-	
-	# Flags and related
-	ccflags="-D_REENTRANT -D_GNU_SOURCE $ccflags"
-	cppflags="-D_REENTRANT -D_GNU_SOURCE $cppflags"
-	perllibs="-lpthread $perllibs"
-	libs="-lpthread $libs"
-	libsfiles="libpthread.so $libsfiles"
-	libswanted="pthread $libswanted"
-	
-	
-	crypt_r_proto='REENTRANT_PROTO_B_CCS'
-	i_crypt='define'
-	d_crypt='define'
-	d_crypt_r='define'
-	
-	# Prototypes
-	asctime_r_proto='REENTRANT_PROTO_B_SB'
-	ctime_r_proto='REENTRANT_PROTO_B_SB'
-	drand48_r_proto='REENTRANT_PROTO_I_ST'
-	getgrent_r_proto='REENTRANT_PROTO_I_SBWR'
-	getgrgid_r_proto='REENTRANT_PROTO_I_TSBWR'
-	getgrnam_r_proto='REENTRANT_PROTO_I_CSBWR'
-	gethostbyaddr_r_proto='REENTRANT_PROTO_I_TsISBWRE'
-	gethostbyname_r_proto='REENTRANT_PROTO_I_CSBWRE'
-	gethostent_r_proto='REENTRANT_PROTO_I_SBWRE'
-	getlogin_r_proto='REENTRANT_PROTO_I_BW'
-	getnetbyaddr_r_proto='REENTRANT_PROTO_I_uISBWRE'
-	getnetbyname_r_proto='REENTRANT_PROTO_I_CSBWRE'
-	getnetent_r_proto='REENTRANT_PROTO_I_SBWRE'
-	getprotobyname_r_proto='REENTRANT_PROTO_I_CSBWR'
-	getprotobynumber_r_proto='REENTRANT_PROTO_I_ISBWR'
-	getprotoent_r_proto='REENTRANT_PROTO_I_SBWR'
-	getpwent_r_proto='REENTRANT_PROTO_I_SBWR'
-	getpwnam_r_proto='REENTRANT_PROTO_I_CSBWR'
-	getpwuid_r_proto='REENTRANT_PROTO_I_TSBWR'
-	getservbyname_r_proto='REENTRANT_PROTO_I_CCSBWR'
-	getservbyport_r_proto='REENTRANT_PROTO_I_ICSBWR'
-	getservent_r_proto='REENTRANT_PROTO_I_SBWR'
-	getspnam_r_proto='REENTRANT_PROTO_I_CSBWR'
-	gmtime_r_proto='REENTRANT_PROTO_S_TS'
-	localtime_r_proto='REENTRANT_PROTO_S_TS'
-	random_r_proto='REENTRANT_PROTO_I_St'
-	readdir64_r_proto='REENTRANT_PROTO_I_TSR'
-	readdir_r_proto='REENTRANT_PROTO_I_TSR'
-	srand48_r_proto='REENTRANT_PROTO_I_LS'
-	srandom_r_proto='REENTRANT_PROTO_I_TS'
-	strerror_r_proto='REENTRANT_PROTO_B_IBW'
-	tmpnam_r_proto='REENTRANT_PROTO_B_B'
-	ttyname_r_proto='REENTRANT_PROTO_I_IBW'
-	
-	# Defines
-	d_asctime_r='define'
-	d_ctime_r='define'
-	d_drand48_r='define'
-	d_fds_bits='define'
-	d_fegetround='undef'
-	d_getgrent_r='define'
-	d_getgrgid_r='define'
-	d_getgrnam_r='define'
-	d_gethostbyaddr_r='define'
-	d_gethostbyname_r='define'
-	d_gethostent_r='define'
-	d_getlogin_r='define'
-	d_getnetbyaddr_r='define'
-	d_getnetbyname_r='define'
-	d_getnetent_r='define'
-	d_getprotobyname_r='define'
-	d_getprotobynumber_r='define'
-	d_getprotoent_r='define'
-	d_getpwent_r='define'
-	d_getpwnam_r='define'
-	d_getpwuid_r='define'
-	d_getservbyname_r='define'
-	d_getservbyport_r='define'
-	d_getservent_r='define'
-	d_getspnam_r='define'
-	d_gmtime_r='define'
-	d_j0='undef'
-	d_j0l='undef'
-	d_localtime_r='define'
-	d_localtime_r_needs_tzset='define'
-	d_nexttoward='undef'
-	d_off64_t='define'
-	d_pthread_atfork='define'
-	d_pthread_yield='define'
-	d_random_r='define'
-	d_readdir64_r='define'
-	d_readdir_r='define'
-	d_srand48_r='define'
-	d_srandom_r='define'
-	d_sresgproto='define'
-	d_sresuproto='define'
-	d_strerror_r='define'
-	d_tmpnam_r='define'
-	d_ttyname_r='define'
-}
-($owrt:threads eq 'no') {
-	# Options
-	useithreads='undef'
-	usemultiplicity='undef'
-	usethreads='undef'
-	
-	# Prototyypes
-	asctime_r_proto='0'
-	crypt_r_proto='0'
-	ctime_r_proto='0'
-	drand48_r_proto='0'
-	getgrent_r_proto='0'
-	getgrgid_r_proto='0'
-	getgrnam_r_proto='0'
-	gethostbyaddr_r_proto='0'
-	gethostbyname_r_proto='0'
-	gethostent_r_proto='0'
-	getlogin_r_proto='0'
-	getnetbyaddr_r_proto='0'
-	getnetbyname_r_proto='0'
-	getnetent_r_proto='0'
-	getprotobyname_r_proto='0'
-	getprotobynumber_r_proto='0'
-	getprotoent_r_proto='0'
-	getpwent_r_proto='0'
-	getpwnam_r_proto='0'
-	getpwuid_r_proto='0'
-	getservbyname_r_proto='0'
-	getservbyport_r_proto='0'
-	getservent_r_proto='0'
-	getspnam_r_proto='0'
-	gmtime_r_proto='0'
-	
-	# Defines
-	d_asctime_r='undef'
-	d_crypt='define'
-	d_crypt_r='undef'
-	d_ctime_r='undef'
-	d_drand48_r='undef'
-	d_fds_bits='undef'
-	d_fegetround='define'
-	d_getgrent_r='undef'
-	d_getgrgid_r='undef'
-	d_getgrnam_r='undef'
-	d_gethostbyaddr_r='undef'
-	d_gethostbyname_r='undef'
-	d_gethostent_r='undef'
-	d_getlogin_r='undef'
-	d_getnetbyaddr_r='undef'
-	d_getnetbyname_r='undef'
-	d_getnetent_r='undef'
-	d_getprotobyname_r='undef'
-	d_getprotobynumber_r='undef'
-	d_getprotoent_r='undef'
-	d_getpwent_r='undef'
-	d_getpwnam_r='undef'
-	d_getpwuid_r='undef'
-	d_getservbyname_r='undef'
-	d_getservbyport_r='undef'
-	d_getservent_r='undef'
-	d_getspnam_r='undef'
-	d_gmtime_r='undef'
-	d_j0='define'
-	d_j0l='define'
-	d_localtime_r='undef'
-	d_localtime_r_needs_tzset='undef'
-	d_nexttoward='define'
-	d_off64_t='undef'
-	d_pthread_atfork='undef'
-	d_pthread_yield='undef'
-	d_random_r='undef'
-	d_readdir64_r='undef'
-	d_readdir_r='undef'
-	d_srand48_r='undef'
-	d_srandom_r='undef'
-	d_sresgproto='undef'
-	d_sresuproto='undef'
-	d_strerror_r='undef'
-	d_tmpnam_r='undef'
-	d_ttyname_r='undef'
-	i_crypt='define'
-	localtime_r_proto='0'
-	random_r_proto='0'
-	readdir64_r_proto='0'
-	readdir_r_proto='0'
-	srand48_r_proto='0'
-	srandom_r_proto='0'
-	strerror_r_proto='0'
-	tmpnam_r_proto='0'
-	ttyname_r_proto='0'
-}
diff -uprN a/feeds/packages/lang/perl/files/version.config b/feeds/packages/lang/perl/files/version.config
--- a/feeds/packages/lang/perl/files/version.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/version.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-# Set the version here
-PERL_REVISION=5
-PERL_VERSION=28
-PERL_SUBVERSION=1
-
-# (api_revison, api_version, api_subversion) = (revision, version, 0) usually
-PERL_API_REVISION=5
-PERL_API_VERSION=28
-PERL_API_SUBVERSION=0
-
-known_extensions='B Compress/Raw/Zlib Cwd DB_File Data/Dumper Devel/DProf Devel/PPPort Devel/Peek Digest/MD5 Digest/SHA Encode Fcntl File/Glob Filter/Util/Call GDBM_File Hash/Util I18N/Langinfo IO IPC/SysV List/Util MIME/Base64 Math/BigInt/FastCalc NDBM_File ODBM_File Opcode POSIX PerlIO/encoding PerlIO/scalar PerlIO/via SDBM_File Socket Storable Sys/Hostname Sys/Syslog Text/Soundex Time/HiRes Time/Piece Unicode/Normalize Win32 Win32API/File Win32CORE XS/APItest XS/Typemap attrs re threads threads/shared Hash/Util/FieldHash'
-extensions='B Compress/Raw/Bzip2 Compress/Raw/Zlib Cwd DB_File Data/Dumper Devel/PPPort Devel/Peek Digest/MD5 Digest/SHA Encode Fcntl File/DosGlob File/Glob Filter/Util/Call GDBM_File Hash/Util Hash/Util/FieldHash I18N/Langinfo IO IPC/SysV List/Util MIME/Base64 Math/BigInt/FastCalc Opcode POSIX PerlIO/encoding PerlIO/mmap PerlIO/scalar PerlIO/via SDBM_File Socket Storable Sys/Hostname Sys/Syslog Tie/Hash/NamedCapture Time/HiRes Time/Piece Unicode/Collate XS/APItest XS/Typemap arybase attributes mro re threads threads/shared Archive/Tar Attribute/Handlers AutoLoader B/Debug CPAN CPAN/Meta CPAN/Meta/Requirements CPAN/Meta/YAML Carp Config/Perl/V Devel/SelfStubber Digest Dumpvalue Env Errno Exporter ExtUtils/CBuilder ExtUtils/Command ExtUtils/Constant ExtUtils/Install ExtUtils/MakeMaker ExtUtils/Manifest ExtUtils/Miniperl ExtUtils/ParseXS File/Fetch File/Find File/Path File/Temp FileCache Filter/Simple Getopt/Long HTTP/Tiny I18N/Collate I18N/LangTags IO/Compress IO/Socket/IP IO/Zlib IPC/Cmd IPC/Open3 JSON/PP Locale/Codes Locale/Maketext Locale/Maketext/Simple Math/BigInt Math/BigRat Math/Complex Memoize Module/CoreList Module/Load Module/Load/Conditional Module/Loaded Module/Metadata NEXT Net/Ping Params/Check Parse/CPAN/Meta Perl/OSType PerlIO/via/QuotedPrint Pod/Checker Pod/Escapes Pod/Functions Pod/Html Pod/Parser Pod/Perldoc Pod/Simple Pod/Usage Safe Search/Dict SelfLoader Term/ANSIColor Term/Cap Term/Complete Term/ReadLine Test Test/Harness Test/Simple Text/Abbrev Text/Balanced Text/ParseWords Text/Tabs Thread/Queue Thread/Semaphore Tie/File Tie/Memoize Tie/RefHash Time/Local XSLoader autodie autouse base bignum constant encoding/warnings experimental if lib libnet parent perlfaq podlators Unicode/Normalize version'
-nonxs_ext='Archive/Tar Attribute/Handlers AutoLoader B/Debug CPAN CPAN/Meta CPAN/Meta/Requirements CPAN/Meta/YAML Carp Config/Perl/V Devel/SelfStubber Digest Dumpvalue Env Errno Exporter ExtUtils/CBuilder ExtUtils/Command ExtUtils/Constant ExtUtils/Install ExtUtils/MakeMaker ExtUtils/Manifest ExtUtils/Miniperl ExtUtils/ParseXS File/Fetch File/Find File/Path File/Temp FileCache Filter/Simple Getopt/Long HTTP/Tiny I18N/Collate I18N/LangTags IO/Compress IO/Socket/IP IO/Zlib IPC/Cmd IPC/Open3 JSON/PP Locale/Codes Locale/Maketext Locale/Maketext/Simple Math/BigInt Math/BigRat Math/Complex Memoize Module/CoreList Module/Load Module/Load/Conditional Module/Loaded Module/Metadata NEXT Net/Ping Params/Check Parse/CPAN/Meta Perl/OSType PerlIO/via/QuotedPrint Pod/Checker Pod/Escapes Pod/Functions Pod/Html Pod/Parser Pod/Perldoc Pod/Simple Pod/Usage Safe Search/Dict SelfLoader Term/ANSIColor Term/Cap Term/Complete Term/ReadLine Test Test/Harness Test/Simple Text/Abbrev Text/Balanced Text/ParseWords Text/Tabs Thread/Queue Thread/Semaphore Tie/File Tie/Memoize Tie/RefHash Time/Local XSLoader autodie autouse base bignum constant encoding/warnings experimental if lib libnet parent perlfaq podlators Unicode/Normalize version'
-dynamic_ext='B Compress/Raw/Bzip2 Compress/Raw/Zlib Cwd DB_File Data/Dumper Devel/PPPort Devel/Peek Digest/MD5 Digest/SHA Encode Fcntl File/DosGlob File/Glob Filter/Util/Call GDBM_File Hash/Util Hash/Util/FieldHash I18N/Langinfo IO IPC/SysV List/Util MIME/Base64 Math/BigInt/FastCalc Opcode POSIX PerlIO/encoding PerlIO/mmap PerlIO/scalar PerlIO/via SDBM_File Socket Storable Sys/Hostname Sys/Syslog Tie/Hash/NamedCapture Time/HiRes Time/Piece Unicode/Collate XS/APItest XS/Typemap arybase attributes mro re threads threads/shared'
-
-# No need to change anything from here on
-owrt:perllibpath="/usr/lib/perl5/$PERL_REVISION.$PERL_VERSION"
-
-revision="$PERL_REVISION"
-patchlevel="$PERL_VERSION"
-subversion="$PERL_SUBVERSION"
-version_patchlevel_string="version $PERL_VERSION subversion $PERL_SUBVERSION"
-version="$PERL_REVISION.$PERL_VERSION.$PERL_SUBVERSION"
-
-api_revision="$PERL_API_REVISION"
-api_version="$PERL_API_VERSION"
-api_subversion="$PERL_API_SUBVERSION"
-api_versionstring="$PERL_API_REVISION.$PERL_API_VERSION.$PERL_API_SUBVERSION"
-
-privlib="$owrt:perllibpath"
-privlibexp="$privlib"
-archlib="$owrt:perllibpath"
-archlibexp="$archlib"
-
-installarchlib="$owrt:perllibpath"
-installprivlib="$owrt:perllibpath"
-installsitearch="$owrt:perllibpath"
-installsitelib="$owrt:perllibpath"
diff -uprN a/feeds/packages/lang/perl/files/x86_64.config b/feeds/packages/lang/perl/files/x86_64.config
--- a/feeds/packages/lang/perl/files/x86_64.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/files/x86_64.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,31 +0,0 @@
-owrt:arch=x86_64
-owrt:bits=64
-owrt:endian=little
-
-ccsymbols=''
-cppccsymbols=''
-cppsymbols='__ELF__=1 _LP64=1 __FLT_EVAL_METHOD__=0 __FXSR__=1 __GCC_ATOMIC_LLONG_LOCK_FREE=2 __GCC_HAVE_SYNC_COMPARE_AND_SWAP_8=1 __INT64_MAX__=9223372036854775807L __INT64_TYPE__=long\ int __INTMAX_MAX__=9223372036854775807L __INTMAX_TYPE__=long\ int __INTPTR_MAX__=9223372036854775807L __INTPTR_TYPE__=long\ int __INT_FAST16_MAX__=9223372036854775807L __INT_FAST16_TYPE__=long\ int __INT_FAST32_MAX__=9223372036854775807L __INT_FAST32_TYPE__=long\ int __INT_FAST64_MAX__=9223372036854775807L __INT_FAST64_TYPE__=long\ int __INT_LEAST64_MAX__=9223372036854775807L __INT_LEAST64_TYPE__=long\ int __LONG_MAX__=9223372036854775807L __LP64__=1 __MMX__=1 __PTRDIFF_MAX__=9223372036854775807L __PTRDIFF_TYPE__=long\ int __SIZEOF_INT128__=16 __SIZEOF_LONG_DOUBLE__=16 __SIZEOF_LONG__=8 __SIZEOF_POINTER__=8 __SIZEOF_PTRDIFF_T__=8 __SIZEOF_SIZE_T__=8 __SIZE_MAX__=18446744073709551615UL __SIZE_TYPE__=long\ unsigned\ int __SSE2_MATH__=1 __SSE2__=1 __SSE_MATH__=1 __SSE__=1 __UINT64_MAX__=18446744073709551615UL __UINT64_TYPE__=long\ unsigned\ int __UINTMAX_MAX__=18446744073709551615UL __UINTMAX_TYPE__=long\ unsigned\ int __UINTPTR_MAX__=18446744073709551615UL __UINTPTR_TYPE__=long\ unsigned\ int __UINT_FAST16_MAX__=18446744073709551615UL __UINT_FAST16_TYPE__=long\ unsigned\ int __UINT_FAST32_MAX__=18446744073709551615UL __UINT_FAST32_TYPE__=long\ unsigned\ int __UINT_FAST64_MAX__=18446744073709551615UL __UINT_FAST64_TYPE__=long\ unsigned\ int __UINT_LEAST64_MAX__=18446744073709551615UL __UINT_LEAST64_TYPE__=long\ unsigned\ int __WCHAR_MAX__=2147483647 __WCHAR_MIN__=(-2147483647\ -\ 1) __WCHAR_TYPE__=int __amd64=1 __amd64__=1 __code_model_small__=1 __k8=1 __k8__=1 __x86_64=1 __x86_64__=1 _FILE_OFFSET_BITS=64 __GLIBC__=2 __GLIBC_MINOR__=2 __GNUC__=3 __GNUC_MINOR__=4 __GNU_LIBRARY__=6 _LARGEFILE_SOURCE=1 _POSIX_C_SOURCE=199506L _POSIX_SOURCE=1 __STDC__=1 __USE_BSD=1 __USE_FILE_OFFSET64=1 __USE_LARGEFILE=1 __USE_MISC=1 __USE_POSIX=1 __USE_POSIX199309=1 __USE_POSIX199506=1 __USE_POSIX2=1 __USE_SVID=1 linux=1 __linux=1 __linux__=1 unix=1 __unix=1 __unix__=1'
-d_casti32='undef'
-d_double_style_ieee='define'
-d_long_double_style_ieee='define'
-d_long_double_style_ieee_extended='define'
-d_modflproto='define'
-doublekind='3'
-fpossize='16'
-longdblkind='3'
-need_va_copy='define'
-quadkind='2'
-
-sPRIEUldbl='"LE"'
-sPRIFUldbl='"LF"'
-sPRIGUldbl='"LG"'
-sPRIXU64='"lX"'
-sPRIeldbl='"Le"'
-sPRIfldbl='"Lf"'
-sPRIgldbl='"Lg"'
-sSCNfldbl='"Lf"'
-
-owrt:sig_count='64'
-owrt:sigs='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS'
-owrt:sig_name_extra='IOT CLD POLL UNUSED'
-owrt:sig_num_extra='6 17 29 31'
diff -uprN a/feeds/packages/lang/perl/Makefile b/feeds/packages/lang/perl/Makefile
--- a/feeds/packages/lang/perl/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,190 +0,0 @@
-#
-# Copyright (C) 2006-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-include perlver.mk
-
-PKG_NAME:=perl
-PKG_VERSION:=$(PERL_VERSION)
-PKG_RELEASE:=6
-
-PKG_SOURCE_URL:=\
-		https://cpan.metacpan.org/src/5.0 \
-		https://cpan.uib.no/src/5.0 \
-		https://mirrors.rit.edu/CPAN/src/5.0 \
-		https://mirror.transip.net/CPAN/src/5.0 \
-		https://mirrors.sonic.net/cpan/src/5.0 \
-		https://www.cpan.org/src/5.0
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_HASH:=fea7162d4cca940a387f0587b93f6737d884bf74d8a9d7cfd978bc12cd0b202d
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=Copying Artistic README
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>, \
-		Philip Prindeville <philipp@redfish-solutions.com>
-PKG_CPE_ID:=cpe:/a:perl:perl
-
-# Build settings
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/$(PKG_NAME)-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/$(PKG_NAME)-$(PKG_VERSION)
-PKG_INSTALL:=1
-PKG_BUILD_DEPENDS:=perl/host
-PKG_BUILD_PARALLEL:=1
-HOST_BUILD_PARALLEL:=1
-
-# Variables used during configuration/build
-HOST_PERL_PREFIX:=$(STAGING_DIR_HOSTPKG)/usr
-
-# Filter -g3, it will break Compress-Raw-Zlib
-TARGET_CFLAGS_PERL:=$(patsubst -g3,-g,$(TARGET_CFLAGS))
-TARGET_CPPFLAGS_PERL:=$(patsubst -g3,-g,$(TARGET_CPPFLAGS))
-
-# A list of disabled tests
-# ExtUtils tests are disabled for now as we don't support building
-# native extensions on the target machine at the moment
-PERL_DISABLEDTESTS:=cpan/ExtUtils-Constant cpan/ExtUtils-MakeMaker
-# We're on Linux, so don't even package them
-PERL_DISABLEDTESTS+=cpan/Win32API-File cpan/Win32 ext/VMS-DCLsym ext/VMS-Filespec ext/VMS-Stdio ext/Win32CORE os2/
-# NDBM and ODBM not supported
-PERL_DISABLEDTESTS+=ext/NDBM_File ext/ODBM_File
-
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include perlmod.mk
-
-define Package/perl
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The Perl intepreter
-  URL:=http://www.perl.com/
-  DEPENDS:=+USE_GLIBC:libbsd +PERL_THREADS:libpthread @!arc
-endef
-
-define Package/perl/description
-  Perl is a stable, cross platform programming language.
-  It is used for mission critical projects in the public and private sectors
-  and is widely used to program web applications of all needs.
-endef
-
-define Package/perl/config
-	source "$(SOURCE)/Config.in"
-endef
-
-# Static host perl
-define Host/Configure
-	( cd $(HOST_BUILD_DIR); ./Configure -der -Uusedl -Duserelocatableinc -Dprefix=$(HOST_PERL_PREFIX) $(if $(CONFIG_PERL_THREADS),-Dusethreads,))
-endef
-
-define Host/Install
-	( cd $(HOST_BUILD_DIR); ./miniperl installperl )
-	$(INSTALL_DIR) $(HOST_PERL_PREFIX)/bin/
-	$(CP) $(HOST_BUILD_DIR)/generate_uudmap $(HOST_PERL_PREFIX)/bin/
-	
-	# Link any possibly installed static extension in
-	$(MAKE) -C $(HOST_BUILD_DIR)/relink clean || true
-	( cd $(HOST_BUILD_DIR)/relink && $(HOST_PERL_PREFIX)/bin/perl Makefile.PL )
-	$(call perlmod/host/relink,$(HOST_BUILD_DIR)/relink)
-endef
-
-# Target perl
-define Build/Configure
-	$(PERL_CMD) files/perlconfig.pl -Dowrt:target_cc='$(TARGET_CC)' \
-	                                -Dowrt:gccversion=$(CONFIG_GCC_VERSION) \
-	                                -Dowrt:target_cross='$(TARGET_CROSS)' \
-	                                -Dowrt:cflags='$(TARGET_CFLAGS_PERL) $(TARGET_CPPFLAGS_PERL)' \
-	                                -Dowrt:ldflags='$(TARGET_LDFLAGS)' \
-	                                -Dowrt:libc=$(subst uClibc,uclibc,$(CONFIG_LIBC)) \
-	                                -Dowrt:ipv6=$(if $($(CONFIG_IPV6)),define,undef) \
-	                                -Dowrt:threads=$(if $(CONFIG_PERL_THREADS),yes,no) \
-	                                -Dowrt:staging_dir='$(STAGING_DIR)' \
-	                                -Dowrt:host_perl_prefix='$(HOST_PERL_PREFIX)' \
-	                                -Dsysroot='$(TOOLCHAIN_DIR)' \
-	                                files/version.config \
-	                                files/base.config \
-	                                files/$(patsubst i386,i486,$(ARCH)).config \
-	                                files/architecture.config \
-	                                files/signal.config \
-	                                files/threads.config \
-	                                files/libc.config \
-	                                files/misc.config \
-	                                > $(PKG_BUILD_DIR)/config.sh
-	(cd $(PKG_BUILD_DIR) && ./Configure -S)
-	install -m 0644 $(PKG_BUILD_DIR)/config.h $(PKG_BUILD_DIR)/xconfig.h
-endef
-
-define Build/Compile
-	+$(MAKE) $(PKG_JOBS) -C $(PKG_BUILD_DIR)
-endef
-
-ifeq ($(CONFIG_arc),)
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/lib/perl5/$(PERL_VERSION)
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/perl5/$(PERL_VERSION) $(1)/usr/lib/perl5/
-endef
-endif
-
-define Package/perl/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/perl$(PKG_VERSION) $(1)/usr/bin
-	ln -nsf perl$(PKG_VERSION) $(1)/usr/bin/perl
-	
-	$(INSTALL_DIR) $(1)/usr/lib/perl5/$(PERL_VERSION)/CORE
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/perl5/$(PERL_VERSION)/CORE/libperl.so $(1)/usr/lib/perl5/$(PERL_VERSION)/CORE/
-endef
-
-
-$(eval $(call RequireCommand,rsync, \
-	$(PKG_NAME) requires rsync installed on the host-system. \
-))
-
-$(eval $(call BuildPackage,perl))
-$(eval $(call HostBuild))
-
--include perlbase.mk
-
-# A helper package that includes all sort of supplementary files for tests
-define Package/perl-tests-common
-$(call Package/perlbase-template)
-TITLE:=Common test support files
-DEPENDS:=@PERL_TESTS
-endef
-
-define Package/perl-tests-common/install
-	$(INSTALL_DIR) $(1)/$(PERL_TESTSDIR)
-	$(INSTALL_DIR) $(1)/$(PERL_TESTSDIR)/Porting
-	$(INSTALL_DIR) $(1)/$(PERL_TESTSDIR)/regen
-	$(INSTALL_DIR) $(1)/$(PERL_TESTSDIR)/lib
-	$(INSTALL_DIR) $(1)/usr/lib/perl5/$(PERL_VERSION)/XS
-	$(INSTALL_DIR) $(1)/usr/lib/perl5/$(PERL_VERSION)/auto/XS
-	$(INSTALL_DIR) $(1)/usr/lib/perl5/$(PERL_VERSION)/unicore
-	
-	$(CP) $(PKG_BUILD_DIR)/t $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/Porting $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/regen $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/MANIFEST $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/TestInit.pm $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/vutil.c $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/vxs.inc $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/lib/XS $(1)/usr/lib/perl5/$(PERL_VERSION)/
-	$(CP) $(PKG_BUILD_DIR)/lib/auto/XS $(1)/usr/lib/perl5/$(PERL_VERSION)/auto
-	$(CP) $(PKG_BUILD_DIR)/lib/vmsish.pm $(1)/usr/lib/perl5/$(PERL_VERSION)/
-	$(CP) $(PKG_BUILD_DIR)/lib/vmsish.t $(1)/$(PERL_TESTSDIR)/lib
-	$(CP) $(PKG_BUILD_DIR)/lib/Internals.t $(1)/$(PERL_TESTSDIR)/lib
-	$(CP) $(PKG_BUILD_DIR)/lib/unicore/TestProp.pl $(1)/usr/lib/perl5/$(PERL_VERSION)/unicore
-	$(CP) files/perl-run_tests.sh $(1)/$(PERL_TESTSDIR)/run_tests.sh
-	sed \
-		-e 's!%%PERL_DISABLEDTESTS%%!$(PERL_DISABLEDTESTS)!' \
-		-e 's!%%PERL_VERSION%%!$(PERL_VERSION)!' \
-		-i $(1)/$(PERL_TESTSDIR)/run_tests.sh
-	$(CP) $(PKG_BUILD_DIR)/config_h.SH $(1)/$(PERL_TESTSDIR)
-	$(CP) $(PKG_BUILD_DIR)/perl.h $(1)/$(PERL_TESTSDIR)
-endef
-
-$(eval $(call BuildPackage,perl-tests-common))
diff -uprN a/feeds/packages/lang/perl/patches/001-macos_11_support.patch b/feeds/packages/lang/perl/patches/001-macos_11_support.patch
--- a/feeds/packages/lang/perl/patches/001-macos_11_support.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/001-macos_11_support.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,29 +0,0 @@
---- a/hints/darwin.sh
-+++ b/hints/darwin.sh
-@@ -301,7 +301,7 @@ case "$osvers" in  # Note: osvers is the
-    # We now use MACOSX_DEPLOYMENT_TARGET, if set, as an override by
-    # capturing its value and adding it to the flags.
-     case "$MACOSX_DEPLOYMENT_TARGET" in
--    10.*)
-+    [1-9][0-9].*)
-       add_macosx_version_min ccflags $MACOSX_DEPLOYMENT_TARGET
-       add_macosx_version_min ldflags $MACOSX_DEPLOYMENT_TARGET
-       ;;
-@@ -313,7 +313,7 @@ case "$osvers" in  # Note: osvers is the
- 
- *** Unexpected MACOSX_DEPLOYMENT_TARGET=$MACOSX_DEPLOYMENT_TARGET
- ***
--*** Please either set it to 10.something, or to empty.
-+*** Please either set it to a valid macOS version number (e.g., 10.15) or to empty.
- 
- EOM
-       exit 1
-@@ -327,7 +327,7 @@ EOM
-     # "ProductVersion:    10.11"     "10.11"
-         prodvers=`sw_vers|awk '/^ProductVersion:/{print $2}'|awk -F. '{print $1"."$2}'`
-     case "$prodvers" in
--    10.*)
-+    [1-9][0-9].*)
-       add_macosx_version_min ccflags $prodvers
-       add_macosx_version_min ldflags $prodvers
-       ;;
diff -uprN a/feeds/packages/lang/perl/patches/002-add-Internals-getcwd.patch b/feeds/packages/lang/perl/patches/002-add-Internals-getcwd.patch
--- a/feeds/packages/lang/perl/patches/002-add-Internals-getcwd.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/002-add-Internals-getcwd.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,85 +0,0 @@
-From 15f67d146cf1f32504e8a11de3faa2abc0f467cd Mon Sep 17 00:00:00 2001
-From: Tony Cook <tony@develop-help.com>
-Date: Mon, 25 Mar 2019 16:48:40 +1100
-Subject: [PATCH] (perl #133951) add Internals::getcwd
-
----
- MANIFEST      |  1 +
- t/io/getcwd.t | 22 ++++++++++++++++++++++
- universal.c   | 22 ++++++++++++++++++++++
- 3 files changed, 45 insertions(+)
- create mode 100644 t/io/getcwd.t
-
---- a/MANIFEST
-+++ b/MANIFEST
-@@ -5456,6 +5456,7 @@ t/io/errno.t			See if $! is correctly se
- t/io/errnosig.t			Test case for restoration $! when leaving signal handlers
- t/io/fflush.t			See if auto-flush on fork/exec/system/qx works
- t/io/fs.t			See if directory manipulations work
-+t/io/getcwd.t			See if Internals::getcwd is sane
- t/io/inplace.t			See if inplace editing works
- t/io/iofile.t			See if we can load IO::File on demand
- t/io/iprefix.t			See if inplace editing works with prefixes
---- /dev/null
-+++ b/t/io/getcwd.t
-@@ -0,0 +1,22 @@
-+#!./perl -w
-+
-+BEGIN {
-+    chdir 't' if -d 't';
-+    require "./test.pl";
-+    set_up_inc('../lib');
-+}
-+
-+use Config;
-+
-+$Config{d_getcwd}
-+  or plan skip_all => "no getcwd";
-+
-+my $cwd = Internals::getcwd();
-+ok(!defined $cwd || $cwd ne "",
-+   "Internals::getcwd() returned a reasonable result");
-+
-+if (defined $cwd) {
-+    ok(-d $cwd, "check a success result is a directory");
-+}
-+
-+done_testing();
---- a/universal.c
-+++ b/universal.c
-@@ -986,6 +986,25 @@ XS(XS_re_regexp_pattern)
-     NOT_REACHED; /* NOTREACHED */
- }
- 
-+#ifdef HAS_GETCWD
-+
-+XS(XS_Internals_getcwd)
-+{
-+    dXSARGS;
-+    SV *sv = sv_newmortal();
-+
-+    if (items != 0)
-+        croak_xs_usage(cv, "");
-+
-+    (void)getcwd_sv(sv);
-+
-+    SvTAINTED_on(sv);
-+    PUSHs(sv);
-+    XSRETURN(1);
-+}
-+
-+#endif
-+
- #include "vutil.h"
- #include "vxs.inc"
- 
-@@ -1020,6 +1039,9 @@ static const struct xsub_details details
-     {"re::regnames", XS_re_regnames, ";$"},
-     {"re::regnames_count", XS_re_regnames_count, ""},
-     {"re::regexp_pattern", XS_re_regexp_pattern, "$"},
-+#ifdef HAS_GETCWD
-+    {"Internals::getcwd", XS_Internals_getcwd, ""},
-+#endif
- };
- 
- STATIC OP*
diff -uprN a/feeds/packages/lang/perl/patches/003-fallback-to-the-built-in-getcwd-if-we-ca.patch b/feeds/packages/lang/perl/patches/003-fallback-to-the-built-in-getcwd-if-we-ca.patch
--- a/feeds/packages/lang/perl/patches/003-fallback-to-the-built-in-getcwd-if-we-ca.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/003-fallback-to-the-built-in-getcwd-if-we-ca.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
---- a/dist/PathTools/Cwd.pm
-+++ b/dist/PathTools/Cwd.pm
-@@ -659,6 +659,10 @@ if (exists $METHOD_MAP{$^O}) {
-   }
- }
- 
-+# built-in from 5.30
-+*getcwd = \&Internals::getcwd
-+  if !defined &getcwd && defined &Internals::getcwd;
-+
- # In case the XS version doesn't load.
- *abs_path = \&_perl_abs_path unless defined &abs_path;
- *getcwd = \&_perl_getcwd unless defined &getcwd;
---- a/dist/PathTools/t/cwd.t
-+++ b/dist/PathTools/t/cwd.t
-@@ -10,6 +10,7 @@ chdir 't';
- use Config;
- use File::Spec;
- use File::Path;
-+use Errno qw(EACCES);
- 
- use lib File::Spec->catdir('t', 'lib');
- use Test::More;
-@@ -208,7 +209,15 @@ SKIP: {
- 
-     like($abs_path,      qr|$want$|i, "Cwd::abs_path produced $abs_path");
-     like($fast_abs_path, qr|$want$|i, "Cwd::fast_abs_path produced $fast_abs_path");
--    like($pas,           qr|$want$|i, "Cwd::_perl_abs_path produced $pas") if $EXTRA_ABSPATH_TESTS;
-+    if ($EXTRA_ABSPATH_TESTS) {
-+        # _perl_abs_path() can fail if some ancestor directory isn't readable
-+        if (defined $pas) {
-+            like($pas,           qr|$want$|i, "Cwd::_perl_abs_path produced $pas");
-+        }
-+        else {
-+            is($!+0, EACCES, "check we got the expected error on failure");
-+        }
-+    }
- 
-     rmtree($test_dirs[0], 0, 0);
-     1 while unlink $file;
diff -uprN a/feeds/packages/lang/perl/patches/010-musl-compat.patch b/feeds/packages/lang/perl/patches/010-musl-compat.patch
--- a/feeds/packages/lang/perl/patches/010-musl-compat.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/010-musl-compat.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/perl.c
-+++ b/perl.c
-@@ -303,7 +303,7 @@ perl_construct(pTHXx)
-     PL_localpatches = local_patches;	/* For possible -v */
- #endif
- 
--#if defined(LIBM_LIB_VERSION)
-+#if defined(LIBM_LIB_VERSION) && defined(__UCLIBC__)
-     /*
-      * Some BSDs and Cygwin default to POSIX math instead of IEEE.
-      * This switches them over to IEEE.
diff -uprN a/feeds/packages/lang/perl/patches/020-storables-stacksize.patch b/feeds/packages/lang/perl/patches/020-storables-stacksize.patch
--- a/feeds/packages/lang/perl/patches/020-storables-stacksize.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/020-storables-stacksize.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,66 +0,0 @@
-From 682a4acb98783a7f9b5c286b308f12863599fec3 Mon Sep 17 00:00:00 2001
-From: Tony Cook <tony@develop-help.com>
-Date: Mon, 30 Jul 2018 21:00:52 +1000
-Subject: (perl #133411) don't try to load Storable with -Dusecrosscompile
-
----
- dist/Storable/Makefile.PL |  9 ++++++++-
- dist/Storable/stacksize   | 10 +++++++---
- 2 files changed, 15 insertions(+), 4 deletions(-)
-
---- a/dist/Storable/Makefile.PL
-+++ b/dist/Storable/Makefile.PL
-@@ -90,12 +90,19 @@ sub depend {
-         # blib.pm needs arch/lib
-         $extra_deps = ' Storable.pm';
-     }
-+    my $whichperl;
-+    if ($Config::Config{usecrosscompile}) {
-+        $whichperl = '$(PERLRUN)';
-+    }
-+    else {
-+        $whichperl = '$(FULLPERLRUNINST)';
-+    }
-     my $linktype = uc($_[0]->{LINKTYPE});
-     my $limit_pm = File::Spec->catfile('lib', 'Storable', 'Limit.pm');
-     "
- $limit_pm : stacksize \$(INST_$linktype)$extra_deps
- 	\$(MKPATH) \$(INST_LIB)
--	\$(FULLPERLRUNINST) stacksize $options
-+	$whichperl stacksize $options
- 
- release : dist
- 	git tag \$(VERSION)
---- a/dist/Storable/stacksize
-+++ b/dist/Storable/stacksize
-@@ -7,6 +7,9 @@ use Cwd;
- use File::Spec;
- use strict;
- 
-+-d "lib" or mkdir "lib";
-+-d "lib/Storable" or mkdir "lib/Storable";
-+
- my $fn = "lib/Storable/Limit.pm";
- my $ptrsize = $Config{ptrsize};
- my ($bad1, $bad2) = (65001, 25000);
-@@ -29,6 +32,10 @@ sub is_miniperl {
- }
- 
- if (is_miniperl()) {
-+    if ($Config{usecrosscompile}) {
-+        write_limits(500, 265);
-+        exit;
-+    }
-     die "Should not run during miniperl\n";
- }
- my $prefix = "";
-@@ -68,9 +75,6 @@ if ($ENV{PERL_CORE}) {
-     }
- }
- 
---d "lib" or mkdir "lib";
---d "lib/Storable" or mkdir "lib/Storable";
--
- if ($^O eq "MSWin32") {
-     require Win32;
-     my ($str, $major, $minor) = Win32::GetOSVersion();
diff -uprN a/feeds/packages/lang/perl/patches/100-fix-cross-compile-endianness-detection.patch b/feeds/packages/lang/perl/patches/100-fix-cross-compile-endianness-detection.patch
--- a/feeds/packages/lang/perl/patches/100-fix-cross-compile-endianness-detection.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/100-fix-cross-compile-endianness-detection.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,22 +0,0 @@
---- a/config_h.SH
-+++ b/config_h.SH
-@@ -52,6 +52,19 @@ sed <<!GROK!THIS! >$CONFIG_H -e 's!^#und
- #ifndef _config_h_
- #define _config_h_
- 
-+#if defined(USE_CROSS_COMPILE) && !defined(__LITTLE_ENDIAN__) && !defined(__BIG_ENDIAN__)
-+#  include <endian.h>
-+#  if defined(__BYTE_ORDER) && defined(__LITTLE_ENDIAN) && defined(__BIG_ENDIAN)
-+#    if (__BYTE_ORDER == __LITTLE_ENDIAN)
-+#      define __LITTLE_ENDIAN__
-+#    elif (__BYTE_ORDER == __BIG_ENDIAN)
-+#      define __BIG_ENDIAN__
-+#    else
-+#      error Unknown endianness
-+#    endif
-+#  endif
-+#endif
-+
- /* LOC_SED:
-  *	This symbol holds the complete pathname to the sed program.
-  */
diff -uprN a/feeds/packages/lang/perl/patches/110-always_use_miniperl.patch b/feeds/packages/lang/perl/patches/110-always_use_miniperl.patch
--- a/feeds/packages/lang/perl/patches/110-always_use_miniperl.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/110-always_use_miniperl.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,27 +0,0 @@
---- a/Makefile.SH
-+++ b/Makefile.SH
-@@ -339,22 +339,11 @@ MANIFEST_SRT = MANIFEST.srt
- 
- !GROK!THIS!
- 
--case "$usecrosscompile$perl" in
--define?*)
--	$spitshell >>$Makefile <<!GROK!THIS!
--# Macros to invoke a copy of our fully operational perl during the build.
--PERL_EXE = perl\$(EXE_EXT)
--RUN_PERL = \$(LDLIBPTH) \$(RUN) $perl\$(EXE_EXT)
--!GROK!THIS!
--	;;
--*)
--	$spitshell >>$Makefile <<!GROK!THIS!
-+$spitshell >>$Makefile <<!GROK!THIS!
- # Macros to invoke a copy of our fully operational perl during the build.
- PERL_EXE = perl\$(EXE_EXT)
--RUN_PERL = \$(LDLIBPTH) \$(RUN) ./perl\$(EXE_EXT) -Ilib -I.
-+RUN_PERL = \$(LDLIBPTH) \$(RUN) ./miniperl\$(EXE_EXT) -Ilib -I.
- !GROK!THIS!
--	;;
--esac
- 
- $spitshell >>$Makefile <<!GROK!THIS!
- # Macros to run our tests
diff -uprN a/feeds/packages/lang/perl/patches/120-remove-build-timestamp.patch b/feeds/packages/lang/perl/patches/120-remove-build-timestamp.patch
--- a/feeds/packages/lang/perl/patches/120-remove-build-timestamp.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/120-remove-build-timestamp.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
---- a/perl.c
-+++ b/perl.c
-@@ -1987,16 +1987,6 @@ S_Internals_V(pTHX_ CV *cv)
-     PUSHs(Perl_newSVpvn_flags(aTHX_ non_bincompat_options,
- 			      sizeof(non_bincompat_options) - 1, SVs_TEMP));
- 
--#ifndef PERL_BUILD_DATE
--#  ifdef __DATE__
--#    ifdef __TIME__
--#      define PERL_BUILD_DATE __DATE__ " " __TIME__
--#    else
--#      define PERL_BUILD_DATE __DATE__
--#    endif
--#  endif
--#endif
--
- #ifdef PERL_BUILD_DATE
-     PUSHs(Perl_newSVpvn_flags(aTHX_
- 			      STR_WITH_LEN("Compiled at " PERL_BUILD_DATE),
diff -uprN a/feeds/packages/lang/perl/patches/300-add-relink-hack.patch b/feeds/packages/lang/perl/patches/300-add-relink-hack.patch
--- a/feeds/packages/lang/perl/patches/300-add-relink-hack.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/300-add-relink-hack.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,6 +0,0 @@
---- /dev/null
-+++ b/relink/Makefile.PL
-@@ -0,0 +1,3 @@
-+use ExtUtils::MakeMaker;
-+
-+WriteMakefile(NAME => "relink");
diff -uprN a/feeds/packages/lang/perl/patches/301-fix_macos_static_linking.patch b/feeds/packages/lang/perl/patches/301-fix_macos_static_linking.patch
--- a/feeds/packages/lang/perl/patches/301-fix_macos_static_linking.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/301-fix_macos_static_linking.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
---- a/cpan/ExtUtils-MakeMaker/lib/ExtUtils/MM_Unix.pm
-+++ b/cpan/ExtUtils-MakeMaker/lib/ExtUtils/MM_Unix.pm
-@@ -2738,14 +2738,14 @@ sub _find_static_libs {
- 
- Called by a utility method of makeaperl. Checks whether a given file
- is an XS library by seeing whether it defines any symbols starting
--with C<boot_>.
-+with C<boot_> (with an optional leading underscore – needed on MacOS).
- 
- =cut
- 
- sub xs_static_lib_is_xs {
-     my ($self, $libfile) = @_;
-     my $devnull = File::Spec->devnull;
--    return `nm $libfile 2>$devnull` =~ /\bboot_/;
-+    return `nm $libfile 2>$devnull` =~ /\b_?boot_/;
- }
- 
- =item makefile (o)
diff -uprN a/feeds/packages/lang/perl/patches/320-copy-pod-hack.patch b/feeds/packages/lang/perl/patches/320-copy-pod-hack.patch
--- a/feeds/packages/lang/perl/patches/320-copy-pod-hack.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/320-copy-pod-hack.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
---- a/cpan/podlators/Makefile.PL
-+++ b/cpan/podlators/Makefile.PL
-@@ -18,6 +18,19 @@ use Config;
- use ExtUtils::MakeMaker;
- use File::Spec;
- 
-+foreach (glob('scripts/pod*.PL')) {
-+    # The various pod*.PL extractors change directory. Doing that with relative
-+    # paths in @INC breaks. It seems the lesser of two evils to copy (to avoid)
-+    # the chdir doing anything, than to attempt to convert lib paths to
-+    # absolute, and potentially run into problems with quoting special
-+    # characters in the path to our build dir (such as spaces)
-+    require File::Copy;
-+
-+    my $temp = $_;
-+    $temp =~ s!scripts/!!;
-+    File::Copy::copy($_, $temp) or die "Can't copy $temp to $_: $!";
-+}
-+
- # Generate full paths for scripts distributed in the bin directory.  Appends
- # the .com extension to scripts on VMS, unless they already have the .PL
- # extension.
-@@ -28,7 +41,7 @@ use File::Spec;
- #          (Scalar) Space-separated relative paths from top of distribution
- sub scripts {
-     my (@scripts) = @_;
--    my @paths = map { File::Spec->catfile('scripts', $_) } @scripts;
-+    my @paths = @scripts;
-     if ($^O eq 'VMS') {
-         @paths = map { m{ [.] PL \z }xms ? $_ : $_ . '.com' } @paths;
-     }
-@@ -77,8 +90,8 @@ my %metadata = (
- 
-     # Override the files that generate section 1 man pages.
-     MAN1PODS => {
--        man1pod('scripts', 'pod2man.PL'),
--        man1pod('scripts', 'pod2text.PL'),
-+        man1pod('.', 'pod2man.PL'),
-+        man1pod('.', 'pod2text.PL'),
- 
-         # Perl core uses a separate copy in the top-level pod directory.
-         ($ENV{PERL_CORE} ? () : man1pod('pod', 'perlpodstyle.pod')),
diff -uprN a/feeds/packages/lang/perl/patches/710-threads_join-skip_ps_on_busybox.patch b/feeds/packages/lang/perl/patches/710-threads_join-skip_ps_on_busybox.patch
--- a/feeds/packages/lang/perl/patches/710-threads_join-skip_ps_on_busybox.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/710-threads_join-skip_ps_on_busybox.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,81 +0,0 @@
-perl: Skip $0 test on busybox
-
-This test requires a ps which provides the -f option, as well as suitable output.
-We can't provide either with busybox. Just skip it for now.
-
-Signed-off-by: Marcel Denia <naoir@gmx.net>
-
---- a/dist/threads/t/join.t
-+++ b/dist/threads/t/join.t
-@@ -110,36 +110,41 @@ sub skip {
- 
- # We parse ps output so this is OS-dependent.
- if ($^O eq 'linux') {
--    # First modify $0 in a subthread.
--    #print "# mainthread: \$0 = $0\n";
--    threads->create(sub{ #print "# subthread: \$0 = $0\n";
--                        $0 = "foobar";
--                        #print "# subthread: \$0 = $0\n"
--                 })->join;
--    #print "# mainthread: \$0 = $0\n";
--    #print "# pid = $$\n";
--    if (open PS, "ps -f |") { # Note: must work in (all) systems.
--        my ($sawpid, $sawexe);
--        while (<PS>) {
--            chomp;
--            #print "# [$_]\n";
--            if (/^\s*\S+\s+$$\s/) {
--                $sawpid++;
--                if (/\sfoobar\s*$/) { # Linux 2.2 leaves extra trailing spaces.
--                    $sawexe++;
--                }
--                last;
--            }
--        }
--        close PS or die;
--        if ($sawpid) {
--            ok($sawpid && $sawexe, 'altering $0 is effective');
--        } else {
--            skip("\$0 check: did not see pid $$ in 'ps -f |'");
--        }
--    } else {
--        skip("\$0 check: opening 'ps -f |' failed: $!");
--    }
-+	if (readlink('/bin/ps') ne 'busybox') {
-+		# First modify $0 in a subthread.
-+		#print "# mainthread: \$0 = $0\n";
-+		threads->create(sub{ #print "# subthread: \$0 = $0\n";
-+							$0 = "foobar";
-+							#print "# subthread: \$0 = $0\n"
-+					})->join;
-+		#print "# mainthread: \$0 = $0\n";
-+		#print "# pid = $$\n";
-+		if (open PS, "ps -f |") { # Note: must work in (all) systems.
-+			my ($sawpid, $sawexe);
-+			while (<PS>) {
-+				chomp;
-+				#print "# [$_]\n";
-+				if (/^\s*\S+\s+$$\s/) {
-+					$sawpid++;
-+					if (/\sfoobar\s*$/) { # Linux 2.2 leaves extra trailing spaces.
-+						$sawexe++;
-+					}
-+					last;
-+				}
-+			}
-+			close PS or die;
-+			if ($sawpid) {
-+				ok($sawpid && $sawexe, 'altering $0 is effective');
-+			} else {
-+				skip("\$0 check: did not see pid $$ in 'ps -f |'");
-+			}
-+		} else {
-+			skip("\$0 check: opening 'ps -f |' failed: $!");
-+		}
-+	}
-+	else {
-+		skip("\$0 check: incompatible with busybox");
-+	}
- } else {
-     skip("\$0 check: only on Linux");
- }
diff -uprN a/feeds/packages/lang/perl/patches/900-use-rm-force.patch b/feeds/packages/lang/perl/patches/900-use-rm-force.patch
--- a/feeds/packages/lang/perl/patches/900-use-rm-force.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/900-use-rm-force.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,285 +0,0 @@
---- a/Makefile.SH
-+++ b/Makefile.SH
-@@ -275,6 +275,7 @@ LNS = $lns
- # NOTE: some systems don't grok "cp -f". XXX Configure test needed?
- CPS = $cp
- RMS = rm -f
-+RMS_R = rm -rf
- ranlib = $ranlib
- 
- # The following are mentioned only to make metaconfig include the
-@@ -736,7 +737,7 @@ bitcount.h: generate_uudmap$(HOST_EXE_EX
- 	./generate_uudmap$(HOST_EXE_EXT) $(generated_headers)
- 
- generate_uudmap$(HOST_EXE_EXT): generate_uudmap$(OBJ_EXT)
--	-@rm generate_uudmap$(HOST_EXE_EXT)
-+	@$(RMS) generate_uudmap$(HOST_EXE_EXT)
- 	$(LNS) $(HOST_GENERATE) generate_uudmap$(HOST_EXE_EXT)
- 
- !NO!SUBS!
-@@ -876,26 +877,26 @@ mydtrace.h: $(DTRACE_H)
- 	define)
- 		$spitshell >>$Makefile <<'!NO!SUBS!'
- $(DTRACE_MINI_O): perldtrace.d $(miniperl_objs_nodt)
--	-rm -rf mpdtrace
-+	$(RMS_R) mpdtrace
- 	mkdir mpdtrace
- 	cp $(miniperl_objs_nodt) mpdtrace/
- 	$(DTRACE) -G -s perldtrace.d -o $(DTRACE_MINI_O) $(miniperl_dtrace_objs)
- 
- $(DTRACE_PERLLIB_O): perldtrace.d $(perllib_objs_nodt)
--	-rm -rf libpdtrace
-+	$(RMS_R) libpdtrace
- 	mkdir libpdtrace
- 	cp $(perllib_objs_nodt) libpdtrace/
- 	$(DTRACE) -G -s perldtrace.d -o $(DTRACE_PERLLIB_O) $(perllib_dtrace_objs)
- 
- $(DTRACE_MAIN_O): perldtrace.d perlmain$(OBJ_EXT)
--	-rm -rf maindtrace
-+	$(RMS_R) maindtrace
- 	mkdir maindtrace
- 	cp perlmain$(OBJ_EXT) maindtrace/
- 	$(DTRACE) -G -s perldtrace.d -o $(DTRACE_MAIN_O) $(perlmain_dtrace_objs) ||	      \
- 	  ( $(ECHO) "No probes in perlmain$(OBJ_EXT), generating a dummy $(DTRACE_MAIN_O)" && \
- 	    $(ECHO) >dtrace_main.c &&							      \
- 	    `$(CCCMD)` $(PLDLFLAGS) dtrace_main.c &&					      \
--	     rm -f dtrace_main.c )
-+	     $(RMS) dtrace_main.c )
- 
- !NO!SUBS!
- 		;;
-@@ -906,13 +907,13 @@ $(LIBPERL): $& $(perllib_dep) $(DYNALOAD
- 	case "$useshrplib" in
- 	true)
- 		$spitshell >>$Makefile <<'!NO!SUBS!'
--	rm -f $@
-+	$(RMS) $@
- 	$(LD) -o $@ $(SHRPLDFLAGS) $(perllib_objs) $(DYNALOADER) $(libs)
- !NO!SUBS!
- 		case "$osname" in
- 		aix)
- 			$spitshell >>$Makefile <<'!NO!SUBS!'
--	rm -f libperl$(OBJ_EXT)
-+	$(RMS) libperl$(OBJ_EXT)
- 	mv $@ libperl$(OBJ_EXT)
- 	$(AR) qv $(LIBPERL) libperl$(OBJ_EXT)
- !NO!SUBS!
-@@ -921,7 +922,7 @@ $(LIBPERL): $& $(perllib_dep) $(DYNALOAD
- 		;;
- 	*)
- 		$spitshell >>$Makefile <<'!NO!SUBS!'
--	rm -f $(LIBPERL)
-+	$(RMS) $(LIBPERL)
- 	$(AR) rc $(LIBPERL) $(perllib_objs) $(DYNALOADER)
- 	@$(ranlib) $(LIBPERL)
- !NO!SUBS!
-@@ -954,7 +955,7 @@ $(MINIPERL_EXE): lib/buildcustomize.pl
- 	amigaos*)
- 		$spitshell >>$Makefile <<'!NO!SUBS!'
- lib/buildcustomize.pl: $& $(miniperl_objs) write_buildcustomize.pl
--	-@rm -f miniperl.xok
-+	@$(RMS) miniperl.xok
- 	$(CC) $(CLDFLAGS) -o $(MINIPERL_EXE) \
- 	    $(miniperl_objs) $(libs)
- #	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
-@@ -992,7 +993,7 @@ NAMESPACEFLAGS = -force_flat_namespace
- 		esac
- 		$spitshell >>$Makefile <<'!NO!SUBS!'
- lib/buildcustomize.pl: $& $(miniperl_objs) write_buildcustomize.pl
--	-@rm -f miniperl.xok
-+	@$(RMS) miniperl.xok
- 	$(CC) $(CLDFLAGS) $(NAMESPACEFLAGS) -o $(MINIPERL_EXE) \
- 	    $(miniperl_objs) $(libs)
- 	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
-@@ -1003,8 +1004,8 @@ lib/buildcustomize.pl: $& $(miniperl_obj
- 		if test "X$hostperl" != X; then
- 			$spitshell >>$Makefile <<!GROK!THIS!
- lib/buildcustomize.pl: \$& \$(miniperl_dep) write_buildcustomize.pl
--	-@rm -f miniperl.xok
--	-@rm \$(MINIPERL_EXE)
-+	@\$(RMS) miniperl.xok
-+	@\$(RMS) \$(MINIPERL_EXE)
- 	\$(LNS) \$(HOST_PERL) \$(MINIPERL_EXE)
- 	\$(LDLIBPTH) ./miniperl\$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
- 	\$(MINIPERL) -f write_buildcustomize.pl 'osname' "$osname"
-@@ -1012,7 +1013,7 @@ lib/buildcustomize.pl: \$& \$(miniperl_d
- 		else
- 			$spitshell >>$Makefile <<'!NO!SUBS!'
- lib/buildcustomize.pl: $& $(miniperl_dep) write_buildcustomize.pl
--	-@rm -f miniperl.xok
-+	@$(RMS) miniperl.xok
- 	$(CC) $(CLDFLAGS) -o $(MINIPERL_EXE) \
- 	    $(miniperl_objs) $(libs)
- 	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
-@@ -1025,7 +1026,7 @@ lib/buildcustomize.pl: $& $(miniperl_dep
- 	$spitshell >>$Makefile <<'!NO!SUBS!'
- 
- $(PERL_EXE): $& $(perlmain_dep) $(LIBPERL) $(static_ext) ext.libs $(PERLEXPORT) write_buildcustomize.pl
--	-@rm -f miniperl.xok
-+	@$(RMS) miniperl.xok
- !NO!SUBS!
- 
-         case $osname in
-@@ -1119,8 +1120,8 @@ pod/perl5281delta.pod: pod/perldelta.pod
- 	$(LNS) perldelta.pod pod/perl5281delta.pod
- 
- extra.pods: $(MINIPERL_EXE)
--	-@test ! -f extra.pods || rm -f `cat extra.pods`
--	-@rm -f extra.pods
-+	-@test ! -f extra.pods || $(RMS) `cat extra.pods`
-+	@$(RMS) extra.pods
- 	-@for x in `grep -l '^=[a-z]' README.* | grep -v README.vms` ; do \
- 	    nx=`echo $$x | sed -e "s/README\.//"`; \
- 	    $(LNS) ../$$x "pod/perl"$$nx".pod" ; \
-@@ -1340,11 +1341,11 @@ realclean:	_realcleaner _mopup
- 	@echo "Note that '$(MAKE) realclean' does not delete config.sh or Policy.sh"
- 
- _clobber:
--	-@rm -f Cross/run-* Cross/to-* Cross/from-* Cross/mkdir
--	-rm -rf host
--	rm -f t/test_state
--	rm -f config.sh cppstdin Policy.sh extras.lst
--	rm -f $(MANIFEST_SRT)
-+	@$(RMS) Cross/run-* Cross/to-* Cross/from-* Cross/mkdir
-+	$(RMS_R) host
-+	$(RMS) t/test_state
-+	$(RMS) config.sh cppstdin Policy.sh extras.lst
-+	$(RMS) $(MANIFEST_SRT)
- 
- clobber:	_realcleaner _mopup _clobber
- 
-@@ -1352,23 +1353,23 @@ distclean:	clobber
- 
- # Like distclean but also removes emacs backups and *.orig.
- veryclean:	_verycleaner _mopup _clobber
--	-@rm -f Obsolete Wanted
-+	$(RMS) Obsolete Wanted
- 
- # Do not 'make _mopup' directly.
- _mopup:
--	rm -f *$(OBJ_EXT) *$(LIB_EXT) all perlmain.c opmini.c perlmini.c generate_uudmap$(EXE_EXT) $(generated_headers)
-+	$(RMS) *$(OBJ_EXT) *$(LIB_EXT) all perlmain.c opmini.c perlmini.c generate_uudmap$(EXE_EXT) $(generated_headers)
- 	-rmdir .depending
--	-@test -f extra.pods && rm -f `cat extra.pods`
--	-@test -f vms/README_vms.pod && rm -f vms/README_vms.pod
--	-rm -f perl.exp ext.libs $(generated_pods) uni.data opmini.o perlmini.o pod/roffitall
--	-rm -f perl.export perl.dll perl.libexp perl.map perl.def
--	-rm -f *perl.xok
--	-rm -f cygwin.c libperl*.def libperl*.dll cygperl*.dll *.exe.stackdump
--	-rm -f $(PERL_EXE) $(MINIPERL_EXE) $(LIBPERL) libperl.* microperl
--	-rm -f config.arch config.over $(DTRACE_H)
-+	-@test -f extra.pods && $(RMS) `cat extra.pods`
-+	-@test -f vms/README_vms.pod && $(RMS) vms/README_vms.pod
-+	$(RMS) perl.exp ext.libs $(generated_pods) uni.data opmini.o perlmini.o pod/roffitall
-+	$(RMS) perl.export perl.dll perl.libexp perl.map perl.def
-+	$(RMS) *perl.xok
-+	$(RMS) cygwin.c libperl*.def libperl*.dll cygperl*.dll *.exe.stackdump
-+	$(RMS) $(PERL_EXE) $(MINIPERL_EXE) $(LIBPERL) libperl.* microperl
-+	$(RMS) config.arch config.over $(DTRACE_H)
- 
- _cleaner1:
--	-cd os2; rm -f Makefile
-+	-cd os2; $(RMS) Makefile
- 	-cd pod; $(LDLIBPTH) $(MAKE) $(CLEAN)
- 	-cd utils; $(LDLIBPTH) $(MAKE) $(CLEAN)
- 	-@if test -f $(MINIPERL_EXE) ; then \
-@@ -1378,31 +1379,31 @@ _cleaner1:
- 	else \
- 	sh $(CLEAN).sh ; \
- 	fi
--	rm -f realclean.sh veryclean.sh
--	-rm -f `grep -v ^# mkppport.lst | grep . | sed -e 's/$$/\/ppport.h/'`
-+	$(RMS) realclean.sh veryclean.sh
-+	$(RMS) `grep -v ^# mkppport.lst | grep . | sed -e 's/$$/\/ppport.h/'`
- 
- # Dear POSIX, thanks for making the default to xargs to be
- # run once if nothhing is passed in. It is such a great help.
- 
- # Some systems do not support "?", so keep these files separate.
- _cleaner2:
--	-rm -f core.*perl.*.? t/core.perl.*.? .?*.c
--	rm -f core *perl.core t/core t/*perl.core core.* t/core.*
--	rm -f t/$(PERL_EXE) t/rantests
--	rm -rf t/tmp*
--	rm -rf $(addedbyconf)
--	rm -f $(FIRSTMAKEFILE) $(FIRSTMAKEFILE).old makefile.old utils/Makefile
--	rm -f $(private)
--	rm -rf $(unidatafiles) $(unidatadirs)
--	rm -rf lib/auto
--	rm -f lib/.exists lib/*/.exists lib/*/*/.exists
--	rm -f h2ph.man
--	rm -rf .config
--	rm -f preload
--	rm -f pod2htmd.tmp
--	rm -rf pod/perlfunc pod/perlipc
-+	$(RMS) core.*perl.*.? t/core.perl.*.? .?*.c
-+	$(RMS) core *perl.core t/core t/*perl.core core.* t/core.*
-+	$(RMS) t/$(PERL_EXE) t/rantests
-+	$(RMS_R) t/tmp*
-+	$(RMS_R) $(addedbyconf)
-+	$(RMS) $(FIRSTMAKEFILE) $(FIRSTMAKEFILE).old makefile.old utils/Makefile
-+	$(RMS) $(private)
-+	$(RMS_R) $(unidatafiles) $(unidatadirs)
-+	$(RMS_R) lib/auto
-+	$(RMS) lib/.exists lib/*/.exists lib/*/*/.exists
-+	$(RMS) h2ph.man
-+	$(RMS_R) .config
-+	$(RMS) preload
-+	$(RMS) pod2htmd.tmp
-+	$(RMS_R) pod/perlfunc pod/perlipc
- 	-rmdir ext/B/lib
--	rm -f so_locations $(LIBPERL_NONSHR) $(MINIPERL_NONSHR)
-+	$(RMS) so_locations $(LIBPERL_NONSHR) $(MINIPERL_NONSHR)
- 	-rmdir lib/version lib/threads lib/inc/ExtUtils lib/inc lib/encoding
- 	-rmdir lib/autodie/exception lib/autodie/Scope lib/autodie lib/XS
- 	-rmdir lib/Win32API lib/VMS lib/Unicode/Collate/Locale
-@@ -1452,11 +1453,11 @@ _realcleaner:
- _verycleaner:
- 	@$(LDLIBPTH) $(MAKE) _cleaner1 CLEAN=veryclean
- 	@$(LDLIBPTH) $(MAKE) _cleaner2
--	-rm -f *~ *.orig */*~ */*.orig */*/*~ */*/*.orig
-+	$(RMS) *~ *.orig */*~ */*.orig */*/*~ */*/*.orig
- 
- .PHONY: lint
- lint: $(c)
--	rm -f *.ln
-+	$(RMS) *.ln
- 	lint $(lintflags) -DPERL_CORE -D_REENTRANT -DDEBUGGING -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 $(c)
- 
- cscopeflags = -Rb  # Recursive, build-only.
-@@ -1514,7 +1515,7 @@ case "$targethost" in
- '') $spitshell >>$Makefile <<'!NO!SUBS!'
- test_prep test-prep: test_prep_pre $(MINIPERL_EXE) $(unidatafiles) $(PERL_EXE) \
- 	$(dynamic_ext) $(TEST_PERL_DLL) runtests $(generated_pods) common_build
--	cd t && (rm -f $(PERL_EXE); $(LNS) ../$(PERL_EXE) $(PERL_EXE))
-+	cd t && ($(RMS) $(PERL_EXE); $(LNS) ../$(PERL_EXE) $(PERL_EXE))
- 
- !NO!SUBS!
- ;;
-@@ -1564,7 +1565,7 @@ test_prep test-prep: test_prep_pre \$(MI
- 	$to config.sh
- # --- For lib/diagnostics.t with -Duseshrplib
- 	$to \$(PERL_EXE)
--	cd t && (rm -f \$(PERL_EXE); \$(LNS) ../\$(PERL_EXE) \$(PERL_EXE)) && cd ..
-+	cd t && (\$(RMS) \$(PERL_EXE); \$(LNS) ../\$(PERL_EXE) \$(PERL_EXE)) && cd ..
- 	$to t/\$(PERL_EXE)
- 
- !GROK!THIS!
-@@ -1574,7 +1575,7 @@ esac
- $spitshell >>$Makefile <<'!NO!SUBS!'
- test_prep_reonly: $(MINIPERL_EXE) $(PERL_EXE) $(dynamic_ext_re) $(TEST_PERL_DLL)
- 	$(MINIPERL) make_ext.pl $(dynamic_ext_re) MAKE="$(MAKE)" LIBPERL_A=$(LIBPERL) LINKTYPE=dynamic
--	cd t && (rm -f $(PERL_EXE); $(LNS) ../$(PERL_EXE) $(PERL_EXE))
-+	cd t && ($(RMS) $(PERL_EXE); $(LNS) ../$(PERL_EXE) $(PERL_EXE))
- !NO!SUBS!
- 
- case "$targethost" in
-@@ -1629,7 +1630,7 @@ minitest_prep:
- 	@echo "You may see some irrelevant test failures if you have been unable"
- 	@echo "to build lib/Config.pm, or the Unicode data files."
- 	@echo " "
--	- cd t && (rm -f $(PERL_EXE); $(LNS) ../$(MINIPERL_EXE) $(PERL_EXE))
-+	- cd t && ($(RMS) $(PERL_EXE); $(LNS) ../$(MINIPERL_EXE) $(PERL_EXE))
- 
- MINITEST_TESTS = base/*.t comp/*.t cmd/*.t run/*.t io/*.t re/*.t opbasic/*.t op/*.t uni/*.t perf/*.t
- 
diff -uprN a/feeds/packages/lang/perl/patches/910-miniperl-needs-inc-dot.patch b/feeds/packages/lang/perl/patches/910-miniperl-needs-inc-dot.patch
--- a/feeds/packages/lang/perl/patches/910-miniperl-needs-inc-dot.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/910-miniperl-needs-inc-dot.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
---- a/Makefile.SH
-+++ b/Makefile.SH
-@@ -333,7 +333,7 @@ PATH_SEP = $p_
- # Macros to invoke a copy of miniperl during the build.  Targets which
- # are built using these macros should depend on \$(MINIPERL_EXE)
- MINIPERL_EXE = miniperl\$(EXE_EXT)
--MINIPERL = \$(LDLIBPTH) ./miniperl\$(EXE_EXT) -Ilib
-+MINIPERL = \$(LDLIBPTH) ./miniperl\$(EXE_EXT) -Ilib -I.
- 
- # Macros to invoke sort the MANIFEST during build
- MANIFEST_SRT = MANIFEST.srt
-@@ -996,7 +996,7 @@ lib/buildcustomize.pl: $& $(miniperl_obj
- 	@$(RMS) miniperl.xok
- 	$(CC) $(CLDFLAGS) $(NAMESPACEFLAGS) -o $(MINIPERL_EXE) \
- 	    $(miniperl_objs) $(libs)
--	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
-+	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -I. -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
- 	$(MINIPERL) -f write_buildcustomize.pl
- !NO!SUBS!
- 		;;
-@@ -1007,7 +1007,7 @@ lib/buildcustomize.pl: \$& \$(miniperl_d
- 	@\$(RMS) miniperl.xok
- 	@\$(RMS) \$(MINIPERL_EXE)
- 	\$(LNS) \$(HOST_PERL) \$(MINIPERL_EXE)
--	\$(LDLIBPTH) ./miniperl\$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
-+	\$(LDLIBPTH) ./miniperl\$(HOST_EXE_EXT) -w -Ilib -I. -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
- 	\$(MINIPERL) -f write_buildcustomize.pl 'osname' "$osname"
- !GROK!THIS!
- 		else
-@@ -1016,7 +1016,7 @@ lib/buildcustomize.pl: $& $(miniperl_dep
- 	@$(RMS) miniperl.xok
- 	$(CC) $(CLDFLAGS) -o $(MINIPERL_EXE) \
- 	    $(miniperl_objs) $(libs)
--	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
-+	$(LDLIBPTH) ./miniperl$(HOST_EXE_EXT) -w -Ilib -I. -Idist/Exporter/lib -MExporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Please run make minitest; exit 1'
- 	$(MINIPERL) -f write_buildcustomize.pl
- !NO!SUBS!
- 		fi
diff -uprN a/feeds/packages/lang/perl/patches/920-fix-no-locale.patch b/feeds/packages/lang/perl/patches/920-fix-no-locale.patch
--- a/feeds/packages/lang/perl/patches/920-fix-no-locale.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/920-fix-no-locale.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,383 +0,0 @@
-commit d36adde059ed1c4f7af210b4f9fc3a7bd2d7d343
-Author: Karl Williamson <khw@cpan.org>
-Date:   Wed May 23 15:32:47 2018 -0600
-
-    Fix to compile under -DNO_LOCALE
-    
-    Several problems with this compile option were not caught before 5.28
-    was frozen.
-
---- a/embed.fnc
-+++ b/embed.fnc
-@@ -2793,9 +2793,11 @@ s	|bool	|isa_lookup	|NN HV *stash|NN con
- #endif
- 
- #if defined(PERL_IN_LOCALE_C)
-+#  ifdef USE_LOCALE
- sn	|const char*|category_name |const int category
- s	|const char*|switch_category_locale_to_template|const int switch_category|const int template_category|NULLOK const char * template_locale
- s	|void	|restore_switched_locale|const int category|NULLOK const char * const original_locale
-+#  endif
- #  ifdef HAS_NL_LANGINFO
- sn	|const char*|my_nl_langinfo|const nl_item item|bool toggle
- #  else
---- a/embed.h
-+++ b/embed.h
-@@ -1796,16 +1796,16 @@
- #define unshare_hek_or_pvn(a,b,c,d)	S_unshare_hek_or_pvn(aTHX_ a,b,c,d)
- #  endif
- #  if defined(PERL_IN_LOCALE_C)
--#define category_name		S_category_name
--#define restore_switched_locale(a,b)	S_restore_switched_locale(aTHX_ a,b)
- #define save_to_buffer		S_save_to_buffer
--#define switch_category_locale_to_template(a,b,c)	S_switch_category_locale_to_template(aTHX_ a,b,c)
- #    if defined(USE_LOCALE)
-+#define category_name		S_category_name
- #define new_collate(a)		S_new_collate(aTHX_ a)
- #define new_ctype(a)		S_new_ctype(aTHX_ a)
- #define new_numeric(a)		S_new_numeric(aTHX_ a)
-+#define restore_switched_locale(a,b)	S_restore_switched_locale(aTHX_ a,b)
- #define set_numeric_radix(a)	S_set_numeric_radix(aTHX_ a)
- #define stdize_locale(a)	S_stdize_locale(aTHX_ a)
-+#define switch_category_locale_to_template(a,b,c)	S_switch_category_locale_to_template(aTHX_ a,b,c)
- #      if defined(USE_POSIX_2008_LOCALE)
- #define emulate_setlocale	S_emulate_setlocale
- #      endif
---- a/locale.c
-+++ b/locale.c
-@@ -1264,6 +1264,7 @@ S_locking_setlocale(pTHX_
- }
- 
- #endif
-+#ifdef USE_LOCALE
- 
- STATIC void
- S_set_numeric_radix(pTHX_ const bool use_locale)
-@@ -1299,6 +1300,10 @@ S_set_numeric_radix(pTHX_ const bool use
-     }
- 
- #  endif
-+#else
-+
-+    PERL_UNUSED_ARG(use_locale);
-+
- #endif /* USE_LOCALE_NUMERIC and can find the radix char */
- 
- }
-@@ -1481,7 +1486,6 @@ S_new_ctype(pTHX_ const char *newctype)
- 
- #ifndef USE_LOCALE_CTYPE
- 
--    PERL_ARGS_ASSERT_NEW_CTYPE;
-     PERL_UNUSED_ARG(newctype);
-     PERL_UNUSED_CONTEXT;
- 
-@@ -1994,6 +1998,8 @@ S_new_collate(pTHX_ const char *newcoll)
- 
- }
- 
-+#endif
-+
- #ifdef WIN32
- 
- STATIC char *
-@@ -2139,11 +2145,20 @@ Perl_setlocale(const int category, const
- {
-     /* This wraps POSIX::setlocale() */
- 
-+#ifdef NO_LOCALE
-+
-+    PERL_UNUSED_ARG(category);
-+    PERL_UNUSED_ARG(locale);
-+
-+    return "C";
-+
-+#else
-+
-     const char * retval;
-     const char * newlocale;
-     dSAVEDERRNO;
--    DECLARATION_FOR_LC_NUMERIC_MANIPULATION;
-     dTHX;
-+    DECLARATION_FOR_LC_NUMERIC_MANIPULATION;
- 
- #ifdef USE_LOCALE_NUMERIC
- 
-@@ -2262,6 +2277,8 @@ Perl_setlocale(const int category, const
- 
-     return retval;
- 
-+#endif
-+
- }
- 
- PERL_STATIC_INLINE const char *
-@@ -2414,13 +2431,16 @@ S_my_nl_langinfo(const int item, bool to
-     dTHX;
-     const char * retval;
- 
-+#ifdef USE_LOCALE_NUMERIC
-+
-     /* We only need to toggle into the underlying LC_NUMERIC locale for these
-      * two items, and only if not already there */
-     if (toggle && ((   item != RADIXCHAR && item != THOUSEP)
-                     || PL_numeric_underlying))
--    {
-+
-+#endif  /* No toggling needed if not using LC_NUMERIC */
-+
-         toggle = FALSE;
--    }
- 
- #if defined(HAS_NL_LANGINFO) /* nl_langinfo() is available.  */
- #  if   ! defined(HAS_THREAD_SAFE_NL_LANGINFO_L)      \
-@@ -2468,6 +2488,8 @@ S_my_nl_langinfo(const int item, bool to
-             do_free = TRUE;
-         }
- 
-+#    ifdef USE_LOCALE_NUMERIC
-+
-         if (toggle) {
-             if (PL_underlying_numeric_obj) {
-                 cur = PL_underlying_numeric_obj;
-@@ -2478,6 +2500,8 @@ S_my_nl_langinfo(const int item, bool to
-             }
-         }
- 
-+#    endif
-+
-         /* We have to save it to a buffer, because the freelocale() just below
-          * can invalidate the internal one */
-         retval = save_to_buffer(nl_langinfo_l(item, cur),
-@@ -5169,9 +5193,7 @@ Perl_my_strerror(pTHX_ const int errnum)
-     LOCALE_UNLOCK;
- 
- #  endif /* End of doesn't have strerror_l */
--#endif   /* End of does have locale messages */
--
--#ifdef DEBUGGING
-+#  ifdef DEBUGGING
- 
-     if (DEBUG_Lv_TEST) {
-         PerlIO_printf(Perl_debug_log, "Strerror returned; saving a copy: '");
-@@ -5179,7 +5201,8 @@ Perl_my_strerror(pTHX_ const int errnum)
-         PerlIO_printf(Perl_debug_log, "'\n");
-     }
- 
--#endif
-+#  endif
-+#endif   /* End of does have locale messages */
- 
-     SAVEFREEPV(errstr);
-     return errstr;
-@@ -5301,10 +5324,17 @@ L<C<Perl_switch_to_global_locale>|perlap
- bool
- Perl_sync_locale()
- {
-+
-+#ifndef USE_LOCALE
-+
-+    return TRUE;
-+
-+#else
-+
-     const char * newlocale;
-     dTHX;
- 
--#ifdef USE_POSIX_2008_LOCALE
-+#  ifdef USE_POSIX_2008_LOCALE
- 
-     bool was_in_global_locale = FALSE;
-     locale_t cur_obj = uselocale((locale_t) 0);
-@@ -5316,11 +5346,11 @@ Perl_sync_locale()
-      * will affect the */
-     if (cur_obj == LC_GLOBAL_LOCALE) {
- 
--#  ifdef HAS_QUERY_LOCALE
-+#    ifdef HAS_QUERY_LOCALE
- 
-         do_setlocale_c(LC_ALL, setlocale(LC_ALL, NULL));
- 
--#  else
-+#    else
- 
-         unsigned int i;
- 
-@@ -5330,17 +5360,17 @@ Perl_sync_locale()
-             do_setlocale_r(categories[i], setlocale(categories[i], NULL));
-         }
- 
--#  endif
-+#    endif
- 
-         was_in_global_locale = TRUE;
-     }
- 
--#else
-+#  else
- 
-     bool was_in_global_locale = TRUE;
- 
--#endif
--#ifdef USE_LOCALE_CTYPE
-+#  endif
-+#  ifdef USE_LOCALE_CTYPE
- 
-     newlocale = savepv(do_setlocale_c(LC_CTYPE, NULL));
-     DEBUG_Lv(PerlIO_printf(Perl_debug_log,
-@@ -5349,8 +5379,8 @@ Perl_sync_locale()
-     new_ctype(newlocale);
-     Safefree(newlocale);
- 
--#endif /* USE_LOCALE_CTYPE */
--#ifdef USE_LOCALE_COLLATE
-+#  endif /* USE_LOCALE_CTYPE */
-+#  ifdef USE_LOCALE_COLLATE
- 
-     newlocale = savepv(do_setlocale_c(LC_COLLATE, NULL));
-     DEBUG_Lv(PerlIO_printf(Perl_debug_log,
-@@ -5359,8 +5389,8 @@ Perl_sync_locale()
-     new_collate(newlocale);
-     Safefree(newlocale);
- 
--#endif
--#ifdef USE_LOCALE_NUMERIC
-+#  endif
-+#  ifdef USE_LOCALE_NUMERIC
- 
-     newlocale = savepv(do_setlocale_c(LC_NUMERIC, NULL));
-     DEBUG_Lv(PerlIO_printf(Perl_debug_log,
-@@ -5369,9 +5399,12 @@ Perl_sync_locale()
-     new_numeric(newlocale);
-     Safefree(newlocale);
- 
--#endif /* USE_LOCALE_NUMERIC */
-+#  endif /* USE_LOCALE_NUMERIC */
- 
-     return was_in_global_locale;
-+
-+#endif
-+
- }
- 
- #if defined(DEBUGGING) && defined(USE_LOCALE)
---- a/makedef.pl
-+++ b/makedef.pl
-@@ -574,6 +574,9 @@ unless ($define{USE_LOCALE_COLLATE}) {
- 		    PL_collxfrm_mult
- 		    Perl_sv_collxfrm
- 		    Perl_sv_collxfrm_flags
-+                    PL_strxfrm_NUL_replacement
-+                    PL_strxfrm_is_behaved
-+                    PL_strxfrm_max_cp
- 			 );
- }
- 
-@@ -583,6 +586,9 @@ unless ($define{USE_LOCALE_NUMERIC}) {
- 		    PL_numeric_name
- 		    PL_numeric_radix_sv
- 		    PL_numeric_standard
-+                    PL_numeric_underlying
-+                    PL_numeric_underlying_is_standard
-+                    PL_underlying_numeric_obj
- 			 );
- }
- 
---- a/perl.h
-+++ b/perl.h
-@@ -5656,6 +5656,9 @@ typedef struct am_table_short AMTS;
- #  define IN_LC_COMPILETIME(category)      0
- #  define IN_LC_RUNTIME(category)          0
- #  define IN_LC(category)                  0
-+#  define _CHECK_AND_WARN_PROBLEMATIC_LOCALE
-+#  define _CHECK_AND_OUTPUT_WIDE_LOCALE_UTF8_MSG(s, send)
-+#  define _CHECK_AND_OUTPUT_WIDE_LOCALE_CP_MSG(c)
- #endif
- 
- 
---- a/proto.h
-+++ b/proto.h
-@@ -4886,8 +4886,6 @@ PERL_CALLCONV SV*	Perl_hfree_next_entry(
- 	assert(hv); assert(indexp)
- #endif
- #if defined(PERL_IN_LOCALE_C)
--STATIC const char*	S_category_name(const int category);
--STATIC void	S_restore_switched_locale(pTHX_ const int category, const char * const original_locale);
- #ifndef PERL_NO_INLINE_FUNCTIONS
- PERL_STATIC_INLINE const char *	S_save_to_buffer(const char * string, char **buf, Size_t *buf_size, const Size_t offset)
- 			__attribute__warn_unused_result__;
-@@ -4895,17 +4893,19 @@ PERL_STATIC_INLINE const char *	S_save_t
- 	assert(buf_size)
- #endif
- 
--STATIC const char*	S_switch_category_locale_to_template(pTHX_ const int switch_category, const int template_category, const char * template_locale);
- #  if defined(USE_LOCALE)
-+STATIC const char*	S_category_name(const int category);
- STATIC void	S_new_collate(pTHX_ const char* newcoll);
- STATIC void	S_new_ctype(pTHX_ const char* newctype);
- #define PERL_ARGS_ASSERT_NEW_CTYPE	\
- 	assert(newctype)
- STATIC void	S_new_numeric(pTHX_ const char* newnum);
-+STATIC void	S_restore_switched_locale(pTHX_ const int category, const char * const original_locale);
- STATIC void	S_set_numeric_radix(pTHX_ const bool use_locale);
- STATIC char*	S_stdize_locale(pTHX_ char* locs);
- #define PERL_ARGS_ASSERT_STDIZE_LOCALE	\
- 	assert(locs)
-+STATIC const char*	S_switch_category_locale_to_template(pTHX_ const int switch_category, const int template_category, const char * template_locale);
- #    if defined(USE_POSIX_2008_LOCALE)
- STATIC const char*	S_emulate_setlocale(const int category, const char* locale, unsigned int index, const bool is_index_valid);
- #    endif
---- a/sv.c
-+++ b/sv.c
-@@ -13330,10 +13330,15 @@ Perl_sv_vcatpvfn_flags(pTHX_ SV *const s
- 
-     SvTAINT(sv);
- 
-+#ifdef USE_LOCALE_NUMERIC
-+
-     if (lc_numeric_set) {
-         RESTORE_LC_NUMERIC();   /* Done outside loop, so don't have to
-                                    save/restore each iteration. */
-     }
-+
-+#endif
-+
- }
- 
- /* =========================================================================
---- a/t/lib/warnings/regexec
-+++ b/t/lib/warnings/regexec
-@@ -215,6 +215,10 @@ Use of \b{} or \B{} for non-UTF-8 locale
- Use of \b{} or \B{} for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 17.
- ########
- # NAME (?[ ]) in non-UTF-8 locale
-+require '../loc_tools.pl';
-+unless (locales_enabled()) {
-+    print("SKIPPED\n# locales not available\n"),exit;
-+}
- eval { require POSIX; POSIX->import("locale_h") };
- if ($@) {
-     print("SKIPPED\n# no POSIX\n"),exit;
-@@ -229,14 +233,14 @@ setlocale(&POSIX::LC_CTYPE, "C");
- ":" =~ /(?[ \: ])/;
- no warnings 'locale';
- EXPECT
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 9.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 9.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 10.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 10.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 11.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 11.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 12.
--Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 12.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 13.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 13.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 14.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 14.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 15.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 15.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 16.
-+Use of (?[ ]) for non-UTF-8 locale is wrong.  Assuming a UTF-8 locale at - line 16.
- ########
- # NAME (?[ ]) in UTF-8 locale
- require '../loc_tools.pl';
diff -uprN a/feeds/packages/lang/perl/patches/998-Errno_errno.h_path.patch b/feeds/packages/lang/perl/patches/998-Errno_errno.h_path.patch
--- a/feeds/packages/lang/perl/patches/998-Errno_errno.h_path.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/998-Errno_errno.h_path.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/ext/Errno/Errno_pm.PL
-+++ b/ext/Errno/Errno_pm.PL
-@@ -133,7 +133,7 @@ sub get_files {
- 	# Some Linuxes have weird errno.hs which generate
- 	# no #file or #line directives
- 	my ($linux_errno_h) = grep { -e $_ } map { "$_/errno.h" }
--	    "$sysroot/usr/include", "$sysroot/usr/local/include",
-+	    "$sysroot/usr/include", "$sysroot/usr/local/include", "$sysroot/include",
- 	    split / / => $Config{locincpth} or
- 		die "Cannot find errno.h";
- 	$file{$linux_errno_h} = 1;
diff -uprN a/feeds/packages/lang/perl/patches/999-fix-build-failure-against-gcc-10.patch b/feeds/packages/lang/perl/patches/999-fix-build-failure-against-gcc-10.patch
--- a/feeds/packages/lang/perl/patches/999-fix-build-failure-against-gcc-10.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/patches/999-fix-build-failure-against-gcc-10.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,96 +0,0 @@
-From 6bd6308fcea3541e505651bf8e8127a4a03d22cd Mon Sep 17 00:00:00 2001
-From: =?UTF-8?q?Petr=20P=C3=ADsa=C5=99?= <ppisar@redhat.com>
-Date: Tue, 12 Nov 2019 09:19:18 +0100
-Subject: [PATCH] Adapt Configure to GCC version 10
-
-I got a notice from Jeff Law <law@redhat.com>:
-
-    Your particular package fails its testsuite. This was ultimately
-    tracked down to a Configure problem. The perl configure script treated
-    gcc-10 as gcc-1 and turned on -fpcc-struct-return. This is an ABI
-    changing flag and caused Perl to not be able to interact properly with
-    the dbm libraries on the system leading to a segfault.
-
-His proposed patch corrected only this one instance of the version
-mismatch. Reading the Configure script revealed more issues. This
-patch fixes all of them I found.
-
----
- Configure | 14 +++++++-------
- cflags.SH |  2 +-
- 2 files changed, 8 insertions(+), 8 deletions(-)
-
---- a/Configure
-+++ b/Configure
-@@ -4689,7 +4689,7 @@ else
- fi
- $rm -f try try.*
- case "$gccversion" in
--1*) cpp=`./loc gcc-cpp $cpp $pth` ;;
-+1.*) cpp=`./loc gcc-cpp $cpp $pth` ;;
- esac
- case "$gccversion" in
- '') gccosandvers='' ;;
-@@ -4729,7 +4729,7 @@ esac
- # gcc 3.* complain about adding -Idirectories that they already know about,
- # so we will take those off from locincpth.
- case "$gccversion" in
--3*)
-+3.*)
-     echo "main(){}">try.c
-     for incdir in $locincpth; do
-        warn=`$cc $ccflags -I$incdir -c try.c 2>&1 | \
-@@ -5455,13 +5455,13 @@ fi
- case "$hint" in
- default|recommended)
- 	case "$gccversion" in
--	1*) dflt="$dflt -fpcc-struct-return" ;;
-+	1.*) dflt="$dflt -fpcc-struct-return" ;;
- 	esac
- 	case "$optimize:$DEBUGGING" in
- 	*-g*:old) dflt="$dflt -DDEBUGGING";;
- 	esac
- 	case "$gccversion" in
--	2*) if $test -d /etc/conf/kconfig.d &&
-+	2.*) if $test -d /etc/conf/kconfig.d &&
- 			$contains _POSIX_VERSION $usrinc/sys/unistd.h >/dev/null 2>&1
- 		then
- 			# Interactive Systems (ISC) POSIX mode.
-@@ -5470,7 +5470,7 @@ default|recommended)
- 		;;
- 	esac
- 	case "$gccversion" in
--	1*) ;;
-+	1.*) ;;
- 	2.[0-8]*) ;;
- 	?*)	set strict-aliasing -fno-strict-aliasing
- 		eval $checkccflag
-@@ -5588,7 +5588,7 @@ case "$cppflags" in
-     ;;
- esac
- case "$gccversion" in
--1*) cppflags="$cppflags -D__GNUC__"
-+1.*) cppflags="$cppflags -D__GNUC__"
- esac
- case "$mips_type" in
- '');;
-@@ -22957,7 +22957,7 @@ fi
- 
- : add -D_FORTIFY_SOURCE if feasible and not already there
- case "$gccversion" in
--[4567].*)	case "$optimize$ccflags" in
-+[456789].*|[1-9][0-9]*)	case "$optimize$ccflags" in
- 	*-O*)	case "$ccflags$cppsymbols" in
- 		*_FORTIFY_SOURCE=*) # Don't add it again.
- 			echo "You seem to have -D_FORTIFY_SOURCE already, not adding it." >&4
---- a/cflags.SH
-+++ b/cflags.SH
-@@ -156,7 +156,7 @@ esac
- 
- case "$gccversion" in
- '') ;;
--[12]*) ;; # gcc versions 1 (gasp!) and 2 are not good for this.
-+[12].*) ;; # gcc versions 1 (gasp!) and 2 are not good for this.
- Intel*) ;; # # Is that you, Intel C++?
- #
- # NOTE 1: the -std=c89 without -pedantic is a bit pointless.
diff -uprN a/feeds/packages/lang/perl/perlbase.mk b/feeds/packages/lang/perl/perlbase.mk
--- a/feeds/packages/lang/perl/perlbase.mk	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/perlbase.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,1559 +0,0 @@
-define Package/perlbase-template
-SUBMENU:=Perl
-SECTION:=lang
-CATEGORY:=Languages
-URL:=http://www.cpan.org/
-DEPENDS:=perl
-endef
-
-define Package/perlbase-anydbm-file
-$(call Package/perlbase-template)
-TITLE:=AnyDBM_File perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-anydbm-file/install
-$(call perlmod/Install,$(1),AnyDBM_File.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/AnyDBM_File.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-anydbm-file))
-
-
-define Package/perlbase-app
-$(call Package/perlbase-template)
-TITLE:=app perl module
-DEPENDS+=+perlbase-autouse +perlbase-base +perlbase-config +perlbase-cpan +perlbase-essential +perlbase-file +perlbase-getopt +perlbase-if +perlbase-tap +perlbase-text
-endef
-
-define Package/perlbase-app/install
-$(call perlmod/Install,$(1),App,)
-endef
-
-$(eval $(call BuildPackage,perlbase-app))
-
-
-define Package/perlbase-archive
-$(call Package/perlbase-template)
-TITLE:=Archive perl module
-DEPENDS+=+perlbase-cwd +perlbase-essential +perlbase-file +perlbase-io
-endef
-
-define Package/perlbase-archive/install
-$(call perlmod/Install,$(1),Archive,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Archive-Tar/bin cpan/Archive-Tar/t)
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/ptar $(1)/usr/bin/
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/ptardiff $(1)/usr/bin/
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/ptargrep $(1)/usr/bin/
-endef
-
-$(eval $(call BuildPackage,perlbase-archive))
-
-
-define Package/perlbase-arybase
-$(call Package/perlbase-template)
-TITLE:=arybase perl module
-DEPENDS+=+perlbase-xsloader
-endef
-
-define Package/perlbase-arybase/install
-$(call perlmod/Install,$(1),arybase.pm auto/arybase,)
-$(call perlmod/InstallBaseTests,$(1),ext/arybase/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-arybase))
-
-
-define Package/perlbase-attribute
-$(call Package/perlbase-template)
-TITLE:=Attribute perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-attribute/install
-$(call perlmod/Install,$(1),Attribute,)
-$(call perlmod/InstallBaseTests,$(1),dist/Attribute-Handlers/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-attribute))
-
-
-define Package/perlbase-attributes
-$(call Package/perlbase-template)
-TITLE:=attributes perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-attributes/install
-$(call perlmod/Install,$(1),attributes.pm auto/attributes,)
-endef
-
-$(eval $(call BuildPackage,perlbase-attributes))
-
-
-define Package/perlbase-autodie
-$(call Package/perlbase-template)
-TITLE:=autodie perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-autodie/install
-$(call perlmod/Install,$(1),autodie autodie.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/autodie/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-autodie))
-
-
-define Package/perlbase-autoloader
-$(call Package/perlbase-template)
-TITLE:=AutoLoader perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-autoloader/install
-$(call perlmod/Install,$(1),AutoLoader.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/AutoLoader/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-autoloader))
-
-
-define Package/perlbase-autosplit
-$(call Package/perlbase-template)
-TITLE:=AutoSplit perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-file
-endef
-
-define Package/perlbase-autosplit/install
-$(call perlmod/Install/NoStrip,$(1),AutoSplit.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-autosplit))
-
-
-define Package/perlbase-autouse
-$(call Package/perlbase-template)
-TITLE:=autouse perl module
-endef
-
-define Package/perlbase-autouse/install
-$(call perlmod/Install,$(1),autouse.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/autouse/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-autouse))
-
-
-define Package/perlbase-b
-$(call Package/perlbase-template)
-TITLE:=B perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-feature
-endef
-
-define Package/perlbase-b/install
-$(call perlmod/Install,$(1),B B.pm auto/B,)
-$(call perlmod/InstallBaseTests,$(1),cpan/B-Debug/t ext/B/t lib/B/Deparse-core.t lib/B/Deparse-subclass.t lib/B/Deparse.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-b))
-
-
-define Package/perlbase-base
-$(call Package/perlbase-template)
-TITLE:=base perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-base/install
-$(call perlmod/Install,$(1),base.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/base/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-base))
-
-
-define Package/perlbase-benchmark
-$(call Package/perlbase-template)
-TITLE:=Benchmark perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-benchmark/install
-$(call perlmod/Install,$(1),Benchmark.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/Benchmark.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-benchmark))
-
-
-define Package/perlbase-bigint
-$(call Package/perlbase-template)
-TITLE:=bigint perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-bigint/install
-$(call perlmod/Install,$(1),bigint.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-bigint))
-
-
-define Package/perlbase-bignum
-$(call Package/perlbase-template)
-TITLE:=bignum perl module
-DEPENDS+=+perlbase-bigint +perlbase-essential
-endef
-
-define Package/perlbase-bignum/install
-$(call perlmod/Install,$(1),bignum.pm bigrat.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/bignum/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-bignum))
-
-
-define Package/perlbase-blib
-$(call Package/perlbase-template)
-TITLE:=blib perl module
-DEPENDS+=+perlbase-cwd +perlbase-essential +perlbase-file
-endef
-
-define Package/perlbase-blib/install
-$(call perlmod/Install,$(1),blib.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/blib.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-blib))
-
-
-define Package/perlbase-bytes
-$(call Package/perlbase-template)
-TITLE:=bytes perl module
-endef
-
-define Package/perlbase-bytes/install
-$(call perlmod/Install,$(1),bytes.pm bytes_heavy.pl,)
-$(call perlmod/InstallBaseTests,$(1),lib/bytes.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-bytes))
-
-
-define Package/perlbase-charnames
-$(call Package/perlbase-template)
-TITLE:=charnames perl module
-DEPENDS+=+perlbase-bytes +perlbase-essential +perlbase-re +perlbase-unicore
-endef
-
-define Package/perlbase-charnames/install
-$(call perlmod/Install,$(1),_charnames.pm charnames.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/charnames.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-charnames))
-
-
-define Package/perlbase-class
-$(call Package/perlbase-template)
-TITLE:=Class perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-class/install
-$(call perlmod/Install,$(1),Class,)
-$(call perlmod/InstallBaseTests,$(1),lib/Class/Struct.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-class))
-
-
-define Package/perlbase-compress
-$(call Package/perlbase-template)
-TITLE:=Compress perl module
-DEPENDS+=+perlbase-bytes +perlbase-essential +perlbase-io +perlbase-scalar
-endef
-
-define Package/perlbase-compress/install
-$(call perlmod/Install,$(1),Compress auto/Compress,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Compress-Raw-Bzip2/t cpan/Compress-Raw-Zlib/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-compress))
-
-
-define Package/perlbase-config
-$(call Package/perlbase-template)
-TITLE:=Config perl module
-endef
-
-define Package/perlbase-config/install
-$(call perlmod/Install,$(1),Config Config.pm Config_git.pl Config_heavy.pl,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Config-Perl-V/t lib/Config.t lib/Config/Extensions.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-config))
-
-
-define Package/perlbase-cpan
-$(call Package/perlbase-template)
-TITLE:=CPAN perl module
-DEPENDS+=+perlbase-b +perlbase-config +perlbase-cwd +perlbase-dirhandle +perlbase-essential +perlbase-extutils +perlbase-fcntl +perlbase-file +perlbase-filehandle +perlbase-http-tiny +perlbase-net +perlbase-safe +perlbase-scalar +perlbase-sys +perlbase-text
-endef
-
-define Package/perlbase-cpan/install
-$(call perlmod/Install,$(1),CPAN CPAN.pm Parse/CPAN/Meta.pm,CPAN/FirstTime.pm)
-$(call perlmod/Install/NoStrip,$(1),CPAN/FirstTime.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/CPAN-Meta-Requirements/t cpan/CPAN-Meta-YAML/t cpan/CPAN-Meta/t cpan/CPAN/t cpan/Parse-CPAN-Meta/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-cpan))
-
-
-define Package/perlbase-cwd
-$(call Package/perlbase-template)
-TITLE:=Cwd perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-cwd/install
-$(call perlmod/Install,$(1),Cwd.pm auto/Cwd,)
-endef
-
-$(eval $(call BuildPackage,perlbase-cwd))
-
-
-define Package/perlbase-data
-$(call Package/perlbase-template)
-TITLE:=Data perl module
-DEPENDS+=+perlbase-bytes +perlbase-essential +perlbase-scalar
-endef
-
-define Package/perlbase-data/install
-$(call perlmod/Install,$(1),Data auto/Data,)
-$(call perlmod/InstallBaseTests,$(1),dist/Data-Dumper/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-data))
-
-
-define Package/perlbase-db
-$(call Package/perlbase-template)
-TITLE:=DB perl module
-DEPENDS+=+libdb47 +perlbase-essential +perlbase-meta-notation
-endef
-
-define Package/perlbase-db/install
-$(call perlmod/Install,$(1),DB.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/DB.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-db))
-
-
-define Package/perlbase-db-file
-$(call Package/perlbase-template)
-TITLE:=DB_File perl module
-DEPENDS+=+libdb47 +perlbase-essential +perlbase-tie
-endef
-
-define Package/perlbase-db-file/install
-$(call perlmod/Install,$(1),DB_File.pm auto/DB_File,)
-$(call perlmod/InstallBaseTests,$(1),cpan/DB_File/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-db-file))
-
-
-define Package/perlbase-dbm-filter
-$(call Package/perlbase-template)
-TITLE:=DBM_Filter perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-dbm-filter/install
-$(call perlmod/Install,$(1),DBM_Filter DBM_Filter.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/DBM_Filter/t lib/dbm_filter_util.pl)
-endef
-
-$(eval $(call BuildPackage,perlbase-dbm-filter))
-
-
-define Package/perlbase-devel
-$(call Package/perlbase-template)
-TITLE:=Devel perl module
-DEPENDS+=+perlbase-essential +perlbase-file +perlbase-selfloader +perlbase-xsloader
-endef
-
-define Package/perlbase-devel/install
-$(call perlmod/Install,$(1),Devel auto/Devel,Devel/PPPort.pm)
-$(call perlmod/Install/NoStrip,$(1),Devel/PPPort.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Devel-PPPort/t dist/Devel-SelfStubber/t ext/Devel-Peek/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-devel))
-
-
-define Package/perlbase-diagnostics
-$(call Package/perlbase-template)
-TITLE:=diagnostics perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-text
-endef
-
-define Package/perlbase-diagnostics/install
-$(call perlmod/Install,$(1),diagnostics.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/diagnostics.t pod/perldiag.pod)
-endef
-
-$(eval $(call BuildPackage,perlbase-diagnostics))
-
-
-define Package/perlbase-digest
-$(call Package/perlbase-template)
-TITLE:=Digest perl module
-DEPENDS+=+perlbase-dynaloader +perlbase-essential +perlbase-fcntl +perlbase-integer
-endef
-
-define Package/perlbase-digest/install
-$(call perlmod/Install,$(1),Digest Digest.pm auto/Digest,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Digest-MD5/MD5.xs cpan/Digest-MD5/t cpan/Digest-SHA/t cpan/Digest/t)
-	$(INSTALL_DIR) $(1)/$(PERL_TESTSDIR)/cpan/Digest-SHA/src
-endef
-
-$(eval $(call BuildPackage,perlbase-digest))
-
-
-define Package/perlbase-dirhandle
-$(call Package/perlbase-template)
-TITLE:=DirHandle perl module
-DEPENDS+=+perlbase-essential +perlbase-symbol
-endef
-
-define Package/perlbase-dirhandle/install
-$(call perlmod/Install,$(1),DirHandle.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/DirHandle.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-dirhandle))
-
-
-define Package/perlbase-dumpvalue
-$(call Package/perlbase-template)
-TITLE:=Dumpvalue perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-dumpvalue/install
-$(call perlmod/Install,$(1),Dumpvalue.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/Dumpvalue/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-dumpvalue))
-
-
-define Package/perlbase-dumpvar
-$(call Package/perlbase-template)
-TITLE:=dumpvar perl module
-endef
-
-define Package/perlbase-dumpvar/install
-$(call perlmod/Install,$(1),dumpvar.pl,)
-$(call perlmod/InstallBaseTests,$(1),lib/dumpvar.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-dumpvar))
-
-
-define Package/perlbase-dynaloader
-$(call Package/perlbase-template)
-TITLE:=DynaLoader perl module
-DEPENDS+=+perlbase-config
-endef
-
-define Package/perlbase-dynaloader/install
-$(call perlmod/Install,$(1),DynaLoader.pm,)
-$(call perlmod/InstallBaseTests,$(1),ext/DynaLoader/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-dynaloader))
-
-
-define Package/perlbase-encode
-$(call Package/perlbase-template)
-TITLE:=Encode perl module
-DEPENDS+=+perlbase-essential +perlbase-mime +perlbase-utf8 +perlbase-xsloader
-endef
-
-define Package/perlbase-encode/install
-$(call perlmod/Install,$(1),Encode Encode.pm auto/Encode,Encode/PerlIO.pod Encode/Supported.pod)
-$(call perlmod/InstallBaseTests,$(1),cpan/Encode/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-encode))
-
-
-define Package/perlbase-encoding
-$(call Package/perlbase-template)
-TITLE:=encoding perl module
-DEPENDS+=+perlbase-encode +perlbase-essential
-endef
-
-define Package/perlbase-encoding/install
-$(call perlmod/Install,$(1),encoding encoding.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/encoding-warnings/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-encoding))
-
-
-define Package/perlbase-english
-$(call Package/perlbase-template)
-TITLE:=English perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-english/install
-$(call perlmod/Install,$(1),English.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/English.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-english))
-
-
-define Package/perlbase-env
-$(call Package/perlbase-template)
-TITLE:=Env perl module
-DEPENDS+=+perlbase-config +perlbase-tie
-endef
-
-define Package/perlbase-env/install
-$(call perlmod/Install,$(1),Env.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/Env/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-env))
-
-
-define Package/perlbase-errno
-$(call Package/perlbase-template)
-TITLE:=Errno perl module
-DEPENDS+=+perlbase-config +perlbase-essential
-endef
-
-define Package/perlbase-errno/install
-$(call perlmod/Install,$(1),Errno.pm,)
-$(call perlmod/InstallBaseTests,$(1),ext/Errno/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-errno))
-
-
-define Package/perlbase-essential
-$(call Package/perlbase-template)
-TITLE:=essential perl module
-DEPENDS+=+perlbase-config
-endef
-
-define Package/perlbase-essential/install
-$(call perlmod/Install,$(1),Carp Carp.pm Exporter Exporter.pm constant.pm deprecate.pm lib.pm locale.pm overload.pm overloading.pm parent.pm strict.pm subs.pm vars.pm warnings warnings.pm,)
-$(call perlmod/Install/NoStrip,$(1),overload/numbers.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/parent/t dist/Carp/t dist/Exporter/t dist/constant/t dist/lib/t lib/locale.t lib/overload.t lib/overload64.t lib/overloading.t lib/strict.t lib/subs.t lib/vars.t lib/vars_carp.t lib/warnings.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-essential))
-
-
-define Package/perlbase-experimental
-$(call Package/perlbase-template)
-TITLE:=experimental perl module
-DEPENDS+=+perlbase-essential +perlbase-feature +perlbase-version
-endef
-
-define Package/perlbase-experimental/install
-$(call perlmod/Install,$(1),experimental.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/experimental/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-experimental))
-
-
-define Package/perlbase-extutils
-$(call Package/perlbase-template)
-TITLE:=ExtUtils perl module
-DEPENDS+=+perlbase-autosplit +perlbase-base +perlbase-config +perlbase-cwd +perlbase-dirhandle +perlbase-encode +perlbase-essential +perlbase-file +perlbase-io +perlbase-ipc +perlbase-ostype +perlbase-symbol +perlbase-text
-endef
-
-define Package/perlbase-extutils/install
-$(call perlmod/Install,$(1),ExtUtils,ExtUtils/MakeMaker/FAQ.pod ExtUtils/MakeMaker/Tutorial.pod ExtUtils/ParseXS.pm ExtUtils/ParseXS/Utilities.pm)
-$(call perlmod/Install/NoStrip,$(1),ExtUtils/ParseXS.pm ExtUtils/ParseXS/Utilities.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/ExtUtils-Command/t cpan/ExtUtils-Constant/t cpan/ExtUtils-Install/t cpan/ExtUtils-MakeMaker/t cpan/ExtUtils-Manifest/t dist/ExtUtils-CBuilder/t dist/ExtUtils-ParseXS/t lib/ExtUtils/t lib/h2ph.t lib/h2xs.t utils/h2ph utils/h2xs)
-endef
-
-$(eval $(call BuildPackage,perlbase-extutils))
-
-
-define Package/perlbase-fatal
-$(call Package/perlbase-template)
-TITLE:=Fatal perl module
-DEPENDS+=+perlbase-autodie +perlbase-config +perlbase-essential +perlbase-scalar +perlbase-tie
-endef
-
-define Package/perlbase-fatal/install
-$(call perlmod/Install,$(1),Fatal.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-fatal))
-
-
-define Package/perlbase-fcntl
-$(call Package/perlbase-template)
-TITLE:=Fcntl perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-fcntl/install
-$(call perlmod/Install,$(1),Fcntl.pm auto/Fcntl,)
-$(call perlmod/InstallBaseTests,$(1),ext/Fcntl/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-fcntl))
-
-
-define Package/perlbase-feature
-$(call Package/perlbase-template)
-TITLE:=feature perl module
-endef
-
-define Package/perlbase-feature/install
-$(call perlmod/Install,$(1),feature.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/feature.t lib/feature/unicode_strings.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-feature))
-
-
-define Package/perlbase-fields
-$(call Package/perlbase-template)
-TITLE:=fields perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-fields/install
-$(call perlmod/Install,$(1),fields.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-fields))
-
-
-define Package/perlbase-file
-$(call Package/perlbase-template)
-TITLE:=File perl module
-DEPENDS+=+perlbase-class +perlbase-config +perlbase-cwd +perlbase-errno +perlbase-essential +perlbase-fcntl +perlbase-filehandle +perlbase-io +perlbase-locale +perlbase-params +perlbase-scalar +perlbase-symbol +perlbase-xsloader
-endef
-
-define Package/perlbase-file/install
-$(call perlmod/Install,$(1),File auto/File,File/Find.pm)
-$(call perlmod/Install/NoStrip,$(1),File/Find.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/File-Fetch/t cpan/File-Path/t cpan/File-Temp/t dist/PathTools/t ext/File-DosGlob/t ext/File-Find/t ext/File-Glob/t lib/File/Basename.t lib/File/Compare.t lib/File/Copy.t lib/File/stat-7896.t lib/File/stat.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-file))
-
-
-define Package/perlbase-filecache
-$(call Package/perlbase-template)
-TITLE:=FileCache perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-filecache/install
-$(call perlmod/Install,$(1),FileCache.pm,)
-$(call perlmod/InstallBaseTests,$(1),ext/FileCache/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-filecache))
-
-
-define Package/perlbase-filehandle
-$(call Package/perlbase-template)
-TITLE:=FileHandle perl module
-DEPENDS+=+perlbase-essential +perlbase-io
-endef
-
-define Package/perlbase-filehandle/install
-$(call perlmod/Install,$(1),FileHandle.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/FileHandle.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-filehandle))
-
-
-define Package/perlbase-filetest
-$(call Package/perlbase-template)
-TITLE:=filetest perl module
-endef
-
-define Package/perlbase-filetest/install
-$(call perlmod/Install,$(1),filetest.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/filetest.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-filetest))
-
-
-define Package/perlbase-filter
-$(call Package/perlbase-template)
-TITLE:=Filter perl module
-DEPENDS+=+perlbase-dynaloader +perlbase-essential +perlbase-text
-endef
-
-define Package/perlbase-filter/install
-$(call perlmod/Install,$(1),Filter auto/Filter,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Filter-Util-Call/filter-util.pl cpan/Filter-Util-Call/t dist/Filter-Simple/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-filter))
-
-
-define Package/perlbase-findbin
-$(call Package/perlbase-template)
-TITLE:=FindBin perl module
-DEPENDS+=+perlbase-cwd +perlbase-essential +perlbase-file
-endef
-
-define Package/perlbase-findbin/install
-$(call perlmod/Install,$(1),FindBin.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/FindBin.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-findbin))
-
-
-define Package/perlbase-gdbm-file
-$(call Package/perlbase-template)
-TITLE:=GDBM_File perl module
-DEPENDS+=+libgdbm +perlbase-essential +perlbase-tie +perlbase-xsloader
-endef
-
-define Package/perlbase-gdbm-file/install
-$(call perlmod/Install,$(1),GDBM_File.pm auto/GDBM_File,)
-$(call perlmod/InstallBaseTests,$(1),ext/GDBM_File/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-gdbm-file))
-
-
-define Package/perlbase-getopt
-$(call Package/perlbase-template)
-TITLE:=Getopt perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-getopt/install
-$(call perlmod/Install,$(1),Getopt,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Getopt-Long/t lib/Getopt/Std.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-getopt))
-
-
-define Package/perlbase-hash
-$(call Package/perlbase-template)
-TITLE:=Hash perl module
-DEPENDS+=+perlbase-essential +perlbase-scalar +perlbase-xsloader
-endef
-
-define Package/perlbase-hash/install
-$(call perlmod/Install,$(1),Hash auto/Hash,)
-$(call perlmod/InstallBaseTests,$(1),ext/Hash-Util-FieldHash/t ext/Hash-Util/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-hash))
-
-
-define Package/perlbase-http-tiny
-$(call Package/perlbase-template)
-TITLE:=http-tiny perl module
-DEPENDS+=+perlbase-errno +perlbase-essential +perlbase-io
-endef
-
-define Package/perlbase-http-tiny/install
-$(call perlmod/Install,$(1),HTTP/Tiny.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/HTTP-Tiny/corpus cpan/HTTP-Tiny/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-http-tiny))
-
-
-define Package/perlbase-i18n
-$(call Package/perlbase-template)
-TITLE:=I18N perl module
-DEPENDS+=+perlbase-essential +perlbase-posix +perlbase-xsloader
-endef
-
-define Package/perlbase-i18n/install
-$(call perlmod/Install,$(1),I18N auto/I18N,I18N/LangTags/List.pm)
-$(call perlmod/InstallBaseTests,$(1),dist/I18N-Collate/t dist/I18N-LangTags/t ext/I18N-Langinfo/t)
-$(call perlmod/Install/NoStrip,$(1),I18N/LangTags/List.pm)
-endef
-
-$(eval $(call BuildPackage,perlbase-i18n))
-
-
-define Package/perlbase-if
-$(call Package/perlbase-template)
-TITLE:=if perl module
-endef
-
-define Package/perlbase-if/install
-$(call perlmod/Install,$(1),if.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/if/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-if))
-
-
-define Package/perlbase-integer
-$(call Package/perlbase-template)
-TITLE:=integer perl module
-endef
-
-define Package/perlbase-integer/install
-$(call perlmod/Install,$(1),integer.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/integer.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-integer))
-
-
-define Package/perlbase-io
-$(call Package/perlbase-template)
-TITLE:=IO perl module
-DEPENDS+=+perlbase-base +perlbase-bytes +perlbase-config +perlbase-errno +perlbase-essential +perlbase-fcntl +perlbase-list +perlbase-posix +perlbase-scalar +perlbase-selectsaver +perlbase-socket +perlbase-symbol +perlbase-tie +perlbase-xsloader
-endef
-
-define Package/perlbase-io/install
-$(call perlmod/Install,$(1),IO IO.pm auto/IO,)
-$(call perlmod/InstallBaseTests,$(1),cpan/IO-Compress/t cpan/IO-Socket-IP/t cpan/IO-Zlib/t dist/IO/Makefile.PL dist/IO/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-io))
-
-
-define Package/perlbase-ipc
-$(call Package/perlbase-template)
-TITLE:=IPC perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-file +perlbase-locale +perlbase-params +perlbase-symbol +perlbase-text
-endef
-
-define Package/perlbase-ipc/install
-$(call perlmod/Install,$(1),IPC auto/IPC,)
-$(call perlmod/InstallBaseTests,$(1),cpan/IPC-Cmd/t cpan/IPC-SysV/t ext/IPC-Open3/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-ipc))
-
-
-define Package/perlbase-json-pp
-$(call Package/perlbase-template)
-TITLE:=json-pp perl module
-DEPENDS+=+perlbase-b +perlbase-base +perlbase-essential
-endef
-
-define Package/perlbase-json-pp/install
-$(call perlmod/Install,$(1),JSON/PP JSON/PP.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/JSON-PP/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-json-pp))
-
-
-define Package/perlbase-less
-$(call Package/perlbase-template)
-TITLE:=less perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-less/install
-$(call perlmod/Install,$(1),less.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/less.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-less))
-
-
-define Package/perlbase-list
-$(call Package/perlbase-template)
-TITLE:=List perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-list/install
-$(call perlmod/Install,$(1),List auto/List,)
-endef
-
-$(eval $(call BuildPackage,perlbase-list))
-
-
-define Package/perlbase-locale
-$(call Package/perlbase-template)
-TITLE:=Locale perl module
-DEPENDS+=+perlbase-essential +perlbase-i18n +perlbase-integer +perlbase-utf8
-endef
-
-define Package/perlbase-locale/install
-$(call perlmod/Install,$(1),Locale,Locale/Constants.pod Locale/Country.pod Locale/Currency.pod Locale/Language.pod Locale/Maketext.pod Locale/Maketext/TPJ13.pod Locale/Script.pod)
-$(call perlmod/InstallBaseTests,$(1),cpan/Locale-Codes/t cpan/Locale-Maketext-Simple/t dist/Locale-Maketext/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-locale))
-
-
-define Package/perlbase-math
-$(call Package/perlbase-template)
-TITLE:=Math perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-scalar +perlbase-xsloader
-endef
-
-define Package/perlbase-math/install
-$(call perlmod/Install,$(1),Math auto/Math,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Math-Complex/t dist/Math-BigInt-FastCalc/t dist/Math-BigInt/t dist/Math-BigRat/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-math))
-
-
-define Package/perlbase-memoize
-$(call Package/perlbase-template)
-TITLE:=Memoize perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-storable
-endef
-
-define Package/perlbase-memoize/install
-$(call perlmod/Install,$(1),Memoize Memoize.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Memoize/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-memoize))
-
-
-define Package/perlbase-meta-notation
-$(call Package/perlbase-template)
-TITLE:=meta_notation module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-meta-notation/install
-$(call perlmod/Install,$(1),meta_notation.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/meta_notation.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-meta-notation))
-
-
-define Package/perlbase-mime
-$(call Package/perlbase-template)
-TITLE:=MIME perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-mime/install
-$(call perlmod/Install,$(1),MIME auto/MIME,)
-$(call perlmod/InstallBaseTests,$(1),cpan/MIME-Base64/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-mime))
-
-
-define Package/perlbase-module
-$(call Package/perlbase-template)
-TITLE:=Module perl module
-DEPENDS+=+perlbase-essential +perlbase-file +perlbase-filehandle +perlbase-locale +perlbase-params +perlbase-version
-endef
-
-define Package/perlbase-module/install
-$(call perlmod/Install,$(1),Module,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Module-Load-Conditional/t cpan/Module-Load/t cpan/Module-Loaded/t cpan/Module-Metadata/corpus cpan/Module-Metadata/lib cpan/Module-Metadata/t dist/Module-CoreList/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-module))
-
-
-define Package/perlbase-mro
-$(call Package/perlbase-template)
-TITLE:=mro perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-mro/install
-$(call perlmod/Install,$(1),auto/mro mro.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-mro))
-
-
-define Package/perlbase-net
-$(call Package/perlbase-template)
-TITLE:=Net perl module
-DEPENDS+=+perlbase-class +perlbase-errno +perlbase-essential +perlbase-fcntl +perlbase-filehandle +perlbase-io +perlbase-posix +perlbase-socket +perlbase-symbol +perlbase-time
-endef
-
-define Package/perlbase-net/install
-$(call perlmod/Install,$(1),Net,Net/libnetFAQ.pod)
-$(call perlmod/InstallBaseTests,$(1),cpan/libnet/t dist/Net-Ping/t lib/Net/hostent.t lib/Net/netent.t lib/Net/protoent.t lib/Net/servent.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-net))
-
-
-define Package/perlbase-next
-$(call Package/perlbase-template)
-TITLE:=NEXT perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-next/install
-$(call perlmod/Install,$(1),NEXT.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/NEXT/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-next))
-
-
-define Package/perlbase-o
-$(call Package/perlbase-template)
-TITLE:=O perl module
-DEPENDS+=+perlbase-b +perlbase-essential
-endef
-
-define Package/perlbase-o/install
-$(call perlmod/Install,$(1),O.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-o))
-
-
-define Package/perlbase-opcode
-$(call Package/perlbase-template)
-TITLE:=Opcode perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-opcode/install
-$(call perlmod/Install,$(1),auto/Opcode,)
-$(call perlmod/Install/NoStrip,$(1),Opcode.pm,)
-$(call perlmod/InstallBaseTests,$(1),ext/Opcode/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-opcode))
-
-
-define Package/perlbase-open
-$(call Package/perlbase-template)
-TITLE:=open perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-open/install
-$(call perlmod/Install,$(1),open.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/open.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-open))
-
-
-define Package/perlbase-ops
-$(call Package/perlbase-template)
-TITLE:=ops perl module
-DEPENDS+=+perlbase-opcode
-endef
-
-define Package/perlbase-ops/install
-$(call perlmod/Install,$(1),ops.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-ops))
-
-
-define Package/perlbase-ostype
-$(call Package/perlbase-template)
-TITLE:=OSType perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-ostype/install
-$(call perlmod/Install,$(1),Perl/OSType.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Perl-OSType/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-ostype))
-
-
-define Package/perlbase-params
-$(call Package/perlbase-template)
-TITLE:=Params perl module
-DEPENDS+=+perlbase-essential +perlbase-locale
-endef
-
-define Package/perlbase-params/install
-$(call perlmod/Install,$(1),Params,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Params-Check/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-params))
-
-
-define Package/perlbase-perl5db
-$(call Package/perlbase-template)
-TITLE:=perl5db perl module
-DEPENDS+=+perlbase-cwd +perlbase-essential
-endef
-
-define Package/perlbase-perl5db/install
-$(call perlmod/Install,$(1),perl5db.pl,)
-$(call perlmod/InstallBaseTests,$(1),lib/perl5db.t lib/perl5db/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-perl5db))
-
-
-define Package/perlbase-perlio
-$(call Package/perlbase-template)
-TITLE:=PerlIO perl module
-DEPENDS+=+perlbase-essential +perlbase-mime +perlbase-xsloader
-endef
-
-define Package/perlbase-perlio/install
-$(call perlmod/Install,$(1),PerlIO PerlIO.pm auto/PerlIO,)
-$(call perlmod/InstallBaseTests,$(1),cpan/PerlIO-via-QuotedPrint/t ext/PerlIO-encoding/t ext/PerlIO-scalar/t ext/PerlIO-via/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-perlio))
-
-
-define Package/perlbase-pod
-$(call Package/perlbase-template)
-TITLE:=Pod perl module
-DEPENDS+=+perlbase-config +perlbase-cwd +perlbase-encode +perlbase-essential +perlbase-fcntl +perlbase-file +perlbase-getopt +perlbase-integer +perlbase-posix +perlbase-symbol +perlbase-term +perlbase-text
-endef
-
-define Package/perlbase-pod/install
-$(call perlmod/Install,$(1),Pod,Pod/Usage.pm)
-$(call perlmod/Install/NoStrip,$(1),Pod/Usage.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Pod-Checker/t cpan/Pod-Escapes/t cpan/Pod-Parser/lib cpan/Pod-Parser/scripts cpan/Pod-Parser/t cpan/Pod-Perldoc/t cpan/Pod-Simple/t cpan/Pod-Usage/scripts cpan/Pod-Usage/t cpan/podlators/t ext/Pod-Functions/Functions.pm ext/Pod-Functions/t ext/Pod-Html/t lib/Pod/t)
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/pod2man $(1)/usr/bin/
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/pod2text $(1)/usr/bin/
-endef
-
-$(eval $(call BuildPackage,perlbase-pod))
-
-
-define Package/perlbase-posix
-$(call Package/perlbase-template)
-TITLE:=POSIX perl module
-DEPENDS+=+perlbase-essential +perlbase-fcntl +perlbase-tie +perlbase-xsloader
-endef
-
-define Package/perlbase-posix/install
-$(call perlmod/Install,$(1),POSIX.pm auto/POSIX,)
-$(call perlmod/InstallBaseTests,$(1),ext/POSIX/Makefile.PL ext/POSIX/POSIX.xs ext/POSIX/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-posix))
-
-
-define Package/perlbase-re
-$(call Package/perlbase-template)
-TITLE:=re perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-re/install
-$(call perlmod/Install,$(1),auto/re re.pm,)
-$(call perlmod/InstallBaseTests,$(1),ext/re/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-re))
-
-
-define Package/perlbase-safe
-$(call Package/perlbase-template)
-TITLE:=Safe perl module
-DEPENDS+=+perlbase-b +perlbase-essential +perlbase-opcode +perlbase-scalar +perlbase-utf8
-endef
-
-define Package/perlbase-safe/install
-$(call perlmod/Install,$(1),Safe.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/Safe/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-safe))
-
-
-define Package/perlbase-scalar
-$(call Package/perlbase-template)
-TITLE:=Scalar perl module
-DEPENDS+=+perlbase-essential +perlbase-list
-endef
-
-define Package/perlbase-scalar/install
-$(call perlmod/Install,$(1),Scalar Sub,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Scalar-List-Utils/t)
-	$(INSTALL_DIR) $(1)/$(PERL_TESTSDIR)/cpan/Scalar-List-Utils/blib
-endef
-
-$(eval $(call BuildPackage,perlbase-scalar))
-
-
-define Package/perlbase-sdbm-file
-$(call Package/perlbase-template)
-TITLE:=SDBM_File perl module
-DEPENDS+=+perlbase-essential +perlbase-tie +perlbase-xsloader
-endef
-
-define Package/perlbase-sdbm-file/install
-$(call perlmod/Install,$(1),SDBM_File.pm auto/SDBM_File,)
-$(call perlmod/InstallBaseTests,$(1),ext/SDBM_File/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-sdbm-file))
-
-
-define Package/perlbase-search
-$(call Package/perlbase-template)
-TITLE:=Search perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-search/install
-$(call perlmod/Install,$(1),Search,)
-$(call perlmod/InstallBaseTests,$(1),dist/Search-Dict/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-search))
-
-
-define Package/perlbase-selectsaver
-$(call Package/perlbase-template)
-TITLE:=SelectSaver perl module
-DEPENDS+=+perlbase-essential +perlbase-symbol
-endef
-
-define Package/perlbase-selectsaver/install
-$(call perlmod/Install,$(1),SelectSaver.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/SelectSaver.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-selectsaver))
-
-
-define Package/perlbase-selfloader
-$(call Package/perlbase-template)
-TITLE:=SelfLoader perl module
-DEPENDS+=+perlbase-essential +perlbase-io
-endef
-
-define Package/perlbase-selfloader/install
-$(call perlmod/Install,$(1),SelfLoader.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/SelfLoader/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-selfloader))
-
-
-define Package/perlbase-sigtrap
-$(call Package/perlbase-template)
-TITLE:=sigtrap perl module
-DEPENDS+=+perlbase-essential +perlbase-meta-notation
-endef
-
-define Package/perlbase-sigtrap/install
-$(call perlmod/Install,$(1),sigtrap.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/sigtrap.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-sigtrap))
-
-
-define Package/perlbase-socket
-$(call Package/perlbase-template)
-TITLE:=Socket perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-socket/install
-$(call perlmod/Install,$(1),Socket.pm auto/Socket,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Socket/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-socket))
-
-
-define Package/perlbase-sort
-$(call Package/perlbase-template)
-TITLE:=sort perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-sort/install
-$(call perlmod/Install,$(1),sort.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/sort.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-sort))
-
-
-define Package/perlbase-storable
-$(call Package/perlbase-template)
-TITLE:=Storable perl module
-DEPENDS+=+perlbase-essential +perlbase-xsloader
-endef
-
-define Package/perlbase-storable/install
-$(call perlmod/Install,$(1),Storable.pm auto/Storable,)
-$(call perlmod/InstallBaseTests,$(1),dist/Storable/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-storable))
-
-
-define Package/perlbase-symbol
-$(call Package/perlbase-template)
-TITLE:=Symbol perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-symbol/install
-$(call perlmod/Install,$(1),Symbol.pm,)
-$(call perlmod/InstallBaseTests,$(1),lib/Symbol.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-symbol))
-
-
-define Package/perlbase-sys
-$(call Package/perlbase-template)
-TITLE:=Sys perl module
-DEPENDS+=+perlbase-essential +perlbase-file +perlbase-posix +perlbase-socket
-endef
-
-define Package/perlbase-sys/install
-$(call perlmod/Install,$(1),Sys auto/Sys,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Sys-Syslog/t ext/Sys-Hostname/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-sys))
-
-
-define Package/perlbase-tap
-$(call Package/perlbase-template)
-TITLE:=TAP perl module
-DEPENDS+=+perlbase-base +perlbase-benchmark +perlbase-config +perlbase-essential +perlbase-file +perlbase-io +perlbase-posix +perlbase-text
-endef
-
-define Package/perlbase-tap/install
-$(call perlmod/Install,$(1),TAP,)
-endef
-
-$(eval $(call BuildPackage,perlbase-tap))
-
-
-define Package/perlbase-term
-$(call Package/perlbase-template)
-TITLE:=Term perl module
-DEPENDS+=+perlbase-essential
-endef
-
-define Package/perlbase-term/install
-$(call perlmod/Install,$(1),Term,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Term-ANSIColor/t cpan/Term-Cap/test.pl dist/Term-Complete/t dist/Term-ReadLine/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-term))
-
-
-define Package/perlbase-test
-$(call Package/perlbase-template)
-TITLE:=Test perl module
-DEPENDS+=+perlbase-base +perlbase-config +perlbase-essential +perlbase-io +perlbase-symbol +perlbase-tap +perlbase-text
-endef
-
-define Package/perlbase-test/install
-$(call perlmod/Install,$(1),Test Test.pm ok.pm,Test/Builder.pm Test/Harness/TAP.pod Test/More.pm Test/Tutorial.pod)
-$(call perlmod/Install/NoStrip,$(1),Test/Builder.pm Test/More.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Test-Harness/t cpan/Test-Simple/t cpan/Test/t)
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/prove $(1)/usr/bin
-endef
-
-$(eval $(call BuildPackage,perlbase-test))
-
-
-define Package/perlbase-text
-$(call Package/perlbase-template)
-TITLE:=Text perl module
-DEPENDS+=+perlbase-essential +perlbase-selfloader
-endef
-
-define Package/perlbase-text/install
-$(call perlmod/Install,$(1),Text,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Text-Balanced/t cpan/Text-ParseWords/t cpan/Text-Tabs/t dist/Text-Abbrev/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-text))
-
-
-define Package/perlbase-thread
-$(call Package/perlbase-template)
-TITLE:=Thread perl module
-DEPENDS+=+perlbase-essential +perlbase-scalar +perlbase-threads
-endef
-
-define Package/perlbase-thread/install
-$(call perlmod/Install,$(1),Thread Thread.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/Thread-Queue/t dist/Thread-Semaphore/t lib/Thread.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-thread))
-
-
-define Package/perlbase-threads
-$(call Package/perlbase-template)
-TITLE:=threads perl module
-DEPENDS+=+perlbase-config +perlbase-essential +perlbase-scalar +perlbase-xsloader
-endef
-
-define Package/perlbase-threads/install
-$(call perlmod/Install,$(1),auto/threads threads threads.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/threads-shared/t dist/threads/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-threads))
-
-
-define Package/perlbase-tie
-$(call Package/perlbase-template)
-TITLE:=Tie perl module
-DEPENDS+=+perlbase-essential +perlbase-fcntl +perlbase-xsloader
-endef
-
-define Package/perlbase-tie/install
-$(call perlmod/Install,$(1),Tie auto/Tie,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Tie-RefHash/t dist/Tie-File/t ext/Tie-Hash-NamedCapture/t ext/Tie-Memoize/lib/Tie/Memoize.pm ext/Tie-Memoize/t lib/Tie/Array/push.t lib/Tie/Array/splice.t lib/Tie/Array/std.t lib/Tie/Array/stdpush.t lib/Tie/ExtraHash.t lib/Tie/Handle/stdhandle.t lib/Tie/Handle/stdhandle_from_handle.t lib/Tie/Hash.t lib/Tie/Scalar.t lib/Tie/SubstrHash.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-tie))
-
-
-define Package/perlbase-time
-$(call Package/perlbase-template)
-TITLE:=Time perl module
-DEPENDS+=+perlbase-class +perlbase-config +perlbase-dynaloader +perlbase-essential
-endef
-
-define Package/perlbase-time/install
-$(call perlmod/Install,$(1),Time auto/Time,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Time-HiRes/t cpan/Time-Local/t cpan/Time-Piece/t lib/Time/gmtime.t lib/Time/localtime.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-time))
-
-
-define Package/perlbase-unicode
-$(call Package/perlbase-template)
-TITLE:=Unicode perl module
-DEPENDS+=+perlbase-base +perlbase-charnames +perlbase-dynaloader +perlbase-essential +perlbase-file
-endef
-
-define Package/perlbase-unicode/install
-$(call perlmod/Install,$(1),Unicode auto/Unicode,)
-$(call perlmod/InstallBaseTests,$(1),cpan/Unicode-Collate/t cpan/Unicode-Normalize/t lib/Unicode/UCD.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-unicode))
-
-
-define Package/perlbase-unicore
-$(call Package/perlbase-template)
-TITLE:=unicore perl module
-endef
-
-define Package/perlbase-unicore/install
-$(call perlmod/Install,$(1),unicore,)
-$(call perlmod/InstallBaseTests,$(1),lib/unicore/NameAliases.txt lib/unicore/PropValueAliases.txt lib/unicore/PropertyAliases.txt lib/unicore/UnicodeData.txt)
-endef
-
-$(eval $(call BuildPackage,perlbase-unicore))
-
-
-define Package/perlbase-universal
-$(call Package/perlbase-template)
-TITLE:=UNIVERSAL perl module
-endef
-
-define Package/perlbase-universal/install
-$(call perlmod/Install,$(1),UNIVERSAL.pm,)
-endef
-
-$(eval $(call BuildPackage,perlbase-universal))
-
-
-define Package/perlbase-user
-$(call Package/perlbase-template)
-TITLE:=User perl module
-DEPENDS+=+perlbase-class +perlbase-config +perlbase-essential
-endef
-
-define Package/perlbase-user/install
-$(call perlmod/Install,$(1),User,)
-$(call perlmod/InstallBaseTests,$(1),lib/User/grent.t lib/User/pwent.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-user))
-
-
-define Package/perlbase-utf8
-$(call Package/perlbase-template)
-TITLE:=utf8 perl module
-DEPENDS+=+perlbase-essential +perlbase-re +perlbase-unicore
-endef
-
-define Package/perlbase-utf8/install
-$(call perlmod/Install,$(1),utf8.pm utf8_heavy.pl,)
-$(call perlmod/InstallBaseTests,$(1),lib/utf8.t)
-endef
-
-$(eval $(call BuildPackage,perlbase-utf8))
-
-
-define Package/perlbase-version
-$(call Package/perlbase-template)
-TITLE:=version perl module
-DEPENDS+=+perlbase-config +perlbase-essential
-endef
-
-define Package/perlbase-version/install
-$(call perlmod/Install,$(1),version version.pm,)
-$(call perlmod/InstallBaseTests,$(1),cpan/version/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-version))
-
-
-define Package/perlbase-xsloader
-$(call Package/perlbase-template)
-TITLE:=XSLoader perl module
-endef
-
-define Package/perlbase-xsloader/install
-$(call perlmod/Install,$(1),XSLoader.pm,)
-$(call perlmod/InstallBaseTests,$(1),dist/XSLoader/t ext/XS-APItest/t ext/XS-Typemap/t)
-endef
-
-$(eval $(call BuildPackage,perlbase-xsloader))
-
-
-# Generated Fri Sep 25 07:47:59 2015
diff -uprN a/feeds/packages/lang/perl/perlmod.mk b/feeds/packages/lang/perl/perlmod.mk
--- a/feeds/packages/lang/perl/perlmod.mk	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/perlmod.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,189 +0,0 @@
-# This makefile simplifies perl module builds.
-#
-
-ifeq ($(origin PERL_INCLUDE_DIR),undefined)
-  PERL_INCLUDE_DIR:=$(dir $(lastword $(MAKEFILE_LIST)))
-endif
-
-include $(PERL_INCLUDE_DIR)/perlver.mk
-
-ifneq ($(PKG_NAME),perl)
-  PKG_VERSION:=$(PKG_VERSION)+perl$(PERL_VERSION2)
-endif
-
-PERL_VERSION:=$(PERL_VERSION2)
-
-# Build environment
-HOST_PERL_PREFIX:=$(STAGING_DIR_HOSTPKG)/usr
-ifneq ($(CONFIG_USE_GLIBC),)
-	EXTRA_LIBS:=bsd
-	EXTRA_LIBDIRS:=$(STAGING_DIR)/lib
-endif
-PERL_CMD:=$(STAGING_DIR_HOSTPKG)/usr/bin/perl$(PERL_VERSION3)
-
-MOD_CFLAGS_PERL:=-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 $(TARGET_CFLAGS) $(TARGET_CPPFLAGS)
-ifdef CONFIG_PERL_THREADS
-	MOD_CFLAGS_PERL+= -D_REENTRANT -D_GNU_SOURCE
-endif
-
-# Module install prefix
-PERL_SITELIB:=/usr/lib/perl5/$(PERL_VERSION)
-PERL_TESTSDIR:=/usr/share/perl/perl-tests
-PERLBASE_TESTSDIR:=/usr/share/perl/perlbase-tests
-PERLMOD_TESTSDIR:=/usr/share/perl/perlmod-tests
-
-FLOCK:=$(STAGING_DIR_HOST)/bin/flock
-
-define perlmod/host/relink
-	rm -f $(1)/Makefile.aperl
-	($(FLOCK) -w 900 9 || { echo perlmod/host/relink: failed to acquire lock; exit 1; }; \
-	    $(MAKE) -C $(1) perl && \
-	    $(INSTALL_BIN) $(1)/perl $(PERL_CMD) && \
-	    $(INSTALL_BIN) $(1)/perl $(STAGING_DIR_HOSTPKG)/usr/bin/perl \
-	) 9> $(TMP_DIR)/.perlmod-perl.flock
-endef
-
-define perlmod/host/Configure
-	(cd $(HOST_BUILD_DIR); \
-	$(FLOCK) -s -w 300 9 || { echo perlmod/host/Configure: failed to acquire lock; exit 1; }; \
-	PERL_MM_USE_DEFAULT=1 \
-	$(2) \
-	$(PERL_CMD) Makefile.PL \
-		$(1) \
-	) 9> $(TMP_DIR)/.perlmod-perl.flock;
-endef
-
-define perlmod/host/Compile
-	($(FLOCK) -s -w 300 9 || { echo perlmod/host/Compile: failed to acquire lock; exit 1; }; \
-	$(2) \
-	$(MAKE) -C $(HOST_BUILD_DIR) \
-		$(1) \
-		install \
-	) 9> $(TMP_DIR)/.perlmod-perl.flock
-endef
-
-define perlmod/host/Install
-	($(FLOCK) -s -w 300 9 || { echo perlmod/host/Install: failed to acquire lock; exit 1; }; \
-	$(2) \
-	$(MAKE) -C $(HOST_BUILD_DIR) \
-		$(1) \
-		install \
-	) 9> $(TMP_DIR)/.perlmod-perl.flock
-	$(call perlmod/host/relink,$(HOST_BUILD_DIR))
-endef
-
-define perlmod/Configure
-	(cd $(if $(3),$(3),$(PKG_BUILD_DIR)); \
-	 $(FLOCK) -s -w 300 9 || { echo perlmod/Configure: failed to acquire lock; exit 1; }; \
-	 (echo -e 'use Config;\n\n$$$${tied %Config::Config}{cpprun}="$(GNU_TARGET_NAME)-cpp -E";\n' ; cat Makefile.PL) | \
-	 PERL_MM_USE_DEFAULT=1 \
-	 $(2) \
-	 $(PERL_CMD) -I. -- - \
-		$(1) \
-		AR=ar \
-		CC=$(GNU_TARGET_NAME)-gcc \
-		CCFLAGS="$(MOD_CFLAGS_PERL)" \
-		CCCDLFLAGS=-fPIC \
-		CCDLFLAGS=-Wl,-E \
-		DLEXT=so \
-		DLSRC=dl_dlopen.xs \
-		EXE_EXT=" " \
-		FULL_AR=$(GNU_TARGET_NAME)-ar \
-		LD=$(GNU_TARGET_NAME)-gcc \
-		LDDLFLAGS="-shared -rdynamic $(TARGET_LDFLAGS)"  \
-		LDFLAGS="$(EXTRA_LIBDIRS:%=-L%) $(EXTRA_LIBS:%=-l%) " \
-		LIBC=" " \
-		LIB_EXT=.a \
-		OBJ_EXT=.o \
-		OSNAME=linux \
-		OSVERS=2.4.30 \
-		RANLIB=: \
-		SITELIBEXP=" " \
-		SITEARCHEXP=" " \
-		SO=so  \
-		VENDORARCHEXP=" " \
-		VENDORLIBEXP=" " \
-		SITEPREFIX=/usr \
-		INSTALLPRIVLIB=$(PERL_SITELIB) \
-		INSTALLSITELIB=$(PERL_SITELIB) \
-		INSTALLVENDORLIB=" " \
-		INSTALLARCHLIB=$(PERL_SITELIB) \
-		INSTALLSITEARCH=$(PERL_SITELIB) \
-		INSTALLVENDORARCH=" " \
-		INSTALLBIN=/usr/bin \
-		INSTALLSITEBIN=/usr/bin \
-		INSTALLVENDORBIN=" " \
-		INSTALLSCRIPT=/usr/bin \
-		INSTALLSITESCRIPT=/usr/bin \
-		INSTALLVENDORSCRIPT=" " \
-		INSTALLMAN1DIR=/usr/man/man1 \
-		INSTALLSITEMAN1DIR=/usr/man/man1 \
-		INSTALLVENDORMAN1DIR=" " \
-		INSTALLMAN3DIR=/usr/man/man3 \
-		INSTALLSITEMAN3DIR=/usr/man/man3 \
-		INSTALLVENDORMAN3DIR=" " \
-		LINKTYPE=dynamic \
-		DESTDIR=$(PKG_INSTALL_DIR) \
-	) 9> $(TMP_DIR)/.perlmod-perl.flock
-	sed -i -e 's!^PERL_INC = .*!PERL_INC = $(STAGING_DIR)/usr/lib/perl5/$(PERL_VERSION)/CORE/!' $(if $(3),$(3),$(PKG_BUILD_DIR))/Makefile
-endef
-
-define perlmod/Compile
-	($(FLOCK) -s -w 300 9 || { echo perlmod/Compile: failed to acquire lock; exit 1; }; \
-	PERL5LIB=$(PERL_LIB) \
-	$(2) \
-	$(MAKE) -C $(if $(3),$(3),$(PKG_BUILD_DIR)) \
-		$(1) \
-		install \
-	) 9> $(TMP_DIR)/.perlmod-perl.flock
-endef
-
-define perlmod/Install/NoStrip
-	$(INSTALL_DIR) $(strip $(1))$(PERL_SITELIB)
-	(cd $(PKG_INSTALL_DIR)$(PERL_SITELIB) && \
-	rsync --relative -rlHp --itemize-changes \
-		--exclude=\*.pod \
-		--exclude=.packlist \
-		$(addprefix --exclude=/,$(strip $(3))) \
-		--prune-empty-dirs \
-		$(strip $(2)) $(strip $(1))$(PERL_SITELIB))
-
-	chmod -R u+w $(strip $(1))$(PERL_SITELIB)
-endef
-
-
-define perlmod/_DoStrip
-	@echo "---> Stripping modules in: $(strip $(1))$(PERL_SITELIB)"
-	find $(strip $(1))$(PERL_SITELIB) -name \*.pm -or -name \*.pl | \
-	xargs -r sed -i \
-		-e '/^=\(head\|pod\|item\|over\|back\|encoding\|begin\|end\|for\)/,/^=cut/d' \
-		-e '/^=\(head\|pod\|item\|over\|back\|encoding\|begin\|end\|for\)/,$$$$d' \
-		-e '/^#$$$$/d' \
-		-e '/^#[^!"'"'"']/d'
-endef
-
-define perlmod/Install
-	$(call perlmod/Install/NoStrip,$(1),$(2),$(3))
-
-	$(if $(CONFIG_PERL_NOCOMMENT),$(if $(PKG_LEAVE_COMMENTS),,$(call perlmod/_DoStrip,$(1),$(2),$(3))))
-endef
-
-# You probably don't want to use this directly. Look at perlmod/InstallTests
-define perlmod/_InstallTests
-	$(INSTALL_DIR) $(strip $(1))
-	(cd $(PKG_BUILD_DIR)/$(2) && \
-	rsync --relative -rlHp --itemize-changes \
-		--exclude=.packlist \
-		--prune-empty-dirs \
-		$(strip $(3)) $(strip $(1)))
-
-	chmod -R u+w $(strip $(1))
-endef
-
-define perlmod/InstallBaseTests
-	$(if $(CONFIG_PERL_TESTS),$(call perlmod/_InstallTests,$(1)$(PERL_TESTSDIR),,$(2)))
-endef
-
-define perlmod/InstallTests
-	$(if $(CONFIG_PERL_TESTS),$(call perlmod/_InstallTests,$(1)$(PERL_TESTSDIR),$(2),$(3)))
-endef
diff -uprN a/feeds/packages/lang/perl/perlver.mk b/feeds/packages/lang/perl/perlver.mk
--- a/feeds/packages/lang/perl/perlver.mk	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/perl/perlver.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
-PERL_VERSION:=5.28.1
-
-PERL_EXPLODE:=$(subst ., ,$(PERL_VERSION))
-
-PERL_MAJOR:=$(word 1,$(PERL_EXPLODE))
-PERL_MINOR:=$(word 2,$(PERL_EXPLODE))
-PERL_REL:=$(word 3,$(PERL_EXPLODE))
-
-PERL_VERSION3:=$(PERL_VERSION)
-PERL_VERSION2:=$(PERL_MAJOR).$(PERL_MINOR)
diff -uprN a/feeds/packages/lang/perl/README.patches b/feeds/packages/lang/perl/README.patches
--- a/feeds/packages/lang/perl/README.patches	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl/README.patches	1970-01-01 08:00:00.000000000 +0800
@@ -1,9 +0,0 @@
-The patches in this package are loosely sorted into the following categories:
-
-0xx - Bugfixes
-1xx - Cross-compile fixes
-3xx - Workarounds
-7xx - Testsuite fixes
-
-Feel free to add another one if your new patch doesn't seem to fit into an
-existing category.
\ No newline at end of file
diff -uprN a/feeds/packages/lang/perl-authen-sasl/Makefile b/feeds/packages/lang/perl-authen-sasl/Makefile
--- a/feeds/packages/lang/perl-authen-sasl/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-authen-sasl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2017 Philip Prindeville <philipp@redfish-solutions.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-authen-sasl
-PKG_VERSION:=2.16
-PKG_RELEASE:=2
-
-PKG_SOURCE_NAME:=Authen-SASL
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/G/GB/GBARR/
-PKG_SOURCE:=$(PKG_SOURCE_NAME)-$(PKG_VERSION).tar.gz
-PKG_HASH:=6614fa7518f094f853741b63c73f3627168c5d3aca89b1d02b1016dc32854e09
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Philip Prindeville <philipp@redfish-solutions.com>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/$(PKG_SOURCE_NAME)-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-authen-sasl
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Generic network authentication protocol framework.
-  URL:=http://search.cpan.org/dist/$(PKG_SOURCE_NAME)/
-  DEPENDS:=perl +perlbase-digest
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-authen-sasl/install
-	$(call perlmod/Install,$(1),Authen)
-endef
-
-
-$(eval $(call BuildPackage,perl-authen-sasl))
diff -uprN a/feeds/packages/lang/perl-authen-sasl-xs/Makefile b/feeds/packages/lang/perl-authen-sasl-xs/Makefile
--- a/feeds/packages/lang/perl-authen-sasl-xs/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-authen-sasl-xs/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) 2017 Philip Prindeville <philipp@redfish-solutions.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-authen-sasl-xs
-PKG_VERSION:=1.00
-PKG_RELEASE:=2
-
-PKG_SOURCE_NAME:=Authen-SASL-XS
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/G/GB/GBARR/
-PKG_SOURCE:=$(PKG_SOURCE_NAME)-$(PKG_VERSION).tar.gz
-PKG_HASH:=1b0eaa0e7ac3a45857147d837e3d34c80c6eca1d9fdcb826a213c2a105454234
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Philip Prindeville <philipp@redfish-solutions.com>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/$(PKG_SOURCE_NAME)-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-authen-sasl-xs
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Authen::XS hooks into libsasl.
-  URL:=http://search.cpan.org/dist/$(PKG_SOURCE_NAME)/
-  # DEPENDS:=perl +perl-authen-sasl +libsasl2 +perl-devel-checklib/host
-  DEPENDS:=perl +perl-authen-sasl +libsasl2
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-authen-sasl-xs/install
-	$(call perlmod/Install,$(1),Authen)
-endef
-
-
-$(eval $(call BuildPackage,perl-authen-sasl-xs))
diff -uprN a/feeds/packages/lang/perl-authen-sasl-xs/patches/100-remove-devel-checklib-checks.patch b/feeds/packages/lang/perl-authen-sasl-xs/patches/100-remove-devel-checklib-checks.patch
--- a/feeds/packages/lang/perl-authen-sasl-xs/patches/100-remove-devel-checklib-checks.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-authen-sasl-xs/patches/100-remove-devel-checklib-checks.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -1,7 +1,6 @@
- # Do yourself a favour, and don't edit this file, see README for build instructions
- 
- use ExtUtils::MakeMaker;
--use Devel::CheckLib;
- 
- my @inc_search = qw(/opt/local/include /usr/local/include);
- my @lib_search = qw(/opt/local/lib64 /usr/local/lib64 /opt/local/lib /usr/local/lib);
-@@ -13,28 +12,13 @@ unless (exists $args{INC} or exists $arg
- 
-   my @incpath = grep {-d} @inc_search;
-   my @libpath = grep {-d} @lib_search;
--  my $have_sasl2 = eval {
--    assert_lib(
--      lib     => "sasl2",
--      header  => "sasl/sasl.h",
--      libpath => \@libpath,
--      incpath => \@incpath
--    );
--    1;
--  };
-+  my $have_sasl2 = 1;
- 
-   if ($have_sasl2) {
-     $mmopt{DEFINE} = "-DSASL2" unless $use_sasl2;
-   }
-   else {
-     exit(0) if $use_sasl2;
--    @incpath = grep {-d} map { ("$_/sasl", $_) } @inc_search;
--    check_lib_or_exit(
--      lib     => "sasl",
--      header  => "sasl.h",
--      libpath => \@libpath,
--      incpath => \@incpath
--    );
-   }
- 
-   $mmopt{INC}  = join " ", map {"-I$_"} @incpath;
-@@ -58,7 +42,6 @@ WriteMakefile(
-           repository => 'http://github.com/gbarr/perl-authen-sasl-xs',
-         },
-         build_requires => {
--          'Devel::CheckLib' => 0,
-         },
-       }
-       )
diff -uprN a/feeds/packages/lang/perl-cgi/Makefile b/feeds/packages/lang/perl-cgi/Makefile
--- a/feeds/packages/lang/perl-cgi/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-cgi/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-cgi
-PKG_VERSION:=4.48
-PKG_RELEASE:=1
-
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/L/LE/LEEJO
-PKG_SOURCE:=CGI-$(PKG_VERSION).tar.gz
-PKG_HASH:=102cd7562983b85e8354ebcbb3be94a35f7f6706b2b49fdb790135da4d1d55d2
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/CGI-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>, \
-		Philip Prindeville <philipp@redfish-solutions.com>
-PKG_LICENSE:=Artistic-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-# don't strip comments because that will mangle this module
-PKG_LEAVE_COMMENTS:=1
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-cgi
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Handle Common Gateway Interface requests and responses
-  URL:=https://search.cpan.org/dist/CGI/
-  DEPENDS:=perl +perl-html-parser +perlbase-base +perlbase-config +perlbase-encode +perlbase-essential +perlbase-file +perlbase-if +perlbase-utf8
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-cgi/install
-        $(call perlmod/Install,$(1),CGI CGI.pm auto/CGI)
-endef
-
-
-$(eval $(call BuildPackage,perl-cgi))
diff -uprN a/feeds/packages/lang/perl-compress-bzip2/Makefile b/feeds/packages/lang/perl-compress-bzip2/Makefile
--- a/feeds/packages/lang/perl-compress-bzip2/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-compress-bzip2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2014, 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-compress-bzip2
-PKG_VERSION:=2.26
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Compress-Bzip2-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/R/RU/RURBAN/
-PKG_HASH:=5132f0c5f377a54d77ee36d332aa0ece585c22a40f2c31f2619e40262f5c4f0c
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Compress-Bzip2-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=COPYING
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-compress-bzip2
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl interface to bzip2 compression library
-  URL:=https://search.cpan.org/dist/Compress-Bzip2/
-  DEPENDS:=perl +libbz2 +perlbase-autoloader +perlbase-config +perlbase-essential +perlbase-fcntl +perlbase-file +perlbase-getopt +perlbase-test +perlbase-xsloader
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,BUILD_BZLIB=0)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-compress-bzip2/install
-	$(call perlmod/Install,$(1),Compress auto/Compress)
-endef
-
-
-$(eval $(call BuildPackage,perl-compress-bzip2))
diff -uprN a/feeds/packages/lang/perl-dbi/Makefile b/feeds/packages/lang/perl-dbi/Makefile
--- a/feeds/packages/lang/perl-dbi/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-dbi/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,65 +0,0 @@
-#
-# Copyright (C) 2014, 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-dbi
-PKG_VERSION:=1.643
-PKG_RELEASE:=1
-
-PKG_SOURCE:=DBI-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/T/TI/TIMB/
-PKG_HASH:=8a2b993db560a2c373c174ee976a51027dd780ec766ae17620c20393d2e836fa
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/DBI-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/DBI-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-dbi
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Database independent interface for Perl
-  URL:=https://search.cpan.org/dist/DBI/
-  DEPENDS:=perl +perlbase-base +perlbase-config +perlbase-cwd +perlbase-data +perlbase-dynaloader +perlbase-errno +perlbase-essential +perlbase-fcntl +perlbase-file +perlbase-io +perlbase-ipc +perlbase-scalar +perlbase-storable +perlbase-symbol +perlbase-tie +perlbase-universal +perlbase-utf8
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Host/Configure
-	$(call perlmod/host/Configure,,)
-endef
-
-define Host/Compile
-	$(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-	$(call perlmod/host/Install,$(1),)
-endef
-
-define Package/perl-dbi/install
-	$(call perlmod/Install,$(1),DB* auto/DBI,DBI/W32ODBC.pm auto/DBI/*.h)
-endef
-
-
-$(eval $(call BuildPackage,perl-dbi))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-device-serialport/Makefile b/feeds/packages/lang/perl-device-serialport/Makefile
--- a/feeds/packages/lang/perl-device-serialport/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-serialport/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2014, 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-device-serialport
-PKG_VERSION:=1.04
-PKG_RELEASE:=4
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/C/CO/COOK/
-PKG_SOURCE:=Device-SerialPort-$(PKG_VERSION).tar.gz
-PKG_HASH:=d392567cb39b4ea606c0e0acafd8ed72320311b995336ece5fcefcf9b150e9d7
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Paul Oranje <por@xs4all.nl>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Device-SerialPort-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-device-serialport
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A POSIX-based version of the Win32::SerialPort module
-  URL:=http://search.cpan.org/dist/Device-SerialPort/
-  DEPENDS:=perl +perlbase-essential +perlbase-io +perlbase-posix +perlbase-test +perlbase-xsloader
-endef
-
-define Package/perl-device-serialport/description
-  A POSIX-based version of the Win32::SerialPort module
-  that provides modem support to Perl applications
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-device-serialport/install
-        $(call perlmod/Install,$(1),Device auto/Device)
-endef
-
-
-$(eval $(call BuildPackage,perl-device-serialport))
diff -uprN a/feeds/packages/lang/perl-device-usb/Makefile b/feeds/packages/lang/perl-device-usb/Makefile
--- a/feeds/packages/lang/perl-device-usb/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,73 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-device-usb
-PKG_VERSION:=0.38
-PKG_RELEASE:=1
-
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/G/GW/GWADEJ/
-PKG_SOURCE:=Device-USB-$(PKG_VERSION).tar.gz
-PKG_HASH:=f0c36379db4913406dc9bd546a6cfd4da20d58f7c2cc085893a2fe67a43465dc
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Device-USB-$(PKG_VERSION)
-PKG_BUILD_DEPENDS:=perl-inline-c/host
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-device-usb
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=libusb library wrapper
-  URL:=https://search.cpan.org/dist/Device-USB/
-  DEPENDS:=perl +libusb-compat +perl-inline +perl-inline-c +perlbase-essential +perlbase-test
-endef
-
-# Device::USB will generate a second Makefile.PL to build it's native code
-# using Inline::C under _Inline/. The goal here is to prevent Inline::C from
-# running that one automatically, as we need to supply a bunch of overrides via
-# perlmod/Configure.
-# _INLINE_C_NO_COMPILE_ is an OpenWRT-specific environment variable to Inline::C
-# that does just that.
-define Build/Configure
-	$(call perlmod/Configure,,)
-	
-	# Prepare a library directory where we can link againt lusb-0.1(as
-	# opposed to -lusb) to avoid confusion at runtime
-	mkdir $(PKG_BUILD_DIR)/syslib
-	$(LN) $(STAGING_DIR)/usr/lib/libusb.so $(PKG_BUILD_DIR)/syslib/libusb-0.1.so
-	
-	# Generate _Inline
-	$(call perlmod/Compile,config,LIBUSB_LIBDIR=$(PKG_BUILD_DIR)/syslib \
-	                              _INLINE_C_NO_COMPILE_=1 \
-	                              _INLINE_C_SYSTEM_TYPEMAP_=$(STAGING_DIR)/usr/lib/perl5/$(PERL_VERSION)/ExtUtils/typemap)
-	$(call perlmod/Compile,dynamic,_INLINE_C_NO_COMPILE_=1)
-	
-	# Configure _Inline
-	$(call perlmod/Configure,,,$(PKG_BUILD_DIR)/_Inline/build/Device/USB)
-	
-	# Prevent re-configuring Inline code
-	sed 's/^dynamic :: D.*$$$$//' -i $(PKG_BUILD_DIR)/Makefile
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,,$(PKG_BUILD_DIR)/_Inline/build/Device/USB)
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-device-usb/install
-        $(call perlmod/Install,$(1),Device auto/Device)
-endef
-
-
-$(eval $(call BuildPackage,perl-device-usb))
diff -uprN a/feeds/packages/lang/perl-device-usb/patches/100-fix_buildsystem.patch b/feeds/packages/lang/perl-device-usb/patches/100-fix_buildsystem.patch
--- a/feeds/packages/lang/perl-device-usb/patches/100-fix_buildsystem.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/patches/100-fix_buildsystem.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-Description: Ignore files we do not want installed.
-Forwarded: not-needed
-Author: Tim Retout <diocles@debian.org>
-Reviewed-by: gregor herrmann <gregoa@debian.org>
-Last-Update: 2013-10-28
-
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -2,6 +2,11 @@ use strict;
- use warnings;
- use Inline::MakeMaker;
- 
-+sub MY::libscan {
-+	return if ($_[1] eq 'USB.pm' or $_[1] eq 'dump_usb.pl');
-+	return $_[1];
-+}
-+
- if($^O eq 'MSWin32')
- {
-     if(!$ENV{LIBUSB_LIBDIR} or !$ENV{LIBUSB_INCDIR})
diff -uprN a/feeds/packages/lang/perl-device-usb/patches/110-just_assume_libusb_is_there.patch b/feeds/packages/lang/perl-device-usb/patches/110-just_assume_libusb_is_there.patch
--- a/feeds/packages/lang/perl-device-usb/patches/110-just_assume_libusb_is_there.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/patches/110-just_assume_libusb_is_there.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,30 +0,0 @@
-Subject: Just assume libusb is out there
- Makefile.PL should not try to check for libusb in a given list of directories
- as the compiler might look in other places as well.
-Origin: vendor
-Bug-Debian: http://bugs.debian.org/639677
-Forwarded: not-needed
-From: Ansgar Burchardt <ansgar@debian.org>
-Reviewed-by: gregor herrmann <gregoa@debian.org>
-Last-Update: 2013-10-28
-
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -21,7 +21,7 @@ END
-     }
- }
- 
--unless(header_found())
-+unless(1 || header_found())
- {
-     die <<"END";
- ERROR: Can't find usb.h header.
-@@ -36,7 +36,7 @@ following environment variables:
- END
- }
- 
--unless(lib_found())
-+unless(1 || lib_found())
- {
-     die <<"END";
- ERROR: Can't find libusb library.
diff -uprN a/feeds/packages/lang/perl-device-usb/patches/120-use_libusb_0_1.patch b/feeds/packages/lang/perl-device-usb/patches/120-use_libusb_0_1.patch
--- a/feeds/packages/lang/perl-device-usb/patches/120-use_libusb_0_1.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/patches/120-use_libusb_0_1.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
---- a/lib/Device/USB.pm
-+++ b/lib/Device/USB.pm
-@@ -9,8 +9,8 @@ use Inline (
-         C => "DATA",
-         ($ENV{LIBUSB_LIBDIR}
-             ? ( LIBS => "-L\"$ENV{LIBUSB_LIBDIR}\" " .
--                        ($^O eq 'MSWin32' ? ' -llibusb -L\"$ENV{WINDDK}\\lib\\crt\\i386\" -lmsvcrt ' : '-lusb') )
--            : ( LIBS => '-lusb', )
-+                        ($^O eq 'MSWin32' ? ' -llibusb -L\"$ENV{WINDDK}\\lib\\crt\\i386\" -lmsvcrt ' : '-lusb-0.1') )
-+            : ( LIBS => '-lusb-0.1', )
-         ),
-         ($ENV{LIBUSB_INCDIR} ? ( INC => "-I\"$ENV{LIBUSB_INCDIR}\"" ) : () ),
-         NAME => 'Device::USB',
diff -uprN a/feeds/packages/lang/perl-device-usb/patches/130-provide-proper-library-paths.patch b/feeds/packages/lang/perl-device-usb/patches/130-provide-proper-library-paths.patch
--- a/feeds/packages/lang/perl-device-usb/patches/130-provide-proper-library-paths.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/patches/130-provide-proper-library-paths.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
---- a/lib/Device/USB.pm
-+++ b/lib/Device/USB.pm
-@@ -8,8 +8,8 @@ use Carp;
- use Inline (
-         C => "DATA",
-         ($ENV{LIBUSB_LIBDIR}
--            ? ( LIBS => "-L\"$ENV{LIBUSB_LIBDIR}\" " .
--                        ($^O eq 'MSWin32' ? ' -llibusb -L\"$ENV{WINDDK}\\lib\\crt\\i386\" -lmsvcrt ' : '-lusb-0.1') )
-+            ? ( LIBS => "-L$ENV{LIBUSB_LIBDIR} " .
-+                        ($^O eq 'MSWin32' ? ' -llibusb -L$ENV{WINDDK}\\lib\\crt\\i386 -lmsvcrt ' : '-lusb-0.1') )
-             : ( LIBS => '-lusb-0.1', )
-         ),
-         ($ENV{LIBUSB_INCDIR} ? ( INC => "-I\"$ENV{LIBUSB_INCDIR}\"" ) : () ),
diff -uprN a/feeds/packages/lang/perl-device-usb/patches/140-avoid-libusb-name-conflicts.patch b/feeds/packages/lang/perl-device-usb/patches/140-avoid-libusb-name-conflicts.patch
--- a/feeds/packages/lang/perl-device-usb/patches/140-avoid-libusb-name-conflicts.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/patches/140-avoid-libusb-name-conflicts.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,219 +0,0 @@
---- a/lib/Device/USB.pm
-+++ b/lib/Device/USB.pm
-@@ -15,6 +15,7 @@ use Inline (
-         ($ENV{LIBUSB_INCDIR} ? ( INC => "-I\"$ENV{LIBUSB_INCDIR}\"" ) : () ),
-         NAME => 'Device::USB',
-         VERSION => '0.38',
-+        PREFIX => 'deviceusb_',
-    );
- 
- Inline->init();
-@@ -657,74 +658,74 @@ unsigned DeviceUSBDebugLevel()
-     return debugLevel;
- }
- 
--void libusb_init()
-+void deviceusb_libusb_init()
- {
-     usb_init();
- }
- 
--int libusb_find_busses()
-+int deviceusb_libusb_find_busses()
- {
-     return usb_find_busses();
- }
- 
--int libusb_find_devices()
-+int deviceusb_libusb_find_devices()
- {
-     return usb_find_devices();
- }
- 
--void *libusb_get_busses()
-+void *deviceusb_libusb_get_busses()
- {
-     return usb_get_busses();
- }
- 
--void *libusb_open(void *dev)
-+void *deviceusb_libusb_open(void *dev)
- {
-     return usb_open( (struct usb_device*)dev );
- }
- 
--int libusb_close(void *dev)
-+int deviceusb_libusb_close(void *dev)
- {
-     return usb_close((usb_dev_handle *)dev);
- }
- 
--int libusb_set_configuration(void *dev, int configuration)
-+int deviceusb_libusb_set_configuration(void *dev, int configuration)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_set_configuration( %d )\n", configuration );
-+        printf( "deviceusb_libusb_set_configuration( %d )\n", configuration );
-     }
-     return usb_set_configuration((usb_dev_handle *)dev, configuration);
- }
- 
--int libusb_set_altinterface(void *dev, int alternate)
-+int deviceusb_libusb_set_altinterface(void *dev, int alternate)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_set_altinterface( %d )\n", alternate );
-+        printf( "deviceusb_libusb_set_altinterface( %d )\n", alternate );
-     }
-     return usb_set_altinterface((usb_dev_handle *)dev, alternate);
- }
- 
--int libusb_clear_halt(void *dev, unsigned int ep)
-+int deviceusb_libusb_clear_halt(void *dev, unsigned int ep)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_clear_halt( %d )\n", ep );
-+        printf( "deviceusb_libusb_clear_halt( %d )\n", ep );
-     }
-     return usb_clear_halt((usb_dev_handle *)dev, ep);
- }
- 
--int libusb_reset(void *dev)
-+int deviceusb_libusb_reset(void *dev)
- {
-     return usb_reset((usb_dev_handle *)dev);
- }
- 
--int libusb_get_driver_np(void *dev, int interface, char *name, unsigned int namelen)
-+int deviceusb_libusb_get_driver_np(void *dev, int interface, char *name, unsigned int namelen)
- {
-     int ret = 0;
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_get_driver_np( %d )\n", interface );
-+        printf( "deviceusb_libusb_get_driver_np( %d )\n", interface );
-     }
- #if LIBUSB_HAS_GET_DRIVER_NP
-     ret = usb_get_driver_np((usb_dev_handle *)dev, interface, name, namelen);
-@@ -735,11 +736,11 @@ int libusb_get_driver_np(void *dev, int
- #endif
- }
- 
--int libusb_detach_kernel_driver_np(void *dev, int interface)
-+int deviceusb_libusb_detach_kernel_driver_np(void *dev, int interface)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_detach_kernel_driver_np( %d )\n", interface );
-+        printf( "deviceusb_libusb_detach_kernel_driver_np( %d )\n", interface );
-     }
- #if LIBUSB_HAS_DETACH_KERNEL_DRIVER_NP
-     return usb_detach_kernel_driver_np((usb_dev_handle *)dev, interface);
-@@ -748,25 +749,25 @@ int libusb_detach_kernel_driver_np(void
- #endif
- }
- 
--int libusb_claim_interface(void *dev, int interface)
-+int deviceusb_libusb_claim_interface(void *dev, int interface)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_claim_interface( %d )\n", interface );
-+        printf( "deviceusb_libusb_claim_interface( %d )\n", interface );
-     }
-     return usb_claim_interface((usb_dev_handle *)dev, interface);
- }
- 
--int libusb_release_interface(void *dev, int interface)
-+int deviceusb_libusb_release_interface(void *dev, int interface)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_release_interface( %d )\n", interface );
-+        printf( "deviceusb_libusb_release_interface( %d )\n", interface );
-     }
-     return usb_release_interface((usb_dev_handle *)dev, interface);
- }
- 
--void libusb_control_msg(void *dev, int requesttype, int request, int value, int index, char *bytes, int size, int timeout)
-+void deviceusb_libusb_control_msg(void *dev, int requesttype, int request, int value, int index, char *bytes, int size, int timeout)
- {
-     int i = 0;
-     int retval = 0;
-@@ -775,7 +776,7 @@ void libusb_control_msg(void *dev, int r
- 
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_control_msg( %#04x, %#04x, %#04x, %#04x, %p, %d, %d )\n",
-+        printf( "deviceusb_libusb_control_msg( %#04x, %#04x, %#04x, %#04x, %p, %d, %d )\n",
-             requesttype, request, value, index, bytes, size, timeout
-         );
-         /* maybe need to add support for printing the bytes string. */
-@@ -808,54 +809,54 @@ void libusb_control_msg(void *dev, int r
-     Inline_Stack_Done;
- }
- 
--int libusb_get_string(void *dev, int index, int langid, char *buf, size_t buflen)
-+int deviceusb_libusb_get_string(void *dev, int index, int langid, char *buf, size_t buflen)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_get_string( %d, %d, %p, %lu )\n",
-+        printf( "deviceusb_libusb_get_string( %d, %d, %p, %lu )\n",
-             index, langid, buf, (unsigned long)buflen
-         );
-     }
-     return usb_get_string((usb_dev_handle *)dev, index, langid, buf, buflen);
- }
- 
--int libusb_get_string_simple(void *dev, int index, char *buf, size_t buflen)
-+int deviceusb_libusb_get_string_simple(void *dev, int index, char *buf, size_t buflen)
- {
-     if(DeviceUSBDebugLevel())
-     {
--        printf( "libusb_get_string_simple( %d, %p, %lu )\n",
-+        printf( "deviceusb_libusb_get_string_simple( %d, %p, %lu )\n",
-             index, buf, (unsigned long)buflen
-         );
-     }
-     return usb_get_string_simple((usb_dev_handle *)dev, index, buf, buflen);
- }
- 
--int libusb_get_descriptor(void *dev, unsigned char type, unsigned char index, char *buf, int size)
-+int deviceusb_libusb_get_descriptor(void *dev, unsigned char type, unsigned char index, char *buf, int size)
- {
-     return usb_get_descriptor((usb_dev_handle *)dev, type, index, buf, size);
- }
- 
--int libusb_get_descriptor_by_endpoint(void *dev, int ep, unsigned char type, unsigned char index, char *buf, int size)
-+int deviceusb_libusb_get_descriptor_by_endpoint(void *dev, int ep, unsigned char type, unsigned char index, char *buf, int size)
- {
-     return usb_get_descriptor_by_endpoint((usb_dev_handle *)dev, ep, type, index, buf, size);
- }
- 
--int libusb_bulk_write(void *dev, int ep, char *bytes, int size, int timeout)
-+int deviceusb_libusb_bulk_write(void *dev, int ep, char *bytes, int size, int timeout)
- {
-     return usb_bulk_write((usb_dev_handle *)dev, ep, bytes, size, timeout);
- }
- 
--int libusb_bulk_read(void *dev, int ep, char *bytes, int size, int timeout)
-+int deviceusb_libusb_bulk_read(void *dev, int ep, char *bytes, int size, int timeout)
- {
-     return usb_bulk_read((usb_dev_handle *)dev, ep, bytes, size, timeout);
- }
- 
--int libusb_interrupt_write(void *dev, int ep, char *bytes, int size, int timeout)
-+int deviceusb_libusb_interrupt_write(void *dev, int ep, char *bytes, int size, int timeout)
- {
-     return usb_interrupt_write((usb_dev_handle *)dev, ep, bytes, size, timeout);
- }
- 
--int libusb_interrupt_read(void *dev, int ep, char *bytes, int size, int timeout)
-+int deviceusb_libusb_interrupt_read(void *dev, int ep, char *bytes, int size, int timeout)
- {
-     return usb_interrupt_read((usb_dev_handle *)dev, ep, bytes, size, timeout);
- }
diff -uprN a/feeds/packages/lang/perl-device-usb/README.patches b/feeds/packages/lang/perl-device-usb/README.patches
--- a/feeds/packages/lang/perl-device-usb/README.patches	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-device-usb/README.patches	1970-01-01 08:00:00.000000000 +0800
@@ -1,8 +0,0 @@
-This package contains some patches taken directly from Debian Jessie(stable at 
-the time of writing). 
-Namely, these are:
-- 100-fix_buildsystem.patch
-- 110-just_assume_libusb_is_there.diff
-
-The other patches are specific to OpenWRT, fixing bugs and resolving conflicts
-where necessary.
\ No newline at end of file
diff -uprN a/feeds/packages/lang/perl-encode-locale/Makefile b/feeds/packages/lang/perl-encode-locale/Makefile
--- a/feeds/packages/lang/perl-encode-locale/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-encode-locale/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-encode-locale
-PKG_VERSION:=1.05
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/G/GA/GAAS
-PKG_SOURCE:=Encode-Locale-$(PKG_VERSION).tar.gz
-PKG_HASH:=176fa02771f542a4efb1dbc2a4c928e8f4391bf4078473bd6040d8f11adb0ec1
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Encode-Locale-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-encode-locale
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Determine the locale encoding
-  URL:=http://search.cpan.org/dist/Encode-Locale/
-  DEPENDS:=perl +perlbase-base +perlbase-encode +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-encode-locale/install
-        $(call perlmod/Install,$(1),Encode auto/Encode)
-endef
-
-
-$(eval $(call BuildPackage,perl-encode-locale))
diff -uprN a/feeds/packages/lang/perl-file-listing/Makefile b/feeds/packages/lang/perl-file-listing/Makefile
--- a/feeds/packages/lang/perl-file-listing/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-file-listing/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-file-listing
-PKG_VERSION:=6.04
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/G/GA/GAAS
-PKG_SOURCE:=File-Listing-$(PKG_VERSION).tar.gz
-PKG_HASH:=1e0050fcd6789a2179ec0db282bf1e90fb92be35d1171588bd9c47d52d959cf5
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/File-Listing-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-file-listing
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Parse directory listing
-  URL:=http://search.cpan.org/dist/File-Listing/
-  DEPENDS:=perl +perl-http-date +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-file-listing/install
-        $(call perlmod/Install,$(1),File auto/File)
-endef
-
-
-$(eval $(call BuildPackage,perl-file-listing))
diff -uprN a/feeds/packages/lang/perl-file-rsyncp/Makefile b/feeds/packages/lang/perl-file-rsyncp/Makefile
--- a/feeds/packages/lang/perl-file-rsyncp/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-file-rsyncp/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,57 +0,0 @@
-# Copyright (C) 2018 OpenWrt
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-file-rsyncp
-PKG_VERSION:=0.74
-PKG_RELEASE:=1
-
-PKG_SOURCE:=File-RsyncP-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=http://search.cpan.org/CPAN/authors/id/C/CB/CBARRATT/
-PKG_HASH:=ba4df5f9b0db6c9d86a6c5cf9861cf00d17b18e77cfa028e7a9157c0015a5aa3
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/File-RsyncP-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Carsten Wolff <carsten@wolffcarsten.de>
-PKG_LICENSE:=GPL-2.0-or-later
-PKG_LICENSE_FILES:=LICENSE README
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-file-rsyncp
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl Rsync client
-  URL:=http://search.cpan.org/~cbarratt/File-RsyncP/
-  DEPENDS:=perl +perlbase-autoloader +perlbase-socket +perlbase-getopt +perlbase-data +perlbase-config +perlbase-encode +perlbase-fcntl +perlbase-file
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-	$(call perlmod/Configure,,,$(PKG_BUILD_DIR)/Digest)
-	$(call perlmod/Configure,,,$(PKG_BUILD_DIR)/FileList)
-	$(call Build/Configure/Default,,rsync_cv_HAVE_LONGLONG=yes,FileList)
-endef
-
-define Build/Compile
-	PERL5LIB=$(PERL_LIB) $(MAKE) -C $(PKG_BUILD_DIR)/Digest
-	PERL5LIB=$(PERL_LIB) $(MAKE) -C $(PKG_BUILD_DIR)/FileList
-	PERL5LIB=$(PERL_LIB) $(MAKE) -C $(PKG_BUILD_DIR)
-endef
-
-define Package/perl-file-rsyncp/install
-	$(INSTALL_DIR) $(strip $(1))$(PERL_SITELIB)/File/RsyncP
-	$(INSTALL_DIR) $(strip $(1))$(PERL_SITELIB)/auto/File/RsyncP/Digest
-	$(INSTALL_DIR) $(strip $(1))$(PERL_SITELIB)/auto/File/RsyncP/FileList
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/lib/File/RsyncP.pm $(strip $(1))$(PERL_SITELIB)/File
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/lib/File/RsyncP/FileIO.pm $(strip $(1))$(PERL_SITELIB)/File/RsyncP
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/Digest/Digest.pm $(strip $(1))$(PERL_SITELIB)/File/RsyncP
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/FileList/FileList.pm $(strip $(1))$(PERL_SITELIB)/File/RsyncP
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/Digest/blib/lib/auto/File/RsyncP/Digest/autosplit.ix $(strip $(1))$(PERL_SITELIB)/auto/File/RsyncP/Digest
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/Digest/blib/arch/auto/File/RsyncP/Digest/Digest.so $(strip $(1))$(PERL_SITELIB)/auto/File/RsyncP/Digest
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/FileList/blib/lib/auto/File/RsyncP/FileList/autosplit.ix $(strip $(1))$(PERL_SITELIB)/auto/File/RsyncP/FileList
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/FileList/blib/arch/auto/File/RsyncP/FileList/FileList.so $(strip $(1))$(PERL_SITELIB)/auto/File/RsyncP/FileList
-endef
-
-$(eval $(call BuildPackage,perl-file-rsyncp))
diff -uprN a/feeds/packages/lang/perl-file-rsyncp/patches/001-no-subdirs.patch b/feeds/packages/lang/perl-file-rsyncp/patches/001-no-subdirs.patch
--- a/feeds/packages/lang/perl-file-rsyncp/patches/001-no-subdirs.patch	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-file-rsyncp/patches/001-no-subdirs.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -8,7 +8,7 @@ WriteMakefile(
-                             Getopt::Long => 2.24,	# need OO interface
-                          },
-     'PMLIBDIRS'       => ['lib'],
--    'DIR'             => ['Digest', 'FileList'],
-+    'DIR'             => [],
-     ($] >= 5.005 ?    ## Add these new keywords supported since 5.005
-       (ABSTRACT_FROM  => 'lib/File/RsyncP.pm', # retrieve abstract from module
-        AUTHOR         => 'Craig Barratt <cbarratt@users.sourceforge.net>')
diff -uprN a/feeds/packages/lang/perl-file-sharedir-install/Makefile b/feeds/packages/lang/perl-file-sharedir-install/Makefile
--- a/feeds/packages/lang/perl-file-sharedir-install/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-file-sharedir-install/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,65 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-file-sharedir-install
-PKG_VERSION:=0.13
-PKG_RELEASE:=1
-
-PKG_SOURCE:=File-ShareDir-Install-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/E/ET/ETHER
-PKG_HASH:=45befdf0d95cbefe7c25a1daf293d85f780d6d2576146546e6828aad26e580f9
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/File-ShareDir-Install-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/File-ShareDir-Install-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-file-sharedir-install
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Install read-only data files
-  URL:=https://search.cpan.org/dist/File-ShareDir-Install/
-  DEPENDS:=perl +perlbase-essential +perlbase-extutils +perlbase-file +perlbase-io
-endef
-
-define Host/Configure
-        $(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-        $(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-        $(call perlmod/host/Install,$(1),)
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-file-sharedir-install/install
-        $(call perlmod/Install,$(1),File auto/File)
-endef
-
-
-$(eval $(call BuildPackage,perl-file-sharedir-install))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-html-form/Makefile b/feeds/packages/lang/perl-html-form/Makefile
--- a/feeds/packages/lang/perl-html-form/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-html-form/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-html-form
-PKG_VERSION:=6.07
-PKG_RELEASE:=1
-
-PKG_SOURCE:=HTML-Form-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=7daa8c7eaff4005501c3431c8bf478d58bbee7b836f863581aa14afe1b4b6227
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTML-Form-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-html-form
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Class that represents an HTML form element
-  URL:=https://search.cpan.org/dist/HTML-Form/
-  DEPENDS:=perl +perl-html-parser +perl-http-message +perl-uri +perlbase-encode +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-html-form/install
-        $(call perlmod/Install,$(1),HTML auto/HTML)
-endef
-
-
-$(eval $(call BuildPackage,perl-html-form))
diff -uprN a/feeds/packages/lang/perl-html-parser/Makefile b/feeds/packages/lang/perl-html-parser/Makefile
--- a/feeds/packages/lang/perl-html-parser/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-html-parser/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,64 +0,0 @@
-#
-# Copyright (C) 2014 - 2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-html-parser
-PKG_VERSION:=3.75
-PKG_RELEASE:=1
-
-PKG_SOURCE:=HTML-Parser-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/C/CA/CAPOEIRAB
-PKG_HASH:=ac6b5e25a8df7af54885201e91c45fb9ab6744c08cedc1a38fcc7d95d21193a9
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_CPE_ID:=cpe:/a:derrick_oswald:html-parser
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTML-Parser-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/HTML-Parser-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-html-parser
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A collection of modules that parse HTML text documents
-  URL:=http://search.cpan.org/dist/HTML-Parser/
-  DEPENDS:=perl +perl-html-tagset +perlbase-essential +perlbase-xsloader
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-html-parser/install
-	$(call perlmod/Install,$(1),HTML auto/HTML)
-endef
-
-define Host/Configure
-	$(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-	$(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-	$(call perlmod/host/Install,$(1),)
-endef
-
-$(eval $(call BuildPackage,perl-html-parser))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-html-tagset/Makefile b/feeds/packages/lang/perl-html-tagset/Makefile
--- a/feeds/packages/lang/perl-html-tagset/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-html-tagset/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-html-tagset
-PKG_VERSION:=3.20
-PKG_RELEASE:=4
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/P/PE/PETDANCE/
-PKG_SOURCE:=HTML-Tagset-$(PKG_VERSION).tar.gz
-PKG_HASH:=adb17dac9e36cd011f5243881c9739417fd102fce760f8de4e9be4c7131108e2
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTML-Tagset-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-html-tagset
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Data tables pertaining to HTML
-  URL:=http://search.cpan.org/dist/HTML-Tagset/
-  DEPENDS:=perl +perlbase-essential
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-html-tagset/install
-	$(call perlmod/Install,$(1),HTML)
-endef
-
-
-$(eval $(call BuildPackage,perl-html-tagset))
diff -uprN a/feeds/packages/lang/perl-html-tree/Makefile b/feeds/packages/lang/perl-html-tree/Makefile
--- a/feeds/packages/lang/perl-html-tree/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-html-tree/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-html-tree
-PKG_VERSION:=3.23
-PKG_RELEASE:=5
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/P/PE/PETEK/
-PKG_SOURCE:=HTML-Tree-$(PKG_VERSION).tar.gz
-PKG_HASH:=f5175acf262f3710dce899796ea3e353049939400b100706d03df2f08803c8de
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTML-Tree-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-html-tree
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Represent and create HTML syntax trees
-  URL:=http://search.cpan.org/dist/HTML-Tree/
-  DEPENDS:=perl +perl-html-parser +perl-html-tagset +perlbase-essential +perlbase-integer
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-html-tree/install
-	$(call perlmod/Install,$(1),HTML)
-endef
-
-
-$(eval $(call BuildPackage,perl-html-tree))
diff -uprN a/feeds/packages/lang/perl-http-cookies/Makefile b/feeds/packages/lang/perl-http-cookies/Makefile
--- a/feeds/packages/lang/perl-http-cookies/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-http-cookies/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-http-cookies
-PKG_VERSION:=6.08
-PKG_RELEASE:=1
-
-PKG_SOURCE:=HTTP-Cookies-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=49ebb73576eb41063c04bc079477df094496deec805ae033f3be338c23c3af59
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTTP-Cookies-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-http-cookies
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=HTTP cookie jars
-  URL:=https://search.cpan.org/dist/HTTP-Cookies/
-  DEPENDS:=perl +perl-http-date +perl-http-message +perlbase-essential +perlbase-time
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-http-cookies/install
-        $(call perlmod/Install,$(1),HTTP auto/HTTP)
-endef
-
-
-$(eval $(call BuildPackage,perl-http-cookies))
diff -uprN a/feeds/packages/lang/perl-http-daemon/Makefile b/feeds/packages/lang/perl-http-daemon/Makefile
--- a/feeds/packages/lang/perl-http-daemon/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-http-daemon/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-http-daemon
-PKG_VERSION:=6.06
-PKG_RELEASE:=1
-
-PKG_SOURCE:=HTTP-Daemon-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=fc03a161b54553f766457a4267e7066767f54ad01cacfe9a91d7caa2a0319bad
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTTP-Daemon-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENCE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-http-daemon
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A simple http server class
-  URL:=http://search.cpan.org/dist/HTTP-Daemon/
-  DEPENDS:=perl +perl-http-date +perl-http-message +perl-lwp-mediatypes +perlbase-essential +perlbase-io +perlbase-sys
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-http-daemon/install
-        $(call perlmod/Install,$(1),HTTP auto/HTTP)
-endef
-
-
-$(eval $(call BuildPackage,perl-http-daemon))
diff -uprN a/feeds/packages/lang/perl-http-date/Makefile b/feeds/packages/lang/perl-http-date/Makefile
--- a/feeds/packages/lang/perl-http-date/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-http-date/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-http-date
-PKG_VERSION:=6.05
-PKG_RELEASE:=2
-
-PKG_SOURCE:=HTTP-Date-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=365d6294dfbd37ebc51def8b65b81eb79b3934ecbc95a2ec2d4d827efe6a922b
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTTP-Date-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-http-date
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Date conversion routines
-  URL:=http://search.cpan.org/dist/HTTP-Date/
-  DEPENDS:=perl +perlbase-essential +perlbase-time
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-http-date/install
-        $(call perlmod/Install,$(1),HTTP auto/HTTP)
-endef
-
-
-$(eval $(call BuildPackage,perl-http-date))
diff -uprN a/feeds/packages/lang/perl-http-message/Makefile b/feeds/packages/lang/perl-http-message/Makefile
--- a/feeds/packages/lang/perl-http-message/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-http-message/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-http-message
-PKG_VERSION:=6.22
-PKG_RELEASE:=1
-
-PKG_SOURCE:=HTTP-Message-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=970efd151b81c95831d2a5f9e117f8032b63a1768cd2cd3f092ad634c85175c3
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTTP-Message-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-http-message
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=HTTP style messages
-  URL:=https://search.cpan.org/dist/HTTP-Message/
-  DEPENDS:=perl +perl-encode-locale +perl-http-date +perl-io-html +perl-lwp-mediatypes +perl-uri +perlbase-base +perlbase-compress +perlbase-encode +perlbase-essential +perlbase-io +perlbase-mime
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-http-message/install
-        $(call perlmod/Install,$(1),HTTP auto/HTTP)
-endef
-
-
-$(eval $(call BuildPackage,perl-http-message))
diff -uprN a/feeds/packages/lang/perl-http-negotiate/Makefile b/feeds/packages/lang/perl-http-negotiate/Makefile
--- a/feeds/packages/lang/perl-http-negotiate/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-http-negotiate/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-http-negotiate
-PKG_VERSION:=6.01
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/G/GA/GAAS
-PKG_SOURCE:=HTTP-Negotiate-$(PKG_VERSION).tar.gz
-PKG_HASH:=1c729c1ea63100e878405cda7d66f9adfd3ed4f1d6cacaca0ee9152df728e016
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTTP-Negotiate-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-http-negotiate
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Choose a variant to serve
-  URL:=http://search.cpan.org/dist/HTTP-Negotiate/
-  DEPENDS:=perl +perl-http-message +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-http-negotiate/install
-        $(call perlmod/Install,$(1),HTTP auto/HTTP)
-endef
-
-
-$(eval $(call BuildPackage,perl-http-negotiate))
diff -uprN a/feeds/packages/lang/perl-http-server-simple/Makefile b/feeds/packages/lang/perl-http-server-simple/Makefile
--- a/feeds/packages/lang/perl-http-server-simple/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-http-server-simple/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-http-server-simple
-PKG_VERSION:=0.52
-PKG_RELEASE:=1
-
-PKG_SOURCE:=HTTP-Server-Simple-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/B/BP/BPS
-PKG_HASH:=d8939fa4f12bd6b8c043537fd0bf96b055ac3686b9cdd9fa773dca6ae679cb4c
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/HTTP-Server-Simple-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-http-server-simple
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lightweight HTTP server
-  URL:=https://search.cpan.org/dist/HTTP-Server-Simple/
-  DEPENDS:=perl +perl-cgi +perlbase-base +perlbase-essential +perlbase-filehandle +perlbase-socket +perlbase-test
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-http-server-simple/install
-        $(call perlmod/Install,$(1),HTTP auto/HTTP)
-endef
-
-
-$(eval $(call BuildPackage,perl-http-server-simple))
diff -uprN a/feeds/packages/lang/perl-inline/Makefile b/feeds/packages/lang/perl-inline/Makefile
--- a/feeds/packages/lang/perl-inline/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-inline/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,66 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-inline
-PKG_VERSION:=0.86
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Inline-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/I/IN/INGY
-PKG_HASH:=510a7de2d011b0db80b0874e8c0f7390010991000ae135cff7474df1e6d51e3a
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Inline-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/Inline-$(PKG_VERSION)
-
-HOST_BUILD_DEPENDS:=perl/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-inline
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Write subroutines in other languages
-  URL:=https://search.cpan.org/dist/Inline/
-  DEPENDS:=perl +perlbase-base +perlbase-config +perlbase-cwd +perlbase-digest +perlbase-essential +perlbase-fcntl +perlbase-file
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-inline/install
-        $(call perlmod/Install,$(1),Inline.pm Inline auto/Inline)
-endef
-
-define Host/Configure
-	$(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-	$(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-	$(call perlmod/host/Install,$(1),)
-endef
-
-
-$(eval $(call BuildPackage,perl-inline))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-inline-c/Makefile b/feeds/packages/lang/perl-inline-c/Makefile
--- a/feeds/packages/lang/perl-inline-c/Makefile	2023-04-14 21:27:49.464066000 +0800
+++ b/feeds/packages/lang/perl-inline-c/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,66 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-inline-c
-PKG_VERSION:=0.81
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Inline-C-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/T/TI/TINITA
-PKG_HASH:=f185258d9050d7f79b4f00f12625cc469c2f700ff62d3e831cb18d80d2c87aac
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/Inline-C-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host perl-inline/host perl-parse-recdescent/host perl-file-sharedir-install/host
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Inline-C-$(PKG_VERSION)
-PKG_BUILD_DEPENDS:=perl-inline/host perl-parse-recdescent/host perl-file-sharedir-install/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-inline-c
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=C Language Support for Inline
-  URL:=https://search.cpan.org/dist/Inline-C/
-  DEPENDS:=perl +perl-inline +perl-parse-recdescent +perlbase-config +perlbase-cwd +perlbase-data +perlbase-essential +perlbase-file +perlbase-if
-endef
-
-define Host/Configure
-        $(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-        $(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-        $(call perlmod/host/Install,$(1),)
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-inline-c/install
-        $(call perlmod/Install,$(1),Inline auto/Inline)
-endef
-
-
-$(eval $(call BuildPackage,perl-inline-c))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-inline-c/patches/100-inline_c-no_compile_hack.patch b/feeds/packages/lang/perl-inline-c/patches/100-inline_c-no_compile_hack.patch
--- a/feeds/packages/lang/perl-inline-c/patches/100-inline_c-no_compile_hack.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-inline-c/patches/100-inline_c-no_compile_hack.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/lib/Inline/C.pm
-+++ b/lib/Inline/C.pm
-@@ -380,7 +380,7 @@ sub build {
-     $o->call('write_XS', 'Build Glue 1');
-     $o->call('write_Inline_headers', 'Build Glue 2');
-     $o->call('write_Makefile_PL', 'Build Glue 3');
--    $o->call('compile', 'Build Compile');
-+    $o->call('compile', 'Build Compile') unless $ENV{'_INLINE_C_NO_COMPILE_'};
-     if (IS_WIN32) {
-         $lockfh->release or die "releasemutex $file: $^E";
-     }
diff -uprN a/feeds/packages/lang/perl-inline-c/patches/110-inline_c-make_system_typemap_overridable.patch b/feeds/packages/lang/perl-inline-c/patches/110-inline_c-make_system_typemap_overridable.patch
--- a/feeds/packages/lang/perl-inline-c/patches/110-inline_c-make_system_typemap_overridable.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-inline-c/patches/110-inline_c-make_system_typemap_overridable.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
---- a/lib/Inline/C.pm
-+++ b/lib/Inline/C.pm
-@@ -457,22 +457,28 @@ sub get_maps {
-     print STDERR "get_maps Stage\n" if $o->{CONFIG}{BUILD_NOISY};
-     my $typemap = '';
-     my $file;
--    $file = File::Spec->catfile(
--        $Config::Config{installprivlib},
--        "ExtUtils",
--        "typemap",
--    );
--    $typemap = $file if -f $file;
--    $file = File::Spec->catfile(
--        $Config::Config{privlibexp}
--        ,"ExtUtils","typemap"
--    );
--    $typemap = $file
--        if (not $typemap and -f $file);
--    warn "Can't find the default system typemap file"
--        if (not $typemap and $^W);
-+    
-+    unless ($ENV{'_INLINE_C_SYSTEM_TYPEMAP_'}) {
-+        $file = File::Spec->catfile(
-+            $Config::Config{installprivlib},
-+            "ExtUtils",
-+            "typemap",
-+        );
-+        $typemap = $file if -f $file;
-+        $file = File::Spec->catfile(
-+            $Config::Config{privlibexp}
-+            ,"ExtUtils","typemap"
-+        );
-+        $typemap = $file
-+            if (not $typemap and -f $file);
-+        warn "Can't find the default system typemap file"
-+            if (not $typemap and $^W);
- 
--    unshift(@{$o->{ILSM}{MAKEFILE}{TYPEMAPS}}, $typemap) if $typemap;
-+        unshift(@{$o->{ILSM}{MAKEFILE}{TYPEMAPS}}, $typemap) if $typemap;
-+    }
-+    else {
-+        unshift(@{$o->{ILSM}{MAKEFILE}{TYPEMAPS}}, $ENV{'_INLINE_C_SYSTEM_TYPEMAP_'});
-+    }
- 
-     if (not $o->UNTAINT) {
-         require FindBin;
diff -uprN a/feeds/packages/lang/perl-io-html/Makefile b/feeds/packages/lang/perl-io-html/Makefile
--- a/feeds/packages/lang/perl-io-html/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-io-html/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-io-html
-PKG_VERSION:=1.001
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/C/CJ/CJM
-PKG_SOURCE:=IO-HTML-$(PKG_VERSION).tar.gz
-PKG_HASH:=ea78d2d743794adc028bc9589538eb867174b4e165d7d8b5f63486e6b828e7e0
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/IO-HTML-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-io-html
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Open an HTML file with automatic charset detection
-  URL:=http://search.cpan.org/dist/IO-HTML/
-  DEPENDS:=perl +perlbase-encode +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-io-html/install
-        $(call perlmod/Install,$(1),IO auto/IO)
-endef
-
-
-$(eval $(call BuildPackage,perl-io-html))
diff -uprN a/feeds/packages/lang/perl-lockfile-simple/Makefile b/feeds/packages/lang/perl-lockfile-simple/Makefile
--- a/feeds/packages/lang/perl-lockfile-simple/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-lockfile-simple/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-lockfile-simple
-PKG_VERSION:=0.208
-PKG_RELEASE:=4
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/S/SC/SCHWIGON/lockfile-simple/
-PKG_SOURCE:=LockFile-Simple-$(PKG_VERSION).tar.gz
-PKG_HASH:=45c77896b2a5a0a45f6202a6f813f437ff8b283f84a1c60d0c4f3730802af3a2
-
-PKG_LICENSE:=GPL-2.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/LockFile-Simple-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-lockfile-simple
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Simple advisory file locking
-  URL:=http://search.cpan.org/dist/LockFile-Simple/
-  DEPENDS:=perl +perlbase-essential +perlbase-sys
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-lockfile-simple/install
-	$(call perlmod/Install,$(1),LockFile auto/LockFile)
-endef
-
-
-$(eval $(call BuildPackage,perl-lockfile-simple))
diff -uprN a/feeds/packages/lang/perl-lwp-mediatypes/Makefile b/feeds/packages/lang/perl-lwp-mediatypes/Makefile
--- a/feeds/packages/lang/perl-lwp-mediatypes/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-lwp-mediatypes/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-lwp-mediatypes
-PKG_VERSION:=6.04
-PKG_RELEASE:=1
-
-PKG_SOURCE:=LWP-MediaTypes-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=8f1bca12dab16a1c2a7c03a49c5e58cce41a6fec9519f0aadfba8dad997919d9
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/LWP-MediaTypes-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-lwp-mediatypes
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Guess media type for a file or a URL
-  URL:=https://search.cpan.org/dist/LWP-MediaTypes/
-  DEPENDS:=perl +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-lwp-mediatypes/install
-        $(call perlmod/Install,$(1),LWP auto/LWP)
-endef
-
-
-$(eval $(call BuildPackage,perl-lwp-mediatypes))
diff -uprN a/feeds/packages/lang/perl-mail-spamassassin/Makefile b/feeds/packages/lang/perl-mail-spamassassin/Makefile
--- a/feeds/packages/lang/perl-mail-spamassassin/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-mail-spamassassin/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,101 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-mail-spamassassin
-PKG_RELEASE:=$(AUTORELEASE)
-PKG_VERSION:=3.4.6
-PKG_HASH:=500c7e2a7cdf3aa4dd822d97aaff2ab22235a60cf17a68ab817861d215a4e568
-
-PKG_SOURCE_NAME:=Mail-SpamAssassin
-PKG_SOURCE_URL:=@APACHE/spamassassin/source
-PKG_SOURCE:=$(PKG_SOURCE_NAME)-$(PKG_VERSION).tar.gz
-PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)-$(BUILD_VARIANT)/$(PKG_SOURCE_NAME)-$(PKG_VERSION)
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:apache:spamassassin
-
-PKG_BUILD_DEPENDS:=perl-dbi/host perl-html-parser/host perl-net-dns/host perl-netaddr-ip/host
-PKG_INSTALL:=1
-PKG_SOURCE_VERSION:=$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-CONFIGURE_PATH:=spamc
-
-define Package/spamassassin
-  SECTION:=mail
-  CATEGORY:=Mail
-  TITLE:=SpamAssassin
-  URL:=https://spamassassin.apache.org/
-  DEPENDS:=perl +perlbase-autoloader +perlbase-config +perlbase-data +perlbase-digest \
-          +perlbase-encode +perlbase-essential +perlbase-file +perlbase-getopt \
-          +perlbase-hash +perlbase-mime +perlbase-net +perlbase-socket \
-          +perl-dbi +perl-html-parser +perl-net-dns +perl-netaddr-ip
-  VARIANT:=ssl
-endef
-
-define Package/spamc/Default
-  SECTION:=mail
-  CATEGORY:=Mail
-  TITLE:=SpamAssassin client binary
-  URL:=https://spamassassin.apache.org/
-  DEPENDS:=+zlib
-endef
-
-define Package/spamc
-  $(call Package/spamc/Default)
-  VARIANT:=nossl
-endef
-
-define Package/spamc-ssl
-  $(call Package/spamc/Default)
-  TITLE+= (with SSL)
-  DEPENDS+=+libopenssl
-  VARIANT:=ssl
-endef
-
-ifeq ($(BUILD_VARIANT),ssl)
-TARGET_CFLAGS += -DSPAMC_SSL
-CONFIGURE_ARGS += --enable-ssl
-endif
-
-define Package/spamassassin/conffiles
-/etc/mail/spamassassin
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-	$(call Build/Configure/Default)
-	( cd "$(PKG_BUILD_DIR)/$(CONFIGURE_PATH)" && ./version.h.pl --with-version=$(PKG_SOURCE_VERSION) )
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-	$(call Build/Compile/Default,,,spamc)
-endef
-
-define Package/spamassassin/install
-	$(call perlmod/Install,$(1),Mail/SpamAssassin auto/Mail/SpamAssassin)
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/sa-awl $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/sa-learn $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/sa-compile $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/spamassassin $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/sa-update $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/spamd $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/sa-check_spamd $(1)/usr/bin
-	$(INSTALL_DIR) $(1)/etc/mail/spamassassin
-	$(INSTALL_CONF) $(PKG_INSTALL_DIR)/etc/mail/spamassassin/* $(1)/etc/mail/spamassassin
-endef
-
-define Package/spamc/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/spamc $(1)/usr/bin
-endef
-
-Package/spamc-ssl/install = $(Package/spamc/install)
-
-$(eval $(call BuildPackage,spamassassin))
-$(eval $(call BuildPackage,spamc))
-$(eval $(call BuildPackage,spamc-ssl))
diff -uprN a/feeds/packages/lang/perl-mail-spamassassin/patches/010-openssl-deprecated.patch b/feeds/packages/lang/perl-mail-spamassassin/patches/010-openssl-deprecated.patch
--- a/feeds/packages/lang/perl-mail-spamassassin/patches/010-openssl-deprecated.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-mail-spamassassin/patches/010-openssl-deprecated.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
---- a/spamc/libspamc.c
-+++ b/spamc/libspamc.c
-@@ -1213,9 +1213,11 @@ int message_filter(struct transport *tp,
- 
-     if (flags & SPAMC_USE_SSL) {
- #ifdef SPAMC_SSL
-+#if 0
- 	SSLeay_add_ssl_algorithms();
--	meth = SSLv23_client_method();
- 	SSL_load_error_strings();
-+#endif
-+	meth = SSLv23_client_method();
- 	ctx = SSL_CTX_new(meth);
- #else
- 	UNUSED_VARIABLE(ssl);
-@@ -1600,9 +1602,11 @@ int message_tell(struct transport *tp, c
- 
-     if (flags & SPAMC_USE_SSL) {
- #ifdef SPAMC_SSL
-+#if 0
- 	SSLeay_add_ssl_algorithms();
--	meth = SSLv23_client_method();
- 	SSL_load_error_strings();
-+#endif
-+	meth = SSLv23_client_method();
- 	ctx = SSL_CTX_new(meth);
- #else
- 	UNUSED_VARIABLE(ssl);
diff -uprN a/feeds/packages/lang/perl-netaddr-ip/Makefile b/feeds/packages/lang/perl-netaddr-ip/Makefile
--- a/feeds/packages/lang/perl-netaddr-ip/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-netaddr-ip/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,62 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-netaddr-ip
-PKG_VERSION:=4.079
-PKG_RELEASE:=1
-
-PKG_SOURCE_NAME:=NetAddr-IP
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/M/MI/MIKER/
-PKG_SOURCE:=$(PKG_SOURCE_NAME)-$(PKG_VERSION).tar.gz
-PKG_HASH:=ec5a82dfb7028bcd28bb3d569f95d87dd4166cc19867f2184ed3a59f6d6ca0e7
-
-PKG_LICENSE:=GPL-2.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=Copying
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/NetAddr-IP-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/NetAddr-IP-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-netaddr-ip
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=NetAddr::IP - Manages IPv4 and IPv6 addresses and subnets
-  URL:=http://search.cpan.org/dist/NetAddr::IP/
-  DEPENDS:=perl +perlbase-essential +perlbase-test
-endef
-
-define Host/Configure
-	$(call perlmod/host/Configure,-noxs,,)
-	$(call Host/Configure/Default,,,Lite/Util)
-endef
-
-define Host/Compile
-	$(call Host/Compile/Default,,,Lite/Util)
-	$(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-	$(call perlmod/host/Install,$(1),)
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,-noxs,)
-	$(call Build/Configure/Default,,,Lite/Util)
-endef
-
-define Build/Compile
-	$(call Build/Compile/Default,,,Lite/Util)
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-netaddr-ip/install
-	$(call perlmod/Install,$(1),NetAddr auto/NetAddr)
-endef
-
-$(eval $(call BuildPackage,perl-netaddr-ip))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-net-cidr-lite/Makefile b/feeds/packages/lang/perl-net-cidr-lite/Makefile
--- a/feeds/packages/lang/perl-net-cidr-lite/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-net-cidr-lite/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2020 Philip Prindeville, Redfish Solutions, LLC
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-net-cidr-lite
-PKG_VERSION:=0.21
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Net-CIDR-Lite-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/D/DO/DOUGW
-PKG_HASH:=cfa125e8a2aef9259bc3a44e07cbdfb7894b64d22e7c0cee92aee2f5c7915093
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Net-CIDR-Lite-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Philip Prindeville <philipp@redfish-solutions.com>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-net-cidr-lite
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl extension for merging IPv4 or IPv6 CIDR addresses
-  URL:=https://search.cpan.org/dist/Net-CIDR-Lite/
-  DEPENDS:=perl +perlbase-essential +perlbase-config +perlbase-io +perlbase-dynaloader
-  PKGARCH:=all
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-net-cidr-lite/install
-        $(call perlmod/Install,$(1),Net Net/CIDR Net/CIDR/Lite.pm)
-endef
-
-
-$(eval $(call BuildPackage,perl-net-cidr-lite))
diff -uprN a/feeds/packages/lang/perl-net-dns/Makefile b/feeds/packages/lang/perl-net-dns/Makefile
--- a/feeds/packages/lang/perl-net-dns/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-net-dns/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,56 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-net-dns
-PKG_VERSION:=1.32
-PKG_RELEASE:=$(AUTORELEASE)
-
-PKG_SOURCE_NAME:=Net-DNS
-PKG_SOURCE:=$(PKG_SOURCE_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://www.net-dns.org/download
-PKG_HASH:=b890a7b44d573f27cc713caadf1e12eaaa4478a6504d1157194df614316b5b50
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/$(PKG_SOURCE_NAME)-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/$(PKG_SOURCE_NAME)-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=MIT
-HOST_BUILD_DEPENDS:=perl/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-net-dns
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Net::DNS DNS resolver implemented in Perl
-  URL:=https://www.net-dns.org/
-  DEPENDS:=perl +perlbase-essential +perlbase-io
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-net-dns/install
-        $(call perlmod/Install,$(1),Net auto/Net)
-endef
-
-define Host/Configure
-        $(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-        $(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-        $(call perlmod/host/Install,$(1),)
-endef
-
-$(eval $(call BuildPackage,perl-net-dns))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-net-http/Makefile b/feeds/packages/lang/perl-net-http/Makefile
--- a/feeds/packages/lang/perl-net-http/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-net-http/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-net-http
-PKG_VERSION:=6.19
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Net-HTTP-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=52b76ec13959522cae64d965f15da3d99dcb445eddd85d2ce4e4f4df385b2fc4
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Net-HTTP-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-net-http
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Low-level HTTP connection (client)
-  URL:=https://search.cpan.org/dist/Net-HTTP/
-  DEPENDS:=perl +perl-uri +perlbase-compress +perlbase-essential +perlbase-io
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-net-http/install
-        $(call perlmod/Install,$(1),Net auto/Net)
-endef
-
-
-$(eval $(call BuildPackage,perl-net-http))
diff -uprN a/feeds/packages/lang/perl-net-telnet/Makefile b/feeds/packages/lang/perl-net-telnet/Makefile
--- a/feeds/packages/lang/perl-net-telnet/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-net-telnet/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2011-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-net-telnet
-PKG_VERSION:=3.04
-PKG_RELEASE:=4
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/J/JR/JROGERS/
-PKG_SOURCE:=Net-Telnet-$(PKG_VERSION).tar.gz
-PKG_HASH:=e64d567a4e16295ecba949368e7a6b8b5ae2a16b3ad682121d9b007dc5d2a37a
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Net-Telnet-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-net-telnet
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Telnet client
-  URL:=http://search.cpan.org/dist/Net-Telnet/
-  DEPENDS:=perl +perlbase-essential +perlbase-socket +perlbase-symbol
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-net-telnet/install
-	$(call perlmod/Install,$(1),Net auto/Net)
-endef
-
-
-$(eval $(call BuildPackage,perl-net-telnet))
diff -uprN a/feeds/packages/lang/perl-parse-recdescent/Makefile b/feeds/packages/lang/perl-parse-recdescent/Makefile
--- a/feeds/packages/lang/perl-parse-recdescent/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-parse-recdescent/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,64 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-parse-recdescent
-PKG_VERSION:=1.967015
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/J/JT/JTBRAUN
-PKG_SOURCE:=Parse-RecDescent-$(PKG_VERSION).tar.gz
-PKG_HASH:=1943336a4cb54f1788a733f0827c0c55db4310d5eae15e542639c9dd85656e37
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/Parse-RecDescent-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Parse-RecDescent-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-parse-recdescent
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Generate Recursive-Descent Parsers
-  URL:=http://search.cpan.org/dist/Parse-RecDescent/
-  DEPENDS:=perl +perlbase-essential +perlbase-test +perlbase-text
-endef
-
-define Host/Configure
-        $(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-        $(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-        $(call perlmod/host/Install,$(1),)
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-parse-recdescent/install
-        $(call perlmod/Install,$(1),Parse auto/Parse)
-endef
-
-
-$(eval $(call BuildPackage,perl-parse-recdescent))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-parse-yapp/Makefile b/feeds/packages/lang/perl-parse-yapp/Makefile
--- a/feeds/packages/lang/perl-parse-yapp/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-parse-yapp/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,64 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-parse-yapp
-PKG_VERSION:=1.21
-PKG_RELEASE:=1
-
-PKG_SOURCE_URL:=https://www.cpan.org/authors/id/W/WB/WBRASWELL/
-PKG_SOURCE:=Parse-Yapp-$(PKG_VERSION).tar.gz
-PKG_HASH:=3810e998308fba2e0f4f26043035032b027ce51ce5c8a52a8b8e340ca65f13e5
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Andy Walsh <andy.walsh44+github@gmail.com>
-
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/Parse-Yapp-$(PKG_VERSION)
-HOST_BUILD_DEPENDS:=perl/host
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Parse-Yapp-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-parse-yapp
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Yet Another Parser Parser For Perl
-  URL:=http://search.cpan.org/dist/Parse-Yapp/
-  DEPENDS:=perl +perlbase-essential +perlbase-test
-endef
-
-define Host/Configure
-        $(call perlmod/host/Configure,,,)
-endef
-
-define Host/Compile
-        $(call perlmod/host/Compile,,)
-endef
-
-define Host/Install
-        $(call perlmod/host/Install,$(1),)
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-parse-yapp/install
-        $(call perlmod/Install,$(1),Parse auto/Parse)
-endef
-
-
-$(eval $(call BuildPackage,perl-parse-yapp))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-sub-uplevel/Makefile b/feeds/packages/lang/perl-sub-uplevel/Makefile
--- a/feeds/packages/lang/perl-sub-uplevel/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-sub-uplevel/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-sub-uplevel
-PKG_VERSION:=0.2800
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Sub-Uplevel-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN
-PKG_HASH:=b4f3f63b80f680a421332d8851ddbe5a8e72fcaa74d5d1d98f3c8cc4a3ece293
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Sub-Uplevel-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-sub-uplevel
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Apparently run a function in a higher stack frame
-  URL:=https://search.cpan.org/dist/Sub-Uplevel/
-  DEPENDS:=perl +perlbase-essential
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-sub-uplevel/install
-        $(call perlmod/Install,$(1),Sub auto/Sub)
-endef
-
-
-$(eval $(call BuildPackage,perl-sub-uplevel))
diff -uprN a/feeds/packages/lang/perl-test-harness/Makefile b/feeds/packages/lang/perl-test-harness/Makefile
--- a/feeds/packages/lang/perl-test-harness/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-test-harness/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2014 - 2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-test-harness
-PKG_VERSION:=3.42
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Test-Harness-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/L/LE/LEONT
-PKG_HASH:=0fd90d4efea82d6e262e6933759e85d27cbcfa4091b14bf4042ae20bab528e53
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Test-Harness-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-test-harness
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl Test Harness
-  URL:=https://search.cpan.org/dist/Test-Harness/
-  DEPENDS:=perl +perlbase-base +perlbase-benchmark +perlbase-config +perlbase-essential +perlbase-file +perlbase-getopt +perlbase-io +perlbase-posix +perlbase-text
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-test-harness/install
-	$(call perlmod/Install,$(1),App auto/Test TAP Test)
-endef
-
-
-$(eval $(call BuildPackage,perl-test-harness))
diff -uprN a/feeds/packages/lang/perl-test-warn/Makefile b/feeds/packages/lang/perl-test-warn/Makefile
--- a/feeds/packages/lang/perl-test-warn/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-test-warn/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-test-warn
-PKG_VERSION:=0.36
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Test-Warn-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/B/BI/BIGJ
-PKG_HASH:=ecbca346d379cef8d3c0e4ac0c8eb3b2613d737ffaaeae52271c38d7bf3c6cda
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Test-Warn-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-test-warn
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl extension to test methods for warnings
-  URL:=https://search.cpan.org/dist/Test-Warn/
-  DEPENDS:=perl +perl-sub-uplevel +perlbase-essential +perlbase-test
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-test-warn/install
-        $(call perlmod/Install,$(1),Test auto/Test)
-endef
-
-
-$(eval $(call BuildPackage,perl-test-warn))
diff -uprN a/feeds/packages/lang/perl-text-csv_xs/Makefile b/feeds/packages/lang/perl-text-csv_xs/Makefile
--- a/feeds/packages/lang/perl-text-csv_xs/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-text-csv_xs/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2017 Philip Prindeville, Redfish Solutions, LLC
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-text-csv_xs
-PKG_VERSION:=1.41
-PKG_RELEASE:=1
-
-PKG_SOURCE:=Text-CSV_XS-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/H/HM/HMBRAND
-PKG_HASH:=0e4b7be423c02f09135a75082cb00136ff6a69cff25b012089048ea030f173ab
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Text-CSV_XS-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Philip Prindeville <philipp@redfish-solutions.com>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-text-csv_xs
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Text comma-separated values manipulation routines
-  URL:=https://search.cpan.org/dist/Text-CSV_XS/
-  DEPENDS:=perl +perlbase-essential +perlbase-config +perlbase-io +perlbase-dynaloader
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-text-csv_xs/install
-        $(call perlmod/Install,$(1),Text Text/CSV_XS.pm auto/Text/CSV_XS)
-endef
-
-
-$(eval $(call BuildPackage,perl-text-csv_xs))
diff -uprN a/feeds/packages/lang/perl-try-tiny/Makefile b/feeds/packages/lang/perl-try-tiny/Makefile
--- a/feeds/packages/lang/perl-try-tiny/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-try-tiny/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2021 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-try-tiny
-PKG_VERSION:=0.30
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/E/ET/ETHER/
-PKG_SOURCE:=Try-Tiny-$(PKG_VERSION).tar.gz
-PKG_HASH:=da5bd0d5c903519bbf10bb9ba0cb7bcac0563882bcfe4503aee3fb143eddef6b
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/Try-Tiny-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Matt Merhar <mattmerhar@protonmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-try-tiny
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Minimal try/catch with proper preservation of $$$$@
-  URL:=https://metacpan.org/pod/Try::Tiny
-  DEPENDS:=perl +perlbase-essential
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-try-tiny/install
-	$(call perlmod/Install,$(1),Try auto/Try)
-endef
-
-$(eval $(call BuildPackage,perl-try-tiny))
diff -uprN a/feeds/packages/lang/perl-uri/Makefile b/feeds/packages/lang/perl-uri/Makefile
--- a/feeds/packages/lang/perl-uri/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-uri/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 - 2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-uri
-PKG_VERSION:=1.76
-PKG_RELEASE:=1
-
-PKG_SOURCE:=URI-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=b2c98e1d50d6f572483ee538a6f4ccc8d9185f91f0073fd8af7390898254413e
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/URI-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-uri
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Manipulates and accesses URI strings
-  URL:=https://search.cpan.org/dist/URI/
-  DEPENDS:=perl +perlbase-essential +perlbase-integer +perlbase-mime +perlbase-scalar +perlbase-utf8
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-uri/install
-	$(call perlmod/Install,$(1),URI URI.pm)
-endef
-
-
-$(eval $(call BuildPackage,perl-uri))
diff -uprN a/feeds/packages/lang/perl-www/Makefile b/feeds/packages/lang/perl-www/Makefile
--- a/feeds/packages/lang/perl-www/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2013-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-www
-PKG_VERSION:=6.43
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_SOURCE:=libwww-perl-$(PKG_VERSION).tar.gz
-PKG_HASH:=e9849d7ee6fd0e89cc999e63d7612c951afd6aeea6bc721b767870d9df4ac40d
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/libwww-perl-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:search.cpan:libwww-perl
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-www
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=WWW client/server library for Perl (aka LWP)
-  URL:=https://search.cpan.org/dist/libwww-perl/
-  DEPENDS:=perl +perl-encode-locale +perl-file-listing +perl-html-parser +perl-http-cookies +perl-http-daemon +perl-http-date +perl-http-message +perl-http-negotiate +perl-lwp-mediatypes +perl-net-http +perl-try-tiny +perl-uri +perl-www-robotrules +perlbase-base +perlbase-digest +perlbase-encode +perlbase-essential +perlbase-io +perlbase-mime +perlbase-net
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-www/install
-	$(call perlmod/Install,$(1),LWP.pm LWP LWP)
-endef
-
-
-$(eval $(call BuildPackage,perl-www))
diff -uprN a/feeds/packages/lang/perl-www-curl/Makefile b/feeds/packages/lang/perl-www-curl/Makefile
--- a/feeds/packages/lang/perl-www-curl/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-curl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-www-curl
-PKG_VERSION:=4.17
-PKG_RELEASE:=7
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/S/SZ/SZBALINT/
-PKG_SOURCE:=WWW-Curl-$(PKG_VERSION).tar.gz
-PKG_HASH:=52ffab110e32348d775f241c973eb56f96b08eedbc110d77d257cdb0a24ab7ba
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/WWW-Curl-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-www-curl
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl bindings to libcurl
-  URL:=http://search.cpan.org/dist/WWW-Curl/
-  DEPENDS:=perl +libcurl +perlbase-essential +perlbase-xsloader
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,$(STAGING_DIR)/usr/include,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-www-curl/install
-	$(call perlmod/Install,$(1),WWW/Curl WWW/Curl.pm auto/WWW/Curl)
-endef
-
-
-$(eval $(call BuildPackage,perl-www-curl))
diff -uprN a/feeds/packages/lang/perl-www-curl/patches/100-perl-www-curl_disable_curl-config_hack.patch b/feeds/packages/lang/perl-www-curl/patches/100-perl-www-curl_disable_curl-config_hack.patch
--- a/feeds/packages/lang/perl-www-curl/patches/100-perl-www-curl_disable_curl-config_hack.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-curl/patches/100-perl-www-curl_disable_curl-config_hack.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,74 +0,0 @@
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -12,31 +12,31 @@ no_index		directory => 'template';
- repository		'http://github.com/szbalint/WWW--Curl';
- # This is a hack. If you have libcurl installed, just specify curl.h below
- # and comment out this line.
--if ($^O ne 'MSWin32') {
--    if (!$ENV{CURL_CONFIG}) {
--	    requires_external_bin	'curl-config';
--    }
--} else {
--	print	"Sorry, no automated install is available on Windows,\n".
--		"please see the README.Win32 file on instructions for a manual install.\n";
--	exit(0);
--}
--
--my $curl_config = $ENV{CURL_CONFIG} || 'curl-config';
--
--my $vernum = `${curl_config} --vernum`; chomp $vernum;
--my $version = `${curl_config} --version`; chomp $version; 
--
--my $minimum_ver = hex("070a08");
--
--if ($vernum && hex($vernum) <= $minimum_ver) {
--	print	"Your currently installed libcurl version - $version - is too old.\n".
--		"This module doesn't seek compatibility with versions older than 7.10.8\n".
--		"Proceed manually if you know what you're doing.\n";
--	exit(0);
--}
--
--print "The version is $version\n";
-+#if ($^O ne 'MSWin32') {
-+#    if (!$ENV{CURL_CONFIG}) {
-+#	    requires_external_bin	'curl-config';
-+#    }
-+#} else {
-+#	print	"Sorry, no automated install is available on Windows,\n".
-+#		"please see the README.Win32 file on instructions for a manual install.\n";
-+#	exit(0);
-+#}
-+#
-+#my $curl_config = $ENV{CURL_CONFIG} || 'curl-config';
-+#
-+#my $vernum = `${curl_config} --vernum`; chomp $vernum;
-+#my $version = `${curl_config} --version`; chomp $version; 
-+#
-+#my $minimum_ver = hex("070a08");
-+#
-+#if ($vernum && hex($vernum) <= $minimum_ver) {
-+#	print	"Your currently installed libcurl version - $version - is too old.\n".
-+#		"This module doesn't seek compatibility with versions older than 7.10.8\n".
-+#		"Proceed manually if you know what you're doing.\n";
-+#	exit(0);
-+#}
-+#
-+#print "The version is $version\n";
- 
- my @includes = qw();
- my ($cflags,$lflags, $ldflags) = ('','','');
-@@ -58,10 +58,10 @@ if ($^O ne 'MSWin32') {
- # Get curl to tell us where it is, if we can.
- #
- 
--if ($^O ne 'MSWin32') {
--	$cflags = `${curl_config} --cflags`;
--	$lflags = `${curl_config} --libs`;
--}
-+#if ($^O ne 'MSWin32') {
-+#	$cflags = `${curl_config} --cflags`;
-+#	$lflags = `${curl_config} --libs`;
-+#}
- 
- # can't find link flags, make some guesses
- if (!defined($lflags)) {
diff -uprN a/feeds/packages/lang/perl-www-curl/patches/101-skip-preprocessor-symbol.path b/feeds/packages/lang/perl-www-curl/patches/101-skip-preprocessor-symbol.path
--- a/feeds/packages/lang/perl-www-curl/patches/101-skip-preprocessor-symbol.path	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-curl/patches/101-skip-preprocessor-symbol.path	1970-01-01 08:00:00.000000000 +0800
@@ -1,29 +0,0 @@
-From 0be0223422e6e5f4091c6e4e058d213623eed105 Mon Sep 17 00:00:00 2001
-From: =?UTF-8?q?Petr=20P=C3=ADsa=C5=99?= <ppisar@redhat.com>
-Date: Mon, 12 Sep 2016 14:40:44 +0200
-Subject: [PATCH] Skip preprocessor symbol only CURL_STRICTER
-MIME-Version: 1.0
-Content-Type: text/plain; charset=UTF-8
-Content-Transfer-Encoding: 8bit
-
-CURL_STRICTER leaked into curl-constants.c when building against
-curl-7.50.2. This is a preprocessor only macro without a value.
-
-CPAN RT#117793
-
-Signed-off-by: Petr Písař <ppisar@redhat.com>
----
- Makefile.PL | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -127,7 +127,7 @@ if (!defined($curl_h)) {
-     close H;
- 
-     for my $e (sort @syms) {
--       if($e =~ /(OBSOLETE|^CURL_EXTERN|_LAST\z|_LASTENTRY\z)/) {
-+       if($e =~ /(OBSOLETE|^CURL_EXTERN|^CURL_STRICTER\z|_LAST\z|_LASTENTRY\z)/) {
-           next;
-        }
-        my ($group) = $e =~ m/^([^_]+_)/;
diff -uprN a/feeds/packages/lang/perl-www-curl/patches/200-fix_default_lflags.patch b/feeds/packages/lang/perl-www-curl/patches/200-fix_default_lflags.patch
--- a/feeds/packages/lang/perl-www-curl/patches/200-fix_default_lflags.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-curl/patches/200-fix_default_lflags.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -39,7 +39,7 @@ repository		'http://github.com/szbalint/
- #print "The version is $version\n";
- 
- my @includes = qw();
--my ($cflags,$lflags, $ldflags) = ('','','');
-+my ($cflags,$lflags, $ldflags) = ('','-lcurl','');
- 
- # You may need to specify where to find curl.h on your platform
- # These are guesses only, in case curl-config is not telling us.
diff -uprN a/feeds/packages/lang/perl-www-curl/patches/210-curl_7.66_compat.patch b/feeds/packages/lang/perl-www-curl/patches/210-curl_7.66_compat.patch
--- a/feeds/packages/lang/perl-www-curl/patches/210-curl_7.66_compat.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-curl/patches/210-curl_7.66_compat.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,56 +0,0 @@
---- a/Curl.xs
-+++ b/Curl.xs
-@@ -70,7 +70,7 @@ typedef struct {
- 
- 
- typedef struct {
--#ifdef __CURL_MULTI_H
-+#ifdef CURLINC_MULTI_H
-     struct CURLM *curlm;
- #else
-     struct void *curlm;
-@@ -234,7 +234,7 @@ static perl_curl_multi * perl_curl_multi
- {
-     perl_curl_multi *self;
-     Newz(1, self, 1, perl_curl_multi);
--#ifdef __CURL_MULTI_H
-+#ifdef CURLINC_MULTI_H
-     self->curlm=curl_multi_init();
- #else
-     croak("curl version too old to support curl_multi_init()");
-@@ -245,7 +245,7 @@ static perl_curl_multi * perl_curl_multi
- /* delete the multi */
- static void perl_curl_multi_delete(perl_curl_multi *self)
- {
--#ifdef __CURL_MULTI_H
-+#ifdef CURLINC_MULTI_H
-     if (self->curlm) 
-         curl_multi_cleanup(self->curlm);
-     Safefree(self);
-@@ -1065,7 +1065,7 @@ curl_multi_add_handle(curlm, curl)
-     WWW::Curl::Multi curlm
-     WWW::Curl::Easy curl
-     CODE:
--#ifdef __CURL_MULTI_H
-+#ifdef CURLINC_MULTI_H
-         curl_multi_add_handle(curlm->curlm, curl->curl);
- #endif
- 
-@@ -1074,7 +1074,7 @@ curl_multi_remove_handle(curlm, curl)
-     WWW::Curl::Multi curlm
-     WWW::Curl::Easy curl
-     CODE:
--#ifdef __CURL_MULTI_H
-+#ifdef CURLINC_MULTI_H
-         curl_multi_remove_handle(curlm->curlm, curl->curl);
- #endif
- 
-@@ -1149,7 +1149,7 @@ curl_multi_perform(self)
-     PREINIT:
-         int remaining;
-     CODE:
--#ifdef __CURL_MULTI_H
-+#ifdef CURLINC_MULTI_H
-         while(CURLM_CALL_MULTI_PERFORM ==
-             curl_multi_perform(self->curlm, &remaining));
- 	    RETVAL = remaining;
diff -uprN a/feeds/packages/lang/perl-www-curl/patches/220-curl_7.69_compat.patch b/feeds/packages/lang/perl-www-curl/patches/220-curl_7.69_compat.patch
--- a/feeds/packages/lang/perl-www-curl/patches/220-curl_7.69_compat.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-curl/patches/220-curl_7.69_compat.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -127,7 +127,7 @@ if (!defined($curl_h)) {
-     close H;
- 
-     for my $e (sort @syms) {
--       if($e =~ /(OBSOLETE|^CURL_EXTERN|^CURL_STRICTER\z|_LAST\z|_LASTENTRY\z)/) {
-+       if($e =~ /(OBSOLETE|^CURL_EXTERN|CURLOPT\z|^CURL_STRICTER\z|_LAST\z|_LASTENTRY\z|WIN32)/) {
-           next;
-        }
-        my ($group) = $e =~ m/^([^_]+_)/;
diff -uprN a/feeds/packages/lang/perl-www-mechanize/Makefile b/feeds/packages/lang/perl-www-mechanize/Makefile
--- a/feeds/packages/lang/perl-www-mechanize/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-mechanize/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2010-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-www-mechanize
-PKG_VERSION:=1.96
-PKG_RELEASE:=1
-
-PKG_SOURCE:=WWW-Mechanize-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://cpan.metacpan.org/authors/id/O/OA/OALDERS
-PKG_HASH:=a79a613452287433a88e689195b09951a06c2df6d7fd40c15aa556452de9ab04
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/WWW-Mechanize-$(PKG_VERSION)
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-www-mechanize
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl WWW Mechanize
-  URL:=https://search.cpan.org/dist/WWW-Mechanize/
-  DEPENDS:=perl +perl-cgi +perl-html-form +perl-html-parser +perl-html-tree +perl-http-daemon +perl-http-message +perl-http-server-simple +perl-test-warn +perl-uri +perl-www +perlbase-base +perlbase-essential +perlbase-file +perlbase-findbin +perlbase-getopt +perlbase-pod +perlbase-test
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,$(STAGING_DIR)/usr/include,)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-endef
-
-define Package/perl-www-mechanize/install
-	$(call perlmod/Install,$(1),WWW/Mechanize WWW/Mechanize.pm)
-endef
-
-
-$(eval $(call BuildPackage,perl-www-mechanize))
diff -uprN a/feeds/packages/lang/perl-www-robotrules/Makefile b/feeds/packages/lang/perl-www-robotrules/Makefile
--- a/feeds/packages/lang/perl-www-robotrules/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-www-robotrules/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-www-robotrules
-PKG_VERSION:=6.02
-PKG_RELEASE:=2
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/G/GA/GAAS
-PKG_SOURCE:=WWW-RobotRules-$(PKG_VERSION).tar.gz
-PKG_HASH:=46b502e7a288d559429891eeb5d979461dd3ecc6a5c491ead85d165b6e03a51e
-
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/WWW-RobotRules-$(PKG_VERSION)
-
-include $(INCLUDE_DIR)/package.mk
-include ../perl/perlmod.mk
-
-define Package/perl-www-robotrules
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=database of robots.txt-derived permissions
-  URL:=http://search.cpan.org/dist/WWW-RobotRules/
-  DEPENDS:=perl +perl-uri +perlbase-anydbm-file +perlbase-essential +perlbase-fcntl
-endef
-
-define Build/Configure
-        $(call perlmod/Configure,,)
-endef
-
-define Build/Compile
-        $(call perlmod/Compile,,)
-endef
-
-define Package/perl-www-robotrules/install
-        $(call perlmod/Install,$(1),WWW auto/WWW)
-endef
-
-
-$(eval $(call BuildPackage,perl-www-robotrules))
diff -uprN a/feeds/packages/lang/perl-xml-parser/Makefile b/feeds/packages/lang/perl-xml-parser/Makefile
--- a/feeds/packages/lang/perl-xml-parser/Makefile	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-xml-parser/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,86 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=perl-xml-parser
-PKG_VERSION:=2.46
-PKG_RELEASE:=1
-
-PKG_SOURCE_URL:=http://www.cpan.org/authors/id/T/TO/TODDR/
-PKG_SOURCE:=XML-Parser-$(PKG_VERSION).tar.gz
-PKG_HASH:=d331332491c51cccfb4cb94ffc44f9cd73378e618498d4a37df9e043661c515d
-
-PKG_MAINTAINER:=Marcel Denia <naoir@gmx.net>
-PKG_LICENSE:=GPL-1.0-or-later Artistic-1.0-Perl
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/perl/XML-Parser-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/perl/XML-Parser-$(PKG_VERSION)
-
-HOST_BUILD_DEPENDS:=perl/host expat/host
-
-EXPAT_LIBPATH:=$(STAGING_DIR)/usr/lib
-EXPAT_INCPATH:=$(STAGING_DIR)/usr/include
-HOST_EXPAT_LIBPATH:=$(STAGING_DIR_HOSTPKG)/lib
-HOST_EXPAT_INCPATH:=$(STAGING_DIR_HOSTPKG)/include
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-include ../perl/perlmod.mk
-
-define Package/perl-xml-parser
-  SUBMENU:=Perl
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Perl XML Parser
-  URL:=http://search.cpan.org/dist/XML-Parser/
-  DEPENDS:=perl +libexpat +perlbase-dynaloader +perlbase-essential
-endef
-
-define FixupExpat
-	# Manually reconfigure XML::Parser::Expat, as some overrides we provide will not have any effect otherwise
-	# Force usage of OpenWRT's expat
-	sed \
-		-e 's!%%EXPAT_LIBPATH%%!$(2)!g' \
-		-e 's!%%EXPAT_INCPATH%%!$(3)!g' \
-		-i $(1)/Expat/Makefile.PL
-endef
-
-define Build/Configure
-	$(call perlmod/Configure,EXPATLIBPATH=$(EXPAT_LIBPATH) EXPATINCPATH=$(EXPAT_INCPATH),,)
-
-	$(call FixupExpat,$(PKG_BUILD_DIR),$(EXPAT_LIBPATH),$(EXPAT_INCPATH))
-	$(call perlmod/Configure,,,$(PKG_BUILD_DIR)/Expat)
-endef
-
-define Build/Compile
-	$(call perlmod/Compile,,)
-	$(call perlmod/Compile,,,$(PKG_BUILD_DIR)/Expat)
-endef
-
-define Host/Configure
-	$(call perlmod/host/Configure,EXPATLIBPATH=$(HOST_EXPAT_LIBPATH) EXPATINCPATH=$(HOST_EXPAT_INCPATH),,)
-	$(call FixupExpat,$(HOST_BUILD_DIR),$(HOST_EXPAT_LIBPATH),$(HOST_EXPAT_INCPATH))
-	$(call perlmod/host/Configure,,,$(HOST_BUILD_DIR)/Expat)
-endef
-
-define Host/Compile
-	$(call perlmod/host/Compile,,)
-	$(call perlmod/host/Compile,,,$(HOST_BUILD_DIR)/Expat)
-endef
-
-define Host/Install
-	$(call perlmod/host/Install,$(1),)
-endef
-
-define Package/perl-xml-parser/install
-	$(call perlmod/Install,$(1),auto/XML XML)
-endef
-
-
-$(eval $(call BuildPackage,perl-xml-parser))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/perl-xml-parser/patches/010-xml-parser-expat-use-ppport.h b/feeds/packages/lang/perl-xml-parser/patches/010-xml-parser-expat-use-ppport.h
--- a/feeds/packages/lang/perl-xml-parser/patches/010-xml-parser-expat-use-ppport.h	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-xml-parser/patches/010-xml-parser-expat-use-ppport.h	1970-01-01 08:00:00.000000000 +0800
@@ -1,7476 +0,0 @@
---- a/Expat/Expat.xs
-+++ b/Expat/Expat.xs
-@@ -20,17 +20,7 @@
- #include "patchlevel.h"
- #include "encoding.h"
- 
--
--/* Version 5.005_5x (Development version for 5.006) doesn't like sv_...
--   anymore, but 5.004 doesn't know about PL_sv..
--   Don't want to push up required version just for this. */
--
--#if PATCHLEVEL < 5
--#define PL_sv_undef	sv_undef
--#define PL_sv_no	sv_no
--#define PL_sv_yes	sv_yes
--#define PL_na		na
--#endif
-+#include "ppport.h"
- 
- #define BUFSIZE 32768
- 
---- /dev/null
-+++ b/Expat/ppport.h
-@@ -0,0 +1,7452 @@
-+#if 0
-+<<'SKIP';
-+#endif
-+/*
-+----------------------------------------------------------------------
-+
-+    ppport.h -- Perl/Pollution/Portability Version 3.21
-+
-+    Automatically created by Devel::PPPort running under perl 5.020002.
-+
-+    Do NOT edit this file directly! -- Edit PPPort_pm.PL and the
-+    includes in parts/inc/ instead.
-+
-+    Use 'perldoc ppport.h' to view the documentation below.
-+
-+----------------------------------------------------------------------
-+
-+SKIP
-+
-+=pod
-+
-+=head1 NAME
-+
-+ppport.h - Perl/Pollution/Portability version 3.21
-+
-+=head1 SYNOPSIS
-+
-+  perl ppport.h [options] [source files]
-+
-+  Searches current directory for files if no [source files] are given
-+
-+  --help                      show short help
-+
-+  --version                   show version
-+
-+  --patch=file                write one patch file with changes
-+  --copy=suffix               write changed copies with suffix
-+  --diff=program              use diff program and options
-+
-+  --compat-version=version    provide compatibility with Perl version
-+  --cplusplus                 accept C++ comments
-+
-+  --quiet                     don't output anything except fatal errors
-+  --nodiag                    don't show diagnostics
-+  --nohints                   don't show hints
-+  --nochanges                 don't suggest changes
-+  --nofilter                  don't filter input files
-+
-+  --strip                     strip all script and doc functionality from
-+                              ppport.h
-+
-+  --list-provided             list provided API
-+  --list-unsupported          list unsupported API
-+  --api-info=name             show Perl API portability information
-+
-+=head1 COMPATIBILITY
-+
-+This version of F<ppport.h> is designed to support operation with Perl
-+installations back to 5.003, and has been tested up to 5.11.5.
-+
-+=head1 OPTIONS
-+
-+=head2 --help
-+
-+Display a brief usage summary.
-+
-+=head2 --version
-+
-+Display the version of F<ppport.h>.
-+
-+=head2 --patch=I<file>
-+
-+If this option is given, a single patch file will be created if
-+any changes are suggested. This requires a working diff program
-+to be installed on your system.
-+
-+=head2 --copy=I<suffix>
-+
-+If this option is given, a copy of each file will be saved with
-+the given suffix that contains the suggested changes. This does
-+not require any external programs. Note that this does not
-+automagially add a dot between the original filename and the
-+suffix. If you want the dot, you have to include it in the option
-+argument.
-+
-+If neither C<--patch> or C<--copy> are given, the default is to
-+simply print the diffs for each file. This requires either
-+C<Text::Diff> or a C<diff> program to be installed.
-+
-+=head2 --diff=I<program>
-+
-+Manually set the diff program and options to use. The default
-+is to use C<Text::Diff>, when installed, and output unified
-+context diffs.
-+
-+=head2 --compat-version=I<version>
-+
-+Tell F<ppport.h> to check for compatibility with the given
-+Perl version. The default is to check for compatibility with Perl
-+version 5.003. You can use this option to reduce the output
-+of F<ppport.h> if you intend to be backward compatible only
-+down to a certain Perl version.
-+
-+=head2 --cplusplus
-+
-+Usually, F<ppport.h> will detect C++ style comments and
-+replace them with C style comments for portability reasons.
-+Using this option instructs F<ppport.h> to leave C++
-+comments untouched.
-+
-+=head2 --quiet
-+
-+Be quiet. Don't print anything except fatal errors.
-+
-+=head2 --nodiag
-+
-+Don't output any diagnostic messages. Only portability
-+alerts will be printed.
-+
-+=head2 --nohints
-+
-+Don't output any hints. Hints often contain useful portability
-+notes. Warnings will still be displayed.
-+
-+=head2 --nochanges
-+
-+Don't suggest any changes. Only give diagnostic output and hints
-+unless these are also deactivated.
-+
-+=head2 --nofilter
-+
-+Don't filter the list of input files. By default, files not looking
-+like source code (i.e. not *.xs, *.c, *.cc, *.cpp or *.h) are skipped.
-+
-+=head2 --strip
-+
-+Strip all script and documentation functionality from F<ppport.h>.
-+This reduces the size of F<ppport.h> dramatically and may be useful
-+if you want to include F<ppport.h> in smaller modules without
-+increasing their distribution size too much.
-+
-+The stripped F<ppport.h> will have a C<--unstrip> option that allows
-+you to undo the stripping, but only if an appropriate C<Devel::PPPort>
-+module is installed.
-+
-+=head2 --list-provided
-+
-+Lists the API elements for which compatibility is provided by
-+F<ppport.h>. Also lists if it must be explicitly requested,
-+if it has dependencies, and if there are hints or warnings for it.
-+
-+=head2 --list-unsupported
-+
-+Lists the API elements that are known not to be supported by
-+F<ppport.h> and below which version of Perl they probably
-+won't be available or work.
-+
-+=head2 --api-info=I<name>
-+
-+Show portability information for API elements matching I<name>.
-+If I<name> is surrounded by slashes, it is interpreted as a regular
-+expression.
-+
-+=head1 DESCRIPTION
-+
-+In order for a Perl extension (XS) module to be as portable as possible
-+across differing versions of Perl itself, certain steps need to be taken.
-+
-+=over 4
-+
-+=item *
-+
-+Including this header is the first major one. This alone will give you
-+access to a large part of the Perl API that hasn't been available in
-+earlier Perl releases. Use
-+
-+    perl ppport.h --list-provided
-+
-+to see which API elements are provided by ppport.h.
-+
-+=item *
-+
-+You should avoid using deprecated parts of the API. For example, using
-+global Perl variables without the C<PL_> prefix is deprecated. Also,
-+some API functions used to have a C<perl_> prefix. Using this form is
-+also deprecated. You can safely use the supported API, as F<ppport.h>
-+will provide wrappers for older Perl versions.
-+
-+=item *
-+
-+If you use one of a few functions or variables that were not present in
-+earlier versions of Perl, and that can't be provided using a macro, you
-+have to explicitly request support for these functions by adding one or
-+more C<#define>s in your source code before the inclusion of F<ppport.h>.
-+
-+These functions or variables will be marked C<explicit> in the list shown
-+by C<--list-provided>.
-+
-+Depending on whether you module has a single or multiple files that
-+use such functions or variables, you want either C<static> or global
-+variants.
-+
-+For a C<static> function or variable (used only in a single source
-+file), use:
-+
-+    #define NEED_function
-+    #define NEED_variable
-+
-+For a global function or variable (used in multiple source files),
-+use:
-+
-+    #define NEED_function_GLOBAL
-+    #define NEED_variable_GLOBAL
-+
-+Note that you mustn't have more than one global request for the
-+same function or variable in your project.
-+
-+    Function / Variable       Static Request               Global Request
-+    -----------------------------------------------------------------------------------------
-+    PL_parser                 NEED_PL_parser               NEED_PL_parser_GLOBAL
-+    PL_signals                NEED_PL_signals              NEED_PL_signals_GLOBAL
-+    eval_pv()                 NEED_eval_pv                 NEED_eval_pv_GLOBAL
-+    grok_bin()                NEED_grok_bin                NEED_grok_bin_GLOBAL
-+    grok_hex()                NEED_grok_hex                NEED_grok_hex_GLOBAL
-+    grok_number()             NEED_grok_number             NEED_grok_number_GLOBAL
-+    grok_numeric_radix()      NEED_grok_numeric_radix      NEED_grok_numeric_radix_GLOBAL
-+    grok_oct()                NEED_grok_oct                NEED_grok_oct_GLOBAL
-+    load_module()             NEED_load_module             NEED_load_module_GLOBAL
-+    my_snprintf()             NEED_my_snprintf             NEED_my_snprintf_GLOBAL
-+    my_sprintf()              NEED_my_sprintf              NEED_my_sprintf_GLOBAL
-+    my_strlcat()              NEED_my_strlcat              NEED_my_strlcat_GLOBAL
-+    my_strlcpy()              NEED_my_strlcpy              NEED_my_strlcpy_GLOBAL
-+    newCONSTSUB()             NEED_newCONSTSUB             NEED_newCONSTSUB_GLOBAL
-+    newRV_noinc()             NEED_newRV_noinc             NEED_newRV_noinc_GLOBAL
-+    newSV_type()              NEED_newSV_type              NEED_newSV_type_GLOBAL
-+    newSVpvn_flags()          NEED_newSVpvn_flags          NEED_newSVpvn_flags_GLOBAL
-+    newSVpvn_share()          NEED_newSVpvn_share          NEED_newSVpvn_share_GLOBAL
-+    pv_display()              NEED_pv_display              NEED_pv_display_GLOBAL
-+    pv_escape()               NEED_pv_escape               NEED_pv_escape_GLOBAL
-+    pv_pretty()               NEED_pv_pretty               NEED_pv_pretty_GLOBAL
-+    sv_2pv_flags()            NEED_sv_2pv_flags            NEED_sv_2pv_flags_GLOBAL
-+    sv_2pvbyte()              NEED_sv_2pvbyte              NEED_sv_2pvbyte_GLOBAL
-+    sv_catpvf_mg()            NEED_sv_catpvf_mg            NEED_sv_catpvf_mg_GLOBAL
-+    sv_catpvf_mg_nocontext()  NEED_sv_catpvf_mg_nocontext  NEED_sv_catpvf_mg_nocontext_GLOBAL
-+    sv_pvn_force_flags()      NEED_sv_pvn_force_flags      NEED_sv_pvn_force_flags_GLOBAL
-+    sv_setpvf_mg()            NEED_sv_setpvf_mg            NEED_sv_setpvf_mg_GLOBAL
-+    sv_setpvf_mg_nocontext()  NEED_sv_setpvf_mg_nocontext  NEED_sv_setpvf_mg_nocontext_GLOBAL
-+    vload_module()            NEED_vload_module            NEED_vload_module_GLOBAL
-+    vnewSVpvf()               NEED_vnewSVpvf               NEED_vnewSVpvf_GLOBAL
-+    warner()                  NEED_warner                  NEED_warner_GLOBAL
-+
-+To avoid namespace conflicts, you can change the namespace of the
-+explicitly exported functions / variables using the C<DPPP_NAMESPACE>
-+macro. Just C<#define> the macro before including C<ppport.h>:
-+
-+    #define DPPP_NAMESPACE MyOwnNamespace_
-+    #include "ppport.h"
-+
-+The default namespace is C<DPPP_>.
-+
-+=back
-+
-+The good thing is that most of the above can be checked by running
-+F<ppport.h> on your source code. See the next section for
-+details.
-+
-+=head1 EXAMPLES
-+
-+To verify whether F<ppport.h> is needed for your module, whether you
-+should make any changes to your code, and whether any special defines
-+should be used, F<ppport.h> can be run as a Perl script to check your
-+source code. Simply say:
-+
-+    perl ppport.h
-+
-+The result will usually be a list of patches suggesting changes
-+that should at least be acceptable, if not necessarily the most
-+efficient solution, or a fix for all possible problems.
-+
-+If you know that your XS module uses features only available in
-+newer Perl releases, if you're aware that it uses C++ comments,
-+and if you want all suggestions as a single patch file, you could
-+use something like this:
-+
-+    perl ppport.h --compat-version=5.6.0 --cplusplus --patch=test.diff
-+
-+If you only want your code to be scanned without any suggestions
-+for changes, use:
-+
-+    perl ppport.h --nochanges
-+
-+You can specify a different C<diff> program or options, using
-+the C<--diff> option:
-+
-+    perl ppport.h --diff='diff -C 10'
-+
-+This would output context diffs with 10 lines of context.
-+
-+If you want to create patched copies of your files instead, use:
-+
-+    perl ppport.h --copy=.new
-+
-+To display portability information for the C<newSVpvn> function,
-+use:
-+
-+    perl ppport.h --api-info=newSVpvn
-+
-+Since the argument to C<--api-info> can be a regular expression,
-+you can use
-+
-+    perl ppport.h --api-info=/_nomg$/
-+
-+to display portability information for all C<_nomg> functions or
-+
-+    perl ppport.h --api-info=/./
-+
-+to display information for all known API elements.
-+
-+=head1 BUGS
-+
-+If this version of F<ppport.h> is causing failure during
-+the compilation of this module, please check if newer versions
-+of either this module or C<Devel::PPPort> are available on CPAN
-+before sending a bug report.
-+
-+If F<ppport.h> was generated using the latest version of
-+C<Devel::PPPort> and is causing failure of this module, please
-+file a bug report using the CPAN Request Tracker at L<http://rt.cpan.org/>.
-+
-+Please include the following information:
-+
-+=over 4
-+
-+=item 1.
-+
-+The complete output from running "perl -V"
-+
-+=item 2.
-+
-+This file.
-+
-+=item 3.
-+
-+The name and version of the module you were trying to build.
-+
-+=item 4.
-+
-+A full log of the build that failed.
-+
-+=item 5.
-+
-+Any other information that you think could be relevant.
-+
-+=back
-+
-+For the latest version of this code, please get the C<Devel::PPPort>
-+module from CPAN.
-+
-+=head1 COPYRIGHT
-+
-+Version 3.x, Copyright (c) 2004-2013, Marcus Holland-Moritz.
-+
-+Version 2.x, Copyright (C) 2001, Paul Marquess.
-+
-+Version 1.x, Copyright (C) 1999, Kenneth Albanowski.
-+
-+This program is free software; you can redistribute it and/or
-+modify it under the same terms as Perl itself.
-+
-+=head1 SEE ALSO
-+
-+See L<Devel::PPPort>.
-+
-+=cut
-+
-+use strict;
-+
-+# Disable broken TRIE-optimization
-+BEGIN { eval '${^RE_TRIE_MAXBUF} = -1' if $] >= 5.009004 && $] <= 5.009005 }
-+
-+my $VERSION = 3.21;
-+
-+my %opt = (
-+  quiet     => 0,
-+  diag      => 1,
-+  hints     => 1,
-+  changes   => 1,
-+  cplusplus => 0,
-+  filter    => 1,
-+  strip     => 0,
-+  version   => 0,
-+);
-+
-+my($ppport) = $0 =~ /([\w.]+)$/;
-+my $LF = '(?:\r\n|[\r\n])';   # line feed
-+my $HS = "[ \t]";             # horizontal whitespace
-+
-+# Never use C comments in this file!
-+my $ccs  = '/'.'*';
-+my $cce  = '*'.'/';
-+my $rccs = quotemeta $ccs;
-+my $rcce = quotemeta $cce;
-+
-+eval {
-+  require Getopt::Long;
-+  Getopt::Long::GetOptions(\%opt, qw(
-+    help quiet diag! filter! hints! changes! cplusplus strip version
-+    patch=s copy=s diff=s compat-version=s
-+    list-provided list-unsupported api-info=s
-+  )) or usage();
-+};
-+
-+if ($@ and grep /^-/, @ARGV) {
-+  usage() if "@ARGV" =~ /^--?h(?:elp)?$/;
-+  die "Getopt::Long not found. Please don't use any options.\n";
-+}
-+
-+if ($opt{version}) {
-+  print "This is $0 $VERSION.\n";
-+  exit 0;
-+}
-+
-+usage() if $opt{help};
-+strip() if $opt{strip};
-+
-+if (exists $opt{'compat-version'}) {
-+  my($r,$v,$s) = eval { parse_version($opt{'compat-version'}) };
-+  if ($@) {
-+    die "Invalid version number format: '$opt{'compat-version'}'\n";
-+  }
-+  die "Only Perl 5 is supported\n" if $r != 5;
-+  die "Invalid version number: $opt{'compat-version'}\n" if $v >= 1000 || $s >= 1000;
-+  $opt{'compat-version'} = sprintf "%d.%03d%03d", $r, $v, $s;
-+}
-+else {
-+  $opt{'compat-version'} = 5;
-+}
-+
-+my %API = map { /^(\w+)\|([^|]*)\|([^|]*)\|(\w*)$/
-+                ? ( $1 => {
-+                      ($2                  ? ( base     => $2 ) : ()),
-+                      ($3                  ? ( todo     => $3 ) : ()),
-+                      (index($4, 'v') >= 0 ? ( varargs  => 1  ) : ()),
-+                      (index($4, 'p') >= 0 ? ( provided => 1  ) : ()),
-+                      (index($4, 'n') >= 0 ? ( nothxarg => 1  ) : ()),
-+                    } )
-+                : die "invalid spec: $_" } qw(
-+AvFILLp|5.004050||p
-+AvFILL|||
-+BhkDISABLE||5.019003|
-+BhkENABLE||5.019003|
-+BhkENTRY_set||5.019003|
-+BhkENTRY|||
-+BhkFLAGS|||
-+CALL_BLOCK_HOOKS|||
-+CLASS|||n
-+CPERLscope|5.005000||p
-+CX_CURPAD_SAVE|||
-+CX_CURPAD_SV|||
-+CopFILEAV|5.006000||p
-+CopFILEGV_set|5.006000||p
-+CopFILEGV|5.006000||p
-+CopFILESV|5.006000||p
-+CopFILE_set|5.006000||p
-+CopFILE|5.006000||p
-+CopSTASHPV_set|5.006000||p
-+CopSTASHPV|5.006000||p
-+CopSTASH_eq|5.006000||p
-+CopSTASH_set|5.006000||p
-+CopSTASH|5.006000||p
-+CopyD|5.009002|5.004050|p
-+Copy||5.004050|
-+CvPADLIST||5.008001|
-+CvSTASH|||
-+CvWEAKOUTSIDE|||
-+DEFSV_set|5.010001||p
-+DEFSV|5.004050||p
-+END_EXTERN_C|5.005000||p
-+ENTER|||
-+ERRSV|5.004050||p
-+EXTEND|||
-+EXTERN_C|5.005000||p
-+F0convert|||n
-+FREETMPS|||
-+GIMME_V||5.004000|n
-+GIMME|||n
-+GROK_NUMERIC_RADIX|5.007002||p
-+G_ARRAY|||
-+G_DISCARD|||
-+G_EVAL|||
-+G_METHOD|5.006001||p
-+G_NOARGS|||
-+G_SCALAR|||
-+G_VOID||5.004000|
-+GetVars|||
-+GvAV|||
-+GvCV|||
-+GvHV|||
-+GvSVn|5.009003||p
-+GvSV|||
-+Gv_AMupdate||5.011000|
-+HEf_SVKEY||5.004000|
-+HeHASH||5.004000|
-+HeKEY||5.004000|
-+HeKLEN||5.004000|
-+HePV||5.004000|
-+HeSVKEY_force||5.004000|
-+HeSVKEY_set||5.004000|
-+HeSVKEY||5.004000|
-+HeUTF8||5.010001|
-+HeVAL||5.004000|
-+HvENAMELEN||5.015004|
-+HvENAMEUTF8||5.015004|
-+HvENAME||5.013007|
-+HvNAMELEN_get|5.009003||p
-+HvNAMELEN||5.015004|
-+HvNAMEUTF8||5.015004|
-+HvNAME_get|5.009003||p
-+HvNAME|||
-+INT2PTR|5.006000||p
-+IN_LOCALE_COMPILETIME|5.007002||p
-+IN_LOCALE_RUNTIME|5.007002||p
-+IN_LOCALE|5.007002||p
-+IN_PERL_COMPILETIME|5.008001||p
-+IS_NUMBER_GREATER_THAN_UV_MAX|5.007002||p
-+IS_NUMBER_INFINITY|5.007002||p
-+IS_NUMBER_IN_UV|5.007002||p
-+IS_NUMBER_NAN|5.007003||p
-+IS_NUMBER_NEG|5.007002||p
-+IS_NUMBER_NOT_INT|5.007002||p
-+IVSIZE|5.006000||p
-+IVTYPE|5.006000||p
-+IVdf|5.006000||p
-+LEAVE|||
-+LINKLIST||5.013006|
-+LVRET|||
-+MARK|||
-+MULTICALL||5.019003|
-+MY_CXT_CLONE|5.009002||p
-+MY_CXT_INIT|5.007003||p
-+MY_CXT|5.007003||p
-+MoveD|5.009002|5.004050|p
-+Move||5.004050|
-+NOOP|5.005000||p
-+NUM2PTR|5.006000||p
-+NVTYPE|5.006000||p
-+NVef|5.006001||p
-+NVff|5.006001||p
-+NVgf|5.006001||p
-+Newxc|5.009003||p
-+Newxz|5.009003||p
-+Newx|5.009003||p
-+Nullav|||
-+Nullch|||
-+Nullcv|||
-+Nullhv|||
-+Nullsv|||
-+OP_CLASS||5.013007|
-+OP_DESC||5.007003|
-+OP_NAME||5.007003|
-+ORIGMARK|||
-+PAD_BASE_SV|||
-+PAD_CLONE_VARS|||
-+PAD_COMPNAME_FLAGS|||
-+PAD_COMPNAME_GEN_set|||
-+PAD_COMPNAME_GEN|||
-+PAD_COMPNAME_OURSTASH|||
-+PAD_COMPNAME_PV|||
-+PAD_COMPNAME_TYPE|||
-+PAD_RESTORE_LOCAL|||
-+PAD_SAVE_LOCAL|||
-+PAD_SAVE_SETNULLPAD|||
-+PAD_SETSV|||
-+PAD_SET_CUR_NOSAVE|||
-+PAD_SET_CUR|||
-+PAD_SVl|||
-+PAD_SV|||
-+PERLIO_FUNCS_CAST|5.009003||p
-+PERLIO_FUNCS_DECL|5.009003||p
-+PERL_ABS|5.008001||p
-+PERL_BCDVERSION|5.019002||p
-+PERL_GCC_BRACE_GROUPS_FORBIDDEN|5.008001||p
-+PERL_HASH|5.004000||p
-+PERL_INT_MAX|5.004000||p
-+PERL_INT_MIN|5.004000||p
-+PERL_LONG_MAX|5.004000||p
-+PERL_LONG_MIN|5.004000||p
-+PERL_MAGIC_arylen|5.007002||p
-+PERL_MAGIC_backref|5.007002||p
-+PERL_MAGIC_bm|5.007002||p
-+PERL_MAGIC_collxfrm|5.007002||p
-+PERL_MAGIC_dbfile|5.007002||p
-+PERL_MAGIC_dbline|5.007002||p
-+PERL_MAGIC_defelem|5.007002||p
-+PERL_MAGIC_envelem|5.007002||p
-+PERL_MAGIC_env|5.007002||p
-+PERL_MAGIC_ext|5.007002||p
-+PERL_MAGIC_fm|5.007002||p
-+PERL_MAGIC_glob|5.019002||p
-+PERL_MAGIC_isaelem|5.007002||p
-+PERL_MAGIC_isa|5.007002||p
-+PERL_MAGIC_mutex|5.019002||p
-+PERL_MAGIC_nkeys|5.007002||p
-+PERL_MAGIC_overload_elem|5.019002||p
-+PERL_MAGIC_overload_table|5.007002||p
-+PERL_MAGIC_overload|5.019002||p
-+PERL_MAGIC_pos|5.007002||p
-+PERL_MAGIC_qr|5.007002||p
-+PERL_MAGIC_regdata|5.007002||p
-+PERL_MAGIC_regdatum|5.007002||p
-+PERL_MAGIC_regex_global|5.007002||p
-+PERL_MAGIC_shared_scalar|5.007003||p
-+PERL_MAGIC_shared|5.007003||p
-+PERL_MAGIC_sigelem|5.007002||p
-+PERL_MAGIC_sig|5.007002||p
-+PERL_MAGIC_substr|5.007002||p
-+PERL_MAGIC_sv|5.007002||p
-+PERL_MAGIC_taint|5.007002||p
-+PERL_MAGIC_tiedelem|5.007002||p
-+PERL_MAGIC_tiedscalar|5.007002||p
-+PERL_MAGIC_tied|5.007002||p
-+PERL_MAGIC_utf8|5.008001||p
-+PERL_MAGIC_uvar_elem|5.007003||p
-+PERL_MAGIC_uvar|5.007002||p
-+PERL_MAGIC_vec|5.007002||p
-+PERL_MAGIC_vstring|5.008001||p
-+PERL_PV_ESCAPE_ALL|5.009004||p
-+PERL_PV_ESCAPE_FIRSTCHAR|5.009004||p
-+PERL_PV_ESCAPE_NOBACKSLASH|5.009004||p
-+PERL_PV_ESCAPE_NOCLEAR|5.009004||p
-+PERL_PV_ESCAPE_QUOTE|5.009004||p
-+PERL_PV_ESCAPE_RE|5.009005||p
-+PERL_PV_ESCAPE_UNI_DETECT|5.009004||p
-+PERL_PV_ESCAPE_UNI|5.009004||p
-+PERL_PV_PRETTY_DUMP|5.009004||p
-+PERL_PV_PRETTY_ELLIPSES|5.010000||p
-+PERL_PV_PRETTY_LTGT|5.009004||p
-+PERL_PV_PRETTY_NOCLEAR|5.010000||p
-+PERL_PV_PRETTY_QUOTE|5.009004||p
-+PERL_PV_PRETTY_REGPROP|5.009004||p
-+PERL_QUAD_MAX|5.004000||p
-+PERL_QUAD_MIN|5.004000||p
-+PERL_REVISION|5.006000||p
-+PERL_SCAN_ALLOW_UNDERSCORES|5.007003||p
-+PERL_SCAN_DISALLOW_PREFIX|5.007003||p
-+PERL_SCAN_GREATER_THAN_UV_MAX|5.007003||p
-+PERL_SCAN_SILENT_ILLDIGIT|5.008001||p
-+PERL_SHORT_MAX|5.004000||p
-+PERL_SHORT_MIN|5.004000||p
-+PERL_SIGNALS_UNSAFE_FLAG|5.008001||p
-+PERL_SUBVERSION|5.006000||p
-+PERL_SYS_INIT3||5.010000|
-+PERL_SYS_INIT||5.010000|
-+PERL_SYS_TERM||5.019003|
-+PERL_UCHAR_MAX|5.004000||p
-+PERL_UCHAR_MIN|5.004000||p
-+PERL_UINT_MAX|5.004000||p
-+PERL_UINT_MIN|5.004000||p
-+PERL_ULONG_MAX|5.004000||p
-+PERL_ULONG_MIN|5.004000||p
-+PERL_UNUSED_ARG|5.009003||p
-+PERL_UNUSED_CONTEXT|5.009004||p
-+PERL_UNUSED_DECL|5.007002||p
-+PERL_UNUSED_VAR|5.007002||p
-+PERL_UQUAD_MAX|5.004000||p
-+PERL_UQUAD_MIN|5.004000||p
-+PERL_USE_GCC_BRACE_GROUPS|5.009004||p
-+PERL_USHORT_MAX|5.004000||p
-+PERL_USHORT_MIN|5.004000||p
-+PERL_VERSION|5.006000||p
-+PL_DBsignal|5.005000||p
-+PL_DBsingle|||pn
-+PL_DBsub|||pn
-+PL_DBtrace|||pn
-+PL_Sv|5.005000||p
-+PL_bufend|5.019002||p
-+PL_bufptr|5.019002||p
-+PL_check||5.006000|
-+PL_compiling|5.004050||p
-+PL_comppad_name||5.017004|
-+PL_comppad||5.008001|
-+PL_copline|5.019002||p
-+PL_curcop|5.004050||p
-+PL_curpad||5.005000|
-+PL_curstash|5.004050||p
-+PL_debstash|5.004050||p
-+PL_defgv|5.004050||p
-+PL_diehook|5.004050||p
-+PL_dirty|5.004050||p
-+PL_dowarn|||pn
-+PL_errgv|5.004050||p
-+PL_error_count|5.019002||p
-+PL_expect|5.019002||p
-+PL_hexdigit|5.005000||p
-+PL_hints|5.005000||p
-+PL_in_my_stash|5.019002||p
-+PL_in_my|5.019002||p
-+PL_keyword_plugin||5.011002|
-+PL_last_in_gv|||n
-+PL_laststatval|5.005000||p
-+PL_lex_state|5.019002||p
-+PL_lex_stuff|5.019002||p
-+PL_linestr|5.019002||p
-+PL_modglobal||5.005000|n
-+PL_na|5.004050||pn
-+PL_no_modify|5.006000||p
-+PL_ofsgv|||n
-+PL_opfreehook||5.011000|n
-+PL_parser|5.009005|5.009005|p
-+PL_peepp||5.007003|n
-+PL_perl_destruct_level|5.004050||p
-+PL_perldb|5.004050||p
-+PL_ppaddr|5.006000||p
-+PL_rpeepp||5.013005|n
-+PL_rsfp_filters|5.019002||p
-+PL_rsfp|5.019002||p
-+PL_rs|||n
-+PL_signals|5.008001||p
-+PL_stack_base|5.004050||p
-+PL_stack_sp|5.004050||p
-+PL_statcache|5.005000||p
-+PL_stdingv|5.004050||p
-+PL_sv_arenaroot|5.004050||p
-+PL_sv_no|5.004050||pn
-+PL_sv_undef|5.004050||pn
-+PL_sv_yes|5.004050||pn
-+PL_tainted|5.004050||p
-+PL_tainting|5.004050||p
-+PL_tokenbuf|5.019002||p
-+POP_MULTICALL||5.019003|
-+POPi|||n
-+POPl|||n
-+POPn|||n
-+POPpbytex||5.007001|n
-+POPpx||5.005030|n
-+POPp|||n
-+POPs|||n
-+PTR2IV|5.006000||p
-+PTR2NV|5.006000||p
-+PTR2UV|5.006000||p
-+PTR2nat|5.009003||p
-+PTR2ul|5.007001||p
-+PTRV|5.006000||p
-+PUSHMARK|||
-+PUSH_MULTICALL||5.019003|
-+PUSHi|||
-+PUSHmortal|5.009002||p
-+PUSHn|||
-+PUSHp|||
-+PUSHs|||
-+PUSHu|5.004000||p
-+PUTBACK|||
-+PadARRAY||5.019003|
-+PadMAX||5.019003|
-+PadlistARRAY||5.019003|
-+PadlistMAX||5.019003|
-+PadlistNAMESARRAY||5.019003|
-+PadlistNAMESMAX||5.019003|
-+PadlistNAMES||5.019003|
-+PadlistREFCNT||5.017004|
-+PadnameIsOUR|||
-+PadnameIsSTATE|||
-+PadnameLEN||5.019003|
-+PadnameOURSTASH|||
-+PadnameOUTER|||
-+PadnamePV||5.019003|
-+PadnameSV||5.019003|
-+PadnameTYPE|||
-+PadnameUTF8||5.019003|
-+PadnamelistARRAY||5.019003|
-+PadnamelistMAX||5.019003|
-+PerlIO_clearerr||5.007003|
-+PerlIO_close||5.007003|
-+PerlIO_context_layers||5.009004|
-+PerlIO_eof||5.007003|
-+PerlIO_error||5.007003|
-+PerlIO_fileno||5.007003|
-+PerlIO_fill||5.007003|
-+PerlIO_flush||5.007003|
-+PerlIO_get_base||5.007003|
-+PerlIO_get_bufsiz||5.007003|
-+PerlIO_get_cnt||5.007003|
-+PerlIO_get_ptr||5.007003|
-+PerlIO_read||5.007003|
-+PerlIO_seek||5.007003|
-+PerlIO_set_cnt||5.007003|
-+PerlIO_set_ptrcnt||5.007003|
-+PerlIO_setlinebuf||5.007003|
-+PerlIO_stderr||5.007003|
-+PerlIO_stdin||5.007003|
-+PerlIO_stdout||5.007003|
-+PerlIO_tell||5.007003|
-+PerlIO_unread||5.007003|
-+PerlIO_write||5.007003|
-+Perl_signbit||5.009005|n
-+PoisonFree|5.009004||p
-+PoisonNew|5.009004||p
-+PoisonWith|5.009004||p
-+Poison|5.008000||p
-+READ_XDIGIT||5.017006|
-+RETVAL|||n
-+Renewc|||
-+Renew|||
-+SAVECLEARSV|||
-+SAVECOMPPAD|||
-+SAVEPADSV|||
-+SAVETMPS|||
-+SAVE_DEFSV|5.004050||p
-+SPAGAIN|||
-+SP|||
-+START_EXTERN_C|5.005000||p
-+START_MY_CXT|5.007003||p
-+STMT_END|||p
-+STMT_START|||p
-+STR_WITH_LEN|5.009003||p
-+ST|||
-+SV_CONST_RETURN|5.009003||p
-+SV_COW_DROP_PV|5.008001||p
-+SV_COW_SHARED_HASH_KEYS|5.009005||p
-+SV_GMAGIC|5.007002||p
-+SV_HAS_TRAILING_NUL|5.009004||p
-+SV_IMMEDIATE_UNREF|5.007001||p
-+SV_MUTABLE_RETURN|5.009003||p
-+SV_NOSTEAL|5.009002||p
-+SV_SMAGIC|5.009003||p
-+SV_UTF8_NO_ENCODING|5.008001||p
-+SVfARG|5.009005||p
-+SVf_UTF8|5.006000||p
-+SVf|5.006000||p
-+SVt_INVLIST||5.019002|
-+SVt_IV|||
-+SVt_NULL|||
-+SVt_NV|||
-+SVt_PVAV|||
-+SVt_PVCV|||
-+SVt_PVFM|||
-+SVt_PVGV|||
-+SVt_PVHV|||
-+SVt_PVIO|||
-+SVt_PVIV|||
-+SVt_PVLV|||
-+SVt_PVMG|||
-+SVt_PVNV|||
-+SVt_PV|||
-+SVt_REGEXP||5.011000|
-+Safefree|||
-+Slab_Alloc|||
-+Slab_Free|||
-+Slab_to_ro|||
-+Slab_to_rw|||
-+StructCopy|||
-+SvCUR_set|||
-+SvCUR|||
-+SvEND|||
-+SvGAMAGIC||5.006001|
-+SvGETMAGIC|5.004050||p
-+SvGROW|||
-+SvIOK_UV||5.006000|
-+SvIOK_notUV||5.006000|
-+SvIOK_off|||
-+SvIOK_only_UV||5.006000|
-+SvIOK_only|||
-+SvIOK_on|||
-+SvIOKp|||
-+SvIOK|||
-+SvIVX|||
-+SvIV_nomg|5.009001||p
-+SvIV_set|||
-+SvIVx|||
-+SvIV|||
-+SvIsCOW_shared_hash||5.008003|
-+SvIsCOW||5.008003|
-+SvLEN_set|||
-+SvLEN|||
-+SvLOCK||5.007003|
-+SvMAGIC_set|5.009003||p
-+SvNIOK_off|||
-+SvNIOKp|||
-+SvNIOK|||
-+SvNOK_off|||
-+SvNOK_only|||
-+SvNOK_on|||
-+SvNOKp|||
-+SvNOK|||
-+SvNVX|||
-+SvNV_nomg||5.013002|
-+SvNV_set|||
-+SvNVx|||
-+SvNV|||
-+SvOK|||
-+SvOOK_offset||5.011000|
-+SvOOK|||
-+SvPOK_off|||
-+SvPOK_only_UTF8||5.006000|
-+SvPOK_only|||
-+SvPOK_on|||
-+SvPOKp|||
-+SvPOK|||
-+SvPVX_const|5.009003||p
-+SvPVX_mutable|5.009003||p
-+SvPVX|||
-+SvPV_const|5.009003||p
-+SvPV_flags_const_nolen|5.009003||p
-+SvPV_flags_const|5.009003||p
-+SvPV_flags_mutable|5.009003||p
-+SvPV_flags|5.007002||p
-+SvPV_force_flags_mutable|5.009003||p
-+SvPV_force_flags_nolen|5.009003||p
-+SvPV_force_flags|5.007002||p
-+SvPV_force_mutable|5.009003||p
-+SvPV_force_nolen|5.009003||p
-+SvPV_force_nomg_nolen|5.009003||p
-+SvPV_force_nomg|5.007002||p
-+SvPV_force|||p
-+SvPV_mutable|5.009003||p
-+SvPV_nolen_const|5.009003||p
-+SvPV_nolen|5.006000||p
-+SvPV_nomg_const_nolen|5.009003||p
-+SvPV_nomg_const|5.009003||p
-+SvPV_nomg_nolen|5.013007||p
-+SvPV_nomg|5.007002||p
-+SvPV_renew|5.009003||p
-+SvPV_set|||
-+SvPVbyte_force||5.009002|
-+SvPVbyte_nolen||5.006000|
-+SvPVbytex_force||5.006000|
-+SvPVbytex||5.006000|
-+SvPVbyte|5.006000||p
-+SvPVutf8_force||5.006000|
-+SvPVutf8_nolen||5.006000|
-+SvPVutf8x_force||5.006000|
-+SvPVutf8x||5.006000|
-+SvPVutf8||5.006000|
-+SvPVx|||
-+SvPV|||
-+SvREFCNT_dec_NN||5.017007|
-+SvREFCNT_dec|||
-+SvREFCNT_inc_NN|5.009004||p
-+SvREFCNT_inc_simple_NN|5.009004||p
-+SvREFCNT_inc_simple_void_NN|5.009004||p
-+SvREFCNT_inc_simple_void|5.009004||p
-+SvREFCNT_inc_simple|5.009004||p
-+SvREFCNT_inc_void_NN|5.009004||p
-+SvREFCNT_inc_void|5.009004||p
-+SvREFCNT_inc|||p
-+SvREFCNT|||
-+SvROK_off|||
-+SvROK_on|||
-+SvROK|||
-+SvRV_set|5.009003||p
-+SvRV|||
-+SvRXOK||5.009005|
-+SvRX||5.009005|
-+SvSETMAGIC|||
-+SvSHARED_HASH|5.009003||p
-+SvSHARE||5.007003|
-+SvSTASH_set|5.009003||p
-+SvSTASH|||
-+SvSetMagicSV_nosteal||5.004000|
-+SvSetMagicSV||5.004000|
-+SvSetSV_nosteal||5.004000|
-+SvSetSV|||
-+SvTAINTED_off||5.004000|
-+SvTAINTED_on||5.004000|
-+SvTAINTED||5.004000|
-+SvTAINT|||
-+SvTHINKFIRST|||
-+SvTRUE_nomg||5.013006|
-+SvTRUE|||
-+SvTYPE|||
-+SvUNLOCK||5.007003|
-+SvUOK|5.007001|5.006000|p
-+SvUPGRADE|||
-+SvUTF8_off||5.006000|
-+SvUTF8_on||5.006000|
-+SvUTF8||5.006000|
-+SvUVXx|5.004000||p
-+SvUVX|5.004000||p
-+SvUV_nomg|5.009001||p
-+SvUV_set|5.009003||p
-+SvUVx|5.004000||p
-+SvUV|5.004000||p
-+SvVOK||5.008001|
-+SvVSTRING_mg|5.009004||p
-+THIS|||n
-+UNDERBAR|5.009002||p
-+UTF8_MAXBYTES|5.009002||p
-+UVSIZE|5.006000||p
-+UVTYPE|5.006000||p
-+UVXf|5.007001||p
-+UVof|5.006000||p
-+UVuf|5.006000||p
-+UVxf|5.006000||p
-+WARN_ALL|5.006000||p
-+WARN_AMBIGUOUS|5.006000||p
-+WARN_ASSERTIONS|5.019002||p
-+WARN_BAREWORD|5.006000||p
-+WARN_CLOSED|5.006000||p
-+WARN_CLOSURE|5.006000||p
-+WARN_DEBUGGING|5.006000||p
-+WARN_DEPRECATED|5.006000||p
-+WARN_DIGIT|5.006000||p
-+WARN_EXEC|5.006000||p
-+WARN_EXITING|5.006000||p
-+WARN_GLOB|5.006000||p
-+WARN_INPLACE|5.006000||p
-+WARN_INTERNAL|5.006000||p
-+WARN_IO|5.006000||p
-+WARN_LAYER|5.008000||p
-+WARN_MALLOC|5.006000||p
-+WARN_MISC|5.006000||p
-+WARN_NEWLINE|5.006000||p
-+WARN_NUMERIC|5.006000||p
-+WARN_ONCE|5.006000||p
-+WARN_OVERFLOW|5.006000||p
-+WARN_PACK|5.006000||p
-+WARN_PARENTHESIS|5.006000||p
-+WARN_PIPE|5.006000||p
-+WARN_PORTABLE|5.006000||p
-+WARN_PRECEDENCE|5.006000||p
-+WARN_PRINTF|5.006000||p
-+WARN_PROTOTYPE|5.006000||p
-+WARN_QW|5.006000||p
-+WARN_RECURSION|5.006000||p
-+WARN_REDEFINE|5.006000||p
-+WARN_REGEXP|5.006000||p
-+WARN_RESERVED|5.006000||p
-+WARN_SEMICOLON|5.006000||p
-+WARN_SEVERE|5.006000||p
-+WARN_SIGNAL|5.006000||p
-+WARN_SUBSTR|5.006000||p
-+WARN_SYNTAX|5.006000||p
-+WARN_TAINT|5.006000||p
-+WARN_THREADS|5.008000||p
-+WARN_UNINITIALIZED|5.006000||p
-+WARN_UNOPENED|5.006000||p
-+WARN_UNPACK|5.006000||p
-+WARN_UNTIE|5.006000||p
-+WARN_UTF8|5.006000||p
-+WARN_VOID|5.006000||p
-+WIDEST_UTYPE|5.015004||p
-+XCPT_CATCH|5.009002||p
-+XCPT_RETHROW|5.009002|5.007001|p
-+XCPT_TRY_END|5.009002|5.004000|p
-+XCPT_TRY_START|5.009002|5.004000|p
-+XPUSHi|||
-+XPUSHmortal|5.009002||p
-+XPUSHn|||
-+XPUSHp|||
-+XPUSHs|||
-+XPUSHu|5.004000||p
-+XSPROTO|5.010000||p
-+XSRETURN_EMPTY|||
-+XSRETURN_IV|||
-+XSRETURN_NO|||
-+XSRETURN_NV|||
-+XSRETURN_PV|||
-+XSRETURN_UNDEF|||
-+XSRETURN_UV|5.008001||p
-+XSRETURN_YES|||
-+XSRETURN|||p
-+XST_mIV|||
-+XST_mNO|||
-+XST_mNV|||
-+XST_mPV|||
-+XST_mUNDEF|||
-+XST_mUV|5.008001||p
-+XST_mYES|||
-+XS_APIVERSION_BOOTCHECK||5.013004|
-+XS_EXTERNAL||5.019003|
-+XS_INTERNAL||5.019003|
-+XS_VERSION_BOOTCHECK|||
-+XS_VERSION|||
-+XSprePUSH|5.006000||p
-+XS|||
-+XopDISABLE||5.019003|
-+XopENABLE||5.019003|
-+XopENTRY_set||5.019003|
-+XopENTRY||5.019003|
-+XopFLAGS||5.013007|
-+ZeroD|5.009002||p
-+Zero|||
-+_aMY_CXT|5.007003||p
-+_add_range_to_invlist|||
-+_append_range_to_invlist|||
-+_core_swash_init|||
-+_get_swash_invlist|||
-+_invlist_array_init|||
-+_invlist_contains_cp|||
-+_invlist_contents|||
-+_invlist_dump|||
-+_invlist_intersection_maybe_complement_2nd|||
-+_invlist_intersection|||
-+_invlist_invert_prop|||
-+_invlist_invert|||
-+_invlist_len|||
-+_invlist_populate_swatch|||
-+_invlist_search|||
-+_invlist_subtract|||
-+_invlist_union_maybe_complement_2nd|||
-+_invlist_union|||
-+_is_uni_FOO||5.017008|
-+_is_uni_perl_idcont||5.017008|
-+_is_uni_perl_idstart||5.017007|
-+_is_utf8_FOO||5.017008|
-+_is_utf8_mark||5.017008|
-+_is_utf8_perl_idcont||5.017008|
-+_is_utf8_perl_idstart||5.017007|
-+_new_invlist_C_array|||
-+_new_invlist|||
-+_pMY_CXT|5.007003||p
-+_swash_inversion_hash|||
-+_swash_to_invlist|||
-+_to_fold_latin1|||
-+_to_uni_fold_flags||5.013011|
-+_to_upper_title_latin1|||
-+_to_utf8_fold_flags||5.015006|
-+_to_utf8_lower_flags||5.015006|
-+_to_utf8_title_flags||5.015006|
-+_to_utf8_upper_flags||5.015006|
-+aMY_CXT_|5.007003||p
-+aMY_CXT|5.007003||p
-+aTHXR_|5.019002||p
-+aTHXR|5.019002||p
-+aTHX_|5.006000||p
-+aTHX|5.006000||p
-+aassign_common_vars|||
-+add_cp_to_invlist|||
-+add_data|||n
-+add_utf16_textfilter|||
-+addmad|||
-+adjust_size_and_find_bucket|||n
-+adjust_stack_on_leave|||
-+alloc_maybe_populate_EXACT|||
-+alloccopstash|||
-+allocmy|||
-+amagic_call|||
-+amagic_cmp_locale|||
-+amagic_cmp|||
-+amagic_deref_call||5.013007|
-+amagic_i_ncmp|||
-+amagic_is_enabled|||
-+amagic_ncmp|||
-+anonymise_cv_maybe|||
-+any_dup|||
-+ao|||
-+append_madprops|||
-+apply_attrs_my|||
-+apply_attrs_string||5.006001|
-+apply_attrs|||
-+apply|||
-+assert_uft8_cache_coherent|||
-+atfork_lock||5.007003|n
-+atfork_unlock||5.007003|n
-+av_arylen_p||5.009003|
-+av_clear|||
-+av_create_and_push||5.009005|
-+av_create_and_unshift_one||5.009005|
-+av_delete||5.006000|
-+av_exists||5.006000|
-+av_extend_guts|||
-+av_extend|||
-+av_fetch|||
-+av_fill|||
-+av_iter_p||5.011000|
-+av_len|||
-+av_make|||
-+av_pop|||
-+av_push|||
-+av_reify|||
-+av_shift|||
-+av_store|||
-+av_tindex||5.017009|
-+av_top_index||5.017009|
-+av_undef|||
-+av_unshift|||
-+ax|||n
-+bad_type_gv|||
-+bad_type_pv|||
-+bind_match|||
-+block_end|||
-+block_gimme||5.004000|
-+block_start|||
-+blockhook_register||5.013003|
-+boolSV|5.004000||p
-+boot_core_PerlIO|||
-+boot_core_UNIVERSAL|||
-+boot_core_mro|||
-+bytes_cmp_utf8||5.013007|
-+bytes_from_utf8||5.007001|
-+bytes_to_uni|||n
-+bytes_to_utf8||5.006001|
-+call_argv|5.006000||p
-+call_atexit||5.006000|
-+call_list||5.004000|
-+call_method|5.006000||p
-+call_pv|5.006000||p
-+call_sv|5.006000||p
-+caller_cx||5.013005|
-+calloc||5.007002|n
-+cando|||
-+cast_i32||5.006000|
-+cast_iv||5.006000|
-+cast_ulong||5.006000|
-+cast_uv||5.006000|
-+check_locale_boundary_crossing|||
-+check_type_and_open|||
-+check_uni|||
-+check_utf8_print|||
-+checkcomma|||
-+ckWARN|5.006000||p
-+ck_entersub_args_core|||
-+ck_entersub_args_list||5.013006|
-+ck_entersub_args_proto_or_list||5.013006|
-+ck_entersub_args_proto||5.013006|
-+ck_warner_d||5.011001|v
-+ck_warner||5.011001|v
-+ckwarn_common|||
-+ckwarn_d||5.009003|
-+ckwarn||5.009003|
-+cl_and|||n
-+cl_anything|||n
-+cl_init|||n
-+cl_is_anything|||n
-+cl_or|||n
-+clear_placeholders|||
-+clone_params_del|||n
-+clone_params_new|||n
-+closest_cop|||
-+compute_EXACTish|||
-+convert|||
-+cop_fetch_label||5.015001|
-+cop_free|||
-+cop_hints_2hv||5.013007|
-+cop_hints_fetch_pvn||5.013007|
-+cop_hints_fetch_pvs||5.013007|
-+cop_hints_fetch_pv||5.013007|
-+cop_hints_fetch_sv||5.013007|
-+cop_store_label||5.015001|
-+cophh_2hv||5.013007|
-+cophh_copy||5.013007|
-+cophh_delete_pvn||5.013007|
-+cophh_delete_pvs||5.013007|
-+cophh_delete_pv||5.013007|
-+cophh_delete_sv||5.013007|
-+cophh_fetch_pvn||5.013007|
-+cophh_fetch_pvs||5.013007|
-+cophh_fetch_pv||5.013007|
-+cophh_fetch_sv||5.013007|
-+cophh_free||5.013007|
-+cophh_new_empty||5.019003|
-+cophh_store_pvn||5.013007|
-+cophh_store_pvs||5.013007|
-+cophh_store_pv||5.013007|
-+cophh_store_sv||5.013007|
-+core_prototype|||
-+core_regclass_swash|||
-+coresub_op|||
-+could_it_be_a_POSIX_class|||
-+cr_textfilter|||
-+create_eval_scope|||
-+croak_memory_wrap||5.019003|n
-+croak_no_mem|||n
-+croak_no_modify||5.013003|n
-+croak_nocontext|||vn
-+croak_popstack|||n
-+croak_sv||5.013001|
-+croak_xs_usage||5.010001|n
-+croak|||v
-+csighandler||5.009003|n
-+curmad|||
-+current_re_engine|||
-+curse|||
-+custom_op_desc||5.007003|
-+custom_op_name||5.007003|
-+custom_op_register||5.013007|
-+custom_op_xop||5.013007|
-+cv_ckproto_len_flags|||
-+cv_clone_into|||
-+cv_clone|||
-+cv_const_sv_or_av|||
-+cv_const_sv||5.004000|
-+cv_dump|||
-+cv_forget_slab|||
-+cv_get_call_checker||5.013006|
-+cv_set_call_checker||5.013006|
-+cv_undef|||
-+cvgv_set|||
-+cvstash_set|||
-+cx_dump||5.005000|
-+cx_dup|||
-+cxinc|||
-+dAXMARK|5.009003||p
-+dAX|5.007002||p
-+dITEMS|5.007002||p
-+dMARK|||
-+dMULTICALL||5.009003|
-+dMY_CXT_SV|5.007003||p
-+dMY_CXT|5.007003||p
-+dNOOP|5.006000||p
-+dORIGMARK|||
-+dSP|||
-+dTHR|5.004050||p
-+dTHXR|5.019002||p
-+dTHXa|5.006000||p
-+dTHXoa|5.006000||p
-+dTHX|5.006000||p
-+dUNDERBAR|5.009002||p
-+dVAR|5.009003||p
-+dXCPT|5.009002||p
-+dXSARGS|||
-+dXSI32|||
-+dXSTARG|5.006000||p
-+deb_curcv|||
-+deb_nocontext|||vn
-+deb_stack_all|||
-+deb_stack_n|||
-+debop||5.005000|
-+debprofdump||5.005000|
-+debprof|||
-+debstackptrs||5.007003|
-+debstack||5.007003|
-+debug_start_match|||
-+deb||5.007003|v
-+defelem_target|||
-+del_sv|||
-+delete_eval_scope|||
-+delimcpy||5.004000|n
-+deprecate_commaless_var_list|||
-+despatch_signals||5.007001|
-+destroy_matcher|||
-+die_nocontext|||vn
-+die_sv||5.013001|
-+die_unwind|||
-+die|||v
-+dirp_dup|||
-+div128|||
-+djSP|||
-+do_aexec5|||
-+do_aexec|||
-+do_aspawn|||
-+do_binmode||5.004050|
-+do_chomp|||
-+do_close|||
-+do_delete_local|||
-+do_dump_pad|||
-+do_eof|||
-+do_exec3|||
-+do_execfree|||
-+do_exec|||
-+do_gv_dump||5.006000|
-+do_gvgv_dump||5.006000|
-+do_hv_dump||5.006000|
-+do_ipcctl|||
-+do_ipcget|||
-+do_join|||
-+do_magic_dump||5.006000|
-+do_msgrcv|||
-+do_msgsnd|||
-+do_ncmp|||
-+do_oddball|||
-+do_op_dump||5.006000|
-+do_op_xmldump|||
-+do_open9||5.006000|
-+do_openn||5.007001|
-+do_open||5.004000|
-+do_pmop_dump||5.006000|
-+do_pmop_xmldump|||
-+do_print|||
-+do_readline|||
-+do_seek|||
-+do_semop|||
-+do_shmio|||
-+do_smartmatch|||
-+do_spawn_nowait|||
-+do_spawn|||
-+do_sprintf|||
-+do_sv_dump||5.006000|
-+do_sysseek|||
-+do_tell|||
-+do_trans_complex_utf8|||
-+do_trans_complex|||
-+do_trans_count_utf8|||
-+do_trans_count|||
-+do_trans_simple_utf8|||
-+do_trans_simple|||
-+do_trans|||
-+do_vecget|||
-+do_vecset|||
-+do_vop|||
-+docatch|||
-+doeval|||
-+dofile|||
-+dofindlabel|||
-+doform|||
-+doing_taint||5.008001|n
-+dooneliner|||
-+doopen_pm|||
-+doparseform|||
-+dopoptoeval|||
-+dopoptogiven|||
-+dopoptolabel|||
-+dopoptoloop|||
-+dopoptosub_at|||
-+dopoptowhen|||
-+doref||5.009003|
-+dounwind|||
-+dowantarray|||
-+dump_all_perl|||
-+dump_all||5.006000|
-+dump_eval||5.006000|
-+dump_exec_pos|||
-+dump_fds|||
-+dump_form||5.006000|
-+dump_indent||5.006000|v
-+dump_mstats|||
-+dump_packsubs_perl|||
-+dump_packsubs||5.006000|
-+dump_sub_perl|||
-+dump_sub||5.006000|
-+dump_sv_child|||
-+dump_trie_interim_list|||
-+dump_trie_interim_table|||
-+dump_trie|||
-+dump_vindent||5.006000|
-+dumpuntil|||
-+dup_attrlist|||
-+emulate_cop_io|||
-+eval_pv|5.006000||p
-+eval_sv|5.006000||p
-+exec_failed|||
-+expect_number|||
-+fbm_compile||5.005000|
-+fbm_instr||5.005000|
-+feature_is_enabled|||
-+filter_add|||
-+filter_del|||
-+filter_gets|||
-+filter_read|||
-+finalize_optree|||
-+finalize_op|||
-+find_and_forget_pmops|||
-+find_array_subscript|||
-+find_beginning|||
-+find_byclass|||
-+find_hash_subscript|||
-+find_in_my_stash|||
-+find_lexical_cv|||
-+find_runcv_where|||
-+find_runcv||5.008001|
-+find_rundefsv2|||
-+find_rundefsvoffset||5.009002|
-+find_rundefsv||5.013002|
-+find_script|||
-+find_uninit_var|||
-+first_symbol|||n
-+foldEQ_latin1||5.013008|n
-+foldEQ_locale||5.013002|n
-+foldEQ_utf8_flags||5.013010|
-+foldEQ_utf8||5.013002|
-+foldEQ||5.013002|n
-+fold_constants|||
-+forbid_setid|||
-+force_ident_maybe_lex|||
-+force_ident|||
-+force_list|||
-+force_next|||
-+force_strict_version|||
-+force_version|||
-+force_word|||
-+forget_pmop|||
-+form_nocontext|||vn
-+form_short_octal_warning|||
-+form||5.004000|v
-+fp_dup|||
-+fprintf_nocontext|||vn
-+free_global_struct|||
-+free_tied_hv_pool|||
-+free_tmps|||
-+gen_constant_list|||
-+get_and_check_backslash_N_name|||
-+get_aux_mg|||
-+get_av|5.006000||p
-+get_context||5.006000|n
-+get_cvn_flags|5.009005||p
-+get_cvs|5.011000||p
-+get_cv|5.006000||p
-+get_db_sub|||
-+get_debug_opts|||
-+get_hash_seed|||
-+get_hv|5.006000||p
-+get_invlist_iter_addr|||
-+get_invlist_offset_addr|||
-+get_invlist_previous_index_addr|||
-+get_mstats|||
-+get_no_modify|||
-+get_num|||
-+get_op_descs||5.005000|
-+get_op_names||5.005000|
-+get_opargs|||
-+get_ppaddr||5.006000|
-+get_re_arg|||
-+get_sv|5.006000||p
-+get_vtbl||5.005030|
-+getcwd_sv||5.007002|
-+getenv_len|||
-+glob_2number|||
-+glob_assign_glob|||
-+glob_assign_ref|||
-+gp_dup|||
-+gp_free|||
-+gp_ref|||
-+grok_bin|5.007003||p
-+grok_bslash_N|||
-+grok_bslash_c|||
-+grok_bslash_o|||
-+grok_bslash_x|||
-+grok_hex|5.007003||p
-+grok_number|5.007002||p
-+grok_numeric_radix|5.007002||p
-+grok_oct|5.007003||p
-+group_end|||
-+gv_AVadd|||
-+gv_HVadd|||
-+gv_IOadd|||
-+gv_SVadd|||
-+gv_add_by_type||5.011000|
-+gv_autoload4||5.004000|
-+gv_autoload_pvn||5.015004|
-+gv_autoload_pv||5.015004|
-+gv_autoload_sv||5.015004|
-+gv_check|||
-+gv_const_sv||5.009003|
-+gv_dump||5.006000|
-+gv_efullname3||5.004000|
-+gv_efullname4||5.006001|
-+gv_efullname|||
-+gv_ename|||
-+gv_fetchfile_flags||5.009005|
-+gv_fetchfile|||
-+gv_fetchmeth_autoload||5.007003|
-+gv_fetchmeth_pv_autoload||5.015004|
-+gv_fetchmeth_pvn_autoload||5.015004|
-+gv_fetchmeth_pvn||5.015004|
-+gv_fetchmeth_pv||5.015004|
-+gv_fetchmeth_sv_autoload||5.015004|
-+gv_fetchmeth_sv||5.015004|
-+gv_fetchmethod_autoload||5.004000|
-+gv_fetchmethod_pv_flags||5.015004|
-+gv_fetchmethod_pvn_flags||5.015004|
-+gv_fetchmethod_sv_flags||5.015004|
-+gv_fetchmethod|||
-+gv_fetchmeth|||
-+gv_fetchpvn_flags|5.009002||p
-+gv_fetchpvs|5.009004||p
-+gv_fetchpv|||
-+gv_fetchsv|5.009002||p
-+gv_fullname3||5.004000|
-+gv_fullname4||5.006001|
-+gv_fullname|||
-+gv_handler||5.007001|
-+gv_init_pvn||5.015004|
-+gv_init_pv||5.015004|
-+gv_init_svtype|||
-+gv_init_sv||5.015004|
-+gv_init|||
-+gv_magicalize_isa|||
-+gv_name_set||5.009004|
-+gv_stashpvn|5.004000||p
-+gv_stashpvs|5.009003||p
-+gv_stashpv|||
-+gv_stashsv|||
-+gv_try_downgrade|||
-+handle_regex_sets|||
-+he_dup|||
-+hek_dup|||
-+hfree_next_entry|||
-+hfreeentries|||
-+hsplit|||
-+hv_assert|||
-+hv_auxinit|||
-+hv_backreferences_p|||
-+hv_clear_placeholders||5.009001|
-+hv_clear|||
-+hv_common_key_len||5.010000|
-+hv_common||5.010000|
-+hv_copy_hints_hv||5.009004|
-+hv_delayfree_ent||5.004000|
-+hv_delete_common|||
-+hv_delete_ent||5.004000|
-+hv_delete|||
-+hv_eiter_p||5.009003|
-+hv_eiter_set||5.009003|
-+hv_ename_add|||
-+hv_ename_delete|||
-+hv_exists_ent||5.004000|
-+hv_exists|||
-+hv_fetch_ent||5.004000|
-+hv_fetchs|5.009003||p
-+hv_fetch|||
-+hv_fill||5.013002|
-+hv_free_ent_ret|||
-+hv_free_ent||5.004000|
-+hv_iterinit|||
-+hv_iterkeysv||5.004000|
-+hv_iterkey|||
-+hv_iternext_flags||5.008000|
-+hv_iternextsv|||
-+hv_iternext|||
-+hv_iterval|||
-+hv_kill_backrefs|||
-+hv_ksplit||5.004000|
-+hv_magic_check|||n
-+hv_magic|||
-+hv_name_set||5.009003|
-+hv_notallowed|||
-+hv_placeholders_get||5.009003|
-+hv_placeholders_p|||
-+hv_placeholders_set||5.009003|
-+hv_rand_set||5.017011|
-+hv_riter_p||5.009003|
-+hv_riter_set||5.009003|
-+hv_scalar||5.009001|
-+hv_store_ent||5.004000|
-+hv_store_flags||5.008000|
-+hv_stores|5.009004||p
-+hv_store|||
-+hv_undef_flags|||
-+hv_undef|||
-+ibcmp_locale||5.004000|
-+ibcmp_utf8||5.007003|
-+ibcmp|||
-+incline|||
-+incpush_if_exists|||
-+incpush_use_sep|||
-+incpush|||
-+ingroup|||
-+init_argv_symbols|||
-+init_constants|||
-+init_dbargs|||
-+init_debugger|||
-+init_global_struct|||
-+init_i18nl10n||5.006000|
-+init_i18nl14n||5.006000|
-+init_ids|||
-+init_interp|||
-+init_main_stash|||
-+init_perllib|||
-+init_postdump_symbols|||
-+init_predump_symbols|||
-+init_stacks||5.005000|
-+init_tm||5.007002|
-+inplace_aassign|||
-+instr|||n
-+intro_my|||
-+intuit_method|||
-+intuit_more|||
-+invert|||
-+invlist_array|||
-+invlist_clone|||
-+invlist_extend|||
-+invlist_highest|||
-+invlist_is_iterating|||
-+invlist_iterfinish|||
-+invlist_iterinit|||
-+invlist_iternext|||
-+invlist_max|||
-+invlist_previous_index|||
-+invlist_set_len|||
-+invlist_set_previous_index|||
-+invlist_trim|||
-+invoke_exception_hook|||
-+io_close|||
-+isALNUMC|5.006000||p
-+isALNUM_lazy|||
-+isALPHANUMERIC||5.017008|
-+isALPHA|||
-+isASCII|5.006000|5.006000|p
-+isBLANK|5.006001||p
-+isCNTRL|5.006000|5.006000|p
-+isDIGIT|||
-+isFOO_lc|||
-+isFOO_utf8_lc|||
-+isGRAPH|5.006000||p
-+isGV_with_GP|5.009004||p
-+isIDCONT||5.017008|
-+isIDFIRST_lazy|||
-+isIDFIRST|||
-+isLOWER|||
-+isOCTAL||5.013005|
-+isPRINT|5.004000||p
-+isPSXSPC|5.006001||p
-+isPUNCT|5.006000||p
-+isSPACE|||
-+isUPPER|||
-+isWORDCHAR||5.013006|
-+isXDIGIT|5.006000||p
-+is_an_int|||
-+is_ascii_string||5.011000|n
-+is_cur_LC_category_utf8|||
-+is_handle_constructor|||n
-+is_list_assignment|||
-+is_lvalue_sub||5.007001|
-+is_uni_alnum_lc||5.006000|
-+is_uni_alnumc_lc||5.017007|
-+is_uni_alnumc||5.017007|
-+is_uni_alnum||5.006000|
-+is_uni_alpha_lc||5.006000|
-+is_uni_alpha||5.006000|
-+is_uni_ascii_lc||5.006000|
-+is_uni_ascii||5.006000|
-+is_uni_blank_lc||5.017002|
-+is_uni_blank||5.017002|
-+is_uni_cntrl_lc||5.006000|
-+is_uni_cntrl||5.006000|
-+is_uni_digit_lc||5.006000|
-+is_uni_digit||5.006000|
-+is_uni_graph_lc||5.006000|
-+is_uni_graph||5.006000|
-+is_uni_idfirst_lc||5.006000|
-+is_uni_idfirst||5.006000|
-+is_uni_lower_lc||5.006000|
-+is_uni_lower||5.006000|
-+is_uni_print_lc||5.006000|
-+is_uni_print||5.006000|
-+is_uni_punct_lc||5.006000|
-+is_uni_punct||5.006000|
-+is_uni_space_lc||5.006000|
-+is_uni_space||5.006000|
-+is_uni_upper_lc||5.006000|
-+is_uni_upper||5.006000|
-+is_uni_xdigit_lc||5.006000|
-+is_uni_xdigit||5.006000|
-+is_utf8_alnumc||5.017007|
-+is_utf8_alnum||5.006000|
-+is_utf8_alpha||5.006000|
-+is_utf8_ascii||5.006000|
-+is_utf8_blank||5.017002|
-+is_utf8_char_buf||5.015008|n
-+is_utf8_char_slow|||n
-+is_utf8_char||5.006000|n
-+is_utf8_cntrl||5.006000|
-+is_utf8_common|||
-+is_utf8_digit||5.006000|
-+is_utf8_graph||5.006000|
-+is_utf8_idcont||5.008000|
-+is_utf8_idfirst||5.006000|
-+is_utf8_lower||5.006000|
-+is_utf8_mark||5.006000|
-+is_utf8_perl_space||5.011001|
-+is_utf8_perl_word||5.011001|
-+is_utf8_posix_digit||5.011001|
-+is_utf8_print||5.006000|
-+is_utf8_punct||5.006000|
-+is_utf8_space||5.006000|
-+is_utf8_string_loclen||5.009003|n
-+is_utf8_string_loc||5.008001|n
-+is_utf8_string||5.006001|n
-+is_utf8_upper||5.006000|
-+is_utf8_xdigit||5.006000|
-+is_utf8_xidcont||5.013010|
-+is_utf8_xidfirst||5.013010|
-+isa_lookup|||
-+items|||n
-+ix|||n
-+jmaybe|||
-+join_exact|||
-+keyword_plugin_standard|||
-+keyword|||
-+leave_scope|||
-+lex_bufutf8||5.011002|
-+lex_discard_to||5.011002|
-+lex_grow_linestr||5.011002|
-+lex_next_chunk||5.011002|
-+lex_peek_unichar||5.011002|
-+lex_read_space||5.011002|
-+lex_read_to||5.011002|
-+lex_read_unichar||5.011002|
-+lex_start||5.009005|
-+lex_stuff_pvn||5.011002|
-+lex_stuff_pvs||5.013005|
-+lex_stuff_pv||5.013006|
-+lex_stuff_sv||5.011002|
-+lex_unstuff||5.011002|
-+listkids|||
-+list|||
-+load_module_nocontext|||vn
-+load_module|5.006000||pv
-+localize|||
-+looks_like_bool|||
-+looks_like_number|||
-+lop|||
-+mPUSHi|5.009002||p
-+mPUSHn|5.009002||p
-+mPUSHp|5.009002||p
-+mPUSHs|5.010001||p
-+mPUSHu|5.009002||p
-+mXPUSHi|5.009002||p
-+mXPUSHn|5.009002||p
-+mXPUSHp|5.009002||p
-+mXPUSHs|5.010001||p
-+mXPUSHu|5.009002||p
-+mad_free|||
-+madlex|||
-+madparse|||
-+magic_clear_all_env|||
-+magic_cleararylen_p|||
-+magic_clearenv|||
-+magic_clearhints|||
-+magic_clearhint|||
-+magic_clearisa|||
-+magic_clearpack|||
-+magic_clearsig|||
-+magic_copycallchecker|||
-+magic_dump||5.006000|
-+magic_existspack|||
-+magic_freearylen_p|||
-+magic_freeovrld|||
-+magic_getarylen|||
-+magic_getdefelem|||
-+magic_getnkeys|||
-+magic_getpack|||
-+magic_getpos|||
-+magic_getsig|||
-+magic_getsubstr|||
-+magic_gettaint|||
-+magic_getuvar|||
-+magic_getvec|||
-+magic_get|||
-+magic_killbackrefs|||
-+magic_methcall1|||
-+magic_methcall|||v
-+magic_methpack|||
-+magic_nextpack|||
-+magic_regdata_cnt|||
-+magic_regdatum_get|||
-+magic_regdatum_set|||
-+magic_scalarpack|||
-+magic_set_all_env|||
-+magic_setarylen|||
-+magic_setcollxfrm|||
-+magic_setdbline|||
-+magic_setdefelem|||
-+magic_setenv|||
-+magic_sethint|||
-+magic_setisa|||
-+magic_setmglob|||
-+magic_setnkeys|||
-+magic_setpack|||
-+magic_setpos|||
-+magic_setregexp|||
-+magic_setsig|||
-+magic_setsubstr|||
-+magic_settaint|||
-+magic_setutf8|||
-+magic_setuvar|||
-+magic_setvec|||
-+magic_set|||
-+magic_sizepack|||
-+magic_wipepack|||
-+make_matcher|||
-+make_trie_failtable|||
-+make_trie|||
-+malloc_good_size|||n
-+malloced_size|||n
-+malloc||5.007002|n
-+markstack_grow|||
-+matcher_matches_sv|||
-+mayberelocate|||
-+measure_struct|||
-+memEQs|5.009005||p
-+memEQ|5.004000||p
-+memNEs|5.009005||p
-+memNE|5.004000||p
-+mem_collxfrm|||
-+mem_log_common|||n
-+mess_alloc|||
-+mess_nocontext|||vn
-+mess_sv||5.013001|
-+mess||5.006000|v
-+method_common|||
-+mfree||5.007002|n
-+mg_clear|||
-+mg_copy|||
-+mg_dup|||
-+mg_find_mglob|||
-+mg_findext||5.013008|
-+mg_find|||
-+mg_free_type||5.013006|
-+mg_free|||
-+mg_get|||
-+mg_length||5.005000|
-+mg_localize|||
-+mg_magical|||
-+mg_set|||
-+mg_size||5.005000|
-+mini_mktime||5.007002|
-+minus_v|||
-+missingterm|||
-+mode_from_discipline|||
-+modkids|||
-+more_bodies|||
-+more_sv|||
-+moreswitches|||
-+mro_clean_isarev|||
-+mro_gather_and_rename|||
-+mro_get_from_name||5.010001|
-+mro_get_linear_isa_dfs|||
-+mro_get_linear_isa||5.009005|
-+mro_get_private_data||5.010001|
-+mro_isa_changed_in|||
-+mro_meta_dup|||
-+mro_meta_init|||
-+mro_method_changed_in||5.009005|
-+mro_package_moved|||
-+mro_register||5.010001|
-+mro_set_mro||5.010001|
-+mro_set_private_data||5.010001|
-+mul128|||
-+mulexp10|||n
-+my_atof2||5.007002|
-+my_atof||5.006000|
-+my_attrs|||
-+my_bcopy|||n
-+my_bzero|||n
-+my_chsize|||
-+my_clearenv|||
-+my_cxt_index|||
-+my_cxt_init|||
-+my_dirfd||5.009005|
-+my_exit_jump|||
-+my_exit|||
-+my_failure_exit||5.004000|
-+my_fflush_all||5.006000|
-+my_fork||5.007003|n
-+my_kid|||
-+my_lstat_flags|||
-+my_lstat||5.019003|
-+my_memcmp|||n
-+my_memset||5.004000|n
-+my_pclose||5.004000|
-+my_popen_list||5.007001|
-+my_popen||5.004000|
-+my_setenv|||
-+my_snprintf|5.009004||pvn
-+my_socketpair||5.007003|n
-+my_sprintf|5.009003||pvn
-+my_stat_flags|||
-+my_stat||5.019003|
-+my_strftime||5.007002|
-+my_strlcat|5.009004||pn
-+my_strlcpy|5.009004||pn
-+my_unexec|||
-+my_vsnprintf||5.009004|n
-+need_utf8|||n
-+newANONATTRSUB||5.006000|
-+newANONHASH|||
-+newANONLIST|||
-+newANONSUB|||
-+newASSIGNOP|||
-+newATTRSUB_flags|||
-+newATTRSUB||5.006000|
-+newAVREF|||
-+newAV|||
-+newBINOP|||
-+newCONDOP|||
-+newCONSTSUB_flags||5.015006|
-+newCONSTSUB|5.004050||p
-+newCVREF|||
-+newDEFSVOP|||
-+newFORM|||
-+newFOROP||5.013007|
-+newGIVENOP||5.009003|
-+newGIVWHENOP|||
-+newGP|||
-+newGVOP|||
-+newGVREF|||
-+newGVgen_flags||5.015004|
-+newGVgen|||
-+newHVREF|||
-+newHVhv||5.005000|
-+newHV|||
-+newIO|||
-+newLISTOP|||
-+newLOGOP|||
-+newLOOPEX|||
-+newLOOPOP|||
-+newMADPROP|||
-+newMADsv|||
-+newMYSUB||5.017004|
-+newNULLLIST|||
-+newOP|||
-+newPADOP|||
-+newPMOP|||
-+newPROG|||
-+newPVOP|||
-+newRANGE|||
-+newRV_inc|5.004000||p
-+newRV_noinc|5.004000||p
-+newRV|||
-+newSLICEOP|||
-+newSTATEOP|||
-+newSTUB|||
-+newSUB|||
-+newSVOP|||
-+newSVREF|||
-+newSV_type|5.009005||p
-+newSVhek||5.009003|
-+newSViv|||
-+newSVnv|||
-+newSVpadname||5.017004|
-+newSVpv_share||5.013006|
-+newSVpvf_nocontext|||vn
-+newSVpvf||5.004000|v
-+newSVpvn_flags|5.010001||p
-+newSVpvn_share|5.007001||p
-+newSVpvn_utf8|5.010001||p
-+newSVpvn|5.004050||p
-+newSVpvs_flags|5.010001||p
-+newSVpvs_share|5.009003||p
-+newSVpvs|5.009003||p
-+newSVpv|||
-+newSVrv|||
-+newSVsv|||
-+newSVuv|5.006000||p
-+newSV|||
-+newTOKEN|||
-+newUNOP|||
-+newWHENOP||5.009003|
-+newWHILEOP||5.013007|
-+newXS_flags||5.009004|
-+newXS_len_flags|||
-+newXSproto||5.006000|
-+newXS||5.006000|
-+new_collate||5.006000|
-+new_constant|||
-+new_ctype||5.006000|
-+new_he|||
-+new_logop|||
-+new_numeric||5.006000|
-+new_stackinfo||5.005000|
-+new_version||5.009000|
-+new_warnings_bitfield|||
-+next_symbol|||
-+nextargv|||
-+nextchar|||
-+ninstr|||n
-+no_bareword_allowed|||
-+no_fh_allowed|||
-+no_op|||
-+not_a_number|||
-+not_incrementable|||
-+nothreadhook||5.008000|
-+nuke_stacks|||
-+num_overflow|||n
-+oopsAV|||
-+oopsHV|||
-+op_append_elem||5.013006|
-+op_append_list||5.013006|
-+op_clear|||
-+op_const_sv|||
-+op_contextualize||5.013006|
-+op_dump||5.006000|
-+op_free|||
-+op_getmad_weak|||
-+op_getmad|||
-+op_integerize|||
-+op_linklist||5.013006|
-+op_lvalue_flags|||
-+op_lvalue||5.013007|
-+op_null||5.007002|
-+op_prepend_elem||5.013006|
-+op_refcnt_dec|||
-+op_refcnt_inc|||
-+op_refcnt_lock||5.009002|
-+op_refcnt_unlock||5.009002|
-+op_scope||5.013007|
-+op_std_init|||
-+op_unscope|||
-+op_xmldump|||
-+open_script|||
-+opslab_force_free|||
-+opslab_free_nopad|||
-+opslab_free|||
-+pMY_CXT_|5.007003||p
-+pMY_CXT|5.007003||p
-+pTHX_|5.006000||p
-+pTHX|5.006000||p
-+packWARN|5.007003||p
-+pack_cat||5.007003|
-+pack_rec|||
-+package_version|||
-+package|||
-+packlist||5.008001|
-+pad_add_anon||5.008001|
-+pad_add_name_pvn||5.015001|
-+pad_add_name_pvs||5.015001|
-+pad_add_name_pv||5.015001|
-+pad_add_name_sv||5.015001|
-+pad_alloc_name|||
-+pad_alloc|||
-+pad_block_start|||
-+pad_check_dup|||
-+pad_compname_type||5.009003|
-+pad_findlex|||
-+pad_findmy_pvn||5.015001|
-+pad_findmy_pvs||5.015001|
-+pad_findmy_pv||5.015001|
-+pad_findmy_sv||5.015001|
-+pad_fixup_inner_anons|||
-+pad_free|||
-+pad_leavemy|||
-+pad_new||5.008001|
-+pad_peg|||n
-+pad_push|||
-+pad_reset|||
-+pad_setsv|||
-+pad_sv|||
-+pad_swipe|||
-+pad_tidy||5.008001|
-+padlist_dup|||
-+padlist_store|||
-+parse_arithexpr||5.013008|
-+parse_barestmt||5.013007|
-+parse_block||5.013007|
-+parse_body|||
-+parse_fullexpr||5.013008|
-+parse_fullstmt||5.013005|
-+parse_ident|||
-+parse_label||5.013007|
-+parse_listexpr||5.013008|
-+parse_lparen_question_flags|||
-+parse_stmtseq||5.013006|
-+parse_termexpr||5.013008|
-+parse_unicode_opts|||
-+parser_dup|||
-+parser_free_nexttoke_ops|||
-+parser_free|||
-+path_is_searchable|||n
-+peep|||
-+pending_ident|||
-+perl_alloc_using|||n
-+perl_alloc|||n
-+perl_clone_using|||n
-+perl_clone|||n
-+perl_construct|||n
-+perl_destruct||5.007003|n
-+perl_free|||n
-+perl_parse||5.006000|n
-+perl_run|||n
-+pidgone|||
-+pm_description|||
-+pmop_dump||5.006000|
-+pmop_xmldump|||
-+pmruntime|||
-+pmtrans|||
-+pop_scope|||
-+populate_isa|||v
-+pregcomp||5.009005|
-+pregexec|||
-+pregfree2||5.011000|
-+pregfree|||
-+prepend_madprops|||
-+prescan_version||5.011004|
-+printbuf|||
-+printf_nocontext|||vn
-+process_special_blocks|||
-+ptr_hash|||n
-+ptr_table_clear||5.009005|
-+ptr_table_fetch||5.009005|
-+ptr_table_find|||n
-+ptr_table_free||5.009005|
-+ptr_table_new||5.009005|
-+ptr_table_split||5.009005|
-+ptr_table_store||5.009005|
-+push_scope|||
-+put_byte|||
-+put_latin1_charclass_innards|||
-+pv_display|5.006000||p
-+pv_escape|5.009004||p
-+pv_pretty|5.009004||p
-+pv_uni_display||5.007003|
-+qerror|||
-+qsortsvu|||
-+re_compile||5.009005|
-+re_croak2|||
-+re_dup_guts|||
-+re_intuit_start||5.019001|
-+re_intuit_string||5.006000|
-+re_op_compile|||
-+readpipe_override|||
-+realloc||5.007002|n
-+reentrant_free||5.019003|
-+reentrant_init||5.019003|
-+reentrant_retry||5.019003|vn
-+reentrant_size||5.019003|
-+ref_array_or_hash|||
-+refcounted_he_chain_2hv|||
-+refcounted_he_fetch_pvn|||
-+refcounted_he_fetch_pvs|||
-+refcounted_he_fetch_pv|||
-+refcounted_he_fetch_sv|||
-+refcounted_he_free|||
-+refcounted_he_inc|||
-+refcounted_he_new_pvn|||
-+refcounted_he_new_pvs|||
-+refcounted_he_new_pv|||
-+refcounted_he_new_sv|||
-+refcounted_he_value|||
-+refkids|||
-+refto|||
-+ref||5.019003|
-+reg_check_named_buff_matched|||
-+reg_named_buff_all||5.009005|
-+reg_named_buff_exists||5.009005|
-+reg_named_buff_fetch||5.009005|
-+reg_named_buff_firstkey||5.009005|
-+reg_named_buff_iter|||
-+reg_named_buff_nextkey||5.009005|
-+reg_named_buff_scalar||5.009005|
-+reg_named_buff|||
-+reg_node|||
-+reg_numbered_buff_fetch|||
-+reg_numbered_buff_length|||
-+reg_numbered_buff_store|||
-+reg_qr_package|||
-+reg_recode|||
-+reg_scan_name|||
-+reg_skipcomment|||
-+reg_temp_copy|||
-+reganode|||
-+regatom|||
-+regbranch|||
-+regclass_swash||5.009004|
-+regclass|||
-+regcppop|||
-+regcppush|||
-+regcurly|||
-+regdump_extflags|||
-+regdump_intflags|||
-+regdump||5.005000|
-+regdupe_internal|||
-+regexec_flags||5.005000|
-+regfree_internal||5.009005|
-+reghop3|||n
-+reghop4|||n
-+reghopmaybe3|||n
-+reginclass|||
-+reginitcolors||5.006000|
-+reginsert|||
-+regmatch|||
-+regnext||5.005000|
-+regpatws|||n
-+regpiece|||
-+regpposixcc|||
-+regprop|||
-+regrepeat|||
-+regtail_study|||
-+regtail|||
-+regtry|||
-+reguni|||
-+regwhite|||n
-+reg|||
-+repeatcpy|||n
-+report_evil_fh|||
-+report_redefined_cv|||
-+report_uninit|||
-+report_wrongway_fh|||
-+require_pv||5.006000|
-+require_tie_mod|||
-+restore_magic|||
-+rninstr|||n
-+rpeep|||
-+rsignal_restore|||
-+rsignal_save|||
-+rsignal_state||5.004000|
-+rsignal||5.004000|
-+run_body|||
-+run_user_filter|||
-+runops_debug||5.005000|
-+runops_standard||5.005000|
-+rv2cv_op_cv||5.013006|
-+rvpv_dup|||
-+rxres_free|||
-+rxres_restore|||
-+rxres_save|||
-+safesyscalloc||5.006000|n
-+safesysfree||5.006000|n
-+safesysmalloc||5.006000|n
-+safesysrealloc||5.006000|n
-+same_dirent|||
-+save_I16||5.004000|
-+save_I32|||
-+save_I8||5.006000|
-+save_adelete||5.011000|
-+save_aelem_flags||5.011000|
-+save_aelem||5.004050|
-+save_alloc||5.006000|
-+save_aptr|||
-+save_ary|||
-+save_bool||5.008001|
-+save_clearsv|||
-+save_delete|||
-+save_destructor_x||5.006000|
-+save_destructor||5.006000|
-+save_freeop|||
-+save_freepv|||
-+save_freesv|||
-+save_generic_pvref||5.006001|
-+save_generic_svref||5.005030|
-+save_gp||5.004000|
-+save_hash|||
-+save_hdelete||5.011000|
-+save_hek_flags|||n
-+save_helem_flags||5.011000|
-+save_helem||5.004050|
-+save_hints||5.010001|
-+save_hptr|||
-+save_int|||
-+save_item|||
-+save_iv||5.005000|
-+save_lines|||
-+save_list|||
-+save_long|||
-+save_magic_flags|||
-+save_mortalizesv||5.007001|
-+save_nogv|||
-+save_op||5.005000|
-+save_padsv_and_mortalize||5.010001|
-+save_pptr|||
-+save_pushi32ptr||5.010001|
-+save_pushptri32ptr|||
-+save_pushptrptr||5.010001|
-+save_pushptr||5.010001|
-+save_re_context||5.006000|
-+save_scalar_at|||
-+save_scalar|||
-+save_set_svflags||5.009000|
-+save_shared_pvref||5.007003|
-+save_sptr|||
-+save_svref|||
-+save_vptr||5.006000|
-+savepvn|||
-+savepvs||5.009003|
-+savepv|||
-+savesharedpvn||5.009005|
-+savesharedpvs||5.013006|
-+savesharedpv||5.007003|
-+savesharedsvpv||5.013006|
-+savestack_grow_cnt||5.008001|
-+savestack_grow|||
-+savesvpv||5.009002|
-+sawparens|||
-+scalar_mod_type|||n
-+scalarboolean|||
-+scalarkids|||
-+scalarseq|||
-+scalarvoid|||
-+scalar|||
-+scan_bin||5.006000|
-+scan_commit|||
-+scan_const|||
-+scan_formline|||
-+scan_heredoc|||
-+scan_hex|||
-+scan_ident|||
-+scan_inputsymbol|||
-+scan_num||5.007001|
-+scan_oct|||
-+scan_pat|||
-+scan_str|||
-+scan_subst|||
-+scan_trans|||
-+scan_version||5.009001|
-+scan_vstring||5.009005|
-+scan_word|||
-+screaminstr||5.005000|
-+search_const|||
-+seed||5.008001|
-+sequence_num|||
-+set_context||5.006000|n
-+set_numeric_local||5.006000|
-+set_numeric_radix||5.006000|
-+set_numeric_standard||5.006000|
-+setdefout|||
-+share_hek_flags|||
-+share_hek||5.004000|
-+si_dup|||
-+sighandler|||n
-+simplify_sort|||
-+skipspace0|||
-+skipspace1|||
-+skipspace2|||
-+skipspace_flags|||
-+softref2xv|||
-+sortcv_stacked|||
-+sortcv_xsub|||
-+sortcv|||
-+sortsv_flags||5.009003|
-+sortsv||5.007003|
-+space_join_names_mortal|||
-+ss_dup|||
-+stack_grow|||
-+start_force|||
-+start_glob|||
-+start_subparse||5.004000|
-+stdize_locale|||
-+strEQ|||
-+strGE|||
-+strGT|||
-+strLE|||
-+strLT|||
-+strNE|||
-+str_to_version||5.006000|
-+strip_return|||
-+strnEQ|||
-+strnNE|||
-+study_chunk|||
-+sub_crush_depth|||
-+sublex_done|||
-+sublex_push|||
-+sublex_start|||
-+sv_2bool_flags||5.013006|
-+sv_2bool|||
-+sv_2cv|||
-+sv_2io|||
-+sv_2iuv_common|||
-+sv_2iuv_non_preserve|||
-+sv_2iv_flags||5.009001|
-+sv_2iv|||
-+sv_2mortal|||
-+sv_2num|||
-+sv_2nv_flags||5.013001|
-+sv_2pv_flags|5.007002||p
-+sv_2pv_nolen|5.006000||p
-+sv_2pvbyte_nolen|5.006000||p
-+sv_2pvbyte|5.006000||p
-+sv_2pvutf8_nolen||5.006000|
-+sv_2pvutf8||5.006000|
-+sv_2pv|||
-+sv_2uv_flags||5.009001|
-+sv_2uv|5.004000||p
-+sv_add_arena|||
-+sv_add_backref|||
-+sv_backoff|||
-+sv_bless|||
-+sv_cat_decode||5.008001|
-+sv_catpv_flags||5.013006|
-+sv_catpv_mg|5.004050||p
-+sv_catpv_nomg||5.013006|
-+sv_catpvf_mg_nocontext|||pvn
-+sv_catpvf_mg|5.006000|5.004000|pv
-+sv_catpvf_nocontext|||vn
-+sv_catpvf||5.004000|v
-+sv_catpvn_flags||5.007002|
-+sv_catpvn_mg|5.004050||p
-+sv_catpvn_nomg|5.007002||p
-+sv_catpvn|||
-+sv_catpvs_flags||5.013006|
-+sv_catpvs_mg||5.013006|
-+sv_catpvs_nomg||5.013006|
-+sv_catpvs|5.009003||p
-+sv_catpv|||
-+sv_catsv_flags||5.007002|
-+sv_catsv_mg|5.004050||p
-+sv_catsv_nomg|5.007002||p
-+sv_catsv|||
-+sv_catxmlpvn|||
-+sv_catxmlpv|||
-+sv_catxmlsv|||
-+sv_chop|||
-+sv_clean_all|||
-+sv_clean_objs|||
-+sv_clear|||
-+sv_cmp_flags||5.013006|
-+sv_cmp_locale_flags||5.013006|
-+sv_cmp_locale||5.004000|
-+sv_cmp|||
-+sv_collxfrm_flags||5.013006|
-+sv_collxfrm|||
-+sv_copypv_flags||5.017002|
-+sv_copypv_nomg||5.017002|
-+sv_copypv|||
-+sv_dec_nomg||5.013002|
-+sv_dec|||
-+sv_del_backref|||
-+sv_derived_from_pvn||5.015004|
-+sv_derived_from_pv||5.015004|
-+sv_derived_from_sv||5.015004|
-+sv_derived_from||5.004000|
-+sv_destroyable||5.010000|
-+sv_display|||
-+sv_does_pvn||5.015004|
-+sv_does_pv||5.015004|
-+sv_does_sv||5.015004|
-+sv_does||5.009004|
-+sv_dump|||
-+sv_dup_common|||
-+sv_dup_inc_multiple|||
-+sv_dup_inc|||
-+sv_dup|||
-+sv_eq_flags||5.013006|
-+sv_eq|||
-+sv_exp_grow|||
-+sv_force_normal_flags||5.007001|
-+sv_force_normal||5.006000|
-+sv_free2|||
-+sv_free_arenas|||
-+sv_free|||
-+sv_gets||5.004000|
-+sv_grow|||
-+sv_i_ncmp|||
-+sv_inc_nomg||5.013002|
-+sv_inc|||
-+sv_insert_flags||5.010001|
-+sv_insert|||
-+sv_isa|||
-+sv_isobject|||
-+sv_iv||5.005000|
-+sv_kill_backrefs|||
-+sv_len_utf8_nomg|||
-+sv_len_utf8||5.006000|
-+sv_len|||
-+sv_magic_portable|5.019003|5.004000|p
-+sv_magicext_mglob|||
-+sv_magicext||5.007003|
-+sv_magic|||
-+sv_mortalcopy_flags|||
-+sv_mortalcopy|||
-+sv_ncmp|||
-+sv_newmortal|||
-+sv_newref|||
-+sv_nolocking||5.007003|
-+sv_nosharing||5.007003|
-+sv_nounlocking|||
-+sv_nv||5.005000|
-+sv_peek||5.005000|
-+sv_pos_b2u_flags||5.019003|
-+sv_pos_b2u_midway|||
-+sv_pos_b2u||5.006000|
-+sv_pos_u2b_cached|||
-+sv_pos_u2b_flags||5.011005|
-+sv_pos_u2b_forwards|||n
-+sv_pos_u2b_midway|||n
-+sv_pos_u2b||5.006000|
-+sv_pvbyten_force||5.006000|
-+sv_pvbyten||5.006000|
-+sv_pvbyte||5.006000|
-+sv_pvn_force_flags|5.007002||p
-+sv_pvn_force|||
-+sv_pvn_nomg|5.007003|5.005000|p
-+sv_pvn||5.005000|
-+sv_pvutf8n_force||5.006000|
-+sv_pvutf8n||5.006000|
-+sv_pvutf8||5.006000|
-+sv_pv||5.006000|
-+sv_recode_to_utf8||5.007003|
-+sv_reftype|||
-+sv_ref|||
-+sv_release_COW|||
-+sv_replace|||
-+sv_report_used|||
-+sv_resetpvn|||
-+sv_reset|||
-+sv_rvweaken||5.006000|
-+sv_sethek|||
-+sv_setiv_mg|5.004050||p
-+sv_setiv|||
-+sv_setnv_mg|5.006000||p
-+sv_setnv|||
-+sv_setpv_mg|5.004050||p
-+sv_setpvf_mg_nocontext|||pvn
-+sv_setpvf_mg|5.006000|5.004000|pv
-+sv_setpvf_nocontext|||vn
-+sv_setpvf||5.004000|v
-+sv_setpviv_mg||5.008001|
-+sv_setpviv||5.008001|
-+sv_setpvn_mg|5.004050||p
-+sv_setpvn|||
-+sv_setpvs_mg||5.013006|
-+sv_setpvs|5.009004||p
-+sv_setpv|||
-+sv_setref_iv|||
-+sv_setref_nv|||
-+sv_setref_pvn|||
-+sv_setref_pvs||5.019003|
-+sv_setref_pv|||
-+sv_setref_uv||5.007001|
-+sv_setsv_cow|||
-+sv_setsv_flags||5.007002|
-+sv_setsv_mg|5.004050||p
-+sv_setsv_nomg|5.007002||p
-+sv_setsv|||
-+sv_setuv_mg|5.004050||p
-+sv_setuv|5.004000||p
-+sv_tainted||5.004000|
-+sv_taint||5.004000|
-+sv_true||5.005000|
-+sv_unglob|||
-+sv_uni_display||5.007003|
-+sv_unmagicext||5.013008|
-+sv_unmagic|||
-+sv_unref_flags||5.007001|
-+sv_unref|||
-+sv_untaint||5.004000|
-+sv_upgrade|||
-+sv_usepvn_flags||5.009004|
-+sv_usepvn_mg|5.004050||p
-+sv_usepvn|||
-+sv_utf8_decode||5.006000|
-+sv_utf8_downgrade||5.006000|
-+sv_utf8_encode||5.006000|
-+sv_utf8_upgrade_flags_grow||5.011000|
-+sv_utf8_upgrade_flags||5.007002|
-+sv_utf8_upgrade_nomg||5.007002|
-+sv_utf8_upgrade||5.007001|
-+sv_uv|5.005000||p
-+sv_vcatpvf_mg|5.006000|5.004000|p
-+sv_vcatpvfn_flags||5.017002|
-+sv_vcatpvfn||5.004000|
-+sv_vcatpvf|5.006000|5.004000|p
-+sv_vsetpvf_mg|5.006000|5.004000|p
-+sv_vsetpvfn||5.004000|
-+sv_vsetpvf|5.006000|5.004000|p
-+sv_xmlpeek|||
-+svtype|||
-+swallow_bom|||
-+swash_fetch||5.007002|
-+swash_init||5.006000|
-+swatch_get|||
-+sys_init3||5.010000|n
-+sys_init||5.010000|n
-+sys_intern_clear|||
-+sys_intern_dup|||
-+sys_intern_init|||
-+sys_term||5.010000|n
-+taint_env|||
-+taint_proper|||
-+tied_method|||v
-+tmps_grow||5.006000|
-+toFOLD_uni||5.007003|
-+toFOLD_utf8||5.019001|
-+toFOLD||5.019001|
-+toLOWER_L1||5.019001|
-+toLOWER_LC||5.004000|
-+toLOWER_uni||5.007003|
-+toLOWER_utf8||5.015007|
-+toLOWER|||
-+toTITLE_uni||5.007003|
-+toTITLE_utf8||5.015007|
-+toTITLE||5.019001|
-+toUPPER_uni||5.007003|
-+toUPPER_utf8||5.015007|
-+toUPPER||5.004000|
-+to_byte_substr|||
-+to_lower_latin1|||
-+to_uni_fold||5.007003|
-+to_uni_lower_lc||5.006000|
-+to_uni_lower||5.007003|
-+to_uni_title_lc||5.006000|
-+to_uni_title||5.007003|
-+to_uni_upper_lc||5.006000|
-+to_uni_upper||5.007003|
-+to_utf8_case||5.007003|
-+to_utf8_fold||5.015007|
-+to_utf8_lower||5.015007|
-+to_utf8_substr|||
-+to_utf8_title||5.015007|
-+to_utf8_upper||5.015007|
-+token_free|||
-+token_getmad|||
-+tokenize_use|||
-+tokeq|||
-+tokereport|||
-+too_few_arguments_pv|||
-+too_few_arguments_sv|||
-+too_many_arguments_pv|||
-+too_many_arguments_sv|||
-+translate_substr_offsets|||
-+try_amagic_bin|||
-+try_amagic_un|||
-+uiv_2buf|||n
-+unlnk|||
-+unpack_rec|||
-+unpack_str||5.007003|
-+unpackstring||5.008001|
-+unreferenced_to_tmp_stack|||
-+unshare_hek_or_pvn|||
-+unshare_hek|||
-+unsharepvn||5.004000|
-+unwind_handler_stack|||
-+update_debugger_info|||
-+upg_version||5.009005|
-+usage|||
-+utf16_textfilter|||
-+utf16_to_utf8_reversed||5.006001|
-+utf16_to_utf8||5.006001|
-+utf8_distance||5.006000|
-+utf8_hop||5.006000|
-+utf8_length||5.007001|
-+utf8_mg_len_cache_update|||
-+utf8_mg_pos_cache_update|||
-+utf8_to_bytes||5.006001|
-+utf8_to_uvchr_buf||5.015009|
-+utf8_to_uvchr||5.007001|
-+utf8_to_uvuni_buf||5.015009|
-+utf8_to_uvuni||5.007001|
-+utf8n_to_uvchr|||
-+utf8n_to_uvuni||5.007001|
-+utilize|||
-+uvchr_to_utf8_flags||5.007003|
-+uvchr_to_utf8|||
-+uvuni_to_utf8_flags||5.007003|
-+uvuni_to_utf8||5.007001|
-+valid_utf8_to_uvchr|||
-+valid_utf8_to_uvuni||5.015009|
-+validate_proto|||
-+validate_suid|||
-+varname|||
-+vcmp||5.009000|
-+vcroak||5.006000|
-+vdeb||5.007003|
-+vform||5.006000|
-+visit|||
-+vivify_defelem|||
-+vivify_ref|||
-+vload_module|5.006000||p
-+vmess||5.006000|
-+vnewSVpvf|5.006000|5.004000|p
-+vnormal||5.009002|
-+vnumify||5.009000|
-+vstringify||5.009000|
-+vverify||5.009003|
-+vwarner||5.006000|
-+vwarn||5.006000|
-+wait4pid|||
-+warn_nocontext|||vn
-+warn_sv||5.013001|
-+warner_nocontext|||vn
-+warner|5.006000|5.004000|pv
-+warn|||v
-+was_lvalue_sub|||
-+watch|||
-+whichsig_pvn||5.015004|
-+whichsig_pv||5.015004|
-+whichsig_sv||5.015004|
-+whichsig|||
-+win32_croak_not_implemented|||n
-+with_queued_errors|||
-+wrap_op_checker||5.015008|
-+write_to_stderr|||
-+xmldump_all_perl|||
-+xmldump_all|||
-+xmldump_attr|||
-+xmldump_eval|||
-+xmldump_form|||
-+xmldump_indent|||v
-+xmldump_packsubs_perl|||
-+xmldump_packsubs|||
-+xmldump_sub_perl|||
-+xmldump_sub|||
-+xmldump_vindent|||
-+xs_apiversion_bootcheck|||
-+xs_version_bootcheck|||
-+yyerror_pvn|||
-+yyerror_pv|||
-+yyerror|||
-+yylex|||
-+yyparse|||
-+yyunlex|||
-+yywarn|||
-+);
-+
-+if (exists $opt{'list-unsupported'}) {
-+  my $f;
-+  for $f (sort { lc $a cmp lc $b } keys %API) {
-+    next unless $API{$f}{todo};
-+    print "$f ", '.'x(40-length($f)), " ", format_version($API{$f}{todo}), "\n";
-+  }
-+  exit 0;
-+}
-+
-+# Scan for possible replacement candidates
-+
-+my(%replace, %need, %hints, %warnings, %depends);
-+my $replace = 0;
-+my($hint, $define, $function);
-+
-+sub find_api
-+{
-+  my $code = shift;
-+  $code =~ s{
-+    / (?: \*[^*]*\*+(?:[^$ccs][^*]*\*+)* / | /[^\r\n]*)
-+  | "[^"\\]*(?:\\.[^"\\]*)*"
-+  | '[^'\\]*(?:\\.[^'\\]*)*' }{}egsx;
-+  grep { exists $API{$_} } $code =~ /(\w+)/mg;
-+}
-+
-+while (<DATA>) {
-+  if ($hint) {
-+    my $h = $hint->[0] eq 'Hint' ? \%hints : \%warnings;
-+    if (m{^\s*\*\s(.*?)\s*$}) {
-+      for (@{$hint->[1]}) {
-+        $h->{$_} ||= '';  # suppress warning with older perls
-+        $h->{$_} .= "$1\n";
-+      }
-+    }
-+    else { undef $hint }
-+  }
-+
-+  $hint = [$1, [split /,?\s+/, $2]]
-+      if m{^\s*$rccs\s+(Hint|Warning):\s+(\w+(?:,?\s+\w+)*)\s*$};
-+
-+  if ($define) {
-+    if ($define->[1] =~ /\\$/) {
-+      $define->[1] .= $_;
-+    }
-+    else {
-+      if (exists $API{$define->[0]} && $define->[1] !~ /^DPPP_\(/) {
-+        my @n = find_api($define->[1]);
-+        push @{$depends{$define->[0]}}, @n if @n
-+      }
-+      undef $define;
-+    }
-+  }
-+
-+  $define = [$1, $2] if m{^\s*#\s*define\s+(\w+)(?:\([^)]*\))?\s+(.*)};
-+
-+  if ($function) {
-+    if (/^}/) {
-+      if (exists $API{$function->[0]}) {
-+        my @n = find_api($function->[1]);
-+        push @{$depends{$function->[0]}}, @n if @n
-+      }
-+      undef $function;
-+    }
-+    else {
-+      $function->[1] .= $_;
-+    }
-+  }
-+
-+  $function = [$1, ''] if m{^DPPP_\(my_(\w+)\)};
-+
-+  $replace     = $1 if m{^\s*$rccs\s+Replace:\s+(\d+)\s+$rcce\s*$};
-+  $replace{$2} = $1 if $replace and m{^\s*#\s*define\s+(\w+)(?:\([^)]*\))?\s+(\w+)};
-+  $replace{$2} = $1 if m{^\s*#\s*define\s+(\w+)(?:\([^)]*\))?\s+(\w+).*$rccs\s+Replace\s+$rcce};
-+  $replace{$1} = $2 if m{^\s*$rccs\s+Replace (\w+) with (\w+)\s+$rcce\s*$};
-+
-+  if (m{^\s*$rccs\s+(\w+(\s*,\s*\w+)*)\s+depends\s+on\s+(\w+(\s*,\s*\w+)*)\s+$rcce\s*$}) {
-+    my @deps = map { s/\s+//g; $_ } split /,/, $3;
-+    my $d;
-+    for $d (map { s/\s+//g; $_ } split /,/, $1) {
-+      push @{$depends{$d}}, @deps;
-+    }
-+  }
-+
-+  $need{$1} = 1 if m{^#if\s+defined\(NEED_(\w+)(?:_GLOBAL)?\)};
-+}
-+
-+for (values %depends) {
-+  my %s;
-+  $_ = [sort grep !$s{$_}++, @$_];
-+}
-+
-+if (exists $opt{'api-info'}) {
-+  my $f;
-+  my $count = 0;
-+  my $match = $opt{'api-info'} =~ m!^/(.*)/$! ? $1 : "^\Q$opt{'api-info'}\E\$";
-+  for $f (sort { lc $a cmp lc $b } keys %API) {
-+    next unless $f =~ /$match/;
-+    print "\n=== $f ===\n\n";
-+    my $info = 0;
-+    if ($API{$f}{base} || $API{$f}{todo}) {
-+      my $base = format_version($API{$f}{base} || $API{$f}{todo});
-+      print "Supported at least starting from perl-$base.\n";
-+      $info++;
-+    }
-+    if ($API{$f}{provided}) {
-+      my $todo = $API{$f}{todo} ? format_version($API{$f}{todo}) : "5.003";
-+      print "Support by $ppport provided back to perl-$todo.\n";
-+      print "Support needs to be explicitly requested by NEED_$f.\n" if exists $need{$f};
-+      print "Depends on: ", join(', ', @{$depends{$f}}), ".\n" if exists $depends{$f};
-+      print "\n$hints{$f}" if exists $hints{$f};
-+      print "\nWARNING:\n$warnings{$f}" if exists $warnings{$f};
-+      $info++;
-+    }
-+    print "No portability information available.\n" unless $info;
-+    $count++;
-+  }
-+  $count or print "Found no API matching '$opt{'api-info'}'.";
-+  print "\n";
-+  exit 0;
-+}
-+
-+if (exists $opt{'list-provided'}) {
-+  my $f;
-+  for $f (sort { lc $a cmp lc $b } keys %API) {
-+    next unless $API{$f}{provided};
-+    my @flags;
-+    push @flags, 'explicit' if exists $need{$f};
-+    push @flags, 'depend'   if exists $depends{$f};
-+    push @flags, 'hint'     if exists $hints{$f};
-+    push @flags, 'warning'  if exists $warnings{$f};
-+    my $flags = @flags ? '  ['.join(', ', @flags).']' : '';
-+    print "$f$flags\n";
-+  }
-+  exit 0;
-+}
-+
-+my @files;
-+my @srcext = qw( .xs .c .h .cc .cpp -c.inc -xs.inc );
-+my $srcext = join '|', map { quotemeta $_ } @srcext;
-+
-+if (@ARGV) {
-+  my %seen;
-+  for (@ARGV) {
-+    if (-e) {
-+      if (-f) {
-+        push @files, $_ unless $seen{$_}++;
-+      }
-+      else { warn "'$_' is not a file.\n" }
-+    }
-+    else {
-+      my @new = grep { -f } glob $_
-+          or warn "'$_' does not exist.\n";
-+      push @files, grep { !$seen{$_}++ } @new;
-+    }
-+  }
-+}
-+else {
-+  eval {
-+    require File::Find;
-+    File::Find::find(sub {
-+      $File::Find::name =~ /($srcext)$/i
-+          and push @files, $File::Find::name;
-+    }, '.');
-+  };
-+  if ($@) {
-+    @files = map { glob "*$_" } @srcext;
-+  }
-+}
-+
-+if (!@ARGV || $opt{filter}) {
-+  my(@in, @out);
-+  my %xsc = map { /(.*)\.xs$/ ? ("$1.c" => 1, "$1.cc" => 1) : () } @files;
-+  for (@files) {
-+    my $out = exists $xsc{$_} || /\b\Q$ppport\E$/i || !/($srcext)$/i;
-+    push @{ $out ? \@out : \@in }, $_;
-+  }
-+  if (@ARGV && @out) {
-+    warning("Skipping the following files (use --nofilter to avoid this):\n| ", join "\n| ", @out);
-+  }
-+  @files = @in;
-+}
-+
-+die "No input files given!\n" unless @files;
-+
-+my(%files, %global, %revreplace);
-+%revreplace = reverse %replace;
-+my $filename;
-+my $patch_opened = 0;
-+
-+for $filename (@files) {
-+  unless (open IN, "<$filename") {
-+    warn "Unable to read from $filename: $!\n";
-+    next;
-+  }
-+
-+  info("Scanning $filename ...");
-+
-+  my $c = do { local $/; <IN> };
-+  close IN;
-+
-+  my %file = (orig => $c, changes => 0);
-+
-+  # Temporarily remove C/XS comments and strings from the code
-+  my @ccom;
-+
-+  $c =~ s{
-+    ( ^$HS*\#$HS*include\b[^\r\n]+\b(?:\Q$ppport\E|XSUB\.h)\b[^\r\n]*
-+    | ^$HS*\#$HS*(?:define|elif|if(?:def)?)\b[^\r\n]* )
-+  | ( ^$HS*\#[^\r\n]*
-+    | "[^"\\]*(?:\\.[^"\\]*)*"
-+    | '[^'\\]*(?:\\.[^'\\]*)*'
-+    | / (?: \*[^*]*\*+(?:[^$ccs][^*]*\*+)* / | /[^\r\n]* ) )
-+  }{ defined $2 and push @ccom, $2;
-+     defined $1 ? $1 : "$ccs$#ccom$cce" }mgsex;
-+
-+  $file{ccom} = \@ccom;
-+  $file{code} = $c;
-+  $file{has_inc_ppport} = $c =~ /^$HS*#$HS*include[^\r\n]+\b\Q$ppport\E\b/m;
-+
-+  my $func;
-+
-+  for $func (keys %API) {
-+    my $match = $func;
-+    $match .= "|$revreplace{$func}" if exists $revreplace{$func};
-+    if ($c =~ /\b(?:Perl_)?($match)\b/) {
-+      $file{uses_replace}{$1}++ if exists $revreplace{$func} && $1 eq $revreplace{$func};
-+      $file{uses_Perl}{$func}++ if $c =~ /\bPerl_$func\b/;
-+      if (exists $API{$func}{provided}) {
-+        $file{uses_provided}{$func}++;
-+        if (!exists $API{$func}{base} || $API{$func}{base} > $opt{'compat-version'}) {
-+          $file{uses}{$func}++;
-+          my @deps = rec_depend($func);
-+          if (@deps) {
-+            $file{uses_deps}{$func} = \@deps;
-+            for (@deps) {
-+              $file{uses}{$_} = 0 unless exists $file{uses}{$_};
-+            }
-+          }
-+          for ($func, @deps) {
-+            $file{needs}{$_} = 'static' if exists $need{$_};
-+          }
-+        }
-+      }
-+      if (exists $API{$func}{todo} && $API{$func}{todo} > $opt{'compat-version'}) {
-+        if ($c =~ /\b$func\b/) {
-+          $file{uses_todo}{$func}++;
-+        }
-+      }
-+    }
-+  }
-+
-+  while ($c =~ /^$HS*#$HS*define$HS+(NEED_(\w+?)(_GLOBAL)?)\b/mg) {
-+    if (exists $need{$2}) {
-+      $file{defined $3 ? 'needed_global' : 'needed_static'}{$2}++;
-+    }
-+    else { warning("Possibly wrong #define $1 in $filename") }
-+  }
-+
-+  for (qw(uses needs uses_todo needed_global needed_static)) {
-+    for $func (keys %{$file{$_}}) {
-+      push @{$global{$_}{$func}}, $filename;
-+    }
-+  }
-+
-+  $files{$filename} = \%file;
-+}
-+
-+# Globally resolve NEED_'s
-+my $need;
-+for $need (keys %{$global{needs}}) {
-+  if (@{$global{needs}{$need}} > 1) {
-+    my @targets = @{$global{needs}{$need}};
-+    my @t = grep $files{$_}{needed_global}{$need}, @targets;
-+    @targets = @t if @t;
-+    @t = grep /\.xs$/i, @targets;
-+    @targets = @t if @t;
-+    my $target = shift @targets;
-+    $files{$target}{needs}{$need} = 'global';
-+    for (@{$global{needs}{$need}}) {
-+      $files{$_}{needs}{$need} = 'extern' if $_ ne $target;
-+    }
-+  }
-+}
-+
-+for $filename (@files) {
-+  exists $files{$filename} or next;
-+
-+  info("=== Analyzing $filename ===");
-+
-+  my %file = %{$files{$filename}};
-+  my $func;
-+  my $c = $file{code};
-+  my $warnings = 0;
-+
-+  for $func (sort keys %{$file{uses_Perl}}) {
-+    if ($API{$func}{varargs}) {
-+      unless ($API{$func}{nothxarg}) {
-+        my $changes = ($c =~ s{\b(Perl_$func\s*\(\s*)(?!aTHX_?)(\)|[^\s)]*\))}
-+                              { $1 . ($2 eq ')' ? 'aTHX' : 'aTHX_ ') . $2 }ge);
-+        if ($changes) {
-+          warning("Doesn't pass interpreter argument aTHX to Perl_$func");
-+          $file{changes} += $changes;
-+        }
-+      }
-+    }
-+    else {
-+      warning("Uses Perl_$func instead of $func");
-+      $file{changes} += ($c =~ s{\bPerl_$func(\s*)\((\s*aTHX_?)?\s*}
-+                                {$func$1(}g);
-+    }
-+  }
-+
-+  for $func (sort keys %{$file{uses_replace}}) {
-+    warning("Uses $func instead of $replace{$func}");
-+    $file{changes} += ($c =~ s/\b$func\b/$replace{$func}/g);
-+  }
-+
-+  for $func (sort keys %{$file{uses_provided}}) {
-+    if ($file{uses}{$func}) {
-+      if (exists $file{uses_deps}{$func}) {
-+        diag("Uses $func, which depends on ", join(', ', @{$file{uses_deps}{$func}}));
-+      }
-+      else {
-+        diag("Uses $func");
-+      }
-+    }
-+    $warnings += hint($func);
-+  }
-+
-+  unless ($opt{quiet}) {
-+    for $func (sort keys %{$file{uses_todo}}) {
-+      print "*** WARNING: Uses $func, which may not be portable below perl ",
-+            format_version($API{$func}{todo}), ", even with '$ppport'\n";
-+      $warnings++;
-+    }
-+  }
-+
-+  for $func (sort keys %{$file{needed_static}}) {
-+    my $message = '';
-+    if (not exists $file{uses}{$func}) {
-+      $message = "No need to define NEED_$func if $func is never used";
-+    }
-+    elsif (exists $file{needs}{$func} && $file{needs}{$func} ne 'static') {
-+      $message = "No need to define NEED_$func when already needed globally";
-+    }
-+    if ($message) {
-+      diag($message);
-+      $file{changes} += ($c =~ s/^$HS*#$HS*define$HS+NEED_$func\b.*$LF//mg);
-+    }
-+  }
-+
-+  for $func (sort keys %{$file{needed_global}}) {
-+    my $message = '';
-+    if (not exists $global{uses}{$func}) {
-+      $message = "No need to define NEED_${func}_GLOBAL if $func is never used";
-+    }
-+    elsif (exists $file{needs}{$func}) {
-+      if ($file{needs}{$func} eq 'extern') {
-+        $message = "No need to define NEED_${func}_GLOBAL when already needed globally";
-+      }
-+      elsif ($file{needs}{$func} eq 'static') {
-+        $message = "No need to define NEED_${func}_GLOBAL when only used in this file";
-+      }
-+    }
-+    if ($message) {
-+      diag($message);
-+      $file{changes} += ($c =~ s/^$HS*#$HS*define$HS+NEED_${func}_GLOBAL\b.*$LF//mg);
-+    }
-+  }
-+
-+  $file{needs_inc_ppport} = keys %{$file{uses}};
-+
-+  if ($file{needs_inc_ppport}) {
-+    my $pp = '';
-+
-+    for $func (sort keys %{$file{needs}}) {
-+      my $type = $file{needs}{$func};
-+      next if $type eq 'extern';
-+      my $suffix = $type eq 'global' ? '_GLOBAL' : '';
-+      unless (exists $file{"needed_$type"}{$func}) {
-+        if ($type eq 'global') {
-+          diag("Files [@{$global{needs}{$func}}] need $func, adding global request");
-+        }
-+        else {
-+          diag("File needs $func, adding static request");
-+        }
-+        $pp .= "#define NEED_$func$suffix\n";
-+      }
-+    }
-+
-+    if ($pp && ($c =~ s/^(?=$HS*#$HS*define$HS+NEED_\w+)/$pp/m)) {
-+      $pp = '';
-+      $file{changes}++;
-+    }
-+
-+    unless ($file{has_inc_ppport}) {
-+      diag("Needs to include '$ppport'");
-+      $pp .= qq(#include "$ppport"\n)
-+    }
-+
-+    if ($pp) {
-+      $file{changes} += ($c =~ s/^($HS*#$HS*define$HS+NEED_\w+.*?)^/$1$pp/ms)
-+                     || ($c =~ s/^(?=$HS*#$HS*include.*\Q$ppport\E)/$pp/m)
-+                     || ($c =~ s/^($HS*#$HS*include.*XSUB.*\s*?)^/$1$pp/m)
-+                     || ($c =~ s/^/$pp/);
-+    }
-+  }
-+  else {
-+    if ($file{has_inc_ppport}) {
-+      diag("No need to include '$ppport'");
-+      $file{changes} += ($c =~ s/^$HS*?#$HS*include.*\Q$ppport\E.*?$LF//m);
-+    }
-+  }
-+
-+  # put back in our C comments
-+  my $ix;
-+  my $cppc = 0;
-+  my @ccom = @{$file{ccom}};
-+  for $ix (0 .. $#ccom) {
-+    if (!$opt{cplusplus} && $ccom[$ix] =~ s!^//!!) {
-+      $cppc++;
-+      $file{changes} += $c =~ s/$rccs$ix$rcce/$ccs$ccom[$ix] $cce/;
-+    }
-+    else {
-+      $c =~ s/$rccs$ix$rcce/$ccom[$ix]/;
-+    }
-+  }
-+
-+  if ($cppc) {
-+    my $s = $cppc != 1 ? 's' : '';
-+    warning("Uses $cppc C++ style comment$s, which is not portable");
-+  }
-+
-+  my $s = $warnings != 1 ? 's' : '';
-+  my $warn = $warnings ? " ($warnings warning$s)" : '';
-+  info("Analysis completed$warn");
-+
-+  if ($file{changes}) {
-+    if (exists $opt{copy}) {
-+      my $newfile = "$filename$opt{copy}";
-+      if (-e $newfile) {
-+        error("'$newfile' already exists, refusing to write copy of '$filename'");
-+      }
-+      else {
-+        local *F;
-+        if (open F, ">$newfile") {
-+          info("Writing copy of '$filename' with changes to '$newfile'");
-+          print F $c;
-+          close F;
-+        }
-+        else {
-+          error("Cannot open '$newfile' for writing: $!");
-+        }
-+      }
-+    }
-+    elsif (exists $opt{patch} || $opt{changes}) {
-+      if (exists $opt{patch}) {
-+        unless ($patch_opened) {
-+          if (open PATCH, ">$opt{patch}") {
-+            $patch_opened = 1;
-+          }
-+          else {
-+            error("Cannot open '$opt{patch}' for writing: $!");
-+            delete $opt{patch};
-+            $opt{changes} = 1;
-+            goto fallback;
-+          }
-+        }
-+        mydiff(\*PATCH, $filename, $c);
-+      }
-+      else {
-+fallback:
-+        info("Suggested changes:");
-+        mydiff(\*STDOUT, $filename, $c);
-+      }
-+    }
-+    else {
-+      my $s = $file{changes} == 1 ? '' : 's';
-+      info("$file{changes} potentially required change$s detected");
-+    }
-+  }
-+  else {
-+    info("Looks good");
-+  }
-+}
-+
-+close PATCH if $patch_opened;
-+
-+exit 0;
-+
-+
-+sub try_use { eval "use @_;"; return $@ eq '' }
-+
-+sub mydiff
-+{
-+  local *F = shift;
-+  my($file, $str) = @_;
-+  my $diff;
-+
-+  if (exists $opt{diff}) {
-+    $diff = run_diff($opt{diff}, $file, $str);
-+  }
-+
-+  if (!defined $diff and try_use('Text::Diff')) {
-+    $diff = Text::Diff::diff($file, \$str, { STYLE => 'Unified' });
-+    $diff = <<HEADER . $diff;
-+--- $file
-++++ $file.patched
-+HEADER
-+  }
-+
-+  if (!defined $diff) {
-+    $diff = run_diff('diff -u', $file, $str);
-+  }
-+
-+  if (!defined $diff) {
-+    $diff = run_diff('diff', $file, $str);
-+  }
-+
-+  if (!defined $diff) {
-+    error("Cannot generate a diff. Please install Text::Diff or use --copy.");
-+    return;
-+  }
-+
-+  print F $diff;
-+}
-+
-+sub run_diff
-+{
-+  my($prog, $file, $str) = @_;
-+  my $tmp = 'dppptemp';
-+  my $suf = 'aaa';
-+  my $diff = '';
-+  local *F;
-+
-+  while (-e "$tmp.$suf") { $suf++ }
-+  $tmp = "$tmp.$suf";
-+
-+  if (open F, ">$tmp") {
-+    print F $str;
-+    close F;
-+
-+    if (open F, "$prog $file $tmp |") {
-+      while (<F>) {
-+        s/\Q$tmp\E/$file.patched/;
-+        $diff .= $_;
-+      }
-+      close F;
-+      unlink $tmp;
-+      return $diff;
-+    }
-+
-+    unlink $tmp;
-+  }
-+  else {
-+    error("Cannot open '$tmp' for writing: $!");
-+  }
-+
-+  return undef;
-+}
-+
-+sub rec_depend
-+{
-+  my($func, $seen) = @_;
-+  return () unless exists $depends{$func};
-+  $seen = {%{$seen||{}}};
-+  return () if $seen->{$func}++;
-+  my %s;
-+  grep !$s{$_}++, map { ($_, rec_depend($_, $seen)) } @{$depends{$func}};
-+}
-+
-+sub parse_version
-+{
-+  my $ver = shift;
-+
-+  if ($ver =~ /^(\d+)\.(\d+)\.(\d+)$/) {
-+    return ($1, $2, $3);
-+  }
-+  elsif ($ver !~ /^\d+\.[\d_]+$/) {
-+    die "cannot parse version '$ver'\n";
-+  }
-+
-+  $ver =~ s/_//g;
-+  $ver =~ s/$/000000/;
-+
-+  my($r,$v,$s) = $ver =~ /(\d+)\.(\d{3})(\d{3})/;
-+
-+  $v = int $v;
-+  $s = int $s;
-+
-+  if ($r < 5 || ($r == 5 && $v < 6)) {
-+    if ($s % 10) {
-+      die "cannot parse version '$ver'\n";
-+    }
-+  }
-+
-+  return ($r, $v, $s);
-+}
-+
-+sub format_version
-+{
-+  my $ver = shift;
-+
-+  $ver =~ s/$/000000/;
-+  my($r,$v,$s) = $ver =~ /(\d+)\.(\d{3})(\d{3})/;
-+
-+  $v = int $v;
-+  $s = int $s;
-+
-+  if ($r < 5 || ($r == 5 && $v < 6)) {
-+    if ($s % 10) {
-+      die "invalid version '$ver'\n";
-+    }
-+    $s /= 10;
-+
-+    $ver = sprintf "%d.%03d", $r, $v;
-+    $s > 0 and $ver .= sprintf "_%02d", $s;
-+
-+    return $ver;
-+  }
-+
-+  return sprintf "%d.%d.%d", $r, $v, $s;
-+}
-+
-+sub info
-+{
-+  $opt{quiet} and return;
-+  print @_, "\n";
-+}
-+
-+sub diag
-+{
-+  $opt{quiet} and return;
-+  $opt{diag} and print @_, "\n";
-+}
-+
-+sub warning
-+{
-+  $opt{quiet} and return;
-+  print "*** ", @_, "\n";
-+}
-+
-+sub error
-+{
-+  print "*** ERROR: ", @_, "\n";
-+}
-+
-+my %given_hints;
-+my %given_warnings;
-+sub hint
-+{
-+  $opt{quiet} and return;
-+  my $func = shift;
-+  my $rv = 0;
-+  if (exists $warnings{$func} && !$given_warnings{$func}++) {
-+    my $warn = $warnings{$func};
-+    $warn =~ s!^!*** !mg;
-+    print "*** WARNING: $func\n", $warn;
-+    $rv++;
-+  }
-+  if ($opt{hints} && exists $hints{$func} && !$given_hints{$func}++) {
-+    my $hint = $hints{$func};
-+    $hint =~ s/^/   /mg;
-+    print "   --- hint for $func ---\n", $hint;
-+  }
-+  $rv;
-+}
-+
-+sub usage
-+{
-+  my($usage) = do { local(@ARGV,$/)=($0); <> } =~ /^=head\d$HS+SYNOPSIS\s*^(.*?)\s*^=/ms;
-+  my %M = ( 'I' => '*' );
-+  $usage =~ s/^\s*perl\s+\S+/$^X $0/;
-+  $usage =~ s/([A-Z])<([^>]+)>/$M{$1}$2$M{$1}/g;
-+
-+  print <<ENDUSAGE;
-+
-+Usage: $usage
-+
-+See perldoc $0 for details.
-+
-+ENDUSAGE
-+
-+  exit 2;
-+}
-+
-+sub strip
-+{
-+  my $self = do { local(@ARGV,$/)=($0); <> };
-+  my($copy) = $self =~ /^=head\d\s+COPYRIGHT\s*^(.*?)^=\w+/ms;
-+  $copy =~ s/^(?=\S+)/    /gms;
-+  $self =~ s/^$HS+Do NOT edit.*?(?=^-)/$copy/ms;
-+  $self =~ s/^SKIP.*(?=^__DATA__)/SKIP
-+if (\@ARGV && \$ARGV[0] eq '--unstrip') {
-+  eval { require Devel::PPPort };
-+  \$@ and die "Cannot require Devel::PPPort, please install.\\n";
-+  if (eval \$Devel::PPPort::VERSION < $VERSION) {
-+    die "$0 was originally generated with Devel::PPPort $VERSION.\\n"
-+      . "Your Devel::PPPort is only version \$Devel::PPPort::VERSION.\\n"
-+      . "Please install a newer version, or --unstrip will not work.\\n";
-+  }
-+  Devel::PPPort::WriteFile(\$0);
-+  exit 0;
-+}
-+print <<END;
-+
-+Sorry, but this is a stripped version of \$0.
-+
-+To be able to use its original script and doc functionality,
-+please try to regenerate this file using:
-+
-+  \$^X \$0 --unstrip
-+
-+END
-+/ms;
-+  my($pl, $c) = $self =~ /(.*^__DATA__)(.*)/ms;
-+  $c =~ s{
-+    / (?: \*[^*]*\*+(?:[^$ccs][^*]*\*+)* / | /[^\r\n]*)
-+  | ( "[^"\\]*(?:\\.[^"\\]*)*"
-+    | '[^'\\]*(?:\\.[^'\\]*)*' )
-+  | ($HS+) }{ defined $2 ? ' ' : ($1 || '') }gsex;
-+  $c =~ s!\s+$!!mg;
-+  $c =~ s!^$LF!!mg;
-+  $c =~ s!^\s*#\s*!#!mg;
-+  $c =~ s!^\s+!!mg;
-+
-+  open OUT, ">$0" or die "cannot strip $0: $!\n";
-+  print OUT "$pl$c\n";
-+
-+  exit 0;
-+}
-+
-+__DATA__
-+*/
-+
-+#ifndef _P_P_PORTABILITY_H_
-+#define _P_P_PORTABILITY_H_
-+
-+#ifndef DPPP_NAMESPACE
-+#  define DPPP_NAMESPACE DPPP_
-+#endif
-+
-+#define DPPP_CAT2(x,y) CAT2(x,y)
-+#define DPPP_(name) DPPP_CAT2(DPPP_NAMESPACE, name)
-+
-+#ifndef PERL_REVISION
-+#  if !defined(__PATCHLEVEL_H_INCLUDED__) && !(defined(PATCHLEVEL) && defined(SUBVERSION))
-+#    define PERL_PATCHLEVEL_H_IMPLICIT
-+#    include <patchlevel.h>
-+#  endif
-+#  if !(defined(PERL_VERSION) || (defined(SUBVERSION) && defined(PATCHLEVEL)))
-+#    include <could_not_find_Perl_patchlevel.h>
-+#  endif
-+#  ifndef PERL_REVISION
-+#    define PERL_REVISION       (5)
-+     /* Replace: 1 */
-+#    define PERL_VERSION        PATCHLEVEL
-+#    define PERL_SUBVERSION     SUBVERSION
-+     /* Replace PERL_PATCHLEVEL with PERL_VERSION */
-+     /* Replace: 0 */
-+#  endif
-+#endif
-+
-+#define _dpppDEC2BCD(dec) ((((dec)/100)<<8)|((((dec)%100)/10)<<4)|((dec)%10))
-+#define PERL_BCDVERSION ((_dpppDEC2BCD(PERL_REVISION)<<24)|(_dpppDEC2BCD(PERL_VERSION)<<12)|_dpppDEC2BCD(PERL_SUBVERSION))
-+
-+/* It is very unlikely that anyone will try to use this with Perl 6
-+   (or greater), but who knows.
-+ */
-+#if PERL_REVISION != 5
-+#  error ppport.h only works with Perl version 5
-+#endif /* PERL_REVISION != 5 */
-+#ifndef dTHR
-+#  define dTHR                           dNOOP
-+#endif
-+#ifndef dTHX
-+#  define dTHX                           dNOOP
-+#endif
-+
-+#ifndef dTHXa
-+#  define dTHXa(x)                       dNOOP
-+#endif
-+#ifndef pTHX
-+#  define pTHX                           void
-+#endif
-+
-+#ifndef pTHX_
-+#  define pTHX_
-+#endif
-+
-+#ifndef aTHX
-+#  define aTHX
-+#endif
-+
-+#ifndef aTHX_
-+#  define aTHX_
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5006000)
-+#  ifdef USE_THREADS
-+#    define aTHXR  thr
-+#    define aTHXR_ thr,
-+#  else
-+#    define aTHXR
-+#    define aTHXR_
-+#  endif
-+#  define dTHXR  dTHR
-+#else
-+#  define aTHXR  aTHX
-+#  define aTHXR_ aTHX_
-+#  define dTHXR  dTHX
-+#endif
-+#ifndef dTHXoa
-+#  define dTHXoa(x)                      dTHXa(x)
-+#endif
-+
-+#ifdef I_LIMITS
-+#  include <limits.h>
-+#endif
-+
-+#ifndef PERL_UCHAR_MIN
-+#  define PERL_UCHAR_MIN ((unsigned char)0)
-+#endif
-+
-+#ifndef PERL_UCHAR_MAX
-+#  ifdef UCHAR_MAX
-+#    define PERL_UCHAR_MAX ((unsigned char)UCHAR_MAX)
-+#  else
-+#    ifdef MAXUCHAR
-+#      define PERL_UCHAR_MAX ((unsigned char)MAXUCHAR)
-+#    else
-+#      define PERL_UCHAR_MAX ((unsigned char)~(unsigned)0)
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_USHORT_MIN
-+#  define PERL_USHORT_MIN ((unsigned short)0)
-+#endif
-+
-+#ifndef PERL_USHORT_MAX
-+#  ifdef USHORT_MAX
-+#    define PERL_USHORT_MAX ((unsigned short)USHORT_MAX)
-+#  else
-+#    ifdef MAXUSHORT
-+#      define PERL_USHORT_MAX ((unsigned short)MAXUSHORT)
-+#    else
-+#      ifdef USHRT_MAX
-+#        define PERL_USHORT_MAX ((unsigned short)USHRT_MAX)
-+#      else
-+#        define PERL_USHORT_MAX ((unsigned short)~(unsigned)0)
-+#      endif
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_SHORT_MAX
-+#  ifdef SHORT_MAX
-+#    define PERL_SHORT_MAX ((short)SHORT_MAX)
-+#  else
-+#    ifdef MAXSHORT    /* Often used in <values.h> */
-+#      define PERL_SHORT_MAX ((short)MAXSHORT)
-+#    else
-+#      ifdef SHRT_MAX
-+#        define PERL_SHORT_MAX ((short)SHRT_MAX)
-+#      else
-+#        define PERL_SHORT_MAX ((short) (PERL_USHORT_MAX >> 1))
-+#      endif
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_SHORT_MIN
-+#  ifdef SHORT_MIN
-+#    define PERL_SHORT_MIN ((short)SHORT_MIN)
-+#  else
-+#    ifdef MINSHORT
-+#      define PERL_SHORT_MIN ((short)MINSHORT)
-+#    else
-+#      ifdef SHRT_MIN
-+#        define PERL_SHORT_MIN ((short)SHRT_MIN)
-+#      else
-+#        define PERL_SHORT_MIN (-PERL_SHORT_MAX - ((3 & -1) == 3))
-+#      endif
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_UINT_MAX
-+#  ifdef UINT_MAX
-+#    define PERL_UINT_MAX ((unsigned int)UINT_MAX)
-+#  else
-+#    ifdef MAXUINT
-+#      define PERL_UINT_MAX ((unsigned int)MAXUINT)
-+#    else
-+#      define PERL_UINT_MAX (~(unsigned int)0)
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_UINT_MIN
-+#  define PERL_UINT_MIN ((unsigned int)0)
-+#endif
-+
-+#ifndef PERL_INT_MAX
-+#  ifdef INT_MAX
-+#    define PERL_INT_MAX ((int)INT_MAX)
-+#  else
-+#    ifdef MAXINT    /* Often used in <values.h> */
-+#      define PERL_INT_MAX ((int)MAXINT)
-+#    else
-+#      define PERL_INT_MAX ((int)(PERL_UINT_MAX >> 1))
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_INT_MIN
-+#  ifdef INT_MIN
-+#    define PERL_INT_MIN ((int)INT_MIN)
-+#  else
-+#    ifdef MININT
-+#      define PERL_INT_MIN ((int)MININT)
-+#    else
-+#      define PERL_INT_MIN (-PERL_INT_MAX - ((3 & -1) == 3))
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_ULONG_MAX
-+#  ifdef ULONG_MAX
-+#    define PERL_ULONG_MAX ((unsigned long)ULONG_MAX)
-+#  else
-+#    ifdef MAXULONG
-+#      define PERL_ULONG_MAX ((unsigned long)MAXULONG)
-+#    else
-+#      define PERL_ULONG_MAX (~(unsigned long)0)
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_ULONG_MIN
-+#  define PERL_ULONG_MIN ((unsigned long)0L)
-+#endif
-+
-+#ifndef PERL_LONG_MAX
-+#  ifdef LONG_MAX
-+#    define PERL_LONG_MAX ((long)LONG_MAX)
-+#  else
-+#    ifdef MAXLONG
-+#      define PERL_LONG_MAX ((long)MAXLONG)
-+#    else
-+#      define PERL_LONG_MAX ((long) (PERL_ULONG_MAX >> 1))
-+#    endif
-+#  endif
-+#endif
-+
-+#ifndef PERL_LONG_MIN
-+#  ifdef LONG_MIN
-+#    define PERL_LONG_MIN ((long)LONG_MIN)
-+#  else
-+#    ifdef MINLONG
-+#      define PERL_LONG_MIN ((long)MINLONG)
-+#    else
-+#      define PERL_LONG_MIN (-PERL_LONG_MAX - ((3 & -1) == 3))
-+#    endif
-+#  endif
-+#endif
-+
-+#if defined(HAS_QUAD) && (defined(convex) || defined(uts))
-+#  ifndef PERL_UQUAD_MAX
-+#    ifdef ULONGLONG_MAX
-+#      define PERL_UQUAD_MAX ((unsigned long long)ULONGLONG_MAX)
-+#    else
-+#      ifdef MAXULONGLONG
-+#        define PERL_UQUAD_MAX ((unsigned long long)MAXULONGLONG)
-+#      else
-+#        define PERL_UQUAD_MAX (~(unsigned long long)0)
-+#      endif
-+#    endif
-+#  endif
-+
-+#  ifndef PERL_UQUAD_MIN
-+#    define PERL_UQUAD_MIN ((unsigned long long)0L)
-+#  endif
-+
-+#  ifndef PERL_QUAD_MAX
-+#    ifdef LONGLONG_MAX
-+#      define PERL_QUAD_MAX ((long long)LONGLONG_MAX)
-+#    else
-+#      ifdef MAXLONGLONG
-+#        define PERL_QUAD_MAX ((long long)MAXLONGLONG)
-+#      else
-+#        define PERL_QUAD_MAX ((long long) (PERL_UQUAD_MAX >> 1))
-+#      endif
-+#    endif
-+#  endif
-+
-+#  ifndef PERL_QUAD_MIN
-+#    ifdef LONGLONG_MIN
-+#      define PERL_QUAD_MIN ((long long)LONGLONG_MIN)
-+#    else
-+#      ifdef MINLONGLONG
-+#        define PERL_QUAD_MIN ((long long)MINLONGLONG)
-+#      else
-+#        define PERL_QUAD_MIN (-PERL_QUAD_MAX - ((3 & -1) == 3))
-+#      endif
-+#    endif
-+#  endif
-+#endif
-+
-+/* This is based on code from 5.003 perl.h */
-+#ifdef HAS_QUAD
-+#  ifdef cray
-+#ifndef IVTYPE
-+#  define IVTYPE                         int
-+#endif
-+
-+#ifndef IV_MIN
-+#  define IV_MIN                         PERL_INT_MIN
-+#endif
-+
-+#ifndef IV_MAX
-+#  define IV_MAX                         PERL_INT_MAX
-+#endif
-+
-+#ifndef UV_MIN
-+#  define UV_MIN                         PERL_UINT_MIN
-+#endif
-+
-+#ifndef UV_MAX
-+#  define UV_MAX                         PERL_UINT_MAX
-+#endif
-+
-+#    ifdef INTSIZE
-+#ifndef IVSIZE
-+#  define IVSIZE                         INTSIZE
-+#endif
-+
-+#    endif
-+#  else
-+#    if defined(convex) || defined(uts)
-+#ifndef IVTYPE
-+#  define IVTYPE                         long long
-+#endif
-+
-+#ifndef IV_MIN
-+#  define IV_MIN                         PERL_QUAD_MIN
-+#endif
-+
-+#ifndef IV_MAX
-+#  define IV_MAX                         PERL_QUAD_MAX
-+#endif
-+
-+#ifndef UV_MIN
-+#  define UV_MIN                         PERL_UQUAD_MIN
-+#endif
-+
-+#ifndef UV_MAX
-+#  define UV_MAX                         PERL_UQUAD_MAX
-+#endif
-+
-+#      ifdef LONGLONGSIZE
-+#ifndef IVSIZE
-+#  define IVSIZE                         LONGLONGSIZE
-+#endif
-+
-+#      endif
-+#    else
-+#ifndef IVTYPE
-+#  define IVTYPE                         long
-+#endif
-+
-+#ifndef IV_MIN
-+#  define IV_MIN                         PERL_LONG_MIN
-+#endif
-+
-+#ifndef IV_MAX
-+#  define IV_MAX                         PERL_LONG_MAX
-+#endif
-+
-+#ifndef UV_MIN
-+#  define UV_MIN                         PERL_ULONG_MIN
-+#endif
-+
-+#ifndef UV_MAX
-+#  define UV_MAX                         PERL_ULONG_MAX
-+#endif
-+
-+#      ifdef LONGSIZE
-+#ifndef IVSIZE
-+#  define IVSIZE                         LONGSIZE
-+#endif
-+
-+#      endif
-+#    endif
-+#  endif
-+#ifndef IVSIZE
-+#  define IVSIZE                         8
-+#endif
-+
-+#ifndef LONGSIZE
-+#  define LONGSIZE                       8
-+#endif
-+
-+#ifndef PERL_QUAD_MIN
-+#  define PERL_QUAD_MIN                  IV_MIN
-+#endif
-+
-+#ifndef PERL_QUAD_MAX
-+#  define PERL_QUAD_MAX                  IV_MAX
-+#endif
-+
-+#ifndef PERL_UQUAD_MIN
-+#  define PERL_UQUAD_MIN                 UV_MIN
-+#endif
-+
-+#ifndef PERL_UQUAD_MAX
-+#  define PERL_UQUAD_MAX                 UV_MAX
-+#endif
-+
-+#else
-+#ifndef IVTYPE
-+#  define IVTYPE                         long
-+#endif
-+
-+#ifndef LONGSIZE
-+#  define LONGSIZE                       4
-+#endif
-+
-+#ifndef IV_MIN
-+#  define IV_MIN                         PERL_LONG_MIN
-+#endif
-+
-+#ifndef IV_MAX
-+#  define IV_MAX                         PERL_LONG_MAX
-+#endif
-+
-+#ifndef UV_MIN
-+#  define UV_MIN                         PERL_ULONG_MIN
-+#endif
-+
-+#ifndef UV_MAX
-+#  define UV_MAX                         PERL_ULONG_MAX
-+#endif
-+
-+#endif
-+
-+#ifndef IVSIZE
-+#  ifdef LONGSIZE
-+#    define IVSIZE LONGSIZE
-+#  else
-+#    define IVSIZE 4 /* A bold guess, but the best we can make. */
-+#  endif
-+#endif
-+#ifndef UVTYPE
-+#  define UVTYPE                         unsigned IVTYPE
-+#endif
-+
-+#ifndef UVSIZE
-+#  define UVSIZE                         IVSIZE
-+#endif
-+#ifndef sv_setuv
-+#  define sv_setuv(sv, uv)               \
-+               STMT_START {                         \
-+                 UV TeMpUv = uv;                    \
-+                 if (TeMpUv <= IV_MAX)              \
-+                   sv_setiv(sv, TeMpUv);            \
-+                 else                               \
-+                   sv_setnv(sv, (double)TeMpUv);    \
-+               } STMT_END
-+#endif
-+#ifndef newSVuv
-+#  define newSVuv(uv)                    ((uv) <= IV_MAX ? newSViv((IV)uv) : newSVnv((NV)uv))
-+#endif
-+#ifndef sv_2uv
-+#  define sv_2uv(sv)                     ((PL_Sv = (sv)), (UV) (SvNOK(PL_Sv) ? SvNV(PL_Sv) : sv_2nv(PL_Sv)))
-+#endif
-+
-+#ifndef SvUVX
-+#  define SvUVX(sv)                      ((UV)SvIVX(sv))
-+#endif
-+
-+#ifndef SvUVXx
-+#  define SvUVXx(sv)                     SvUVX(sv)
-+#endif
-+
-+#ifndef SvUV
-+#  define SvUV(sv)                       (SvIOK(sv) ? SvUVX(sv) : sv_2uv(sv))
-+#endif
-+
-+#ifndef SvUVx
-+#  define SvUVx(sv)                      ((PL_Sv = (sv)), SvUV(PL_Sv))
-+#endif
-+
-+/* Hint: sv_uv
-+ * Always use the SvUVx() macro instead of sv_uv().
-+ */
-+#ifndef sv_uv
-+#  define sv_uv(sv)                      SvUVx(sv)
-+#endif
-+
-+#if !defined(SvUOK) && defined(SvIOK_UV)
-+#  define SvUOK(sv) SvIOK_UV(sv)
-+#endif
-+#ifndef XST_mUV
-+#  define XST_mUV(i,v)                   (ST(i) = sv_2mortal(newSVuv(v))  )
-+#endif
-+
-+#ifndef XSRETURN_UV
-+#  define XSRETURN_UV(v)                 STMT_START { XST_mUV(0,v);  XSRETURN(1); } STMT_END
-+#endif
-+#ifndef PUSHu
-+#  define PUSHu(u)                       STMT_START { sv_setuv(TARG, (UV)(u)); PUSHTARG;  } STMT_END
-+#endif
-+
-+#ifndef XPUSHu
-+#  define XPUSHu(u)                      STMT_START { sv_setuv(TARG, (UV)(u)); XPUSHTARG; } STMT_END
-+#endif
-+
-+#ifdef HAS_MEMCMP
-+#ifndef memNE
-+#  define memNE(s1,s2,l)                 (memcmp(s1,s2,l))
-+#endif
-+
-+#ifndef memEQ
-+#  define memEQ(s1,s2,l)                 (!memcmp(s1,s2,l))
-+#endif
-+
-+#else
-+#ifndef memNE
-+#  define memNE(s1,s2,l)                 (bcmp(s1,s2,l))
-+#endif
-+
-+#ifndef memEQ
-+#  define memEQ(s1,s2,l)                 (!bcmp(s1,s2,l))
-+#endif
-+
-+#endif
-+#ifndef memEQs
-+#  define memEQs(s1, l, s2)              \
-+                   (sizeof(s2)-1 == l && memEQ(s1, (s2 ""), (sizeof(s2)-1)))
-+#endif
-+
-+#ifndef memNEs
-+#  define memNEs(s1, l, s2)              !memEQs(s1, l, s2)
-+#endif
-+#ifndef MoveD
-+#  define MoveD(s,d,n,t)                 memmove((char*)(d),(char*)(s), (n) * sizeof(t))
-+#endif
-+
-+#ifndef CopyD
-+#  define CopyD(s,d,n,t)                 memcpy((char*)(d),(char*)(s), (n) * sizeof(t))
-+#endif
-+
-+#ifdef HAS_MEMSET
-+#ifndef ZeroD
-+#  define ZeroD(d,n,t)                   memzero((char*)(d), (n) * sizeof(t))
-+#endif
-+
-+#else
-+#ifndef ZeroD
-+#  define ZeroD(d,n,t)                   ((void)memzero((char*)(d), (n) * sizeof(t)), d)
-+#endif
-+
-+#endif
-+#ifndef PoisonWith
-+#  define PoisonWith(d,n,t,b)            (void)memset((char*)(d), (U8)(b), (n) * sizeof(t))
-+#endif
-+
-+#ifndef PoisonNew
-+#  define PoisonNew(d,n,t)               PoisonWith(d,n,t,0xAB)
-+#endif
-+
-+#ifndef PoisonFree
-+#  define PoisonFree(d,n,t)              PoisonWith(d,n,t,0xEF)
-+#endif
-+
-+#ifndef Poison
-+#  define Poison(d,n,t)                  PoisonFree(d,n,t)
-+#endif
-+#ifndef Newx
-+#  define Newx(v,n,t)                    New(0,v,n,t)
-+#endif
-+
-+#ifndef Newxc
-+#  define Newxc(v,n,t,c)                 Newc(0,v,n,t,c)
-+#endif
-+
-+#ifndef Newxz
-+#  define Newxz(v,n,t)                   Newz(0,v,n,t)
-+#endif
-+
-+#ifndef PERL_UNUSED_DECL
-+#  ifdef HASATTRIBUTE
-+#    if (defined(__GNUC__) && defined(__cplusplus)) || defined(__INTEL_COMPILER)
-+#      define PERL_UNUSED_DECL
-+#    else
-+#      define PERL_UNUSED_DECL __attribute__((unused))
-+#    endif
-+#  else
-+#    define PERL_UNUSED_DECL
-+#  endif
-+#endif
-+
-+#ifndef PERL_UNUSED_ARG
-+#  if defined(lint) && defined(S_SPLINT_S) /* www.splint.org */
-+#    include <note.h>
-+#    define PERL_UNUSED_ARG(x) NOTE(ARGUNUSED(x))
-+#  else
-+#    define PERL_UNUSED_ARG(x) ((void)x)
-+#  endif
-+#endif
-+
-+#ifndef PERL_UNUSED_VAR
-+#  define PERL_UNUSED_VAR(x) ((void)x)
-+#endif
-+
-+#ifndef PERL_UNUSED_CONTEXT
-+#  ifdef USE_ITHREADS
-+#    define PERL_UNUSED_CONTEXT PERL_UNUSED_ARG(my_perl)
-+#  else
-+#    define PERL_UNUSED_CONTEXT
-+#  endif
-+#endif
-+#ifndef NOOP
-+#  define NOOP                           /*EMPTY*/(void)0
-+#endif
-+
-+#ifndef dNOOP
-+#  define dNOOP                          extern int /*@unused@*/ Perl___notused PERL_UNUSED_DECL
-+#endif
-+
-+#ifndef NVTYPE
-+#  if defined(USE_LONG_DOUBLE) && defined(HAS_LONG_DOUBLE)
-+#    define NVTYPE long double
-+#  else
-+#    define NVTYPE double
-+#  endif
-+typedef NVTYPE NV;
-+#endif
-+
-+#ifndef INT2PTR
-+#  if (IVSIZE == PTRSIZE) && (UVSIZE == PTRSIZE)
-+#    define PTRV                  UV
-+#    define INT2PTR(any,d)        (any)(d)
-+#  else
-+#    if PTRSIZE == LONGSIZE
-+#      define PTRV                unsigned long
-+#    else
-+#      define PTRV                unsigned
-+#    endif
-+#    define INT2PTR(any,d)        (any)(PTRV)(d)
-+#  endif
-+#endif
-+
-+#ifndef PTR2ul
-+#  if PTRSIZE == LONGSIZE
-+#    define PTR2ul(p)     (unsigned long)(p)
-+#  else
-+#    define PTR2ul(p)     INT2PTR(unsigned long,p)
-+#  endif
-+#endif
-+#ifndef PTR2nat
-+#  define PTR2nat(p)                     (PTRV)(p)
-+#endif
-+
-+#ifndef NUM2PTR
-+#  define NUM2PTR(any,d)                 (any)PTR2nat(d)
-+#endif
-+
-+#ifndef PTR2IV
-+#  define PTR2IV(p)                      INT2PTR(IV,p)
-+#endif
-+
-+#ifndef PTR2UV
-+#  define PTR2UV(p)                      INT2PTR(UV,p)
-+#endif
-+
-+#ifndef PTR2NV
-+#  define PTR2NV(p)                      NUM2PTR(NV,p)
-+#endif
-+
-+#undef START_EXTERN_C
-+#undef END_EXTERN_C
-+#undef EXTERN_C
-+#ifdef __cplusplus
-+#  define START_EXTERN_C extern "C" {
-+#  define END_EXTERN_C }
-+#  define EXTERN_C extern "C"
-+#else
-+#  define START_EXTERN_C
-+#  define END_EXTERN_C
-+#  define EXTERN_C extern
-+#endif
-+
-+#if defined(PERL_GCC_PEDANTIC)
-+#  ifndef PERL_GCC_BRACE_GROUPS_FORBIDDEN
-+#    define PERL_GCC_BRACE_GROUPS_FORBIDDEN
-+#  endif
-+#endif
-+
-+#if defined(__GNUC__) && !defined(PERL_GCC_BRACE_GROUPS_FORBIDDEN) && !defined(__cplusplus)
-+#  ifndef PERL_USE_GCC_BRACE_GROUPS
-+#    define PERL_USE_GCC_BRACE_GROUPS
-+#  endif
-+#endif
-+
-+#undef STMT_START
-+#undef STMT_END
-+#ifdef PERL_USE_GCC_BRACE_GROUPS
-+#  define STMT_START    (void)( /* gcc supports ``({ STATEMENTS; })'' */
-+#  define STMT_END      )
-+#else
-+#  if defined(VOIDFLAGS) && (VOIDFLAGS) && (defined(sun) || defined(__sun__)) && !defined(__GNUC__)
-+#    define STMT_START  if (1)
-+#    define STMT_END    else (void)0
-+#  else
-+#    define STMT_START  do
-+#    define STMT_END    while (0)
-+#  endif
-+#endif
-+#ifndef boolSV
-+#  define boolSV(b)                      ((b) ? &PL_sv_yes : &PL_sv_no)
-+#endif
-+
-+/* DEFSV appears first in 5.004_56 */
-+#ifndef DEFSV
-+#  define DEFSV                          GvSV(PL_defgv)
-+#endif
-+
-+#ifndef SAVE_DEFSV
-+#  define SAVE_DEFSV                     SAVESPTR(GvSV(PL_defgv))
-+#endif
-+
-+#ifndef DEFSV_set
-+#  define DEFSV_set(sv)                  (DEFSV = (sv))
-+#endif
-+
-+/* Older perls (<=5.003) lack AvFILLp */
-+#ifndef AvFILLp
-+#  define AvFILLp                        AvFILL
-+#endif
-+#ifndef ERRSV
-+#  define ERRSV                          get_sv("@",FALSE)
-+#endif
-+
-+/* Hint: gv_stashpvn
-+ * This function's backport doesn't support the length parameter, but
-+ * rather ignores it. Portability can only be ensured if the length
-+ * parameter is used for speed reasons, but the length can always be
-+ * correctly computed from the string argument.
-+ */
-+#ifndef gv_stashpvn
-+#  define gv_stashpvn(str,len,create)    gv_stashpv(str,create)
-+#endif
-+
-+/* Replace: 1 */
-+#ifndef get_cv
-+#  define get_cv                         perl_get_cv
-+#endif
-+
-+#ifndef get_sv
-+#  define get_sv                         perl_get_sv
-+#endif
-+
-+#ifndef get_av
-+#  define get_av                         perl_get_av
-+#endif
-+
-+#ifndef get_hv
-+#  define get_hv                         perl_get_hv
-+#endif
-+
-+/* Replace: 0 */
-+#ifndef dUNDERBAR
-+#  define dUNDERBAR                      dNOOP
-+#endif
-+
-+#ifndef UNDERBAR
-+#  define UNDERBAR                       DEFSV
-+#endif
-+#ifndef dAX
-+#  define dAX                            I32 ax = MARK - PL_stack_base + 1
-+#endif
-+
-+#ifndef dITEMS
-+#  define dITEMS                         I32 items = SP - MARK
-+#endif
-+#ifndef dXSTARG
-+#  define dXSTARG                        SV * targ = sv_newmortal()
-+#endif
-+#ifndef dAXMARK
-+#  define dAXMARK                        I32 ax = POPMARK; \
-+                               register SV ** const mark = PL_stack_base + ax++
-+#endif
-+#ifndef XSprePUSH
-+#  define XSprePUSH                      (sp = PL_stack_base + ax - 1)
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5005000)
-+#  undef XSRETURN
-+#  define XSRETURN(off)                                   \
-+      STMT_START {                                        \
-+          PL_stack_sp = PL_stack_base + ax + ((off) - 1); \
-+          return;                                         \
-+      } STMT_END
-+#endif
-+#ifndef XSPROTO
-+#  define XSPROTO(name)                  void name(pTHX_ CV* cv)
-+#endif
-+
-+#ifndef SVfARG
-+#  define SVfARG(p)                      ((void*)(p))
-+#endif
-+#ifndef PERL_ABS
-+#  define PERL_ABS(x)                    ((x) < 0 ? -(x) : (x))
-+#endif
-+#ifndef dVAR
-+#  define dVAR                           dNOOP
-+#endif
-+#ifndef SVf
-+#  define SVf                            "_"
-+#endif
-+#ifndef UTF8_MAXBYTES
-+#  define UTF8_MAXBYTES                  UTF8_MAXLEN
-+#endif
-+#ifndef CPERLscope
-+#  define CPERLscope(x)                  x
-+#endif
-+#ifndef PERL_HASH
-+#  define PERL_HASH(hash,str,len)        \
-+     STMT_START { \
-+        const char *s_PeRlHaSh = str; \
-+        I32 i_PeRlHaSh = len; \
-+        U32 hash_PeRlHaSh = 0; \
-+        while (i_PeRlHaSh--) \
-+            hash_PeRlHaSh = hash_PeRlHaSh * 33 + *s_PeRlHaSh++; \
-+        (hash) = hash_PeRlHaSh; \
-+    } STMT_END
-+#endif
-+
-+#ifndef PERLIO_FUNCS_DECL
-+# ifdef PERLIO_FUNCS_CONST
-+#  define PERLIO_FUNCS_DECL(funcs) const PerlIO_funcs funcs
-+#  define PERLIO_FUNCS_CAST(funcs) (PerlIO_funcs*)(funcs)
-+# else
-+#  define PERLIO_FUNCS_DECL(funcs) PerlIO_funcs funcs
-+#  define PERLIO_FUNCS_CAST(funcs) (funcs)
-+# endif
-+#endif
-+
-+/* provide these typedefs for older perls */
-+#if (PERL_BCDVERSION < 0x5009003)
-+
-+# ifdef ARGSproto
-+typedef OP* (CPERLscope(*Perl_ppaddr_t))(ARGSproto);
-+# else
-+typedef OP* (CPERLscope(*Perl_ppaddr_t))(pTHX);
-+# endif
-+
-+typedef OP* (CPERLscope(*Perl_check_t)) (pTHX_ OP*);
-+
-+#endif
-+#ifndef isPSXSPC
-+#  define isPSXSPC(c)                    (isSPACE(c) || (c) == '\v')
-+#endif
-+
-+#ifndef isBLANK
-+#  define isBLANK(c)                     ((c) == ' ' || (c) == '\t')
-+#endif
-+
-+#ifdef EBCDIC
-+#ifndef isALNUMC
-+#  define isALNUMC(c)                    isalnum(c)
-+#endif
-+
-+#ifndef isASCII
-+#  define isASCII(c)                     isascii(c)
-+#endif
-+
-+#ifndef isCNTRL
-+#  define isCNTRL(c)                     iscntrl(c)
-+#endif
-+
-+#ifndef isGRAPH
-+#  define isGRAPH(c)                     isgraph(c)
-+#endif
-+
-+#ifndef isPRINT
-+#  define isPRINT(c)                     isprint(c)
-+#endif
-+
-+#ifndef isPUNCT
-+#  define isPUNCT(c)                     ispunct(c)
-+#endif
-+
-+#ifndef isXDIGIT
-+#  define isXDIGIT(c)                    isxdigit(c)
-+#endif
-+
-+#else
-+# if (PERL_BCDVERSION < 0x5010000)
-+/* Hint: isPRINT
-+ * The implementation in older perl versions includes all of the
-+ * isSPACE() characters, which is wrong. The version provided by
-+ * Devel::PPPort always overrides a present buggy version.
-+ */
-+#  undef isPRINT
-+# endif
-+
-+#ifdef HAS_QUAD
-+# define WIDEST_UTYPE U64TYPE
-+#else
-+# define WIDEST_UTYPE U32
-+#endif
-+#ifndef isALNUMC
-+#  define isALNUMC(c)                    (isALPHA(c) || isDIGIT(c))
-+#endif
-+
-+#ifndef isASCII
-+#  define isASCII(c)                     ((WIDEST_UTYPE) (c) <= 127)
-+#endif
-+
-+#ifndef isCNTRL
-+#  define isCNTRL(c)                     ((WIDEST_UTYPE) (c) < ' ' || (c) == 127)
-+#endif
-+
-+#ifndef isGRAPH
-+#  define isGRAPH(c)                     (isALNUM(c) || isPUNCT(c))
-+#endif
-+
-+#ifndef isPRINT
-+#  define isPRINT(c)                     (((c) >= 32 && (c) < 127))
-+#endif
-+
-+#ifndef isPUNCT
-+#  define isPUNCT(c)                     (((c) >= 33 && (c) <= 47) || ((c) >= 58 && (c) <= 64)  || ((c) >= 91 && (c) <= 96) || ((c) >= 123 && (c) <= 126))
-+#endif
-+
-+#ifndef isXDIGIT
-+#  define isXDIGIT(c)                    (isDIGIT(c) || ((c) >= 'a' && (c) <= 'f') || ((c) >= 'A' && (c) <= 'F'))
-+#endif
-+
-+#endif
-+
-+#ifndef PERL_SIGNALS_UNSAFE_FLAG
-+
-+#define PERL_SIGNALS_UNSAFE_FLAG 0x0001
-+
-+#if (PERL_BCDVERSION < 0x5008000)
-+#  define D_PPP_PERL_SIGNALS_INIT   PERL_SIGNALS_UNSAFE_FLAG
-+#else
-+#  define D_PPP_PERL_SIGNALS_INIT   0
-+#endif
-+
-+#if defined(NEED_PL_signals)
-+static U32 DPPP_(my_PL_signals) = D_PPP_PERL_SIGNALS_INIT;
-+#elif defined(NEED_PL_signals_GLOBAL)
-+U32 DPPP_(my_PL_signals) = D_PPP_PERL_SIGNALS_INIT;
-+#else
-+extern U32 DPPP_(my_PL_signals);
-+#endif
-+#define PL_signals DPPP_(my_PL_signals)
-+
-+#endif
-+
-+/* Hint: PL_ppaddr
-+ * Calling an op via PL_ppaddr requires passing a context argument
-+ * for threaded builds. Since the context argument is different for
-+ * 5.005 perls, you can use aTHXR (supplied by ppport.h), which will
-+ * automatically be defined as the correct argument.
-+ */
-+
-+#if (PERL_BCDVERSION <= 0x5005005)
-+/* Replace: 1 */
-+#  define PL_ppaddr                 ppaddr
-+#  define PL_no_modify              no_modify
-+/* Replace: 0 */
-+#endif
-+
-+#if (PERL_BCDVERSION <= 0x5004005)
-+/* Replace: 1 */
-+#  define PL_DBsignal               DBsignal
-+#  define PL_DBsingle               DBsingle
-+#  define PL_DBsub                  DBsub
-+#  define PL_DBtrace                DBtrace
-+#  define PL_Sv                     Sv
-+#  define PL_bufend                 bufend
-+#  define PL_bufptr                 bufptr
-+#  define PL_compiling              compiling
-+#  define PL_copline                copline
-+#  define PL_curcop                 curcop
-+#  define PL_curstash               curstash
-+#  define PL_debstash               debstash
-+#  define PL_defgv                  defgv
-+#  define PL_diehook                diehook
-+#  define PL_dirty                  dirty
-+#  define PL_dowarn                 dowarn
-+#  define PL_errgv                  errgv
-+#  define PL_error_count            error_count
-+#  define PL_expect                 expect
-+#  define PL_hexdigit               hexdigit
-+#  define PL_hints                  hints
-+#  define PL_in_my                  in_my
-+#  define PL_laststatval            laststatval
-+#  define PL_lex_state              lex_state
-+#  define PL_lex_stuff              lex_stuff
-+#  define PL_linestr                linestr
-+#  define PL_na                     na
-+#  define PL_perl_destruct_level    perl_destruct_level
-+#  define PL_perldb                 perldb
-+#  define PL_rsfp_filters           rsfp_filters
-+#  define PL_rsfp                   rsfp
-+#  define PL_stack_base             stack_base
-+#  define PL_stack_sp               stack_sp
-+#  define PL_statcache              statcache
-+#  define PL_stdingv                stdingv
-+#  define PL_sv_arenaroot           sv_arenaroot
-+#  define PL_sv_no                  sv_no
-+#  define PL_sv_undef               sv_undef
-+#  define PL_sv_yes                 sv_yes
-+#  define PL_tainted                tainted
-+#  define PL_tainting               tainting
-+#  define PL_tokenbuf               tokenbuf
-+/* Replace: 0 */
-+#endif
-+
-+/* Warning: PL_parser
-+ * For perl versions earlier than 5.9.5, this is an always
-+ * non-NULL dummy. Also, it cannot be dereferenced. Don't
-+ * use it if you can avoid is and unless you absolutely know
-+ * what you're doing.
-+ * If you always check that PL_parser is non-NULL, you can
-+ * define DPPP_PL_parser_NO_DUMMY to avoid the creation of
-+ * a dummy parser structure.
-+ */
-+
-+#if (PERL_BCDVERSION >= 0x5009005)
-+# ifdef DPPP_PL_parser_NO_DUMMY
-+#  define D_PPP_my_PL_parser_var(var) ((PL_parser ? PL_parser : \
-+                (croak("panic: PL_parser == NULL in %s:%d", \
-+                       __FILE__, __LINE__), (yy_parser *) NULL))->var)
-+# else
-+#  ifdef DPPP_PL_parser_NO_DUMMY_WARNING
-+#   define D_PPP_parser_dummy_warning(var)
-+#  else
-+#   define D_PPP_parser_dummy_warning(var) \
-+             warn("warning: dummy PL_" #var " used in %s:%d", __FILE__, __LINE__),
-+#  endif
-+#  define D_PPP_my_PL_parser_var(var) ((PL_parser ? PL_parser : \
-+                (D_PPP_parser_dummy_warning(var) &DPPP_(dummy_PL_parser)))->var)
-+#if defined(NEED_PL_parser)
-+static yy_parser DPPP_(dummy_PL_parser);
-+#elif defined(NEED_PL_parser_GLOBAL)
-+yy_parser DPPP_(dummy_PL_parser);
-+#else
-+extern yy_parser DPPP_(dummy_PL_parser);
-+#endif
-+
-+# endif
-+
-+/* PL_expect, PL_copline, PL_rsfp, PL_rsfp_filters, PL_linestr, PL_bufptr, PL_bufend, PL_lex_state, PL_lex_stuff, PL_tokenbuf depends on PL_parser */
-+/* Warning: PL_expect, PL_copline, PL_rsfp, PL_rsfp_filters, PL_linestr, PL_bufptr, PL_bufend, PL_lex_state, PL_lex_stuff, PL_tokenbuf
-+ * Do not use this variable unless you know exactly what you're
-+ * doint. It is internal to the perl parser and may change or even
-+ * be removed in the future. As of perl 5.9.5, you have to check
-+ * for (PL_parser != NULL) for this variable to have any effect.
-+ * An always non-NULL PL_parser dummy is provided for earlier
-+ * perl versions.
-+ * If PL_parser is NULL when you try to access this variable, a
-+ * dummy is being accessed instead and a warning is issued unless
-+ * you define DPPP_PL_parser_NO_DUMMY_WARNING.
-+ * If DPPP_PL_parser_NO_DUMMY is defined, the code trying to access
-+ * this variable will croak with a panic message.
-+ */
-+
-+# define PL_expect         D_PPP_my_PL_parser_var(expect)
-+# define PL_copline        D_PPP_my_PL_parser_var(copline)
-+# define PL_rsfp           D_PPP_my_PL_parser_var(rsfp)
-+# define PL_rsfp_filters   D_PPP_my_PL_parser_var(rsfp_filters)
-+# define PL_linestr        D_PPP_my_PL_parser_var(linestr)
-+# define PL_bufptr         D_PPP_my_PL_parser_var(bufptr)
-+# define PL_bufend         D_PPP_my_PL_parser_var(bufend)
-+# define PL_lex_state      D_PPP_my_PL_parser_var(lex_state)
-+# define PL_lex_stuff      D_PPP_my_PL_parser_var(lex_stuff)
-+# define PL_tokenbuf       D_PPP_my_PL_parser_var(tokenbuf)
-+# define PL_in_my          D_PPP_my_PL_parser_var(in_my)
-+# define PL_in_my_stash    D_PPP_my_PL_parser_var(in_my_stash)
-+# define PL_error_count    D_PPP_my_PL_parser_var(error_count)
-+
-+
-+#else
-+
-+/* ensure that PL_parser != NULL and cannot be dereferenced */
-+# define PL_parser         ((void *) 1)
-+
-+#endif
-+#ifndef mPUSHs
-+#  define mPUSHs(s)                      PUSHs(sv_2mortal(s))
-+#endif
-+
-+#ifndef PUSHmortal
-+#  define PUSHmortal                     PUSHs(sv_newmortal())
-+#endif
-+
-+#ifndef mPUSHp
-+#  define mPUSHp(p,l)                    sv_setpvn(PUSHmortal, (p), (l))
-+#endif
-+
-+#ifndef mPUSHn
-+#  define mPUSHn(n)                      sv_setnv(PUSHmortal, (NV)(n))
-+#endif
-+
-+#ifndef mPUSHi
-+#  define mPUSHi(i)                      sv_setiv(PUSHmortal, (IV)(i))
-+#endif
-+
-+#ifndef mPUSHu
-+#  define mPUSHu(u)                      sv_setuv(PUSHmortal, (UV)(u))
-+#endif
-+#ifndef mXPUSHs
-+#  define mXPUSHs(s)                     XPUSHs(sv_2mortal(s))
-+#endif
-+
-+#ifndef XPUSHmortal
-+#  define XPUSHmortal                    XPUSHs(sv_newmortal())
-+#endif
-+
-+#ifndef mXPUSHp
-+#  define mXPUSHp(p,l)                   STMT_START { EXTEND(sp,1); sv_setpvn(PUSHmortal, (p), (l)); } STMT_END
-+#endif
-+
-+#ifndef mXPUSHn
-+#  define mXPUSHn(n)                     STMT_START { EXTEND(sp,1); sv_setnv(PUSHmortal, (NV)(n)); } STMT_END
-+#endif
-+
-+#ifndef mXPUSHi
-+#  define mXPUSHi(i)                     STMT_START { EXTEND(sp,1); sv_setiv(PUSHmortal, (IV)(i)); } STMT_END
-+#endif
-+
-+#ifndef mXPUSHu
-+#  define mXPUSHu(u)                     STMT_START { EXTEND(sp,1); sv_setuv(PUSHmortal, (UV)(u)); } STMT_END
-+#endif
-+
-+/* Replace: 1 */
-+#ifndef call_sv
-+#  define call_sv                        perl_call_sv
-+#endif
-+
-+#ifndef call_pv
-+#  define call_pv                        perl_call_pv
-+#endif
-+
-+#ifndef call_argv
-+#  define call_argv                      perl_call_argv
-+#endif
-+
-+#ifndef call_method
-+#  define call_method                    perl_call_method
-+#endif
-+#ifndef eval_sv
-+#  define eval_sv                        perl_eval_sv
-+#endif
-+
-+/* Replace: 0 */
-+#ifndef PERL_LOADMOD_DENY
-+#  define PERL_LOADMOD_DENY              0x1
-+#endif
-+
-+#ifndef PERL_LOADMOD_NOIMPORT
-+#  define PERL_LOADMOD_NOIMPORT          0x2
-+#endif
-+
-+#ifndef PERL_LOADMOD_IMPORT_OPS
-+#  define PERL_LOADMOD_IMPORT_OPS        0x4
-+#endif
-+
-+#ifndef G_METHOD
-+# define G_METHOD               64
-+# ifdef call_sv
-+#  undef call_sv
-+# endif
-+# if (PERL_BCDVERSION < 0x5006000)
-+#  define call_sv(sv, flags)  ((flags) & G_METHOD ? perl_call_method((char *) SvPV_nolen_const(sv), \
-+                                (flags) & ~G_METHOD) : perl_call_sv(sv, flags))
-+# else
-+#  define call_sv(sv, flags)  ((flags) & G_METHOD ? Perl_call_method(aTHX_ (char *) SvPV_nolen_const(sv), \
-+                                (flags) & ~G_METHOD) : Perl_call_sv(aTHX_ sv, flags))
-+# endif
-+#endif
-+
-+/* Replace perl_eval_pv with eval_pv */
-+
-+#ifndef eval_pv
-+#if defined(NEED_eval_pv)
-+static SV* DPPP_(my_eval_pv)(char *p, I32 croak_on_error);
-+static
-+#else
-+extern SV* DPPP_(my_eval_pv)(char *p, I32 croak_on_error);
-+#endif
-+
-+#ifdef eval_pv
-+#  undef eval_pv
-+#endif
-+#define eval_pv(a,b) DPPP_(my_eval_pv)(aTHX_ a,b)
-+#define Perl_eval_pv DPPP_(my_eval_pv)
-+
-+#if defined(NEED_eval_pv) || defined(NEED_eval_pv_GLOBAL)
-+
-+SV*
-+DPPP_(my_eval_pv)(char *p, I32 croak_on_error)
-+{
-+    dSP;
-+    SV* sv = newSVpv(p, 0);
-+
-+    PUSHMARK(sp);
-+    eval_sv(sv, G_SCALAR);
-+    SvREFCNT_dec(sv);
-+
-+    SPAGAIN;
-+    sv = POPs;
-+    PUTBACK;
-+
-+    if (croak_on_error && SvTRUE(GvSV(errgv)))
-+        croak(SvPVx(GvSV(errgv), na));
-+
-+    return sv;
-+}
-+
-+#endif
-+#endif
-+
-+#ifndef vload_module
-+#if defined(NEED_vload_module)
-+static void DPPP_(my_vload_module)(U32 flags, SV *name, SV *ver, va_list *args);
-+static
-+#else
-+extern void DPPP_(my_vload_module)(U32 flags, SV *name, SV *ver, va_list *args);
-+#endif
-+
-+#ifdef vload_module
-+#  undef vload_module
-+#endif
-+#define vload_module(a,b,c,d) DPPP_(my_vload_module)(aTHX_ a,b,c,d)
-+#define Perl_vload_module DPPP_(my_vload_module)
-+
-+#if defined(NEED_vload_module) || defined(NEED_vload_module_GLOBAL)
-+
-+void
-+DPPP_(my_vload_module)(U32 flags, SV *name, SV *ver, va_list *args)
-+{
-+    dTHR;
-+    dVAR;
-+    OP *veop, *imop;
-+
-+    OP * const modname = newSVOP(OP_CONST, 0, name);
-+    /* 5.005 has a somewhat hacky force_normal that doesn't croak on
-+       SvREADONLY() if PL_compling is true. Current perls take care in
-+       ck_require() to correctly turn off SvREADONLY before calling
-+       force_normal_flags(). This seems a better fix than fudging PL_compling
-+     */
-+    SvREADONLY_off(((SVOP*)modname)->op_sv);
-+    modname->op_private |= OPpCONST_BARE;
-+    if (ver) {
-+        veop = newSVOP(OP_CONST, 0, ver);
-+    }
-+    else
-+        veop = NULL;
-+    if (flags & PERL_LOADMOD_NOIMPORT) {
-+        imop = sawparens(newNULLLIST());
-+    }
-+    else if (flags & PERL_LOADMOD_IMPORT_OPS) {
-+        imop = va_arg(*args, OP*);
-+    }
-+    else {
-+        SV *sv;
-+        imop = NULL;
-+        sv = va_arg(*args, SV*);
-+        while (sv) {
-+            imop = append_elem(OP_LIST, imop, newSVOP(OP_CONST, 0, sv));
-+            sv = va_arg(*args, SV*);
-+        }
-+    }
-+    {
-+        const line_t ocopline = PL_copline;
-+        COP * const ocurcop = PL_curcop;
-+        const int oexpect = PL_expect;
-+
-+#if (PERL_BCDVERSION >= 0x5004000)
-+        utilize(!(flags & PERL_LOADMOD_DENY), start_subparse(FALSE, 0),
-+                veop, modname, imop);
-+#else
-+        utilize(!(flags & PERL_LOADMOD_DENY), start_subparse(),
-+                modname, imop);
-+#endif
-+        PL_expect = oexpect;
-+        PL_copline = ocopline;
-+        PL_curcop = ocurcop;
-+    }
-+}
-+
-+#endif
-+#endif
-+
-+#ifndef load_module
-+#if defined(NEED_load_module)
-+static void DPPP_(my_load_module)(U32 flags, SV *name, SV *ver, ...);
-+static
-+#else
-+extern void DPPP_(my_load_module)(U32 flags, SV *name, SV *ver, ...);
-+#endif
-+
-+#ifdef load_module
-+#  undef load_module
-+#endif
-+#define load_module DPPP_(my_load_module)
-+#define Perl_load_module DPPP_(my_load_module)
-+
-+#if defined(NEED_load_module) || defined(NEED_load_module_GLOBAL)
-+
-+void
-+DPPP_(my_load_module)(U32 flags, SV *name, SV *ver, ...)
-+{
-+    va_list args;
-+    va_start(args, ver);
-+    vload_module(flags, name, ver, &args);
-+    va_end(args);
-+}
-+
-+#endif
-+#endif
-+#ifndef newRV_inc
-+#  define newRV_inc(sv)                  newRV(sv)   /* Replace */
-+#endif
-+
-+#ifndef newRV_noinc
-+#if defined(NEED_newRV_noinc)
-+static SV * DPPP_(my_newRV_noinc)(SV *sv);
-+static
-+#else
-+extern SV * DPPP_(my_newRV_noinc)(SV *sv);
-+#endif
-+
-+#ifdef newRV_noinc
-+#  undef newRV_noinc
-+#endif
-+#define newRV_noinc(a) DPPP_(my_newRV_noinc)(aTHX_ a)
-+#define Perl_newRV_noinc DPPP_(my_newRV_noinc)
-+
-+#if defined(NEED_newRV_noinc) || defined(NEED_newRV_noinc_GLOBAL)
-+SV *
-+DPPP_(my_newRV_noinc)(SV *sv)
-+{
-+  SV *rv = (SV *)newRV(sv);
-+  SvREFCNT_dec(sv);
-+  return rv;
-+}
-+#endif
-+#endif
-+
-+/* Hint: newCONSTSUB
-+ * Returns a CV* as of perl-5.7.1. This return value is not supported
-+ * by Devel::PPPort.
-+ */
-+
-+/* newCONSTSUB from IO.xs is in the core starting with 5.004_63 */
-+#if (PERL_BCDVERSION < 0x5004063) && (PERL_BCDVERSION != 0x5004005)
-+#if defined(NEED_newCONSTSUB)
-+static void DPPP_(my_newCONSTSUB)(HV *stash, const char *name, SV *sv);
-+static
-+#else
-+extern void DPPP_(my_newCONSTSUB)(HV *stash, const char *name, SV *sv);
-+#endif
-+
-+#ifdef newCONSTSUB
-+#  undef newCONSTSUB
-+#endif
-+#define newCONSTSUB(a,b,c) DPPP_(my_newCONSTSUB)(aTHX_ a,b,c)
-+#define Perl_newCONSTSUB DPPP_(my_newCONSTSUB)
-+
-+#if defined(NEED_newCONSTSUB) || defined(NEED_newCONSTSUB_GLOBAL)
-+
-+/* This is just a trick to avoid a dependency of newCONSTSUB on PL_parser */
-+/* (There's no PL_parser in perl < 5.005, so this is completely safe)     */
-+#define D_PPP_PL_copline PL_copline
-+
-+void
-+DPPP_(my_newCONSTSUB)(HV *stash, const char *name, SV *sv)
-+{
-+        U32 oldhints = PL_hints;
-+        HV *old_cop_stash = PL_curcop->cop_stash;
-+        HV *old_curstash = PL_curstash;
-+        line_t oldline = PL_curcop->cop_line;
-+        PL_curcop->cop_line = D_PPP_PL_copline;
-+
-+        PL_hints &= ~HINT_BLOCK_SCOPE;
-+        if (stash)
-+                PL_curstash = PL_curcop->cop_stash = stash;
-+
-+        newSUB(
-+
-+#if   (PERL_BCDVERSION < 0x5003022)
-+                start_subparse(),
-+#elif (PERL_BCDVERSION == 0x5003022)
-+                start_subparse(0),
-+#else  /* 5.003_23  onwards */
-+                start_subparse(FALSE, 0),
-+#endif
-+
-+                newSVOP(OP_CONST, 0, newSVpv((char *) name, 0)),
-+                newSVOP(OP_CONST, 0, &PL_sv_no),   /* SvPV(&PL_sv_no) == "" -- GMB */
-+                newSTATEOP(0, Nullch, newSVOP(OP_CONST, 0, sv))
-+        );
-+
-+        PL_hints = oldhints;
-+        PL_curcop->cop_stash = old_cop_stash;
-+        PL_curstash = old_curstash;
-+        PL_curcop->cop_line = oldline;
-+}
-+#endif
-+#endif
-+
-+/*
-+ * Boilerplate macros for initializing and accessing interpreter-local
-+ * data from C.  All statics in extensions should be reworked to use
-+ * this, if you want to make the extension thread-safe.  See ext/re/re.xs
-+ * for an example of the use of these macros.
-+ *
-+ * Code that uses these macros is responsible for the following:
-+ * 1. #define MY_CXT_KEY to a unique string, e.g. "DynaLoader_guts"
-+ * 2. Declare a typedef named my_cxt_t that is a structure that contains
-+ *    all the data that needs to be interpreter-local.
-+ * 3. Use the START_MY_CXT macro after the declaration of my_cxt_t.
-+ * 4. Use the MY_CXT_INIT macro such that it is called exactly once
-+ *    (typically put in the BOOT: section).
-+ * 5. Use the members of the my_cxt_t structure everywhere as
-+ *    MY_CXT.member.
-+ * 6. Use the dMY_CXT macro (a declaration) in all the functions that
-+ *    access MY_CXT.
-+ */
-+
-+#if defined(MULTIPLICITY) || defined(PERL_OBJECT) || \
-+    defined(PERL_CAPI)    || defined(PERL_IMPLICIT_CONTEXT)
-+
-+#ifndef START_MY_CXT
-+
-+/* This must appear in all extensions that define a my_cxt_t structure,
-+ * right after the definition (i.e. at file scope).  The non-threads
-+ * case below uses it to declare the data as static. */
-+#define START_MY_CXT
-+
-+#if (PERL_BCDVERSION < 0x5004068)
-+/* Fetches the SV that keeps the per-interpreter data. */
-+#define dMY_CXT_SV \
-+        SV *my_cxt_sv = get_sv(MY_CXT_KEY, FALSE)
-+#else /* >= perl5.004_68 */
-+#define dMY_CXT_SV \
-+        SV *my_cxt_sv = *hv_fetch(PL_modglobal, MY_CXT_KEY,             \
-+                                  sizeof(MY_CXT_KEY)-1, TRUE)
-+#endif /* < perl5.004_68 */
-+
-+/* This declaration should be used within all functions that use the
-+ * interpreter-local data. */
-+#define dMY_CXT \
-+        dMY_CXT_SV;                                                     \
-+        my_cxt_t *my_cxtp = INT2PTR(my_cxt_t*,SvUV(my_cxt_sv))
-+
-+/* Creates and zeroes the per-interpreter data.
-+ * (We allocate my_cxtp in a Perl SV so that it will be released when
-+ * the interpreter goes away.) */
-+#define MY_CXT_INIT \
-+        dMY_CXT_SV;                                                     \
-+        /* newSV() allocates one more than needed */                    \
-+        my_cxt_t *my_cxtp = (my_cxt_t*)SvPVX(newSV(sizeof(my_cxt_t)-1));\
-+        Zero(my_cxtp, 1, my_cxt_t);                                     \
-+        sv_setuv(my_cxt_sv, PTR2UV(my_cxtp))
-+
-+/* This macro must be used to access members of the my_cxt_t structure.
-+ * e.g. MYCXT.some_data */
-+#define MY_CXT          (*my_cxtp)
-+
-+/* Judicious use of these macros can reduce the number of times dMY_CXT
-+ * is used.  Use is similar to pTHX, aTHX etc. */
-+#define pMY_CXT         my_cxt_t *my_cxtp
-+#define pMY_CXT_        pMY_CXT,
-+#define _pMY_CXT        ,pMY_CXT
-+#define aMY_CXT         my_cxtp
-+#define aMY_CXT_        aMY_CXT,
-+#define _aMY_CXT        ,aMY_CXT
-+
-+#endif /* START_MY_CXT */
-+
-+#ifndef MY_CXT_CLONE
-+/* Clones the per-interpreter data. */
-+#define MY_CXT_CLONE \
-+        dMY_CXT_SV;                                                     \
-+        my_cxt_t *my_cxtp = (my_cxt_t*)SvPVX(newSV(sizeof(my_cxt_t)-1));\
-+        Copy(INT2PTR(my_cxt_t*, SvUV(my_cxt_sv)), my_cxtp, 1, my_cxt_t);\
-+        sv_setuv(my_cxt_sv, PTR2UV(my_cxtp))
-+#endif
-+
-+#else /* single interpreter */
-+
-+#ifndef START_MY_CXT
-+
-+#define START_MY_CXT    static my_cxt_t my_cxt;
-+#define dMY_CXT_SV      dNOOP
-+#define dMY_CXT         dNOOP
-+#define MY_CXT_INIT     NOOP
-+#define MY_CXT          my_cxt
-+
-+#define pMY_CXT         void
-+#define pMY_CXT_
-+#define _pMY_CXT
-+#define aMY_CXT
-+#define aMY_CXT_
-+#define _aMY_CXT
-+
-+#endif /* START_MY_CXT */
-+
-+#ifndef MY_CXT_CLONE
-+#define MY_CXT_CLONE    NOOP
-+#endif
-+
-+#endif
-+
-+#ifndef IVdf
-+#  if IVSIZE == LONGSIZE
-+#    define     IVdf      "ld"
-+#    define     UVuf      "lu"
-+#    define     UVof      "lo"
-+#    define     UVxf      "lx"
-+#    define     UVXf      "lX"
-+#  elif IVSIZE == INTSIZE
-+#    define   IVdf      "d"
-+#    define   UVuf      "u"
-+#    define   UVof      "o"
-+#    define   UVxf      "x"
-+#    define   UVXf      "X"
-+#  else
-+#    error "cannot define IV/UV formats"
-+#  endif
-+#endif
-+
-+#ifndef NVef
-+#  if defined(USE_LONG_DOUBLE) && defined(HAS_LONG_DOUBLE) && \
-+      defined(PERL_PRIfldbl) && (PERL_BCDVERSION != 0x5006000)
-+            /* Not very likely, but let's try anyway. */
-+#    define NVef          PERL_PRIeldbl
-+#    define NVff          PERL_PRIfldbl
-+#    define NVgf          PERL_PRIgldbl
-+#  else
-+#    define NVef          "e"
-+#    define NVff          "f"
-+#    define NVgf          "g"
-+#  endif
-+#endif
-+
-+#ifndef SvREFCNT_inc
-+#  ifdef PERL_USE_GCC_BRACE_GROUPS
-+#    define SvREFCNT_inc(sv)            \
-+      ({                                \
-+          SV * const _sv = (SV*)(sv);   \
-+          if (_sv)                      \
-+               (SvREFCNT(_sv))++;       \
-+          _sv;                          \
-+      })
-+#  else
-+#    define SvREFCNT_inc(sv)    \
-+          ((PL_Sv=(SV*)(sv)) ? (++(SvREFCNT(PL_Sv)),PL_Sv) : NULL)
-+#  endif
-+#endif
-+
-+#ifndef SvREFCNT_inc_simple
-+#  ifdef PERL_USE_GCC_BRACE_GROUPS
-+#    define SvREFCNT_inc_simple(sv)     \
-+      ({                                        \
-+          if (sv)                               \
-+               (SvREFCNT(sv))++;                \
-+          (SV *)(sv);                           \
-+      })
-+#  else
-+#    define SvREFCNT_inc_simple(sv) \
-+          ((sv) ? (SvREFCNT(sv)++,(SV*)(sv)) : NULL)
-+#  endif
-+#endif
-+
-+#ifndef SvREFCNT_inc_NN
-+#  ifdef PERL_USE_GCC_BRACE_GROUPS
-+#    define SvREFCNT_inc_NN(sv)         \
-+      ({                                        \
-+          SV * const _sv = (SV*)(sv);   \
-+          SvREFCNT(_sv)++;              \
-+          _sv;                          \
-+      })
-+#  else
-+#    define SvREFCNT_inc_NN(sv) \
-+          (PL_Sv=(SV*)(sv),++(SvREFCNT(PL_Sv)),PL_Sv)
-+#  endif
-+#endif
-+
-+#ifndef SvREFCNT_inc_void
-+#  ifdef PERL_USE_GCC_BRACE_GROUPS
-+#    define SvREFCNT_inc_void(sv)               \
-+      ({                                        \
-+          SV * const _sv = (SV*)(sv);   \
-+          if (_sv)                      \
-+              (void)(SvREFCNT(_sv)++);  \
-+      })
-+#  else
-+#    define SvREFCNT_inc_void(sv) \
-+          (void)((PL_Sv=(SV*)(sv)) ? ++(SvREFCNT(PL_Sv)) : 0)
-+#  endif
-+#endif
-+#ifndef SvREFCNT_inc_simple_void
-+#  define SvREFCNT_inc_simple_void(sv)   STMT_START { if (sv) SvREFCNT(sv)++; } STMT_END
-+#endif
-+
-+#ifndef SvREFCNT_inc_simple_NN
-+#  define SvREFCNT_inc_simple_NN(sv)     (++SvREFCNT(sv), (SV*)(sv))
-+#endif
-+
-+#ifndef SvREFCNT_inc_void_NN
-+#  define SvREFCNT_inc_void_NN(sv)       (void)(++SvREFCNT((SV*)(sv)))
-+#endif
-+
-+#ifndef SvREFCNT_inc_simple_void_NN
-+#  define SvREFCNT_inc_simple_void_NN(sv) (void)(++SvREFCNT((SV*)(sv)))
-+#endif
-+
-+#ifndef newSV_type
-+
-+#if defined(NEED_newSV_type)
-+static SV* DPPP_(my_newSV_type)(pTHX_ svtype const t);
-+static
-+#else
-+extern SV* DPPP_(my_newSV_type)(pTHX_ svtype const t);
-+#endif
-+
-+#ifdef newSV_type
-+#  undef newSV_type
-+#endif
-+#define newSV_type(a) DPPP_(my_newSV_type)(aTHX_ a)
-+#define Perl_newSV_type DPPP_(my_newSV_type)
-+
-+#if defined(NEED_newSV_type) || defined(NEED_newSV_type_GLOBAL)
-+
-+SV*
-+DPPP_(my_newSV_type)(pTHX_ svtype const t)
-+{
-+  SV* const sv = newSV(0);
-+  sv_upgrade(sv, t);
-+  return sv;
-+}
-+
-+#endif
-+
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5006000)
-+# define D_PPP_CONSTPV_ARG(x)  ((char *) (x))
-+#else
-+# define D_PPP_CONSTPV_ARG(x)  (x)
-+#endif
-+#ifndef newSVpvn
-+#  define newSVpvn(data,len)             ((data)                                              \
-+                                    ? ((len) ? newSVpv((data), (len)) : newSVpv("", 0)) \
-+                                    : newSV(0))
-+#endif
-+#ifndef newSVpvn_utf8
-+#  define newSVpvn_utf8(s, len, u)       newSVpvn_flags((s), (len), (u) ? SVf_UTF8 : 0)
-+#endif
-+#ifndef SVf_UTF8
-+#  define SVf_UTF8                       0
-+#endif
-+
-+#ifndef newSVpvn_flags
-+
-+#if defined(NEED_newSVpvn_flags)
-+static SV * DPPP_(my_newSVpvn_flags)(pTHX_ const char *s, STRLEN len, U32 flags);
-+static
-+#else
-+extern SV * DPPP_(my_newSVpvn_flags)(pTHX_ const char *s, STRLEN len, U32 flags);
-+#endif
-+
-+#ifdef newSVpvn_flags
-+#  undef newSVpvn_flags
-+#endif
-+#define newSVpvn_flags(a,b,c) DPPP_(my_newSVpvn_flags)(aTHX_ a,b,c)
-+#define Perl_newSVpvn_flags DPPP_(my_newSVpvn_flags)
-+
-+#if defined(NEED_newSVpvn_flags) || defined(NEED_newSVpvn_flags_GLOBAL)
-+
-+SV *
-+DPPP_(my_newSVpvn_flags)(pTHX_ const char *s, STRLEN len, U32 flags)
-+{
-+  SV *sv = newSVpvn(D_PPP_CONSTPV_ARG(s), len);
-+  SvFLAGS(sv) |= (flags & SVf_UTF8);
-+  return (flags & SVs_TEMP) ? sv_2mortal(sv) : sv;
-+}
-+
-+#endif
-+
-+#endif
-+
-+/* Backwards compatibility stuff... :-( */
-+#if !defined(NEED_sv_2pv_flags) && defined(NEED_sv_2pv_nolen)
-+#  define NEED_sv_2pv_flags
-+#endif
-+#if !defined(NEED_sv_2pv_flags_GLOBAL) && defined(NEED_sv_2pv_nolen_GLOBAL)
-+#  define NEED_sv_2pv_flags_GLOBAL
-+#endif
-+
-+/* Hint: sv_2pv_nolen
-+ * Use the SvPV_nolen() or SvPV_nolen_const() macros instead of sv_2pv_nolen().
-+ */
-+#ifndef sv_2pv_nolen
-+#  define sv_2pv_nolen(sv)               SvPV_nolen(sv)
-+#endif
-+
-+#ifdef SvPVbyte
-+
-+/* Hint: SvPVbyte
-+ * Does not work in perl-5.6.1, ppport.h implements a version
-+ * borrowed from perl-5.7.3.
-+ */
-+
-+#if (PERL_BCDVERSION < 0x5007000)
-+
-+#if defined(NEED_sv_2pvbyte)
-+static char * DPPP_(my_sv_2pvbyte)(pTHX_ SV *sv, STRLEN *lp);
-+static
-+#else
-+extern char * DPPP_(my_sv_2pvbyte)(pTHX_ SV *sv, STRLEN *lp);
-+#endif
-+
-+#ifdef sv_2pvbyte
-+#  undef sv_2pvbyte
-+#endif
-+#define sv_2pvbyte(a,b) DPPP_(my_sv_2pvbyte)(aTHX_ a,b)
-+#define Perl_sv_2pvbyte DPPP_(my_sv_2pvbyte)
-+
-+#if defined(NEED_sv_2pvbyte) || defined(NEED_sv_2pvbyte_GLOBAL)
-+
-+char *
-+DPPP_(my_sv_2pvbyte)(pTHX_ SV *sv, STRLEN *lp)
-+{
-+  sv_utf8_downgrade(sv,0);
-+  return SvPV(sv,*lp);
-+}
-+
-+#endif
-+
-+/* Hint: sv_2pvbyte
-+ * Use the SvPVbyte() macro instead of sv_2pvbyte().
-+ */
-+
-+#undef SvPVbyte
-+
-+#define SvPVbyte(sv, lp)                                                \
-+        ((SvFLAGS(sv) & (SVf_POK|SVf_UTF8)) == (SVf_POK)                \
-+         ? ((lp = SvCUR(sv)), SvPVX(sv)) : sv_2pvbyte(sv, &lp))
-+
-+#endif
-+
-+#else
-+
-+#  define SvPVbyte          SvPV
-+#  define sv_2pvbyte        sv_2pv
-+
-+#endif
-+#ifndef sv_2pvbyte_nolen
-+#  define sv_2pvbyte_nolen(sv)           sv_2pv_nolen(sv)
-+#endif
-+
-+/* Hint: sv_pvn
-+ * Always use the SvPV() macro instead of sv_pvn().
-+ */
-+
-+/* Hint: sv_pvn_force
-+ * Always use the SvPV_force() macro instead of sv_pvn_force().
-+ */
-+
-+/* If these are undefined, they're not handled by the core anyway */
-+#ifndef SV_IMMEDIATE_UNREF
-+#  define SV_IMMEDIATE_UNREF             0
-+#endif
-+
-+#ifndef SV_GMAGIC
-+#  define SV_GMAGIC                      0
-+#endif
-+
-+#ifndef SV_COW_DROP_PV
-+#  define SV_COW_DROP_PV                 0
-+#endif
-+
-+#ifndef SV_UTF8_NO_ENCODING
-+#  define SV_UTF8_NO_ENCODING            0
-+#endif
-+
-+#ifndef SV_NOSTEAL
-+#  define SV_NOSTEAL                     0
-+#endif
-+
-+#ifndef SV_CONST_RETURN
-+#  define SV_CONST_RETURN                0
-+#endif
-+
-+#ifndef SV_MUTABLE_RETURN
-+#  define SV_MUTABLE_RETURN              0
-+#endif
-+
-+#ifndef SV_SMAGIC
-+#  define SV_SMAGIC                      0
-+#endif
-+
-+#ifndef SV_HAS_TRAILING_NUL
-+#  define SV_HAS_TRAILING_NUL            0
-+#endif
-+
-+#ifndef SV_COW_SHARED_HASH_KEYS
-+#  define SV_COW_SHARED_HASH_KEYS        0
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5007002)
-+
-+#if defined(NEED_sv_2pv_flags)
-+static char * DPPP_(my_sv_2pv_flags)(pTHX_ SV *sv, STRLEN *lp, I32 flags);
-+static
-+#else
-+extern char * DPPP_(my_sv_2pv_flags)(pTHX_ SV *sv, STRLEN *lp, I32 flags);
-+#endif
-+
-+#ifdef sv_2pv_flags
-+#  undef sv_2pv_flags
-+#endif
-+#define sv_2pv_flags(a,b,c) DPPP_(my_sv_2pv_flags)(aTHX_ a,b,c)
-+#define Perl_sv_2pv_flags DPPP_(my_sv_2pv_flags)
-+
-+#if defined(NEED_sv_2pv_flags) || defined(NEED_sv_2pv_flags_GLOBAL)
-+
-+char *
-+DPPP_(my_sv_2pv_flags)(pTHX_ SV *sv, STRLEN *lp, I32 flags)
-+{
-+  STRLEN n_a = (STRLEN) flags;
-+  return sv_2pv(sv, lp ? lp : &n_a);
-+}
-+
-+#endif
-+
-+#if defined(NEED_sv_pvn_force_flags)
-+static char * DPPP_(my_sv_pvn_force_flags)(pTHX_ SV *sv, STRLEN *lp, I32 flags);
-+static
-+#else
-+extern char * DPPP_(my_sv_pvn_force_flags)(pTHX_ SV *sv, STRLEN *lp, I32 flags);
-+#endif
-+
-+#ifdef sv_pvn_force_flags
-+#  undef sv_pvn_force_flags
-+#endif
-+#define sv_pvn_force_flags(a,b,c) DPPP_(my_sv_pvn_force_flags)(aTHX_ a,b,c)
-+#define Perl_sv_pvn_force_flags DPPP_(my_sv_pvn_force_flags)
-+
-+#if defined(NEED_sv_pvn_force_flags) || defined(NEED_sv_pvn_force_flags_GLOBAL)
-+
-+char *
-+DPPP_(my_sv_pvn_force_flags)(pTHX_ SV *sv, STRLEN *lp, I32 flags)
-+{
-+  STRLEN n_a = (STRLEN) flags;
-+  return sv_pvn_force(sv, lp ? lp : &n_a);
-+}
-+
-+#endif
-+
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5008008) || ( (PERL_BCDVERSION >= 0x5009000) && (PERL_BCDVERSION < 0x5009003) )
-+# define DPPP_SVPV_NOLEN_LP_ARG &PL_na
-+#else
-+# define DPPP_SVPV_NOLEN_LP_ARG 0
-+#endif
-+#ifndef SvPV_const
-+#  define SvPV_const(sv, lp)             SvPV_flags_const(sv, lp, SV_GMAGIC)
-+#endif
-+
-+#ifndef SvPV_mutable
-+#  define SvPV_mutable(sv, lp)           SvPV_flags_mutable(sv, lp, SV_GMAGIC)
-+#endif
-+#ifndef SvPV_flags
-+#  define SvPV_flags(sv, lp, flags)      \
-+                 ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                  ? ((lp = SvCUR(sv)), SvPVX(sv)) : sv_2pv_flags(sv, &lp, flags))
-+#endif
-+#ifndef SvPV_flags_const
-+#  define SvPV_flags_const(sv, lp, flags) \
-+                 ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                  ? ((lp = SvCUR(sv)), SvPVX_const(sv)) : \
-+                  (const char*) sv_2pv_flags(sv, &lp, flags|SV_CONST_RETURN))
-+#endif
-+#ifndef SvPV_flags_const_nolen
-+#  define SvPV_flags_const_nolen(sv, flags) \
-+                 ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                  ? SvPVX_const(sv) : \
-+                  (const char*) sv_2pv_flags(sv, DPPP_SVPV_NOLEN_LP_ARG, flags|SV_CONST_RETURN))
-+#endif
-+#ifndef SvPV_flags_mutable
-+#  define SvPV_flags_mutable(sv, lp, flags) \
-+                 ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                  ? ((lp = SvCUR(sv)), SvPVX_mutable(sv)) : \
-+                  sv_2pv_flags(sv, &lp, flags|SV_MUTABLE_RETURN))
-+#endif
-+#ifndef SvPV_force
-+#  define SvPV_force(sv, lp)             SvPV_force_flags(sv, lp, SV_GMAGIC)
-+#endif
-+
-+#ifndef SvPV_force_nolen
-+#  define SvPV_force_nolen(sv)           SvPV_force_flags_nolen(sv, SV_GMAGIC)
-+#endif
-+
-+#ifndef SvPV_force_mutable
-+#  define SvPV_force_mutable(sv, lp)     SvPV_force_flags_mutable(sv, lp, SV_GMAGIC)
-+#endif
-+
-+#ifndef SvPV_force_nomg
-+#  define SvPV_force_nomg(sv, lp)        SvPV_force_flags(sv, lp, 0)
-+#endif
-+
-+#ifndef SvPV_force_nomg_nolen
-+#  define SvPV_force_nomg_nolen(sv)      SvPV_force_flags_nolen(sv, 0)
-+#endif
-+#ifndef SvPV_force_flags
-+#  define SvPV_force_flags(sv, lp, flags) \
-+                 ((SvFLAGS(sv) & (SVf_POK|SVf_THINKFIRST)) == SVf_POK \
-+                 ? ((lp = SvCUR(sv)), SvPVX(sv)) : sv_pvn_force_flags(sv, &lp, flags))
-+#endif
-+#ifndef SvPV_force_flags_nolen
-+#  define SvPV_force_flags_nolen(sv, flags) \
-+                 ((SvFLAGS(sv) & (SVf_POK|SVf_THINKFIRST)) == SVf_POK \
-+                 ? SvPVX(sv) : sv_pvn_force_flags(sv, DPPP_SVPV_NOLEN_LP_ARG, flags))
-+#endif
-+#ifndef SvPV_force_flags_mutable
-+#  define SvPV_force_flags_mutable(sv, lp, flags) \
-+                 ((SvFLAGS(sv) & (SVf_POK|SVf_THINKFIRST)) == SVf_POK \
-+                 ? ((lp = SvCUR(sv)), SvPVX_mutable(sv)) \
-+                  : sv_pvn_force_flags(sv, &lp, flags|SV_MUTABLE_RETURN))
-+#endif
-+#ifndef SvPV_nolen
-+#  define SvPV_nolen(sv)                 \
-+                 ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                  ? SvPVX(sv) : sv_2pv_flags(sv, DPPP_SVPV_NOLEN_LP_ARG, SV_GMAGIC))
-+#endif
-+#ifndef SvPV_nolen_const
-+#  define SvPV_nolen_const(sv)           \
-+                 ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                  ? SvPVX_const(sv) : sv_2pv_flags(sv, DPPP_SVPV_NOLEN_LP_ARG, SV_GMAGIC|SV_CONST_RETURN))
-+#endif
-+#ifndef SvPV_nomg
-+#  define SvPV_nomg(sv, lp)              SvPV_flags(sv, lp, 0)
-+#endif
-+
-+#ifndef SvPV_nomg_const
-+#  define SvPV_nomg_const(sv, lp)        SvPV_flags_const(sv, lp, 0)
-+#endif
-+
-+#ifndef SvPV_nomg_const_nolen
-+#  define SvPV_nomg_const_nolen(sv)      SvPV_flags_const_nolen(sv, 0)
-+#endif
-+
-+#ifndef SvPV_nomg_nolen
-+#  define SvPV_nomg_nolen(sv)            ((SvFLAGS(sv) & (SVf_POK)) == SVf_POK \
-+                                    ? SvPVX(sv) : sv_2pv_flags(sv, DPPP_SVPV_NOLEN_LP_ARG, 0))
-+#endif
-+#ifndef SvPV_renew
-+#  define SvPV_renew(sv,n)               STMT_START { SvLEN_set(sv, n); \
-+                 SvPV_set((sv), (char *) saferealloc(          \
-+                       (Malloc_t)SvPVX(sv), (MEM_SIZE)((n)))); \
-+               } STMT_END
-+#endif
-+#ifndef SvMAGIC_set
-+#  define SvMAGIC_set(sv, val)           \
-+                STMT_START { assert(SvTYPE(sv) >= SVt_PVMG); \
-+                (((XPVMG*) SvANY(sv))->xmg_magic = (val)); } STMT_END
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5009003)
-+#ifndef SvPVX_const
-+#  define SvPVX_const(sv)                ((const char*) (0 + SvPVX(sv)))
-+#endif
-+
-+#ifndef SvPVX_mutable
-+#  define SvPVX_mutable(sv)              (0 + SvPVX(sv))
-+#endif
-+#ifndef SvRV_set
-+#  define SvRV_set(sv, val)              \
-+                STMT_START { assert(SvTYPE(sv) >=  SVt_RV); \
-+                (((XRV*) SvANY(sv))->xrv_rv = (val)); } STMT_END
-+#endif
-+
-+#else
-+#ifndef SvPVX_const
-+#  define SvPVX_const(sv)                ((const char*)((sv)->sv_u.svu_pv))
-+#endif
-+
-+#ifndef SvPVX_mutable
-+#  define SvPVX_mutable(sv)              ((sv)->sv_u.svu_pv)
-+#endif
-+#ifndef SvRV_set
-+#  define SvRV_set(sv, val)              \
-+                STMT_START { assert(SvTYPE(sv) >=  SVt_RV); \
-+                ((sv)->sv_u.svu_rv = (val)); } STMT_END
-+#endif
-+
-+#endif
-+#ifndef SvSTASH_set
-+#  define SvSTASH_set(sv, val)           \
-+                STMT_START { assert(SvTYPE(sv) >= SVt_PVMG); \
-+                (((XPVMG*) SvANY(sv))->xmg_stash = (val)); } STMT_END
-+#endif
-+
-+#if (PERL_BCDVERSION < 0x5004000)
-+#ifndef SvUV_set
-+#  define SvUV_set(sv, val)              \
-+                STMT_START { assert(SvTYPE(sv) == SVt_IV || SvTYPE(sv) >= SVt_PVIV); \
-+                (((XPVIV*) SvANY(sv))->xiv_iv = (IV) (val)); } STMT_END
-+#endif
-+
-+#else
-+#ifndef SvUV_set
-+#  define SvUV_set(sv, val)              \
-+                STMT_START { assert(SvTYPE(sv) == SVt_IV || SvTYPE(sv) >= SVt_PVIV); \
-+                (((XPVUV*) SvANY(sv))->xuv_uv = (val)); } STMT_END
-+#endif
-+
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(vnewSVpvf)
-+#if defined(NEED_vnewSVpvf)
-+static SV * DPPP_(my_vnewSVpvf)(pTHX_ const char *pat, va_list *args);
-+static
-+#else
-+extern SV * DPPP_(my_vnewSVpvf)(pTHX_ const char *pat, va_list *args);
-+#endif
-+
-+#ifdef vnewSVpvf
-+#  undef vnewSVpvf
-+#endif
-+#define vnewSVpvf(a,b) DPPP_(my_vnewSVpvf)(aTHX_ a,b)
-+#define Perl_vnewSVpvf DPPP_(my_vnewSVpvf)
-+
-+#if defined(NEED_vnewSVpvf) || defined(NEED_vnewSVpvf_GLOBAL)
-+
-+SV *
-+DPPP_(my_vnewSVpvf)(pTHX_ const char *pat, va_list *args)
-+{
-+  register SV *sv = newSV(0);
-+  sv_vsetpvfn(sv, pat, strlen(pat), args, Null(SV**), 0, Null(bool*));
-+  return sv;
-+}
-+
-+#endif
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_vcatpvf)
-+#  define sv_vcatpvf(sv, pat, args)  sv_vcatpvfn(sv, pat, strlen(pat), args, Null(SV**), 0, Null(bool*))
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_vsetpvf)
-+#  define sv_vsetpvf(sv, pat, args)  sv_vsetpvfn(sv, pat, strlen(pat), args, Null(SV**), 0, Null(bool*))
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_catpvf_mg)
-+#if defined(NEED_sv_catpvf_mg)
-+static void DPPP_(my_sv_catpvf_mg)(pTHX_ SV *sv, const char *pat, ...);
-+static
-+#else
-+extern void DPPP_(my_sv_catpvf_mg)(pTHX_ SV *sv, const char *pat, ...);
-+#endif
-+
-+#define Perl_sv_catpvf_mg DPPP_(my_sv_catpvf_mg)
-+
-+#if defined(NEED_sv_catpvf_mg) || defined(NEED_sv_catpvf_mg_GLOBAL)
-+
-+void
-+DPPP_(my_sv_catpvf_mg)(pTHX_ SV *sv, const char *pat, ...)
-+{
-+  va_list args;
-+  va_start(args, pat);
-+  sv_vcatpvfn(sv, pat, strlen(pat), &args, Null(SV**), 0, Null(bool*));
-+  SvSETMAGIC(sv);
-+  va_end(args);
-+}
-+
-+#endif
-+#endif
-+
-+#ifdef PERL_IMPLICIT_CONTEXT
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_catpvf_mg_nocontext)
-+#if defined(NEED_sv_catpvf_mg_nocontext)
-+static void DPPP_(my_sv_catpvf_mg_nocontext)(SV *sv, const char *pat, ...);
-+static
-+#else
-+extern void DPPP_(my_sv_catpvf_mg_nocontext)(SV *sv, const char *pat, ...);
-+#endif
-+
-+#define sv_catpvf_mg_nocontext DPPP_(my_sv_catpvf_mg_nocontext)
-+#define Perl_sv_catpvf_mg_nocontext DPPP_(my_sv_catpvf_mg_nocontext)
-+
-+#if defined(NEED_sv_catpvf_mg_nocontext) || defined(NEED_sv_catpvf_mg_nocontext_GLOBAL)
-+
-+void
-+DPPP_(my_sv_catpvf_mg_nocontext)(SV *sv, const char *pat, ...)
-+{
-+  dTHX;
-+  va_list args;
-+  va_start(args, pat);
-+  sv_vcatpvfn(sv, pat, strlen(pat), &args, Null(SV**), 0, Null(bool*));
-+  SvSETMAGIC(sv);
-+  va_end(args);
-+}
-+
-+#endif
-+#endif
-+#endif
-+
-+/* sv_catpvf_mg depends on sv_catpvf_mg_nocontext */
-+#ifndef sv_catpvf_mg
-+#  ifdef PERL_IMPLICIT_CONTEXT
-+#    define sv_catpvf_mg   Perl_sv_catpvf_mg_nocontext
-+#  else
-+#    define sv_catpvf_mg   Perl_sv_catpvf_mg
-+#  endif
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_vcatpvf_mg)
-+#  define sv_vcatpvf_mg(sv, pat, args)                                     \
-+   STMT_START {                                                            \
-+     sv_vcatpvfn(sv, pat, strlen(pat), args, Null(SV**), 0, Null(bool*));  \
-+     SvSETMAGIC(sv);                                                       \
-+   } STMT_END
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_setpvf_mg)
-+#if defined(NEED_sv_setpvf_mg)
-+static void DPPP_(my_sv_setpvf_mg)(pTHX_ SV *sv, const char *pat, ...);
-+static
-+#else
-+extern void DPPP_(my_sv_setpvf_mg)(pTHX_ SV *sv, const char *pat, ...);
-+#endif
-+
-+#define Perl_sv_setpvf_mg DPPP_(my_sv_setpvf_mg)
-+
-+#if defined(NEED_sv_setpvf_mg) || defined(NEED_sv_setpvf_mg_GLOBAL)
-+
-+void
-+DPPP_(my_sv_setpvf_mg)(pTHX_ SV *sv, const char *pat, ...)
-+{
-+  va_list args;
-+  va_start(args, pat);
-+  sv_vsetpvfn(sv, pat, strlen(pat), &args, Null(SV**), 0, Null(bool*));
-+  SvSETMAGIC(sv);
-+  va_end(args);
-+}
-+
-+#endif
-+#endif
-+
-+#ifdef PERL_IMPLICIT_CONTEXT
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_setpvf_mg_nocontext)
-+#if defined(NEED_sv_setpvf_mg_nocontext)
-+static void DPPP_(my_sv_setpvf_mg_nocontext)(SV *sv, const char *pat, ...);
-+static
-+#else
-+extern void DPPP_(my_sv_setpvf_mg_nocontext)(SV *sv, const char *pat, ...);
-+#endif
-+
-+#define sv_setpvf_mg_nocontext DPPP_(my_sv_setpvf_mg_nocontext)
-+#define Perl_sv_setpvf_mg_nocontext DPPP_(my_sv_setpvf_mg_nocontext)
-+
-+#if defined(NEED_sv_setpvf_mg_nocontext) || defined(NEED_sv_setpvf_mg_nocontext_GLOBAL)
-+
-+void
-+DPPP_(my_sv_setpvf_mg_nocontext)(SV *sv, const char *pat, ...)
-+{
-+  dTHX;
-+  va_list args;
-+  va_start(args, pat);
-+  sv_vsetpvfn(sv, pat, strlen(pat), &args, Null(SV**), 0, Null(bool*));
-+  SvSETMAGIC(sv);
-+  va_end(args);
-+}
-+
-+#endif
-+#endif
-+#endif
-+
-+/* sv_setpvf_mg depends on sv_setpvf_mg_nocontext */
-+#ifndef sv_setpvf_mg
-+#  ifdef PERL_IMPLICIT_CONTEXT
-+#    define sv_setpvf_mg   Perl_sv_setpvf_mg_nocontext
-+#  else
-+#    define sv_setpvf_mg   Perl_sv_setpvf_mg
-+#  endif
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(sv_vsetpvf_mg)
-+#  define sv_vsetpvf_mg(sv, pat, args)                                     \
-+   STMT_START {                                                            \
-+     sv_vsetpvfn(sv, pat, strlen(pat), args, Null(SV**), 0, Null(bool*));  \
-+     SvSETMAGIC(sv);                                                       \
-+   } STMT_END
-+#endif
-+
-+/* Hint: newSVpvn_share
-+ * The SVs created by this function only mimic the behaviour of
-+ * shared PVs without really being shared. Only use if you know
-+ * what you're doing.
-+ */
-+
-+#ifndef newSVpvn_share
-+
-+#if defined(NEED_newSVpvn_share)
-+static SV * DPPP_(my_newSVpvn_share)(pTHX_ const char *src, I32 len, U32 hash);
-+static
-+#else
-+extern SV * DPPP_(my_newSVpvn_share)(pTHX_ const char *src, I32 len, U32 hash);
-+#endif
-+
-+#ifdef newSVpvn_share
-+#  undef newSVpvn_share
-+#endif
-+#define newSVpvn_share(a,b,c) DPPP_(my_newSVpvn_share)(aTHX_ a,b,c)
-+#define Perl_newSVpvn_share DPPP_(my_newSVpvn_share)
-+
-+#if defined(NEED_newSVpvn_share) || defined(NEED_newSVpvn_share_GLOBAL)
-+
-+SV *
-+DPPP_(my_newSVpvn_share)(pTHX_ const char *src, I32 len, U32 hash)
-+{
-+  SV *sv;
-+  if (len < 0)
-+    len = -len;
-+  if (!hash)
-+    PERL_HASH(hash, (char*) src, len);
-+  sv = newSVpvn((char *) src, len);
-+  sv_upgrade(sv, SVt_PVIV);
-+  SvIVX(sv) = hash;
-+  SvREADONLY_on(sv);
-+  SvPOK_on(sv);
-+  return sv;
-+}
-+
-+#endif
-+
-+#endif
-+#ifndef SvSHARED_HASH
-+#  define SvSHARED_HASH(sv)              (0 + SvUVX(sv))
-+#endif
-+#ifndef HvNAME_get
-+#  define HvNAME_get(hv)                 HvNAME(hv)
-+#endif
-+#ifndef HvNAMELEN_get
-+#  define HvNAMELEN_get(hv)              (HvNAME_get(hv) ? (I32)strlen(HvNAME_get(hv)) : 0)
-+#endif
-+#ifndef GvSVn
-+#  define GvSVn(gv)                      GvSV(gv)
-+#endif
-+
-+#ifndef isGV_with_GP
-+#  define isGV_with_GP(gv)               isGV(gv)
-+#endif
-+
-+#ifndef gv_fetchpvn_flags
-+#  define gv_fetchpvn_flags(name, len, flags, svt) gv_fetchpv(name, flags, svt)
-+#endif
-+
-+#ifndef gv_fetchsv
-+#  define gv_fetchsv(name, flags, svt)   gv_fetchpv(SvPV_nolen_const(name), flags, svt)
-+#endif
-+#ifndef get_cvn_flags
-+#  define get_cvn_flags(name, namelen, flags) get_cv(name, flags)
-+#endif
-+#ifndef WARN_ALL
-+#  define WARN_ALL                       0
-+#endif
-+
-+#ifndef WARN_CLOSURE
-+#  define WARN_CLOSURE                   1
-+#endif
-+
-+#ifndef WARN_DEPRECATED
-+#  define WARN_DEPRECATED                2
-+#endif
-+
-+#ifndef WARN_EXITING
-+#  define WARN_EXITING                   3
-+#endif
-+
-+#ifndef WARN_GLOB
-+#  define WARN_GLOB                      4
-+#endif
-+
-+#ifndef WARN_IO
-+#  define WARN_IO                        5
-+#endif
-+
-+#ifndef WARN_CLOSED
-+#  define WARN_CLOSED                    6
-+#endif
-+
-+#ifndef WARN_EXEC
-+#  define WARN_EXEC                      7
-+#endif
-+
-+#ifndef WARN_LAYER
-+#  define WARN_LAYER                     8
-+#endif
-+
-+#ifndef WARN_NEWLINE
-+#  define WARN_NEWLINE                   9
-+#endif
-+
-+#ifndef WARN_PIPE
-+#  define WARN_PIPE                      10
-+#endif
-+
-+#ifndef WARN_UNOPENED
-+#  define WARN_UNOPENED                  11
-+#endif
-+
-+#ifndef WARN_MISC
-+#  define WARN_MISC                      12
-+#endif
-+
-+#ifndef WARN_NUMERIC
-+#  define WARN_NUMERIC                   13
-+#endif
-+
-+#ifndef WARN_ONCE
-+#  define WARN_ONCE                      14
-+#endif
-+
-+#ifndef WARN_OVERFLOW
-+#  define WARN_OVERFLOW                  15
-+#endif
-+
-+#ifndef WARN_PACK
-+#  define WARN_PACK                      16
-+#endif
-+
-+#ifndef WARN_PORTABLE
-+#  define WARN_PORTABLE                  17
-+#endif
-+
-+#ifndef WARN_RECURSION
-+#  define WARN_RECURSION                 18
-+#endif
-+
-+#ifndef WARN_REDEFINE
-+#  define WARN_REDEFINE                  19
-+#endif
-+
-+#ifndef WARN_REGEXP
-+#  define WARN_REGEXP                    20
-+#endif
-+
-+#ifndef WARN_SEVERE
-+#  define WARN_SEVERE                    21
-+#endif
-+
-+#ifndef WARN_DEBUGGING
-+#  define WARN_DEBUGGING                 22
-+#endif
-+
-+#ifndef WARN_INPLACE
-+#  define WARN_INPLACE                   23
-+#endif
-+
-+#ifndef WARN_INTERNAL
-+#  define WARN_INTERNAL                  24
-+#endif
-+
-+#ifndef WARN_MALLOC
-+#  define WARN_MALLOC                    25
-+#endif
-+
-+#ifndef WARN_SIGNAL
-+#  define WARN_SIGNAL                    26
-+#endif
-+
-+#ifndef WARN_SUBSTR
-+#  define WARN_SUBSTR                    27
-+#endif
-+
-+#ifndef WARN_SYNTAX
-+#  define WARN_SYNTAX                    28
-+#endif
-+
-+#ifndef WARN_AMBIGUOUS
-+#  define WARN_AMBIGUOUS                 29
-+#endif
-+
-+#ifndef WARN_BAREWORD
-+#  define WARN_BAREWORD                  30
-+#endif
-+
-+#ifndef WARN_DIGIT
-+#  define WARN_DIGIT                     31
-+#endif
-+
-+#ifndef WARN_PARENTHESIS
-+#  define WARN_PARENTHESIS               32
-+#endif
-+
-+#ifndef WARN_PRECEDENCE
-+#  define WARN_PRECEDENCE                33
-+#endif
-+
-+#ifndef WARN_PRINTF
-+#  define WARN_PRINTF                    34
-+#endif
-+
-+#ifndef WARN_PROTOTYPE
-+#  define WARN_PROTOTYPE                 35
-+#endif
-+
-+#ifndef WARN_QW
-+#  define WARN_QW                        36
-+#endif
-+
-+#ifndef WARN_RESERVED
-+#  define WARN_RESERVED                  37
-+#endif
-+
-+#ifndef WARN_SEMICOLON
-+#  define WARN_SEMICOLON                 38
-+#endif
-+
-+#ifndef WARN_TAINT
-+#  define WARN_TAINT                     39
-+#endif
-+
-+#ifndef WARN_THREADS
-+#  define WARN_THREADS                   40
-+#endif
-+
-+#ifndef WARN_UNINITIALIZED
-+#  define WARN_UNINITIALIZED             41
-+#endif
-+
-+#ifndef WARN_UNPACK
-+#  define WARN_UNPACK                    42
-+#endif
-+
-+#ifndef WARN_UNTIE
-+#  define WARN_UNTIE                     43
-+#endif
-+
-+#ifndef WARN_UTF8
-+#  define WARN_UTF8                      44
-+#endif
-+
-+#ifndef WARN_VOID
-+#  define WARN_VOID                      45
-+#endif
-+
-+#ifndef WARN_ASSERTIONS
-+#  define WARN_ASSERTIONS                46
-+#endif
-+#ifndef packWARN
-+#  define packWARN(a)                    (a)
-+#endif
-+
-+#ifndef ckWARN
-+#  ifdef G_WARN_ON
-+#    define  ckWARN(a)                  (PL_dowarn & G_WARN_ON)
-+#  else
-+#    define  ckWARN(a)                  PL_dowarn
-+#  endif
-+#endif
-+
-+#if (PERL_BCDVERSION >= 0x5004000) && !defined(warner)
-+#if defined(NEED_warner)
-+static void DPPP_(my_warner)(U32 err, const char *pat, ...);
-+static
-+#else
-+extern void DPPP_(my_warner)(U32 err, const char *pat, ...);
-+#endif
-+
-+#define Perl_warner DPPP_(my_warner)
-+
-+#if defined(NEED_warner) || defined(NEED_warner_GLOBAL)
-+
-+void
-+DPPP_(my_warner)(U32 err, const char *pat, ...)
-+{
-+  SV *sv;
-+  va_list args;
-+
-+  PERL_UNUSED_ARG(err);
-+
-+  va_start(args, pat);
-+  sv = vnewSVpvf(pat, &args);
-+  va_end(args);
-+  sv_2mortal(sv);
-+  warn("%s", SvPV_nolen(sv));
-+}
-+
-+#define warner  Perl_warner
-+
-+#define Perl_warner_nocontext  Perl_warner
-+
-+#endif
-+#endif
-+
-+/* concatenating with "" ensures that only literal strings are accepted as argument
-+ * note that STR_WITH_LEN() can't be used as argument to macros or functions that
-+ * under some configurations might be macros
-+ */
-+#ifndef STR_WITH_LEN
-+#  define STR_WITH_LEN(s)                (s ""), (sizeof(s)-1)
-+#endif
-+#ifndef newSVpvs
-+#  define newSVpvs(str)                  newSVpvn(str "", sizeof(str) - 1)
-+#endif
-+
-+#ifndef newSVpvs_flags
-+#  define newSVpvs_flags(str, flags)     newSVpvn_flags(str "", sizeof(str) - 1, flags)
-+#endif
-+
-+#ifndef newSVpvs_share
-+#  define newSVpvs_share(str)            newSVpvn_share(str "", sizeof(str) - 1, 0)
-+#endif
-+
-+#ifndef sv_catpvs
-+#  define sv_catpvs(sv, str)             sv_catpvn(sv, str "", sizeof(str) - 1)
-+#endif
-+
-+#ifndef sv_setpvs
-+#  define sv_setpvs(sv, str)             sv_setpvn(sv, str "", sizeof(str) - 1)
-+#endif
-+
-+#ifndef hv_fetchs
-+#  define hv_fetchs(hv, key, lval)       hv_fetch(hv, key "", sizeof(key) - 1, lval)
-+#endif
-+
-+#ifndef hv_stores
-+#  define hv_stores(hv, key, val)        hv_store(hv, key "", sizeof(key) - 1, val, 0)
-+#endif
-+#ifndef gv_fetchpvs
-+#  define gv_fetchpvs(name, flags, svt)  gv_fetchpvn_flags(name "", sizeof(name) - 1, flags, svt)
-+#endif
-+
-+#ifndef gv_stashpvs
-+#  define gv_stashpvs(name, flags)       gv_stashpvn(name "", sizeof(name) - 1, flags)
-+#endif
-+#ifndef get_cvs
-+#  define get_cvs(name, flags)           get_cvn_flags(name "", sizeof(name)-1, flags)
-+#endif
-+#ifndef SvGETMAGIC
-+#  define SvGETMAGIC(x)                  STMT_START { if (SvGMAGICAL(x)) mg_get(x); } STMT_END
-+#endif
-+#ifndef PERL_MAGIC_sv
-+#  define PERL_MAGIC_sv                  '\0'
-+#endif
-+
-+#ifndef PERL_MAGIC_overload
-+#  define PERL_MAGIC_overload            'A'
-+#endif
-+
-+#ifndef PERL_MAGIC_overload_elem
-+#  define PERL_MAGIC_overload_elem       'a'
-+#endif
-+
-+#ifndef PERL_MAGIC_overload_table
-+#  define PERL_MAGIC_overload_table      'c'
-+#endif
-+
-+#ifndef PERL_MAGIC_bm
-+#  define PERL_MAGIC_bm                  'B'
-+#endif
-+
-+#ifndef PERL_MAGIC_regdata
-+#  define PERL_MAGIC_regdata             'D'
-+#endif
-+
-+#ifndef PERL_MAGIC_regdatum
-+#  define PERL_MAGIC_regdatum            'd'
-+#endif
-+
-+#ifndef PERL_MAGIC_env
-+#  define PERL_MAGIC_env                 'E'
-+#endif
-+
-+#ifndef PERL_MAGIC_envelem
-+#  define PERL_MAGIC_envelem             'e'
-+#endif
-+
-+#ifndef PERL_MAGIC_fm
-+#  define PERL_MAGIC_fm                  'f'
-+#endif
-+
-+#ifndef PERL_MAGIC_regex_global
-+#  define PERL_MAGIC_regex_global        'g'
-+#endif
-+
-+#ifndef PERL_MAGIC_isa
-+#  define PERL_MAGIC_isa                 'I'
-+#endif
-+
-+#ifndef PERL_MAGIC_isaelem
-+#  define PERL_MAGIC_isaelem             'i'
-+#endif
-+
-+#ifndef PERL_MAGIC_nkeys
-+#  define PERL_MAGIC_nkeys               'k'
-+#endif
-+
-+#ifndef PERL_MAGIC_dbfile
-+#  define PERL_MAGIC_dbfile              'L'
-+#endif
-+
-+#ifndef PERL_MAGIC_dbline
-+#  define PERL_MAGIC_dbline              'l'
-+#endif
-+
-+#ifndef PERL_MAGIC_mutex
-+#  define PERL_MAGIC_mutex               'm'
-+#endif
-+
-+#ifndef PERL_MAGIC_shared
-+#  define PERL_MAGIC_shared              'N'
-+#endif
-+
-+#ifndef PERL_MAGIC_shared_scalar
-+#  define PERL_MAGIC_shared_scalar       'n'
-+#endif
-+
-+#ifndef PERL_MAGIC_collxfrm
-+#  define PERL_MAGIC_collxfrm            'o'
-+#endif
-+
-+#ifndef PERL_MAGIC_tied
-+#  define PERL_MAGIC_tied                'P'
-+#endif
-+
-+#ifndef PERL_MAGIC_tiedelem
-+#  define PERL_MAGIC_tiedelem            'p'
-+#endif
-+
-+#ifndef PERL_MAGIC_tiedscalar
-+#  define PERL_MAGIC_tiedscalar          'q'
-+#endif
-+
-+#ifndef PERL_MAGIC_qr
-+#  define PERL_MAGIC_qr                  'r'
-+#endif
-+
-+#ifndef PERL_MAGIC_sig
-+#  define PERL_MAGIC_sig                 'S'
-+#endif
-+
-+#ifndef PERL_MAGIC_sigelem
-+#  define PERL_MAGIC_sigelem             's'
-+#endif
-+
-+#ifndef PERL_MAGIC_taint
-+#  define PERL_MAGIC_taint               't'
-+#endif
-+
-+#ifndef PERL_MAGIC_uvar
-+#  define PERL_MAGIC_uvar                'U'
-+#endif
-+
-+#ifndef PERL_MAGIC_uvar_elem
-+#  define PERL_MAGIC_uvar_elem           'u'
-+#endif
-+
-+#ifndef PERL_MAGIC_vstring
-+#  define PERL_MAGIC_vstring             'V'
-+#endif
-+
-+#ifndef PERL_MAGIC_vec
-+#  define PERL_MAGIC_vec                 'v'
-+#endif
-+
-+#ifndef PERL_MAGIC_utf8
-+#  define PERL_MAGIC_utf8                'w'
-+#endif
-+
-+#ifndef PERL_MAGIC_substr
-+#  define PERL_MAGIC_substr              'x'
-+#endif
-+
-+#ifndef PERL_MAGIC_defelem
-+#  define PERL_MAGIC_defelem             'y'
-+#endif
-+
-+#ifndef PERL_MAGIC_glob
-+#  define PERL_MAGIC_glob                '*'
-+#endif
-+
-+#ifndef PERL_MAGIC_arylen
-+#  define PERL_MAGIC_arylen              '#'
-+#endif
-+
-+#ifndef PERL_MAGIC_pos
-+#  define PERL_MAGIC_pos                 '.'
-+#endif
-+
-+#ifndef PERL_MAGIC_backref
-+#  define PERL_MAGIC_backref             '<'
-+#endif
-+
-+#ifndef PERL_MAGIC_ext
-+#  define PERL_MAGIC_ext                 '~'
-+#endif
-+
-+/* That's the best we can do... */
-+#ifndef sv_catpvn_nomg
-+#  define sv_catpvn_nomg                 sv_catpvn
-+#endif
-+
-+#ifndef sv_catsv_nomg
-+#  define sv_catsv_nomg                  sv_catsv
-+#endif
-+
-+#ifndef sv_setsv_nomg
-+#  define sv_setsv_nomg                  sv_setsv
-+#endif
-+
-+#ifndef sv_pvn_nomg
-+#  define sv_pvn_nomg                    sv_pvn
-+#endif
-+
-+#ifndef SvIV_nomg
-+#  define SvIV_nomg                      SvIV
-+#endif
-+
-+#ifndef SvUV_nomg
-+#  define SvUV_nomg                      SvUV
-+#endif
-+
-+#ifndef sv_catpv_mg
-+#  define sv_catpv_mg(sv, ptr)          \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_catpv(TeMpSv,ptr);              \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_catpvn_mg
-+#  define sv_catpvn_mg(sv, ptr, len)    \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_catpvn(TeMpSv,ptr,len);         \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_catsv_mg
-+#  define sv_catsv_mg(dsv, ssv)         \
-+   STMT_START {                         \
-+     SV *TeMpSv = dsv;                  \
-+     sv_catsv(TeMpSv,ssv);              \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_setiv_mg
-+#  define sv_setiv_mg(sv, i)            \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_setiv(TeMpSv,i);                \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_setnv_mg
-+#  define sv_setnv_mg(sv, num)          \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_setnv(TeMpSv,num);              \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_setpv_mg
-+#  define sv_setpv_mg(sv, ptr)          \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_setpv(TeMpSv,ptr);              \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_setpvn_mg
-+#  define sv_setpvn_mg(sv, ptr, len)    \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_setpvn(TeMpSv,ptr,len);         \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_setsv_mg
-+#  define sv_setsv_mg(dsv, ssv)         \
-+   STMT_START {                         \
-+     SV *TeMpSv = dsv;                  \
-+     sv_setsv(TeMpSv,ssv);              \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_setuv_mg
-+#  define sv_setuv_mg(sv, i)            \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_setuv(TeMpSv,i);                \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+
-+#ifndef sv_usepvn_mg
-+#  define sv_usepvn_mg(sv, ptr, len)    \
-+   STMT_START {                         \
-+     SV *TeMpSv = sv;                   \
-+     sv_usepvn(TeMpSv,ptr,len);         \
-+     SvSETMAGIC(TeMpSv);                \
-+   } STMT_END
-+#endif
-+#ifndef SvVSTRING_mg
-+#  define SvVSTRING_mg(sv)               (SvMAGICAL(sv) ? mg_find(sv, PERL_MAGIC_vstring) : NULL)
-+#endif
-+
-+/* Hint: sv_magic_portable
-+ * This is a compatibility function that is only available with
-+ * Devel::PPPort. It is NOT in the perl core.
-+ * Its purpose is to mimic the 5.8.0 behaviour of sv_magic() when
-+ * it is being passed a name pointer with namlen == 0. In that
-+ * case, perl 5.8.0 and later store the pointer, not a copy of it.
-+ * The compatibility can be provided back to perl 5.004. With
-+ * earlier versions, the code will not compile.
-+ */
-+
-+#if (PERL_BCDVERSION < 0x5004000)
-+
-+  /* code that uses sv_magic_portable will not compile */
-+
-+#elif (PERL_BCDVERSION < 0x5008000)
-+
-+#  define sv_magic_portable(sv, obj, how, name, namlen)     \
-+   STMT_START {                                             \
-+     SV *SvMp_sv = (sv);                                    \
-+     char *SvMp_name = (char *) (name);                     \
-+     I32 SvMp_namlen = (namlen);                            \
-+     if (SvMp_name && SvMp_namlen == 0)                     \
-+     {                                                      \
-+       MAGIC *mg;                                           \
-+       sv_magic(SvMp_sv, obj, how, 0, 0);                   \
-+       mg = SvMAGIC(SvMp_sv);                               \
-+       mg->mg_len = -42; /* XXX: this is the tricky part */ \
-+       mg->mg_ptr = SvMp_name;                              \
-+     }                                                      \
-+     else                                                   \
-+     {                                                      \
-+       sv_magic(SvMp_sv, obj, how, SvMp_name, SvMp_namlen); \
-+     }                                                      \
-+   } STMT_END
-+
-+#else
-+
-+#  define sv_magic_portable(a, b, c, d, e)  sv_magic(a, b, c, d, e)
-+
-+#endif
-+
-+#ifdef USE_ITHREADS
-+#ifndef CopFILE
-+#  define CopFILE(c)                     ((c)->cop_file)
-+#endif
-+
-+#ifndef CopFILEGV
-+#  define CopFILEGV(c)                   (CopFILE(c) ? gv_fetchfile(CopFILE(c)) : Nullgv)
-+#endif
-+
-+#ifndef CopFILE_set
-+#  define CopFILE_set(c,pv)              ((c)->cop_file = savepv(pv))
-+#endif
-+
-+#ifndef CopFILESV
-+#  define CopFILESV(c)                   (CopFILE(c) ? GvSV(gv_fetchfile(CopFILE(c))) : Nullsv)
-+#endif
-+
-+#ifndef CopFILEAV
-+#  define CopFILEAV(c)                   (CopFILE(c) ? GvAV(gv_fetchfile(CopFILE(c))) : Nullav)
-+#endif
-+
-+#ifndef CopSTASHPV
-+#  define CopSTASHPV(c)                  ((c)->cop_stashpv)
-+#endif
-+
-+#ifndef CopSTASHPV_set
-+#  define CopSTASHPV_set(c,pv)           ((c)->cop_stashpv = ((pv) ? savepv(pv) : Nullch))
-+#endif
-+
-+#ifndef CopSTASH
-+#  define CopSTASH(c)                    (CopSTASHPV(c) ? gv_stashpv(CopSTASHPV(c),GV_ADD) : Nullhv)
-+#endif
-+
-+#ifndef CopSTASH_set
-+#  define CopSTASH_set(c,hv)             CopSTASHPV_set(c, (hv) ? HvNAME(hv) : Nullch)
-+#endif
-+
-+#ifndef CopSTASH_eq
-+#  define CopSTASH_eq(c,hv)              ((hv) && (CopSTASHPV(c) == HvNAME(hv) \
-+                                        || (CopSTASHPV(c) && HvNAME(hv) \
-+                                        && strEQ(CopSTASHPV(c), HvNAME(hv)))))
-+#endif
-+
-+#else
-+#ifndef CopFILEGV
-+#  define CopFILEGV(c)                   ((c)->cop_filegv)
-+#endif
-+
-+#ifndef CopFILEGV_set
-+#  define CopFILEGV_set(c,gv)            ((c)->cop_filegv = (GV*)SvREFCNT_inc(gv))
-+#endif
-+
-+#ifndef CopFILE_set
-+#  define CopFILE_set(c,pv)              CopFILEGV_set((c), gv_fetchfile(pv))
-+#endif
-+
-+#ifndef CopFILESV
-+#  define CopFILESV(c)                   (CopFILEGV(c) ? GvSV(CopFILEGV(c)) : Nullsv)
-+#endif
-+
-+#ifndef CopFILEAV
-+#  define CopFILEAV(c)                   (CopFILEGV(c) ? GvAV(CopFILEGV(c)) : Nullav)
-+#endif
-+
-+#ifndef CopFILE
-+#  define CopFILE(c)                     (CopFILESV(c) ? SvPVX(CopFILESV(c)) : Nullch)
-+#endif
-+
-+#ifndef CopSTASH
-+#  define CopSTASH(c)                    ((c)->cop_stash)
-+#endif
-+
-+#ifndef CopSTASH_set
-+#  define CopSTASH_set(c,hv)             ((c)->cop_stash = (hv))
-+#endif
-+
-+#ifndef CopSTASHPV
-+#  define CopSTASHPV(c)                  (CopSTASH(c) ? HvNAME(CopSTASH(c)) : Nullch)
-+#endif
-+
-+#ifndef CopSTASHPV_set
-+#  define CopSTASHPV_set(c,pv)           CopSTASH_set((c), gv_stashpv(pv,GV_ADD))
-+#endif
-+
-+#ifndef CopSTASH_eq
-+#  define CopSTASH_eq(c,hv)              (CopSTASH(c) == (hv))
-+#endif
-+
-+#endif /* USE_ITHREADS */
-+#ifndef IN_PERL_COMPILETIME
-+#  define IN_PERL_COMPILETIME            (PL_curcop == &PL_compiling)
-+#endif
-+
-+#ifndef IN_LOCALE_RUNTIME
-+#  define IN_LOCALE_RUNTIME              (PL_curcop->op_private & HINT_LOCALE)
-+#endif
-+
-+#ifndef IN_LOCALE_COMPILETIME
-+#  define IN_LOCALE_COMPILETIME          (PL_hints & HINT_LOCALE)
-+#endif
-+
-+#ifndef IN_LOCALE
-+#  define IN_LOCALE                      (IN_PERL_COMPILETIME ? IN_LOCALE_COMPILETIME : IN_LOCALE_RUNTIME)
-+#endif
-+#ifndef IS_NUMBER_IN_UV
-+#  define IS_NUMBER_IN_UV                0x01
-+#endif
-+
-+#ifndef IS_NUMBER_GREATER_THAN_UV_MAX
-+#  define IS_NUMBER_GREATER_THAN_UV_MAX  0x02
-+#endif
-+
-+#ifndef IS_NUMBER_NOT_INT
-+#  define IS_NUMBER_NOT_INT              0x04
-+#endif
-+
-+#ifndef IS_NUMBER_NEG
-+#  define IS_NUMBER_NEG                  0x08
-+#endif
-+
-+#ifndef IS_NUMBER_INFINITY
-+#  define IS_NUMBER_INFINITY             0x10
-+#endif
-+
-+#ifndef IS_NUMBER_NAN
-+#  define IS_NUMBER_NAN                  0x20
-+#endif
-+#ifndef GROK_NUMERIC_RADIX
-+#  define GROK_NUMERIC_RADIX(sp, send)   grok_numeric_radix(sp, send)
-+#endif
-+#ifndef PERL_SCAN_GREATER_THAN_UV_MAX
-+#  define PERL_SCAN_GREATER_THAN_UV_MAX  0x02
-+#endif
-+
-+#ifndef PERL_SCAN_SILENT_ILLDIGIT
-+#  define PERL_SCAN_SILENT_ILLDIGIT      0x04
-+#endif
-+
-+#ifndef PERL_SCAN_ALLOW_UNDERSCORES
-+#  define PERL_SCAN_ALLOW_UNDERSCORES    0x01
-+#endif
-+
-+#ifndef PERL_SCAN_DISALLOW_PREFIX
-+#  define PERL_SCAN_DISALLOW_PREFIX      0x02
-+#endif
-+
-+#ifndef grok_numeric_radix
-+#if defined(NEED_grok_numeric_radix)
-+static bool DPPP_(my_grok_numeric_radix)(pTHX_ const char ** sp, const char * send);
-+static
-+#else
-+extern bool DPPP_(my_grok_numeric_radix)(pTHX_ const char ** sp, const char * send);
-+#endif
-+
-+#ifdef grok_numeric_radix
-+#  undef grok_numeric_radix
-+#endif
-+#define grok_numeric_radix(a,b) DPPP_(my_grok_numeric_radix)(aTHX_ a,b)
-+#define Perl_grok_numeric_radix DPPP_(my_grok_numeric_radix)
-+
-+#if defined(NEED_grok_numeric_radix) || defined(NEED_grok_numeric_radix_GLOBAL)
-+bool
-+DPPP_(my_grok_numeric_radix)(pTHX_ const char **sp, const char *send)
-+{
-+#ifdef USE_LOCALE_NUMERIC
-+#ifdef PL_numeric_radix_sv
-+    if (PL_numeric_radix_sv && IN_LOCALE) {
-+        STRLEN len;
-+        char* radix = SvPV(PL_numeric_radix_sv, len);
-+        if (*sp + len <= send && memEQ(*sp, radix, len)) {
-+            *sp += len;
-+            return TRUE;
-+        }
-+    }
-+#else
-+    /* older perls don't have PL_numeric_radix_sv so the radix
-+     * must manually be requested from locale.h
-+     */
-+#include <locale.h>
-+    dTHR;  /* needed for older threaded perls */
-+    struct lconv *lc = localeconv();
-+    char *radix = lc->decimal_point;
-+    if (radix && IN_LOCALE) {
-+        STRLEN len = strlen(radix);
-+        if (*sp + len <= send && memEQ(*sp, radix, len)) {
-+            *sp += len;
-+            return TRUE;
-+        }
-+    }
-+#endif
-+#endif /* USE_LOCALE_NUMERIC */
-+    /* always try "." if numeric radix didn't match because
-+     * we may have data from different locales mixed */
-+    if (*sp < send && **sp == '.') {
-+        ++*sp;
-+        return TRUE;
-+    }
-+    return FALSE;
-+}
-+#endif
-+#endif
-+
-+#ifndef grok_number
-+#if defined(NEED_grok_number)
-+static int DPPP_(my_grok_number)(pTHX_ const char * pv, STRLEN len, UV * valuep);
-+static
-+#else
-+extern int DPPP_(my_grok_number)(pTHX_ const char * pv, STRLEN len, UV * valuep);
-+#endif
-+
-+#ifdef grok_number
-+#  undef grok_number
-+#endif
-+#define grok_number(a,b,c) DPPP_(my_grok_number)(aTHX_ a,b,c)
-+#define Perl_grok_number DPPP_(my_grok_number)
-+
-+#if defined(NEED_grok_number) || defined(NEED_grok_number_GLOBAL)
-+int
-+DPPP_(my_grok_number)(pTHX_ const char *pv, STRLEN len, UV *valuep)
-+{
-+  const char *s = pv;
-+  const char *send = pv + len;
-+  const UV max_div_10 = UV_MAX / 10;
-+  const char max_mod_10 = UV_MAX % 10;
-+  int numtype = 0;
-+  int sawinf = 0;
-+  int sawnan = 0;
-+
-+  while (s < send && isSPACE(*s))
-+    s++;
-+  if (s == send) {
-+    return 0;
-+  } else if (*s == '-') {
-+    s++;
-+    numtype = IS_NUMBER_NEG;
-+  }
-+  else if (*s == '+')
-+  s++;
-+
-+  if (s == send)
-+    return 0;
-+
-+  /* next must be digit or the radix separator or beginning of infinity */
-+  if (isDIGIT(*s)) {
-+    /* UVs are at least 32 bits, so the first 9 decimal digits cannot
-+       overflow.  */
-+    UV value = *s - '0';
-+    /* This construction seems to be more optimiser friendly.
-+       (without it gcc does the isDIGIT test and the *s - '0' separately)
-+       With it gcc on arm is managing 6 instructions (6 cycles) per digit.
-+       In theory the optimiser could deduce how far to unroll the loop
-+       before checking for overflow.  */
-+    if (++s < send) {
-+      int digit = *s - '0';
-+      if (digit >= 0 && digit <= 9) {
-+        value = value * 10 + digit;
-+        if (++s < send) {
-+          digit = *s - '0';
-+          if (digit >= 0 && digit <= 9) {
-+            value = value * 10 + digit;
-+            if (++s < send) {
-+              digit = *s - '0';
-+              if (digit >= 0 && digit <= 9) {
-+                value = value * 10 + digit;
-+                if (++s < send) {
-+                  digit = *s - '0';
-+                  if (digit >= 0 && digit <= 9) {
-+                    value = value * 10 + digit;
-+                    if (++s < send) {
-+                      digit = *s - '0';
-+                      if (digit >= 0 && digit <= 9) {
-+                        value = value * 10 + digit;
-+                        if (++s < send) {
-+                          digit = *s - '0';
-+                          if (digit >= 0 && digit <= 9) {
-+                            value = value * 10 + digit;
-+                            if (++s < send) {
-+                              digit = *s - '0';
-+                              if (digit >= 0 && digit <= 9) {
-+                                value = value * 10 + digit;
-+                                if (++s < send) {
-+                                  digit = *s - '0';
-+                                  if (digit >= 0 && digit <= 9) {
-+                                    value = value * 10 + digit;
-+                                    if (++s < send) {
-+                                      /* Now got 9 digits, so need to check
-+                                         each time for overflow.  */
-+                                      digit = *s - '0';
-+                                      while (digit >= 0 && digit <= 9
-+                                             && (value < max_div_10
-+                                                 || (value == max_div_10
-+                                                     && digit <= max_mod_10))) {
-+                                        value = value * 10 + digit;
-+                                        if (++s < send)
-+                                          digit = *s - '0';
-+                                        else
-+                                          break;
-+                                      }
-+                                      if (digit >= 0 && digit <= 9
-+                                          && (s < send)) {
-+                                        /* value overflowed.
-+                                           skip the remaining digits, don't
-+                                           worry about setting *valuep.  */
-+                                        do {
-+                                          s++;
-+                                        } while (s < send && isDIGIT(*s));
-+                                        numtype |=
-+                                          IS_NUMBER_GREATER_THAN_UV_MAX;
-+                                        goto skip_value;
-+                                      }
-+                                    }
-+                                  }
-+                                }
-+                              }
-+                            }
-+                          }
-+                        }
-+                      }
-+                    }
-+                  }
-+                }
-+              }
-+            }
-+          }
-+        }
-+      }
-+    }
-+    numtype |= IS_NUMBER_IN_UV;
-+    if (valuep)
-+      *valuep = value;
-+
-+  skip_value:
-+    if (GROK_NUMERIC_RADIX(&s, send)) {
-+      numtype |= IS_NUMBER_NOT_INT;
-+      while (s < send && isDIGIT(*s))  /* optional digits after the radix */
-+        s++;
-+    }
-+  }
-+  else if (GROK_NUMERIC_RADIX(&s, send)) {
-+    numtype |= IS_NUMBER_NOT_INT | IS_NUMBER_IN_UV; /* valuep assigned below */
-+    /* no digits before the radix means we need digits after it */
-+    if (s < send && isDIGIT(*s)) {
-+      do {
-+        s++;
-+      } while (s < send && isDIGIT(*s));
-+      if (valuep) {
-+        /* integer approximation is valid - it's 0.  */
-+        *valuep = 0;
-+      }
-+    }
-+    else
-+      return 0;
-+  } else if (*s == 'I' || *s == 'i') {
-+    s++; if (s == send || (*s != 'N' && *s != 'n')) return 0;
-+    s++; if (s == send || (*s != 'F' && *s != 'f')) return 0;
-+    s++; if (s < send && (*s == 'I' || *s == 'i')) {
-+      s++; if (s == send || (*s != 'N' && *s != 'n')) return 0;
-+      s++; if (s == send || (*s != 'I' && *s != 'i')) return 0;
-+      s++; if (s == send || (*s != 'T' && *s != 't')) return 0;
-+      s++; if (s == send || (*s != 'Y' && *s != 'y')) return 0;
-+      s++;
-+    }
-+    sawinf = 1;
-+  } else if (*s == 'N' || *s == 'n') {
-+    /* XXX TODO: There are signaling NaNs and quiet NaNs. */
-+    s++; if (s == send || (*s != 'A' && *s != 'a')) return 0;
-+    s++; if (s == send || (*s != 'N' && *s != 'n')) return 0;
-+    s++;
-+    sawnan = 1;
-+  } else
-+    return 0;
-+
-+  if (sawinf) {
-+    numtype &= IS_NUMBER_NEG; /* Keep track of sign  */
-+    numtype |= IS_NUMBER_INFINITY | IS_NUMBER_NOT_INT;
-+  } else if (sawnan) {
-+    numtype &= IS_NUMBER_NEG; /* Keep track of sign  */
-+    numtype |= IS_NUMBER_NAN | IS_NUMBER_NOT_INT;
-+  } else if (s < send) {
-+    /* we can have an optional exponent part */
-+    if (*s == 'e' || *s == 'E') {
-+      /* The only flag we keep is sign.  Blow away any "it's UV"  */
-+      numtype &= IS_NUMBER_NEG;
-+      numtype |= IS_NUMBER_NOT_INT;
-+      s++;
-+      if (s < send && (*s == '-' || *s == '+'))
-+        s++;
-+      if (s < send && isDIGIT(*s)) {
-+        do {
-+          s++;
-+        } while (s < send && isDIGIT(*s));
-+      }
-+      else
-+      return 0;
-+    }
-+  }
-+  while (s < send && isSPACE(*s))
-+    s++;
-+  if (s >= send)
-+    return numtype;
-+  if (len == 10 && memEQ(pv, "0 but true", 10)) {
-+    if (valuep)
-+      *valuep = 0;
-+    return IS_NUMBER_IN_UV;
-+  }
-+  return 0;
-+}
-+#endif
-+#endif
-+
-+/*
-+ * The grok_* routines have been modified to use warn() instead of
-+ * Perl_warner(). Also, 'hexdigit' was the former name of PL_hexdigit,
-+ * which is why the stack variable has been renamed to 'xdigit'.
-+ */
-+
-+#ifndef grok_bin
-+#if defined(NEED_grok_bin)
-+static UV DPPP_(my_grok_bin)(pTHX_ const char * start, STRLEN * len_p, I32 * flags, NV * result);
-+static
-+#else
-+extern UV DPPP_(my_grok_bin)(pTHX_ const char * start, STRLEN * len_p, I32 * flags, NV * result);
-+#endif
-+
-+#ifdef grok_bin
-+#  undef grok_bin
-+#endif
-+#define grok_bin(a,b,c,d) DPPP_(my_grok_bin)(aTHX_ a,b,c,d)
-+#define Perl_grok_bin DPPP_(my_grok_bin)
-+
-+#if defined(NEED_grok_bin) || defined(NEED_grok_bin_GLOBAL)
-+UV
-+DPPP_(my_grok_bin)(pTHX_ const char *start, STRLEN *len_p, I32 *flags, NV *result)
-+{
-+    const char *s = start;
-+    STRLEN len = *len_p;
-+    UV value = 0;
-+    NV value_nv = 0;
-+
-+    const UV max_div_2 = UV_MAX / 2;
-+    bool allow_underscores = *flags & PERL_SCAN_ALLOW_UNDERSCORES;
-+    bool overflowed = FALSE;
-+
-+    if (!(*flags & PERL_SCAN_DISALLOW_PREFIX)) {
-+        /* strip off leading b or 0b.
-+           for compatibility silently suffer "b" and "0b" as valid binary
-+           numbers. */
-+        if (len >= 1) {
-+            if (s[0] == 'b') {
-+                s++;
-+                len--;
-+            }
-+            else if (len >= 2 && s[0] == '0' && s[1] == 'b') {
-+                s+=2;
-+                len-=2;
-+            }
-+        }
-+    }
-+
-+    for (; len-- && *s; s++) {
-+        char bit = *s;
-+        if (bit == '0' || bit == '1') {
-+            /* Write it in this wonky order with a goto to attempt to get the
-+               compiler to make the common case integer-only loop pretty tight.
-+               With gcc seems to be much straighter code than old scan_bin.  */
-+          redo:
-+            if (!overflowed) {
-+                if (value <= max_div_2) {
-+                    value = (value << 1) | (bit - '0');
-+                    continue;
-+                }
-+                /* Bah. We're just overflowed.  */
-+                warn("Integer overflow in binary number");
-+                overflowed = TRUE;
-+                value_nv = (NV) value;
-+            }
-+            value_nv *= 2.0;
-+            /* If an NV has not enough bits in its mantissa to
-+             * represent a UV this summing of small low-order numbers
-+             * is a waste of time (because the NV cannot preserve
-+             * the low-order bits anyway): we could just remember when
-+             * did we overflow and in the end just multiply value_nv by the
-+             * right amount. */
-+            value_nv += (NV)(bit - '0');
-+            continue;
-+        }
-+        if (bit == '_' && len && allow_underscores && (bit = s[1])
-+            && (bit == '0' || bit == '1'))
-+            {
-+                --len;
-+                ++s;
-+                goto redo;
-+            }
-+        if (!(*flags & PERL_SCAN_SILENT_ILLDIGIT))
-+            warn("Illegal binary digit '%c' ignored", *s);
-+        break;
-+    }
-+
-+    if (   ( overflowed && value_nv > 4294967295.0)
-+#if UVSIZE > 4
-+        || (!overflowed && value > 0xffffffff  )
-+#endif
-+        ) {
-+        warn("Binary number > 0b11111111111111111111111111111111 non-portable");
-+    }
-+    *len_p = s - start;
-+    if (!overflowed) {
-+        *flags = 0;
-+        return value;
-+    }
-+    *flags = PERL_SCAN_GREATER_THAN_UV_MAX;
-+    if (result)
-+        *result = value_nv;
-+    return UV_MAX;
-+}
-+#endif
-+#endif
-+
-+#ifndef grok_hex
-+#if defined(NEED_grok_hex)
-+static UV DPPP_(my_grok_hex)(pTHX_ const char * start, STRLEN * len_p, I32 * flags, NV * result);
-+static
-+#else
-+extern UV DPPP_(my_grok_hex)(pTHX_ const char * start, STRLEN * len_p, I32 * flags, NV * result);
-+#endif
-+
-+#ifdef grok_hex
-+#  undef grok_hex
-+#endif
-+#define grok_hex(a,b,c,d) DPPP_(my_grok_hex)(aTHX_ a,b,c,d)
-+#define Perl_grok_hex DPPP_(my_grok_hex)
-+
-+#if defined(NEED_grok_hex) || defined(NEED_grok_hex_GLOBAL)
-+UV
-+DPPP_(my_grok_hex)(pTHX_ const char *start, STRLEN *len_p, I32 *flags, NV *result)
-+{
-+    const char *s = start;
-+    STRLEN len = *len_p;
-+    UV value = 0;
-+    NV value_nv = 0;
-+
-+    const UV max_div_16 = UV_MAX / 16;
-+    bool allow_underscores = *flags & PERL_SCAN_ALLOW_UNDERSCORES;
-+    bool overflowed = FALSE;
-+    const char *xdigit;
-+
-+    if (!(*flags & PERL_SCAN_DISALLOW_PREFIX)) {
-+        /* strip off leading x or 0x.
-+           for compatibility silently suffer "x" and "0x" as valid hex numbers.
-+        */
-+        if (len >= 1) {
-+            if (s[0] == 'x') {
-+                s++;
-+                len--;
-+            }
-+            else if (len >= 2 && s[0] == '0' && s[1] == 'x') {
-+                s+=2;
-+                len-=2;
-+            }
-+        }
-+    }
-+
-+    for (; len-- && *s; s++) {
-+        xdigit = strchr((char *) PL_hexdigit, *s);
-+        if (xdigit) {
-+            /* Write it in this wonky order with a goto to attempt to get the
-+               compiler to make the common case integer-only loop pretty tight.
-+               With gcc seems to be much straighter code than old scan_hex.  */
-+          redo:
-+            if (!overflowed) {
-+                if (value <= max_div_16) {
-+                    value = (value << 4) | ((xdigit - PL_hexdigit) & 15);
-+                    continue;
-+                }
-+                warn("Integer overflow in hexadecimal number");
-+                overflowed = TRUE;
-+                value_nv = (NV) value;
-+            }
-+            value_nv *= 16.0;
-+            /* If an NV has not enough bits in its mantissa to
-+             * represent a UV this summing of small low-order numbers
-+             * is a waste of time (because the NV cannot preserve
-+             * the low-order bits anyway): we could just remember when
-+             * did we overflow and in the end just multiply value_nv by the
-+             * right amount of 16-tuples. */
-+            value_nv += (NV)((xdigit - PL_hexdigit) & 15);
-+            continue;
-+        }
-+        if (*s == '_' && len && allow_underscores && s[1]
-+                && (xdigit = strchr((char *) PL_hexdigit, s[1])))
-+            {
-+                --len;
-+                ++s;
-+                goto redo;
-+            }
-+        if (!(*flags & PERL_SCAN_SILENT_ILLDIGIT))
-+            warn("Illegal hexadecimal digit '%c' ignored", *s);
-+        break;
-+    }
-+
-+    if (   ( overflowed && value_nv > 4294967295.0)
-+#if UVSIZE > 4
-+        || (!overflowed && value > 0xffffffff  )
-+#endif
-+        ) {
-+        warn("Hexadecimal number > 0xffffffff non-portable");
-+    }
-+    *len_p = s - start;
-+    if (!overflowed) {
-+        *flags = 0;
-+        return value;
-+    }
-+    *flags = PERL_SCAN_GREATER_THAN_UV_MAX;
-+    if (result)
-+        *result = value_nv;
-+    return UV_MAX;
-+}
-+#endif
-+#endif
-+
-+#ifndef grok_oct
-+#if defined(NEED_grok_oct)
-+static UV DPPP_(my_grok_oct)(pTHX_ const char * start, STRLEN * len_p, I32 * flags, NV * result);
-+static
-+#else
-+extern UV DPPP_(my_grok_oct)(pTHX_ const char * start, STRLEN * len_p, I32 * flags, NV * result);
-+#endif
-+
-+#ifdef grok_oct
-+#  undef grok_oct
-+#endif
-+#define grok_oct(a,b,c,d) DPPP_(my_grok_oct)(aTHX_ a,b,c,d)
-+#define Perl_grok_oct DPPP_(my_grok_oct)
-+
-+#if defined(NEED_grok_oct) || defined(NEED_grok_oct_GLOBAL)
-+UV
-+DPPP_(my_grok_oct)(pTHX_ const char *start, STRLEN *len_p, I32 *flags, NV *result)
-+{
-+    const char *s = start;
-+    STRLEN len = *len_p;
-+    UV value = 0;
-+    NV value_nv = 0;
-+
-+    const UV max_div_8 = UV_MAX / 8;
-+    bool allow_underscores = *flags & PERL_SCAN_ALLOW_UNDERSCORES;
-+    bool overflowed = FALSE;
-+
-+    for (; len-- && *s; s++) {
-+         /* gcc 2.95 optimiser not smart enough to figure that this subtraction
-+            out front allows slicker code.  */
-+        int digit = *s - '0';
-+        if (digit >= 0 && digit <= 7) {
-+            /* Write it in this wonky order with a goto to attempt to get the
-+               compiler to make the common case integer-only loop pretty tight.
-+            */
-+          redo:
-+            if (!overflowed) {
-+                if (value <= max_div_8) {
-+                    value = (value << 3) | digit;
-+                    continue;
-+                }
-+                /* Bah. We're just overflowed.  */
-+                warn("Integer overflow in octal number");
-+                overflowed = TRUE;
-+                value_nv = (NV) value;
-+            }
-+            value_nv *= 8.0;
-+            /* If an NV has not enough bits in its mantissa to
-+             * represent a UV this summing of small low-order numbers
-+             * is a waste of time (because the NV cannot preserve
-+             * the low-order bits anyway): we could just remember when
-+             * did we overflow and in the end just multiply value_nv by the
-+             * right amount of 8-tuples. */
-+            value_nv += (NV)digit;
-+            continue;
-+        }
-+        if (digit == ('_' - '0') && len && allow_underscores
-+            && (digit = s[1] - '0') && (digit >= 0 && digit <= 7))
-+            {
-+                --len;
-+                ++s;
-+                goto redo;
-+            }
-+        /* Allow \octal to work the DWIM way (that is, stop scanning
-+         * as soon as non-octal characters are seen, complain only iff
-+         * someone seems to want to use the digits eight and nine). */
-+        if (digit == 8 || digit == 9) {
-+            if (!(*flags & PERL_SCAN_SILENT_ILLDIGIT))
-+                warn("Illegal octal digit '%c' ignored", *s);
-+        }
-+        break;
-+    }
-+
-+    if (   ( overflowed && value_nv > 4294967295.0)
-+#if UVSIZE > 4
-+        || (!overflowed && value > 0xffffffff  )
-+#endif
-+        ) {
-+        warn("Octal number > 037777777777 non-portable");
-+    }
-+    *len_p = s - start;
-+    if (!overflowed) {
-+        *flags = 0;
-+        return value;
-+    }
-+    *flags = PERL_SCAN_GREATER_THAN_UV_MAX;
-+    if (result)
-+        *result = value_nv;
-+    return UV_MAX;
-+}
-+#endif
-+#endif
-+
-+#if !defined(my_snprintf)
-+#if defined(NEED_my_snprintf)
-+static int DPPP_(my_my_snprintf)(char * buffer, const Size_t len, const char * format, ...);
-+static
-+#else
-+extern int DPPP_(my_my_snprintf)(char * buffer, const Size_t len, const char * format, ...);
-+#endif
-+
-+#define my_snprintf DPPP_(my_my_snprintf)
-+#define Perl_my_snprintf DPPP_(my_my_snprintf)
-+
-+#if defined(NEED_my_snprintf) || defined(NEED_my_snprintf_GLOBAL)
-+
-+int
-+DPPP_(my_my_snprintf)(char *buffer, const Size_t len, const char *format, ...)
-+{
-+    dTHX;
-+    int retval;
-+    va_list ap;
-+    va_start(ap, format);
-+#ifdef HAS_VSNPRINTF
-+    retval = vsnprintf(buffer, len, format, ap);
-+#else
-+    retval = vsprintf(buffer, format, ap);
-+#endif
-+    va_end(ap);
-+    if (retval < 0 || (len > 0 && (Size_t)retval >= len))
-+        Perl_croak(aTHX_ "panic: my_snprintf buffer overflow");
-+    return retval;
-+}
-+
-+#endif
-+#endif
-+
-+#if !defined(my_sprintf)
-+#if defined(NEED_my_sprintf)
-+static int DPPP_(my_my_sprintf)(char * buffer, const char * pat, ...);
-+static
-+#else
-+extern int DPPP_(my_my_sprintf)(char * buffer, const char * pat, ...);
-+#endif
-+
-+#define my_sprintf DPPP_(my_my_sprintf)
-+#define Perl_my_sprintf DPPP_(my_my_sprintf)
-+
-+#if defined(NEED_my_sprintf) || defined(NEED_my_sprintf_GLOBAL)
-+
-+int
-+DPPP_(my_my_sprintf)(char *buffer, const char* pat, ...)
-+{
-+    va_list args;
-+    va_start(args, pat);
-+    vsprintf(buffer, pat, args);
-+    va_end(args);
-+    return strlen(buffer);
-+}
-+
-+#endif
-+#endif
-+
-+#ifdef NO_XSLOCKS
-+#  ifdef dJMPENV
-+#    define dXCPT             dJMPENV; int rEtV = 0
-+#    define XCPT_TRY_START    JMPENV_PUSH(rEtV); if (rEtV == 0)
-+#    define XCPT_TRY_END      JMPENV_POP;
-+#    define XCPT_CATCH        if (rEtV != 0)
-+#    define XCPT_RETHROW      JMPENV_JUMP(rEtV)
-+#  else
-+#    define dXCPT             Sigjmp_buf oldTOP; int rEtV = 0
-+#    define XCPT_TRY_START    Copy(top_env, oldTOP, 1, Sigjmp_buf); rEtV = Sigsetjmp(top_env, 1); if (rEtV == 0)
-+#    define XCPT_TRY_END      Copy(oldTOP, top_env, 1, Sigjmp_buf);
-+#    define XCPT_CATCH        if (rEtV != 0)
-+#    define XCPT_RETHROW      Siglongjmp(top_env, rEtV)
-+#  endif
-+#endif
-+
-+#if !defined(my_strlcat)
-+#if defined(NEED_my_strlcat)
-+static Size_t DPPP_(my_my_strlcat)(char * dst, const char * src, Size_t size);
-+static
-+#else
-+extern Size_t DPPP_(my_my_strlcat)(char * dst, const char * src, Size_t size);
-+#endif
-+
-+#define my_strlcat DPPP_(my_my_strlcat)
-+#define Perl_my_strlcat DPPP_(my_my_strlcat)
-+
-+#if defined(NEED_my_strlcat) || defined(NEED_my_strlcat_GLOBAL)
-+
-+Size_t
-+DPPP_(my_my_strlcat)(char *dst, const char *src, Size_t size)
-+{
-+    Size_t used, length, copy;
-+
-+    used = strlen(dst);
-+    length = strlen(src);
-+    if (size > 0 && used < size - 1) {
-+        copy = (length >= size - used) ? size - used - 1 : length;
-+        memcpy(dst + used, src, copy);
-+        dst[used + copy] = '\0';
-+    }
-+    return used + length;
-+}
-+#endif
-+#endif
-+
-+#if !defined(my_strlcpy)
-+#if defined(NEED_my_strlcpy)
-+static Size_t DPPP_(my_my_strlcpy)(char * dst, const char * src, Size_t size);
-+static
-+#else
-+extern Size_t DPPP_(my_my_strlcpy)(char * dst, const char * src, Size_t size);
-+#endif
-+
-+#define my_strlcpy DPPP_(my_my_strlcpy)
-+#define Perl_my_strlcpy DPPP_(my_my_strlcpy)
-+
-+#if defined(NEED_my_strlcpy) || defined(NEED_my_strlcpy_GLOBAL)
-+
-+Size_t
-+DPPP_(my_my_strlcpy)(char *dst, const char *src, Size_t size)
-+{
-+    Size_t length, copy;
-+
-+    length = strlen(src);
-+    if (size > 0) {
-+        copy = (length >= size) ? size - 1 : length;
-+        memcpy(dst, src, copy);
-+        dst[copy] = '\0';
-+    }
-+    return length;
-+}
-+
-+#endif
-+#endif
-+#ifndef PERL_PV_ESCAPE_QUOTE
-+#  define PERL_PV_ESCAPE_QUOTE           0x0001
-+#endif
-+
-+#ifndef PERL_PV_PRETTY_QUOTE
-+#  define PERL_PV_PRETTY_QUOTE           PERL_PV_ESCAPE_QUOTE
-+#endif
-+
-+#ifndef PERL_PV_PRETTY_ELLIPSES
-+#  define PERL_PV_PRETTY_ELLIPSES        0x0002
-+#endif
-+
-+#ifndef PERL_PV_PRETTY_LTGT
-+#  define PERL_PV_PRETTY_LTGT            0x0004
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_FIRSTCHAR
-+#  define PERL_PV_ESCAPE_FIRSTCHAR       0x0008
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_UNI
-+#  define PERL_PV_ESCAPE_UNI             0x0100
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_UNI_DETECT
-+#  define PERL_PV_ESCAPE_UNI_DETECT      0x0200
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_ALL
-+#  define PERL_PV_ESCAPE_ALL             0x1000
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_NOBACKSLASH
-+#  define PERL_PV_ESCAPE_NOBACKSLASH     0x2000
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_NOCLEAR
-+#  define PERL_PV_ESCAPE_NOCLEAR         0x4000
-+#endif
-+
-+#ifndef PERL_PV_ESCAPE_RE
-+#  define PERL_PV_ESCAPE_RE              0x8000
-+#endif
-+
-+#ifndef PERL_PV_PRETTY_NOCLEAR
-+#  define PERL_PV_PRETTY_NOCLEAR         PERL_PV_ESCAPE_NOCLEAR
-+#endif
-+#ifndef PERL_PV_PRETTY_DUMP
-+#  define PERL_PV_PRETTY_DUMP            PERL_PV_PRETTY_ELLIPSES|PERL_PV_PRETTY_QUOTE
-+#endif
-+
-+#ifndef PERL_PV_PRETTY_REGPROP
-+#  define PERL_PV_PRETTY_REGPROP         PERL_PV_PRETTY_ELLIPSES|PERL_PV_PRETTY_LTGT|PERL_PV_ESCAPE_RE
-+#endif
-+
-+/* Hint: pv_escape
-+ * Note that unicode functionality is only backported to
-+ * those perl versions that support it. For older perl
-+ * versions, the implementation will fall back to bytes.
-+ */
-+
-+#ifndef pv_escape
-+#if defined(NEED_pv_escape)
-+static char * DPPP_(my_pv_escape)(pTHX_ SV * dsv, char const * const str, const STRLEN count, const STRLEN max, STRLEN * const escaped, const U32 flags);
-+static
-+#else
-+extern char * DPPP_(my_pv_escape)(pTHX_ SV * dsv, char const * const str, const STRLEN count, const STRLEN max, STRLEN * const escaped, const U32 flags);
-+#endif
-+
-+#ifdef pv_escape
-+#  undef pv_escape
-+#endif
-+#define pv_escape(a,b,c,d,e,f) DPPP_(my_pv_escape)(aTHX_ a,b,c,d,e,f)
-+#define Perl_pv_escape DPPP_(my_pv_escape)
-+
-+#if defined(NEED_pv_escape) || defined(NEED_pv_escape_GLOBAL)
-+
-+char *
-+DPPP_(my_pv_escape)(pTHX_ SV *dsv, char const * const str,
-+  const STRLEN count, const STRLEN max,
-+  STRLEN * const escaped, const U32 flags)
-+{
-+    const char esc = flags & PERL_PV_ESCAPE_RE ? '%' : '\\';
-+    const char dq = flags & PERL_PV_ESCAPE_QUOTE ? '"' : esc;
-+    char octbuf[32] = "%123456789ABCDF";
-+    STRLEN wrote = 0;
-+    STRLEN chsize = 0;
-+    STRLEN readsize = 1;
-+#if defined(is_utf8_string) && defined(utf8_to_uvchr)
-+    bool isuni = flags & PERL_PV_ESCAPE_UNI ? 1 : 0;
-+#endif
-+    const char *pv  = str;
-+    const char * const end = pv + count;
-+    octbuf[0] = esc;
-+
-+    if (!(flags & PERL_PV_ESCAPE_NOCLEAR))
-+        sv_setpvs(dsv, "");
-+
-+#if defined(is_utf8_string) && defined(utf8_to_uvchr)
-+    if ((flags & PERL_PV_ESCAPE_UNI_DETECT) && is_utf8_string((U8*)pv, count))
-+        isuni = 1;
-+#endif
-+
-+    for (; pv < end && (!max || wrote < max) ; pv += readsize) {
-+        const UV u =
-+#if defined(is_utf8_string) && defined(utf8_to_uvchr)
-+                     isuni ? utf8_to_uvchr((U8*)pv, &readsize) :
-+#endif
-+                             (U8)*pv;
-+        const U8 c = (U8)u & 0xFF;
-+
-+        if (u > 255 || (flags & PERL_PV_ESCAPE_ALL)) {
-+            if (flags & PERL_PV_ESCAPE_FIRSTCHAR)
-+                chsize = my_snprintf(octbuf, sizeof octbuf,
-+                                      "%"UVxf, u);
-+            else
-+                chsize = my_snprintf(octbuf, sizeof octbuf,
-+                                      "%cx{%"UVxf"}", esc, u);
-+        } else if (flags & PERL_PV_ESCAPE_NOBACKSLASH) {
-+            chsize = 1;
-+        } else {
-+            if (c == dq || c == esc || !isPRINT(c)) {
-+                chsize = 2;
-+                switch (c) {
-+                case '\\' : /* fallthrough */
-+                case '%'  : if (c == esc)
-+                                octbuf[1] = esc;
-+                            else
-+                                chsize = 1;
-+                            break;
-+                case '\v' : octbuf[1] = 'v'; break;
-+                case '\t' : octbuf[1] = 't'; break;
-+                case '\r' : octbuf[1] = 'r'; break;
-+                case '\n' : octbuf[1] = 'n'; break;
-+                case '\f' : octbuf[1] = 'f'; break;
-+                case '"'  : if (dq == '"')
-+                                octbuf[1] = '"';
-+                            else
-+                                chsize = 1;
-+                            break;
-+                default:    chsize = my_snprintf(octbuf, sizeof octbuf,
-+                                pv < end && isDIGIT((U8)*(pv+readsize))
-+                                ? "%c%03o" : "%c%o", esc, c);
-+                }
-+            } else {
-+                chsize = 1;
-+            }
-+        }
-+        if (max && wrote + chsize > max) {
-+            break;
-+        } else if (chsize > 1) {
-+            sv_catpvn(dsv, octbuf, chsize);
-+            wrote += chsize;
-+        } else {
-+            char tmp[2];
-+            my_snprintf(tmp, sizeof tmp, "%c", c);
-+            sv_catpvn(dsv, tmp, 1);
-+            wrote++;
-+        }
-+        if (flags & PERL_PV_ESCAPE_FIRSTCHAR)
-+            break;
-+    }
-+    if (escaped != NULL)
-+        *escaped= pv - str;
-+    return SvPVX(dsv);
-+}
-+
-+#endif
-+#endif
-+
-+#ifndef pv_pretty
-+#if defined(NEED_pv_pretty)
-+static char * DPPP_(my_pv_pretty)(pTHX_ SV * dsv, char const * const str, const STRLEN count, const STRLEN max, char const * const start_color, char const * const end_color, const U32 flags);
-+static
-+#else
-+extern char * DPPP_(my_pv_pretty)(pTHX_ SV * dsv, char const * const str, const STRLEN count, const STRLEN max, char const * const start_color, char const * const end_color, const U32 flags);
-+#endif
-+
-+#ifdef pv_pretty
-+#  undef pv_pretty
-+#endif
-+#define pv_pretty(a,b,c,d,e,f,g) DPPP_(my_pv_pretty)(aTHX_ a,b,c,d,e,f,g)
-+#define Perl_pv_pretty DPPP_(my_pv_pretty)
-+
-+#if defined(NEED_pv_pretty) || defined(NEED_pv_pretty_GLOBAL)
-+
-+char *
-+DPPP_(my_pv_pretty)(pTHX_ SV *dsv, char const * const str, const STRLEN count,
-+  const STRLEN max, char const * const start_color, char const * const end_color,
-+  const U32 flags)
-+{
-+    const U8 dq = (flags & PERL_PV_PRETTY_QUOTE) ? '"' : '%';
-+    STRLEN escaped;
-+
-+    if (!(flags & PERL_PV_PRETTY_NOCLEAR))
-+        sv_setpvs(dsv, "");
-+
-+    if (dq == '"')
-+        sv_catpvs(dsv, "\"");
-+    else if (flags & PERL_PV_PRETTY_LTGT)
-+        sv_catpvs(dsv, "<");
-+
-+    if (start_color != NULL)
-+        sv_catpv(dsv, D_PPP_CONSTPV_ARG(start_color));
-+
-+    pv_escape(dsv, str, count, max, &escaped, flags | PERL_PV_ESCAPE_NOCLEAR);
-+
-+    if (end_color != NULL)
-+        sv_catpv(dsv, D_PPP_CONSTPV_ARG(end_color));
-+
-+    if (dq == '"')
-+        sv_catpvs(dsv, "\"");
-+    else if (flags & PERL_PV_PRETTY_LTGT)
-+        sv_catpvs(dsv, ">");
-+
-+    if ((flags & PERL_PV_PRETTY_ELLIPSES) && escaped < count)
-+        sv_catpvs(dsv, "...");
-+
-+    return SvPVX(dsv);
-+}
-+
-+#endif
-+#endif
-+
-+#ifndef pv_display
-+#if defined(NEED_pv_display)
-+static char * DPPP_(my_pv_display)(pTHX_ SV * dsv, const char * pv, STRLEN cur, STRLEN len, STRLEN pvlim);
-+static
-+#else
-+extern char * DPPP_(my_pv_display)(pTHX_ SV * dsv, const char * pv, STRLEN cur, STRLEN len, STRLEN pvlim);
-+#endif
-+
-+#ifdef pv_display
-+#  undef pv_display
-+#endif
-+#define pv_display(a,b,c,d,e) DPPP_(my_pv_display)(aTHX_ a,b,c,d,e)
-+#define Perl_pv_display DPPP_(my_pv_display)
-+
-+#if defined(NEED_pv_display) || defined(NEED_pv_display_GLOBAL)
-+
-+char *
-+DPPP_(my_pv_display)(pTHX_ SV *dsv, const char *pv, STRLEN cur, STRLEN len, STRLEN pvlim)
-+{
-+    pv_pretty(dsv, pv, cur, pvlim, NULL, NULL, PERL_PV_PRETTY_DUMP);
-+    if (len > cur && pv[cur] == '\0')
-+        sv_catpvs(dsv, "\\0");
-+    return SvPVX(dsv);
-+}
-+
-+#endif
-+#endif
-+
-+#endif /* _P_P_PORTABILITY_H_ */
-+
-+/* End of File ppport.h */
diff -uprN a/feeds/packages/lang/perl-xml-parser/patches/020-xml-parser-expat-lib-inc-path-anchor.patch b/feeds/packages/lang/perl-xml-parser/patches/020-xml-parser-expat-lib-inc-path-anchor.patch
--- a/feeds/packages/lang/perl-xml-parser/patches/020-xml-parser-expat-lib-inc-path-anchor.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-xml-parser/patches/020-xml-parser-expat-lib-inc-path-anchor.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/Expat/Makefile.PL
-+++ b/Expat/Makefile.PL
-@@ -2,6 +2,9 @@ use ExtUtils::MakeMaker;
- use Config;
- use English;
- 
-+$expat_libpath = '%%EXPAT_LIBPATH%%';
-+$expat_incpath = '%%EXPAT_INCPATH%%';
-+
- my $libs = "-lexpat";
- my @extras = ();
- 
diff -uprN a/feeds/packages/lang/perl-xml-parser/patches/030-expat.patch b/feeds/packages/lang/perl-xml-parser/patches/030-expat.patch
--- a/feeds/packages/lang/perl-xml-parser/patches/030-expat.patch	2023-04-14 21:27:49.468066000 +0800
+++ b/feeds/packages/lang/perl-xml-parser/patches/030-expat.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile.PL
-+++ b/Makefile.PL
-@@ -65,7 +65,7 @@ Expat_Not_Installed;
- 
-     # exiting before Makefile generation silences CPANTesters reports
-     # when expat is not available.
--    exit 0;
-+#    exit 0;
- }
- 
- if ( not $expat_libpath and $] >= 5.006001 and $^O ne 'MSWin32' ) {
diff -uprN a/feeds/packages/lang/php7/files/php7-fastcgi.config b/feeds/packages/lang/php7/files/php7-fastcgi.config
--- a/feeds/packages/lang/php7/files/php7-fastcgi.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php7-fastcgi.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,3 +0,0 @@
-config php7-fastcgi
-	option enabled 1
-	option port '1026'
diff -uprN a/feeds/packages/lang/php7/files/php7-fastcgi.init b/feeds/packages/lang/php7/files/php7-fastcgi.init
--- a/feeds/packages/lang/php7/files/php7-fastcgi.init	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php7-fastcgi.init	1970-01-01 08:00:00.000000000 +0800
@@ -1,29 +0,0 @@
-#!/bin/sh /etc/rc.common
-
-START=50
-
-SERVICE_DAEMONIZE=1
-SERVICE_WRITE_PID=1
-
-start_instance() {
-	local section="$1"
-	local enabled
-	local port
-
-	config_get_bool enabled "$section" 'enabled' 0
-	config_get port "$section" 'port'
-
-	[ $enabled -gt 0 ] || return 1
-
-	PHP_FCGI_CHILDREN='' \
-	service_start /usr/bin/php-fcgi ${port:+-b $port}
-}
-
-start() {
-	config_load 'php7-fastcgi'
-	config_foreach start_instance 'php7-fastcgi'
-}
-
-stop() {
-	service_stop /usr/bin/php-fcgi
-}
diff -uprN a/feeds/packages/lang/php7/files/php7-fpm.conf b/feeds/packages/lang/php7/files/php7-fpm.conf
--- a/feeds/packages/lang/php7/files/php7-fpm.conf	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php7-fpm.conf	1970-01-01 08:00:00.000000000 +0800
@@ -1,121 +0,0 @@
-;;;;;;;;;;;;;;;;;;;;;
-; FPM Configuration ;
-;;;;;;;;;;;;;;;;;;;;;
-
-; All relative paths in this configuration file are relative to PHP's install
-; prefix (/usr). This prefix can be dynamically changed by using the
-; '-p' argument from the command line.
-
-; Include one or more files. If glob(3) exists, it is used to include a bunch of
-; files from a glob(3) pattern. This directive can be used everywhere in the
-; file.
-; Relative path can also be used. They will be prefixed by:
-;  - the global prefix if it's been set (-p argument)
-;  - /usr otherwise
-;include=/etc/php7/fpm/*.conf
-
-;;;;;;;;;;;;;;;;;;
-; Global Options ;
-;;;;;;;;;;;;;;;;;;
-
-[global]
-; Pid file
-; Note: the default prefix is /var
-; Default Value: none
-pid = /var/run/php7-fpm.pid
-
-; Error log file
-; If it's set to "syslog", log is sent to syslogd instead of being written
-; in a local file.
-; Note: the default prefix is /var
-; Default Value: log/php-fpm.log
-error_log = /var/log/php7-fpm.log
-
-; syslog_facility is used to specify what type of program is logging the
-; message. This lets syslogd specify that messages from different facilities
-; will be handled differently.
-; See syslog(3) for possible values (ex daemon equiv LOG_DAEMON)
-; Default Value: daemon
-;syslog.facility = daemon
-
-; syslog_ident is prepended to every message. If you have multiple FPM
-; instances running on the same server, you can change the default value
-; which must suit common needs.
-; Default Value: php-fpm
-;syslog.ident = php-fpm
-
-; Log level
-; Possible Values: alert, error, warning, notice, debug
-; Default Value: notice
-;log_level = notice
-
-; If this number of child processes exit with SIGSEGV or SIGBUS within the time
-; interval set by emergency_restart_interval then FPM will restart. A value
-; of '0' means 'Off'.
-; Default Value: 0
-;emergency_restart_threshold = 0
-
-; Interval of time used by emergency_restart_interval to determine when 
-; a graceful restart will be initiated.  This can be useful to work around
-; accidental corruptions in an accelerator's shared memory.
-; Available Units: s(econds), m(inutes), h(ours), or d(ays)
-; Default Unit: seconds
-; Default Value: 0
-;emergency_restart_interval = 0
-
-; Time limit for child processes to wait for a reaction on signals from master.
-; Available units: s(econds), m(inutes), h(ours), or d(ays)
-; Default Unit: seconds
-; Default Value: 0
-;process_control_timeout = 0
-
-; The maximum number of processes FPM will fork. This has been design to control
-; the global number of processes when using dynamic PM within a lot of pools.
-; Use it with caution.
-; Note: A value of 0 indicates no limit
-; Default Value: 0
-; process.max = 128
-
-; Specify the nice(2) priority to apply to the master process (only if set)
-; The value can vary from -19 (highest priority) to 20 (lower priority)
-; Note: - It will only work if the FPM master process is launched as root
-;       - The pool process will inherit the master process priority
-;         unless it specified otherwise
-; Default Value: no set
-; process.priority = -19
-
-; Send FPM to background. Set to 'no' to keep FPM in foreground for debugging.
-; Default Value: yes
-;daemonize = yes
-
-; Set open file descriptor rlimit for the master process.
-; Default Value: system defined value
-;rlimit_files = 1024
-
-; Set max core size rlimit for the master process.
-; Possible Values: 'unlimited' or an integer greater or equal to 0
-; Default Value: system defined value
-;rlimit_core = 0
-
-; Specify the event mechanism FPM will use. The following is available:
-; - select     (any POSIX os)
-; - poll       (any POSIX os)
-; - epoll      (linux >= 2.5.44)
-; - kqueue     (FreeBSD >= 4.1, OpenBSD >= 2.9, NetBSD >= 2.0)
-; - /dev/poll  (Solaris >= 7)
-; - port       (Solaris >= 10)
-; Default Value: not set (auto detection)
-; events.mechanism = epoll
-
-;;;;;;;;;;;;;;;;;;;;
-; Pool Definitions ;
-;;;;;;;;;;;;;;;;;;;;
-
-; Multiple pools of child processes may be started with different listening
-; ports and different management options.  The name of the pool will be
-; used in logs and stats. There is no limitation on the number of pools which
-; FPM can handle. Your system will tell you anyway :)
-
-; To configure the pools it is recommended to have one .conf file per
-; pool in the following directory:
-include=/etc/php7-fpm.d/*.conf
diff -uprN a/feeds/packages/lang/php7/files/php7-fpm.config b/feeds/packages/lang/php7/files/php7-fpm.config
--- a/feeds/packages/lang/php7/files/php7-fpm.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php7-fpm.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,2 +0,0 @@
-config php7-fpm
-	option enabled 1
diff -uprN a/feeds/packages/lang/php7/files/php7-fpm.init b/feeds/packages/lang/php7/files/php7-fpm.init
--- a/feeds/packages/lang/php7/files/php7-fpm.init	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php7-fpm.init	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
-#!/bin/sh /etc/rc.common
-
-START=50
-
-PROG=/usr/bin/php-fpm
-CONFIG=/etc/php7-fpm.conf
-
-SERVICE_PID_FILE=/var/run/php7-fpm.pid
-
-start_instance() {
-	local section="$1"
-	local enabled
-
-	config_get_bool enabled "$section" 'enabled' 0
-
-	[ $enabled -gt 0 ] || return 1
-
-	service_start $PROG -y $CONFIG -g $SERVICE_PID_FILE
-}
-
-start() {
-	config_load 'php7-fpm'
-	config_foreach start_instance 'php7-fpm'
-}
-
-stop() {
-	service_stop $PROG
-}
diff -uprN a/feeds/packages/lang/php7/files/php7-fpm-www.conf b/feeds/packages/lang/php7/files/php7-fpm-www.conf
--- a/feeds/packages/lang/php7/files/php7-fpm-www.conf	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php7-fpm-www.conf	1970-01-01 08:00:00.000000000 +0800
@@ -1,392 +0,0 @@
-; Start a new pool named 'www'.
-; the variable $pool can we used in any directive and will be replaced by the
-; pool name ('www' here)
-[www]
-
-; Per pool prefix
-; It only applies on the following directives:
-; - 'slowlog'
-; - 'listen' (unixsocket)
-; - 'chroot'
-; - 'chdir'
-; - 'php_values'
-; - 'php_admin_values'
-; When not set, the global prefix (or /usr) applies instead.
-; Note: This directive can also be relative to the global prefix.
-; Default Value: none
-;prefix = /path/to/pools/$pool
-
-; Unix user/group of processes
-; Note: The user is mandatory. If the group is not set, the default user's group
-;       will be used.
-user = nobody
-;group =
-
-; The address on which to accept FastCGI requests.
-; Valid syntaxes are:
-;   'ip.add.re.ss:port'    - to listen on a TCP socket to a specific address on
-;                            a specific port;
-;   'port'                 - to listen on a TCP socket to all addresses on a
-;                            specific port;
-;   '/path/to/unix/socket' - to listen on a unix socket.
-; Note: This value is mandatory.
-listen = /var/run/php7-fpm.sock
-
-; Set listen(2) backlog.
-; Default Value: 128 (-1 on FreeBSD and OpenBSD)
-;listen.backlog = 128
-
-; Set permissions for unix socket, if one is used. In Linux, read/write
-; permissions must be set in order to allow connections from a web server. Many
-; BSD-derived systems allow connections regardless of permissions. 
-; Default Values: user and group are set as the running user
-;                 mode is set to 0666
-;listen.owner = www-data
-;listen.group = www-data
-;listen.mode = 0666
-
-; List of ipv4 addresses of FastCGI clients which are allowed to connect.
-; Equivalent to the FCGI_WEB_SERVER_ADDRS environment variable in the original
-; PHP FCGI (5.2.2+). Makes sense only with a tcp listening socket. Each address
-; must be separated by a comma. If this value is left blank, connections will be
-; accepted from any ip address.
-; Default Value: any
-;listen.allowed_clients = 127.0.0.1
-
-; Specify the nice(2) priority to apply to the pool processes (only if set)
-; The value can vary from -19 (highest priority) to 20 (lower priority)
-; Note: - It will only work if the FPM master process is launched as root
-;       - The pool processes will inherit the master process priority
-;         unless it specified otherwise
-; Default Value: no set
-; priority = -19
-
-; Choose how the process manager will control the number of child processes.
-; Possible Values:
-;   static  - a fixed number (pm.max_children) of child processes;
-;   dynamic - the number of child processes are set dynamically based on the
-;             following directives. With this process management, there will be
-;             always at least 1 children.
-;             pm.max_children      - the maximum number of children that can
-;                                    be alive at the same time.
-;             pm.start_servers     - the number of children created on startup.
-;             pm.min_spare_servers - the minimum number of children in 'idle'
-;                                    state (waiting to process). If the number
-;                                    of 'idle' processes is less than this
-;                                    number then some children will be created.
-;             pm.max_spare_servers - the maximum number of children in 'idle'
-;                                    state (waiting to process). If the number
-;                                    of 'idle' processes is greater than this
-;                                    number then some children will be killed.
-;  ondemand - no children are created at startup. Children will be forked when
-;             new requests will connect. The following parameter are used:
-;             pm.max_children           - the maximum number of children that
-;                                         can be alive at the same time.
-;             pm.process_idle_timeout   - The number of seconds after which
-;                                         an idle process will be killed.
-; Note: This value is mandatory.
-pm = dynamic
-
-; The number of child processes to be created when pm is set to 'static' and the
-; maximum number of child processes when pm is set to 'dynamic' or 'ondemand'.
-; This value sets the limit on the number of simultaneous requests that will be
-; served. Equivalent to the ApacheMaxClients directive with mpm_prefork.
-; Equivalent to the PHP_FCGI_CHILDREN environment variable in the original PHP
-; CGI. The below defaults are based on a server without much resources. Don't
-; forget to tweak pm.* to fit your needs.
-; Note: Used when pm is set to 'static', 'dynamic' or 'ondemand'
-; Note: This value is mandatory.
-pm.max_children = 5
-
-; The number of child processes created on startup.
-; Note: Used only when pm is set to 'dynamic'
-; Default Value: min_spare_servers + (max_spare_servers - min_spare_servers) / 2
-pm.start_servers = 2
-
-; The desired minimum number of idle server processes.
-; Note: Used only when pm is set to 'dynamic'
-; Note: Mandatory when pm is set to 'dynamic'
-pm.min_spare_servers = 1
-
-; The desired maximum number of idle server processes.
-; Note: Used only when pm is set to 'dynamic'
-; Note: Mandatory when pm is set to 'dynamic'
-pm.max_spare_servers = 3
-
-; The number of seconds after which an idle process will be killed.
-; Note: Used only when pm is set to 'ondemand'
-; Default Value: 10s
-;pm.process_idle_timeout = 10s;
-
-; The number of requests each child process should execute before respawning.
-; This can be useful to work around memory leaks in 3rd party libraries. For
-; endless request processing specify '0'. Equivalent to PHP_FCGI_MAX_REQUESTS.
-; Default Value: 0
-;pm.max_requests = 500
-
-; The URI to view the FPM status page. If this value is not set, no URI will be
-; recognized as a status page. It shows the following informations:
-;   pool                 - the name of the pool;
-;   process manager      - static, dynamic or ondemand;
-;   start time           - the date and time FPM has started;
-;   start since          - number of seconds since FPM has started;
-;   accepted conn        - the number of request accepted by the pool;
-;   listen queue         - the number of request in the queue of pending
-;                          connections (see backlog in listen(2));
-;   max listen queue     - the maximum number of requests in the queue
-;                          of pending connections since FPM has started;
-;   listen queue len     - the size of the socket queue of pending connections;
-;   idle processes       - the number of idle processes;
-;   active processes     - the number of active processes;
-;   total processes      - the number of idle + active processes;
-;   max active processes - the maximum number of active processes since FPM
-;                          has started;
-;   max children reached - number of times, the process limit has been reached,
-;                          when pm tries to start more children (works only for
-;                          pm 'dynamic' and 'ondemand');
-; Value are updated in real time.
-; Example output:
-;   pool:                 www
-;   process manager:      static
-;   start time:           01/Jul/2011:17:53:49 +0200
-;   start since:          62636
-;   accepted conn:        190460
-;   listen queue:         0
-;   max listen queue:     1
-;   listen queue len:     42
-;   idle processes:       4
-;   active processes:     11
-;   total processes:      15
-;   max active processes: 12
-;   max children reached: 0
-;
-; By default the status page output is formatted as text/plain. Passing either
-; 'html', 'xml' or 'json' in the query string will return the corresponding
-; output syntax. Example:
-;   http://www.foo.bar/status
-;   http://www.foo.bar/status?json
-;   http://www.foo.bar/status?html
-;   http://www.foo.bar/status?xml
-;
-; By default the status page only outputs short status. Passing 'full' in the
-; query string will also return status for each pool process.
-; Example: 
-;   http://www.foo.bar/status?full
-;   http://www.foo.bar/status?json&full
-;   http://www.foo.bar/status?html&full
-;   http://www.foo.bar/status?xml&full
-; The Full status returns for each process:
-;   pid                  - the PID of the process;
-;   state                - the state of the process (Idle, Running, ...);
-;   start time           - the date and time the process has started;
-;   start since          - the number of seconds since the process has started;
-;   requests             - the number of requests the process has served;
-;   request duration     - the duration in µs of the requests;
-;   request method       - the request method (GET, POST, ...);
-;   request URI          - the request URI with the query string;
-;   content length       - the content length of the request (only with POST);
-;   user                 - the user (PHP_AUTH_USER) (or '-' if not set);
-;   script               - the main script called (or '-' if not set);
-;   last request cpu     - the %cpu the last request consumed
-;                          it's always 0 if the process is not in Idle state
-;                          because CPU calculation is done when the request
-;                          processing has terminated;
-;   last request memory  - the max amount of memory the last request consumed
-;                          it's always 0 if the process is not in Idle state
-;                          because memory calculation is done when the request
-;                          processing has terminated;
-; If the process is in Idle state, then informations are related to the
-; last request the process has served. Otherwise informations are related to
-; the current request being served.
-; Example output:
-;   ************************
-;   pid:                  31330
-;   state:                Running
-;   start time:           01/Jul/2011:17:53:49 +0200
-;   start since:          63087
-;   requests:             12808
-;   request duration:     1250261
-;   request method:       GET
-;   request URI:          /test_mem.php?N=10000
-;   content length:       0
-;   user:                 -
-;   script:               /home/fat/web/docs/php/test_mem.php
-;   last request cpu:     0.00
-;   last request memory:  0
-;
-; Note: There is a real-time FPM status monitoring sample web page available
-;       It's available in: ${prefix}/share/fpm/status.html
-;
-; Note: The value must start with a leading slash (/). The value can be
-;       anything, but it may not be a good idea to use the .php extension or it
-;       may conflict with a real PHP file.
-; Default Value: not set 
-;pm.status_path = /status
-
-; The ping URI to call the monitoring page of FPM. If this value is not set, no
-; URI will be recognized as a ping page. This could be used to test from outside
-; that FPM is alive and responding, or to
-; - create a graph of FPM availability (rrd or such);
-; - remove a server from a group if it is not responding (load balancing);
-; - trigger alerts for the operating team (24/7).
-; Note: The value must start with a leading slash (/). The value can be
-;       anything, but it may not be a good idea to use the .php extension or it
-;       may conflict with a real PHP file.
-; Default Value: not set
-;ping.path = /ping
-
-; This directive may be used to customize the response of a ping request. The
-; response is formatted as text/plain with a 200 response code.
-; Default Value: pong
-;ping.response = pong
-
-; The access log file
-; Default: not set
-;access.log = log/$pool.access.log
-
-; The access log format.
-; The following syntax is allowed
-;  %%: the '%' character
-;  %C: %CPU used by the request
-;      it can accept the following format:
-;      - %{user}C for user CPU only
-;      - %{system}C for system CPU only
-;      - %{total}C  for user + system CPU (default)
-;  %d: time taken to serve the request
-;      it can accept the following format:
-;      - %{seconds}d (default)
-;      - %{miliseconds}d
-;      - %{mili}d
-;      - %{microseconds}d
-;      - %{micro}d
-;  %e: an environment variable (same as $_ENV or $_SERVER)
-;      it must be associated with embraces to specify the name of the env
-;      variable. Some exemples:
-;      - server specifics like: %{REQUEST_METHOD}e or %{SERVER_PROTOCOL}e
-;      - HTTP headers like: %{HTTP_HOST}e or %{HTTP_USER_AGENT}e
-;  %f: script filename
-;  %l: content-length of the request (for POST request only)
-;  %m: request method
-;  %M: peak of memory allocated by PHP
-;      it can accept the following format:
-;      - %{bytes}M (default)
-;      - %{kilobytes}M
-;      - %{kilo}M
-;      - %{megabytes}M
-;      - %{mega}M
-;  %n: pool name
-;  %o: ouput header
-;      it must be associated with embraces to specify the name of the header:
-;      - %{Content-Type}o
-;      - %{X-Powered-By}o
-;      - %{Transfert-Encoding}o
-;      - ....
-;  %p: PID of the child that serviced the request
-;  %P: PID of the parent of the child that serviced the request
-;  %q: the query string 
-;  %Q: the '?' character if query string exists
-;  %r: the request URI (without the query string, see %q and %Q)
-;  %R: remote IP address
-;  %s: status (response code)
-;  %t: server time the request was received
-;      it can accept a strftime(3) format:
-;      %d/%b/%Y:%H:%M:%S %z (default)
-;  %T: time the log has been written (the request has finished)
-;      it can accept a strftime(3) format:
-;      %d/%b/%Y:%H:%M:%S %z (default)
-;  %u: remote user
-;
-; Default: "%R - %u %t \"%m %r\" %s"
-;access.format = "%R - %u %t \"%m %r%Q%q\" %s %f %{mili}d %{kilo}M %C%%"
-
-; The log file for slow requests
-; Default Value: not set
-; Note: slowlog is mandatory if request_slowlog_timeout is set
-;slowlog = log/$pool.log.slow
-
-; The timeout for serving a single request after which a PHP backtrace will be
-; dumped to the 'slowlog' file. A value of '0s' means 'off'.
-; Available units: s(econds)(default), m(inutes), h(ours), or d(ays)
-; Default Value: 0
-;request_slowlog_timeout = 0
-
-; The timeout for serving a single request after which the worker process will
-; be killed. This option should be used when the 'max_execution_time' ini option
-; does not stop script execution for some reason. A value of '0' means 'off'.
-; Available units: s(econds)(default), m(inutes), h(ours), or d(ays)
-; Default Value: 0
-;request_terminate_timeout = 0
-
-; Set open file descriptor rlimit.
-; Default Value: system defined value
-;rlimit_files = 1024
-
-; Set max core size rlimit.
-; Possible Values: 'unlimited' or an integer greater or equal to 0
-; Default Value: system defined value
-;rlimit_core = 0
-
-; Chroot to this directory at the start. This value must be defined as an
-; absolute path. When this value is not set, chroot is not used.
-; Note: you can prefix with '$prefix' to chroot to the pool prefix or one
-; of its subdirectories. If the pool prefix is not set, the global prefix
-; will be used instead.
-; Note: chrooting is a great security feature and should be used whenever
-;       possible. However, all PHP paths will be relative to the chroot
-;       (error_log, sessions.save_path, ...).
-; Default Value: not set
-;chroot =
-
-; Chdir to this directory at the start.
-; Note: relative path can be used.
-; Default Value: current directory or / when chroot
-chdir = /
-
-; Redirect worker stdout and stderr into main error log. If not set, stdout and
-; stderr will be redirected to /dev/null according to FastCGI specs.
-; Note: on highloaded environement, this can cause some delay in the page
-; process time (several ms).
-; Default Value: no
-;catch_workers_output = yes
-
-; Limits the extensions of the main script FPM will allow to parse. This can
-; prevent configuration mistakes on the web server side. You should only limit
-; FPM to .php extensions to prevent malicious users to use other extensions to
-; exectute php code.
-; Note: set an empty value to allow all extensions.
-; Default Value: .php
-;security.limit_extensions = .php .php3 .php4 .php5
-
-; Pass environment variables like LD_LIBRARY_PATH. All $VARIABLEs are taken from
-; the current environment.
-; Default Value: clean env
-;env[HOSTNAME] = $HOSTNAME
-;env[PATH] = /usr/local/bin:/usr/bin:/bin
-;env[TMP] = /tmp
-;env[TMPDIR] = /tmp
-;env[TEMP] = /tmp
-
-; Additional php.ini defines, specific to this pool of workers. These settings
-; overwrite the values previously defined in the php.ini. The directives are the
-; same as the PHP SAPI:
-;   php_value/php_flag             - you can set classic ini defines which can
-;                                    be overwritten from PHP call 'ini_set'. 
-;   php_admin_value/php_admin_flag - these directives won't be overwritten by
-;                                     PHP call 'ini_set'
-; For php_*flag, valid values are on, off, 1, 0, true, false, yes or no.
-
-; Defining 'extension' will load the corresponding shared extension from
-; extension_dir. Defining 'disable_functions' or 'disable_classes' will not
-; overwrite previously defined php.ini values, but will append the new value
-; instead.
-
-; Note: path INI options can be relative and will be expanded with the prefix
-; (pool, global or /usr)
-
-; Default Value: nothing is defined by default except the values in php.ini and
-;                specified at startup with the -d argument
-;php_admin_value[sendmail_path] = /usr/sbin/sendmail -t -i -f www@my.domain.com
-;php_flag[display_errors] = off
-;php_admin_value[error_log] = /var/log/fpm-php.www.log
-;php_admin_flag[log_errors] = on
-;php_admin_value[memory_limit] = 32M
diff -uprN a/feeds/packages/lang/php7/files/php.ini b/feeds/packages/lang/php7/files/php.ini
--- a/feeds/packages/lang/php7/files/php.ini	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/files/php.ini	1970-01-01 08:00:00.000000000 +0800
@@ -1,134 +0,0 @@
-[PHP]
-
-;;;;;;;;;;;;;;;;;;;;
-; Language Options ;
-;;;;;;;;;;;;;;;;;;;;
-
-engine = On
-;short_open_tag = Off
-precision = 12
-output_buffering = Off
-;output_handler =
-zlib.output_compression = Off
-;zlib.output_compression_level = -1
-;zlib.output_handler =
-implicit_flush = Off
-unserialize_callback_func =
-;unserialize_max_depth = 4096
-serialize_precision = 100
-;open_basedir =
-disable_functions =
-disable_classes =
-;highlight.string = #DD0000
-;highlight.comment = #FF9900
-;highlight.keyword = #007700
-;highlight.bg = #FFFFFF
-;highlight.default = #0000BB
-;highlight.html = #000000
-;ignore_user_abort = On
-;realpath_cache_size = 16k
-;realpath_cache_ttl = 120
-;zend.enable_gc = On
-;zend.multibyte = Off
-;zend.script_encoding =
-;zend.exception_ignore_args = On
-
-;;;;;;;;;;;;;;;;;
-; Miscellaneous ;
-;;;;;;;;;;;;;;;;;
-
-expose_php = On
-
-;;;;;;;;;;;;;;;;;;;
-; Resource Limits ;
-;;;;;;;;;;;;;;;;;;;
-
-max_execution_time = 30
-max_input_time = 60
-;max_input_nesting_level = 64
-;max_input_vars = 1000
-memory_limit = 8M
-
-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
-; Error handling and logging ;
-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
-
-error_reporting = E_ALL & ~E_NOTICE & ~E_DEPRECATED & ~E_STRICT
-display_errors = On
-display_startup_errors = Off
-log_errors = Off
-log_errors_max_len = 1024
-ignore_repeated_errors = Off
-ignore_repeated_source = Off
-report_memleaks = On
-;report_zend_debug = 0
-track_errors = Off
-;html_errors = Off
-;docref_root = "/phpmanual/"
-;docref_ext = .html
-;error_prepend_string = "<span style='color: #ff0000'>"
-;error_append_string = "</span>"
-;error_log = syslog
-;syslog.ident = php
-;syslog.facility = user
-;syslog.filter = ascii
-
-;;;;;;;;;;;;;;;;;
-; Data Handling ;
-;;;;;;;;;;;;;;;;;
-
-;arg_separator.output = "&amp;"
-;arg_separator.input = ";&"
-variables_order = "EGPCS"
-request_order = "GP"
-register_argc_argv = On
-auto_globals_jit = On
-;enable_post_data_reading = Off
-post_max_size = 8M
-auto_prepend_file =
-auto_append_file =
-default_mimetype = "text/html"
-;default_charset = "UTF-8"
-;internal_encoding =
-;input_encoding =
-;output_encoding =
-
-;;;;;;;;;;;;;;;;;;;;;;;;;
-; Paths and Directories ;
-;;;;;;;;;;;;;;;;;;;;;;;;;
-
-;include_path = ".:/php/includes"
-doc_root = "/www"
-user_dir =
-extension_dir = "/usr/lib/php"
-;sys_temp_dir = "/tmp"
-enable_dl = On
-;cgi.force_redirect = 1
-;cgi.nph = 1
-;cgi.redirect_status_env =
-cgi.fix_pathinfo = 1
-;cgi.discard_path = 1
-;fastcgi.impersonate = 1
-;fastcgi.logging = 0
-;cgi.rfc2616_headers = 0
-;cgi.check_shebang_line = 1
-
-;;;;;;;;;;;;;;;;
-; File Uploads ;
-;;;;;;;;;;;;;;;;
-
-file_uploads = On
-upload_tmp_dir = "/tmp"
-upload_max_filesize = 2M
-max_file_uploads = 20
-
-;;;;;;;;;;;;;;;;;;
-; Fopen wrappers ;
-;;;;;;;;;;;;;;;;;;
-
-allow_url_fopen = On
-allow_url_include = Off
-;from = "john@doe.com"
-;user_agent = "PHP"
-default_socket_timeout = 60
-;auto_detect_line_endings = Off
diff -uprN a/feeds/packages/lang/php7/Makefile b/feeds/packages/lang/php7/Makefile
--- a/feeds/packages/lang/php7/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,663 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=php
-PKG_VERSION:=7.4.28
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:php:php
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_SOURCE_URL:=http://www.php.net/distributions/
-PKG_HASH:=9cc3b6f6217b60582f78566b3814532c4b71d517876c25013ae51811e65d8fce
-
-PKG_BUILD_PARALLEL:=1
-PKG_USE_MIPS16:=0
-
-PHP7_MODULES= \
-	bcmath \
-	calendar ctype curl \
-	dom \
-	exif \
-	fileinfo filter ftp \
-	gettext gd gmp \
-	iconv imap intl \
-	json \
-	ldap \
-	mbstring mysqli mysqlnd \
-	opcache openssl \
-	pcntl pdo pdo-mysql pdo-pgsql pdo-sqlite pgsql phar \
-	session shmop simplexml snmp soap sockets sqlite3 sysvmsg sysvsem sysvshm \
-	tokenizer \
-	xml xmlreader xmlwriter \
-	zip
-
-PKG_CONFIG_DEPENDS:= \
-	$(patsubst %,CONFIG_PACKAGE_php7-mod-%,$(PHP7_MODULES)) \
-	CONFIG_PHP7_LIBXML CONFIG_PHP7_SYSTEMTZDATA
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-
-define Package/php7/Default
-  SUBMENU:=PHP7
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=PHP7 Hypertext preprocessor
-  URL:=http://www.php.net/
-  DEPENDS:=php7
-endef
-
-define Package/php7/Default/description
-  PHP is a widely-used general-purpose scripting language that is especially
-  suited for Web development and can be embedded into HTML.
-endef
-
-define Package/php7/config
-	config PHP7_LIBXML
-		bool "PHP7 LIBXML support"
-		depends on PACKAGE_php7-cli || PACKAGE_php7-cgi
-
-	config PHP7_SYSTEMTZDATA
-		bool "Use system timezone data instead of php's built-in database"
-		depends on PACKAGE_php7-cli || PACKAGE_php7-cgi
-		default y
-		help
-			Enabling this feature automatically selects the zoneinfo-core package
-			which contains data for UTC timezone. To use other timezones you have
-			to install the corresponding zoneinfo-... package(s).
-endef
-
-define Package/php7
-  $(call Package/php7/Default)
-
-  DEPENDS:=+libpcre2 +zlib \
-           +PHP7_LIBXML:libxml2 \
-           +PHP7_SYSTEMTZDATA:zoneinfo-core
-endef
-
-define Package/php7/description
-  $(call Package/php7/Default/description)
-  This package contains only the PHP config file. You must actually choose
-  your PHP flavour (cli, cgi or fastcgi).
-
-  Please note, that installing php5 and php7 in parallel on the same target
-  is not supported in OpenWrt/LEDE.
-endef
-
-define Package/php7-cli
-  $(call Package/php7/Default)
-  DEPENDS+= +PACKAGE_php7-mod-intl:libstdcpp
-  TITLE+= (CLI)
-endef
-
-define Package/php7-cli/description
-  $(call Package/php7/Default/description)
-  This package contains the CLI version of the PHP7 interpreter.
-endef
-
-define Package/php7-cgi
-  $(call Package/php7/Default)
-  DEPENDS+= +PACKAGE_php7-mod-intl:libstdcpp
-  TITLE+= (CGI & FastCGI)
-endef
-
-define Package/php7-cgi/description
-  $(call Package/php7/Default/description)
-  This package contains the CGI version of the PHP7 interpreter.
-endef
-
-define Package/php7-fastcgi
-  $(call Package/php7/Default)
-  DEPENDS+= +php7-cgi
-  TITLE:=FastCGI startup script
-endef
-
-define Package/php7-fastcgi/description
-  As FastCGI support is now a core feature the php7-fastcgi package now depends
-  on the php7-cgi package, containing just the startup script.
-endef
-
-define Package/php7-fpm
-  $(call Package/php7/Default)
-  DEPENDS+= +PACKAGE_php7-mod-intl:libstdcpp
-  TITLE+= (FPM)
-endef
-
-define Package/php7-fpm/description
-  $(call Package/php7/Default/description)
-  This package contains the FastCGI Process Manager of the PHP7 interpreter.
-endef
-
-define Package/php7-mod-intl/config
-  config PHP7_FULLICUDATA
-	bool "Add dependency to full ICU Data"
-	depends on PACKAGE_php7-mod-intl
-	default n
-endef
-
-define Package/php7-mod-intl/description
-  Note that this package depends in ICU library which is built without data
-  by default. This is to satisfy programs build and run dependencies but to
-  keep the installed footprint small on the target system(s).
-  However, the data is required to make the ICU library useful - and thus
-  directly affects PHPs ICU extension, too - so consider to also
-  select/install package 'icu-full-data'.
-endef
-
-# not everything groks --disable-nls
-DISABLE_NLS:=
-
-CONFIGURE_ARGS+= \
-	--enable-cli \
-	--enable-cgi \
-	--enable-fpm \
-	--enable-shared \
-	--disable-static \
-	--with-pic \
-	--disable-rpath \
-	--disable-debug \
-	--disable-phpdbg \
-	--without-pear \
-	\
-	--with-config-file-path=/etc \
-	--with-config-file-scan-dir=/etc/php7 \
-	--disable-short-tags \
-	\
-	--without-valgrind \
-	--with-external-pcre \
-	--with-zlib="$(STAGING_DIR)/usr"
-
-ifeq ($(CONFIG_LIBC_USE_GLIBC),y)
-TARGET_LDFLAGS += -ldl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-bcmath),)
-  CONFIGURE_ARGS+= --enable-bcmath=shared
-else
-  CONFIGURE_ARGS+= --disable-bcmath
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-calendar),)
-  CONFIGURE_ARGS+= --enable-calendar=shared
-else
-  CONFIGURE_ARGS+= --disable-calendar
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-ctype),)
-  CONFIGURE_ARGS+= --enable-ctype=shared
-else
-  CONFIGURE_ARGS+= --disable-ctype
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-curl),)
-  CONFIGURE_ARGS+= --with-curl=shared
-else
-  CONFIGURE_ARGS+= --without-curl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-dom),)
-  CONFIGURE_ARGS+= --enable-dom=shared
-else
-  CONFIGURE_ARGS+= --disable-dom
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-exif),)
-  CONFIGURE_ARGS+= --enable-exif=shared
-else
-  CONFIGURE_ARGS+= --disable-exif
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-fileinfo),)
-  CONFIGURE_ARGS+= --enable-fileinfo=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-fileinfo
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-filter),)
-  CONFIGURE_ARGS+= --enable-filter=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-filter
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-ftp),)
-  CONFIGURE_ARGS+= --enable-ftp=shared
-else
-  CONFIGURE_ARGS+= --disable-ftp
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-gd),)
-  CONFIGURE_ARGS+= \
-	--enable-gd=shared,"$(STAGING_DIR)/usr" \
-	--with-external-gd
-else
-  CONFIGURE_ARGS+= --disable-gd
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-gettext),)
-  CONFIGURE_ARGS+= --with-gettext=shared,"$(STAGING_DIR)/usr/lib/libintl-full"
-else
-  CONFIGURE_ARGS+= --without-gettext
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-gmp),)
-  CONFIGURE_ARGS+= --with-gmp=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-gmp
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-iconv),)
-  CONFIGURE_ARGS+= --with-iconv=shared,"$(ICONV_PREFIX)"
-else
-  CONFIGURE_ARGS+= --without-iconv
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-imap),)
-  CONFIGURE_ARGS+= \
-	--with-imap=shared,"$(STAGING_DIR)/usr" \
-	--with-kerberos=no \
-	--with-imap-ssl="$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-imap
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-intl),)
-  CONFIGURE_ARGS+= --enable-intl=shared
-  TARGET_CXXFLAGS+= -std=c++0x
-else
-  CONFIGURE_ARGS+= --disable-intl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-json),)
-  CONFIGURE_ARGS+= --enable-json=shared
-else
-  CONFIGURE_ARGS+= --disable-json
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-ldap),)
-  CONFIGURE_ARGS+= \
-	--with-ldap=shared,"$(STAGING_DIR)/usr" \
-	--with-ldap-sasl
-else
-  CONFIGURE_ARGS+= --without-ldap
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-mbstring),)
-  CONFIGURE_ARGS+= \
-	--enable-mbstring=shared \
-	--enable-mbregex
-else
-  CONFIGURE_ARGS+= --disable-mbstring
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-mysqli),)
-  CONFIGURE_ARGS+= --with-mysqli=shared
-else
-  CONFIGURE_ARGS+= --without-mysqli
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-mysqlnd),)
-  CONFIGURE_ARGS+= --enable-mysqlnd=shared
-else
-  CONFIGURE_ARGS+= --disable-mysqlnd
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-opcache),)
-  CONFIGURE_ARGS+= --enable-opcache=shared
-else
-  CONFIGURE_ARGS+= --disable-opcache
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-openssl)$(CONFIG_PACKAGE_php7-mod-ftp)$(CONFIG_PACKAGE_php7-mod-imap)$(CONFIG_PACKAGE_php7-mod-snmp),)
-  CONFIGURE_ARGS+= \
-	--with-openssl=shared \
-	--with-kerberos=no \
-	--with-openssl-dir="$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-openssl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-pcntl),)
-  CONFIGURE_ARGS+= --enable-pcntl=shared
-else
-  CONFIGURE_ARGS+= --disable-pcntl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-pdo),)
-  CONFIGURE_ARGS+= --enable-pdo=shared
-  ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-pdo-mysql),)
-    CONFIGURE_ARGS+= --with-pdo-mysql=shared
-  else
-    CONFIGURE_ARGS+= --without-pdo-mysql
-  endif
-  ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-pdo-pgsql),)
-    CONFIGURE_ARGS+= --with-pdo-pgsql=shared,"$(STAGING_DIR)/usr"
-  else
-    CONFIGURE_ARGS+= --without-pdo-pgsql
-  endif
-  ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-pdo-sqlite),)
-    CONFIGURE_ARGS+= --with-pdo-sqlite=shared
-  else
-    CONFIGURE_ARGS+= --without-pdo-sqlite
-  endif
-else
-  CONFIGURE_ARGS+= --disable-pdo
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-pgsql),)
-  CONFIGURE_ARGS+= --with-pgsql=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-pgsql
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-phar),)
-  CONFIGURE_ARGS+= --enable-phar=shared
-else
-  CONFIGURE_ARGS+= --disable-phar
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-session),)
-  CONFIGURE_ARGS+= --enable-session=shared
-else
-  CONFIGURE_ARGS+= --disable-session
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-shmop),)
-  CONFIGURE_ARGS+= --enable-shmop=shared
-else
-  CONFIGURE_ARGS+= --disable-shmop
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-simplexml),)
-  CONFIGURE_ARGS+= --enable-simplexml=shared
-else
-  CONFIGURE_ARGS+= --disable-simplexml
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-snmp),)
-  CONFIGURE_ARGS+= --with-snmp=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-snmp
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-soap),)
-  CONFIGURE_ARGS+= --enable-soap=shared
-else
-  CONFIGURE_ARGS+= --disable-soap
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-sockets),)
-  CONFIGURE_ARGS+= --enable-sockets=shared
-else
-  CONFIGURE_ARGS+= --disable-sockets
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-sqlite3),)
-  CONFIGURE_ARGS+= --with-sqlite3=shared
-else
-  CONFIGURE_ARGS+= --without-sqlite3
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-sysvmsg),)
-  CONFIGURE_ARGS+= --enable-sysvmsg=shared
-else
-  CONFIGURE_ARGS+= --disable-sysvmsg
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-sysvsem),)
-  CONFIGURE_ARGS+= --enable-sysvsem=shared
-else
-  CONFIGURE_ARGS+= --disable-sysvsem
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-sysvshm),)
-  CONFIGURE_ARGS+= --enable-sysvshm=shared
-else
-  CONFIGURE_ARGS+= --disable-sysvshm
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-tokenizer),)
-  CONFIGURE_ARGS+= --enable-tokenizer=shared
-else
-  CONFIGURE_ARGS+= --disable-tokenizer
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-xml),)
-  CONFIGURE_ARGS+= --enable-xml=shared,"$(STAGING_DIR)/usr"
-  ifneq ($(CONFIG_PHP7_LIBXML),y)
-    CONFIGURE_ARGS+= --with-expat
-  endif
-else
-  CONFIGURE_ARGS+= --disable-xml
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-xmlreader),)
-  CONFIGURE_ARGS+= --enable-xmlreader=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-xmlreader
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php7-mod-xmlwriter),)
-  CONFIGURE_ARGS+= --enable-xmlwriter=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-xmlwriter
-endif
-
-ifneq ($(CONFIG_PACKAGE_php7-mod-zip),)
-  CONFIGURE_ARGS+= --with-zip=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-zip
-endif
-
-ifneq ($(SDK)$(CONFIG_PHP7_LIBXML),)
-  CONFIGURE_ARGS+= --with-libxml
-else
-  CONFIGURE_ARGS+= --without-libxml
-endif
-
-ifneq ($(CONFIG_PHP7_SYSTEMTZDATA),)
-  CONFIGURE_ARGS+= --with-system-tzdata
-else
-  CONFIGURE_ARGS+= --without-system-tzdata
-endif
-
-CONFIGURE_VARS+= \
-	ac_cv_c_bigendian_php=$(if $(CONFIG_BIG_ENDIAN),yes,no) \
-	php_cv_cc_rpath="no" \
-	iconv_impl_name="gnu_libiconv" \
-	ac_cv_php_xml2_config_path="$(STAGING_DIR)/host/bin/xml2-config" \
-	ac_cv_u8t_decompose=yes \
-	ac_cv_have_pcre2_jit=no
-
-define Package/php7/conffiles
-/etc/php.ini
-/etc/php7/
-endef
-
-define Package/php7/install
-	$(INSTALL_DIR) $(1)/etc
-	$(INSTALL_DATA) ./files/php.ini $(1)/etc/
-endef
-
-define Package/php7-cli/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_BUILD_DIR)/sapi/cli/php $(1)/usr/bin/php-cli
-endef
-
-define Package/php7-cgi/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_BUILD_DIR)/sapi/cgi/php-cgi $(1)/usr/bin/php-cgi
-	ln -sf php-cgi $(1)/usr/bin/php-fcgi
-endef
-
-define Package/php7-fastcgi/install
-	$(INSTALL_DIR) $(1)/etc/config
-	$(INSTALL_DATA) ./files/php7-fastcgi.config $(1)/etc/config/php7-fastcgi
-
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/php7-fastcgi.init $(1)/etc/init.d/php7-fastcgi
-endef
-
-define Package/php7-fastcgi/conffiles
-/etc/config/php7-fastcgi
-endef
-
-define Package/php7-fpm/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/sapi/fpm/php-fpm $(1)/usr/bin/php-fpm
-
-	$(INSTALL_DIR) $(1)/etc
-	$(INSTALL_DATA) ./files/php7-fpm.conf $(1)/etc/php7-fpm.conf
-
-	$(INSTALL_DIR) $(1)/etc/config
-	$(INSTALL_DATA) ./files/php7-fpm.config $(1)/etc/config/php7-fpm
-
-	$(INSTALL_DIR) $(1)/etc/php7-fpm.d
-	$(INSTALL_DATA) ./files/php7-fpm-www.conf $(1)/etc/php7-fpm.d/www.conf
-
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/php7-fpm.init $(1)/etc/init.d/php7-fpm
-endef
-
-define Package/php7-fpm/conffiles
-/etc/php7-fpm.conf
-/etc/php7-fpm.d/
-/etc/config/php7-fpm
-endef
-
-define Package/php7-mod-openssl/postinst
-#!/bin/sh
-[ -n "$$IPKG_INSTROOT" ] || {
-	if [ -e "/etc/php7/20_openssl.ini" ] && [ -e "/etc/php7/15_openssl.ini" ]; then
-		echo "Renaming PHP ini file '/etc/php7/20_openssl.ini' -> '/etc/php7/15_openssl.ini'"
-		mv /etc/php7/20_openssl.ini /etc/php7/15_openssl.ini
-	fi
-}
-endef
-
-define Package/php7-mod-mysqli/postinst
-#!/bin/sh
-[ -n "$$IPKG_INSTROOT" ] || {
-	if [ -e "/etc/php7/20_mysqli.ini" ] && [ -e "/etc/php7/30_mysqli.ini" ]; then
-		echo "Renaming PHP ini file '/etc/php7/20_mysqli.ini' -> '/etc/php7/30_mysqli.ini'"
-		mv /etc/php7/20_mysqli.ini /etc/php7/30_mysqli.ini
-	fi
-}
-endef
-
-define Build/Prepare
-	$(call Build/Prepare/Default)
-	$(if $(QUILT),,( cd $(PKG_BUILD_DIR); touch configure.ac; ./buildconf --force ))
-endef
-
-define Build/Configure
-	$(if $(QUILT),( cd $(PKG_BUILD_DIR); touch configure.ac; ./buildconf --force ))
-	$(call Build/Configure/Default)
-endef
-
-define Build/InstallDev
-	rm -rf $(PKG_BUILD_DIR)/staging
-	make -C $(PKG_BUILD_DIR) install INSTALL_ROOT=$(PKG_BUILD_DIR)/staging
-	rm -rf $(PKG_BUILD_DIR)/staging/usr/{share,man,sbin}
-	rm -f $(PKG_BUILD_DIR)/staging/usr/bin/{php,php-cgi,php-cli}
-	mv $(PKG_BUILD_DIR)/staging/usr/bin/phpize $(PKG_BUILD_DIR)/staging/usr/bin/phpize7
-	mv $(PKG_BUILD_DIR)/staging/usr/bin/php-config $(PKG_BUILD_DIR)/staging/usr/bin/php7-config
-	mv $(PKG_BUILD_DIR)/staging/usr/include/php $(PKG_BUILD_DIR)/staging/usr/include/php7
-	mv $(PKG_BUILD_DIR)/staging/usr/lib/php $(PKG_BUILD_DIR)/staging/usr/lib/php7
-
-	$(CP) $(PKG_BUILD_DIR)/staging/usr $(STAGING_DIR)/
-
-	sed -i -e "s#prefix='/usr'#prefix='$(STAGING_DIR)/usr'#" $(STAGING_DIR)/usr/bin/phpize7
-	sed -i -e "s#exec_prefix=\"\`eval echo /usr\`\"#exec_prefix='$(STAGING_DIR)/usr'#" $(STAGING_DIR)/usr/bin/phpize7
-	sed -i -e "s#/include\`/php\"#/include\`/php7\"#" $(STAGING_DIR)/usr/bin/phpize7
-	sed -i -e "s#/lib/php\`/build\"#/lib/php7\`/build\"#" $(STAGING_DIR)/usr/bin/phpize7
-
-	sed -i -e "s#prefix=\"/usr\"#prefix=\"$(STAGING_DIR)/usr\"#" $(STAGING_DIR)/usr/bin/php7-config
-	sed -i -e "s#/include/php\"#/include/php7\"#" $(STAGING_DIR)/usr/bin/php7-config
-endef
-
-define BuildModule
-
-  define Package/php7-mod-$(1)
-    $(call Package/php7/Default)
-
-    ifneq ($(3),)
-      DEPENDS+=$(3)
-    endif
-
-    TITLE:=$(2) shared module
-  endef
-
-  define Package/php7-mod-$(1)/install
-	$(INSTALL_DIR) $$(1)/usr/lib/php
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/modules/$(subst -,_,$(1)).so $$(1)/usr/lib/php/
-	$(INSTALL_DIR) $$(1)/etc/php7
-      ifeq ($(5),zend)
-	echo "zend_extension=/usr/lib/php/$(subst -,_,$(1)).so" > $$(1)/etc/php7/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-      else
-	echo "extension=$(subst -,_,$(1)).so" > $$(1)/etc/php7/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-    endif
-  endef
-
-  $$(eval $$(call BuildPackage,php7-mod-$(1)))
-
-endef
-
-$(eval $(call BuildPackage,php7))
-$(eval $(call BuildPackage,php7-cgi))
-$(eval $(call BuildPackage,php7-cli))
-$(eval $(call BuildPackage,php7-fastcgi))
-$(eval $(call BuildPackage,php7-fpm))
-
-#$(eval $(call BuildModule,NAME,TITLE[,PKG DEPENDS]))
-$(eval $(call BuildModule,bcmath,Bcmath))
-$(eval $(call BuildModule,calendar,Calendar))
-$(eval $(call BuildModule,ctype,Ctype))
-$(eval $(call BuildModule,curl,cURL,+PACKAGE_php7-mod-curl:libcurl))
-$(eval $(call BuildModule,dom,DOM,+@PHP7_LIBXML +PACKAGE_php7-mod-dom:libxml2))
-$(eval $(call BuildModule,exif,EXIF))
-$(eval $(call BuildModule,fileinfo,Fileinfo))
-$(eval $(call BuildModule,filter,Filter))
-$(eval $(call BuildModule,ftp,FTP,+PACKAGE_php7-mod-ftp:libopenssl))
-$(eval $(call BuildModule,gd,GD graphics,+PACKAGE_php7-mod-gd:libgd-full))
-$(eval $(call BuildModule,gettext,Gettext,+PACKAGE_php7-mod-gettext:libintl-full))
-$(eval $(call BuildModule,gmp,GMP,+PACKAGE_php7-mod-gmp:libgmp))
-$(eval $(call BuildModule,iconv,iConv,$(ICONV_DEPENDS)))
-$(eval $(call BuildModule,imap,IMAP,+PACKAGE_php7-mod-imap:libopenssl +PACKAGE_libpam:libpam +PACKAGE_php7-mod-imap:uw-imap))
-$(eval $(call BuildModule,intl,Internationalization Functions,+PACKAGE_php7-mod-intl:icu +PHP7_FULLICUDATA:icu-full-data))
-$(eval $(call BuildModule,json,JSON))
-$(eval $(call BuildModule,ldap,LDAP,+PACKAGE_php7-mod-ldap:libopenldap +PACKAGE_php7-mod-ldap:libsasl2))
-$(eval $(call BuildModule,mbstring,MBString,+PACKAGE_php7-mod-mbstring:oniguruma))
-$(eval $(call BuildModule,mysqli,MySQL Improved Extension,+PACKAGE_php7-mod-mysqli:php7-mod-mysqlnd,30))
-$(eval $(call BuildModule,mysqlnd,MySQL Native Driver,+PACKAGE_php7-mod-openssl:php7-mod-openssl))
-$(eval $(call BuildModule,opcache,OPcache,,,zend))
-$(eval $(call BuildModule,openssl,OpenSSL,+PACKAGE_php7-mod-openssl:libopenssl,15))
-$(eval $(call BuildModule,pcntl,PCNTL))
-$(eval $(call BuildModule,pdo,PHP Data Objects))
-$(eval $(call BuildModule,pdo-mysql,PDO driver for MySQL,+php7-mod-pdo +PACKAGE_php7-mod-pdo-mysql:php7-mod-mysqlnd))
-$(eval $(call BuildModule,pdo-pgsql,PDO driver for PostgreSQL,+php7-mod-pdo +PACKAGE_php7-mod-pdo-pgsql:libpq))
-$(eval $(call BuildModule,pdo-sqlite,PDO driver for SQLite 3.x,+php7-mod-pdo +PACKAGE_php7-mod-pdo-sqlite:libsqlite3 +PACKAGE_php7-mod-pdo-sqlite:librt))
-$(eval $(call BuildModule,pgsql,PostgreSQL,+PACKAGE_php7-mod-pgsql:libpq))
-$(eval $(call BuildModule,phar,Phar Archives))
-$(eval $(call BuildModule,session,Session))
-$(eval $(call BuildModule,shmop,Shared Memory))
-$(eval $(call BuildModule,simplexml,SimpleXML,+@PHP7_LIBXML +PACKAGE_php7-mod-simplexml:libxml2))
-$(eval $(call BuildModule,snmp,SNMP,+PACKAGE_php7-mod-snmp:libnetsnmp +PACKAGE_php7-mod-snmp:libopenssl))
-$(eval $(call BuildModule,soap,SOAP,+@PHP7_LIBXML +PACKAGE_php7-mod-soap:libxml2))
-$(eval $(call BuildModule,sockets,Sockets))
-$(eval $(call BuildModule,sqlite3,SQLite3,+PACKAGE_php7-mod-sqlite3:libsqlite3))
-$(eval $(call BuildModule,sysvmsg,System V messages))
-$(eval $(call BuildModule,sysvsem,System V shared memory))
-$(eval $(call BuildModule,sysvshm,System V semaphore))
-$(eval $(call BuildModule,tokenizer,Tokenizer))
-$(eval $(call BuildModule,xml,XML,+PHP7_LIBXML:libxml2 +!PHP7_LIBXML:libexpat))
-$(eval $(call BuildModule,xmlreader,XMLReader,+@PHP7_LIBXML +PACKAGE_php7-mod-dom:php7-mod-dom +PACKAGE_php7-mod-xmlreader:libxml2))
-$(eval $(call BuildModule,xmlwriter,XMLWriter,+@PHP7_LIBXML +PACKAGE_php7-mod-xmlwriter:libxml2))
-$(eval $(call BuildModule,zip,ZIP,+PACKAGE_php7-mod-zip:libzip))
diff -uprN a/feeds/packages/lang/php7/patches/0013-Add-support-for-use-of-the-system-timezone-database.patch b/feeds/packages/lang/php7/patches/0013-Add-support-for-use-of-the-system-timezone-database.patch
--- a/feeds/packages/lang/php7/patches/0013-Add-support-for-use-of-the-system-timezone-database.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/0013-Add-support-for-use-of-the-system-timezone-database.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,665 +0,0 @@
-From: Debian PHP Maintainers <team+pkg-php@tracker.debian.org>
-Date: Thu, 7 Mar 2019 19:42:35 +0000
-Subject: Add-support-for-use-of-the-system-timezone-database
-
-# License: MIT
-# http://opensource.org/licenses/MIT
-
-# License: MIT
-# http://opensource.org/licenses/MIT
-
-Add support for use of the system timezone database, rather
-than embedding a copy.  Discussed upstream but was not desired.
-
-History:
-r18: adapt for autotool change in 7.3.3RC1
-r17: adapt for timelib 2018.01 (in 7.3.2RC1)
-r16: adapt for timelib 2017.06 (in 7.2.3RC1)
-r15: adapt for timelib 2017.05beta7 (in 7.2.0RC1)
-r14: improve check for valid tz file
-r13: adapt for upstream changes to use PHP allocator
-r12: adapt for upstream changes for new zic
-r11: use canonical names to avoid more case sensitivity issues
-     round lat/long from zone.tab towards zero per builtin db
-r10: make timezone case insensitive
-r9: fix another compile error without --with-system-tzdata configured (Michael Heimpold)
-r8: fix compile error without --with-system-tzdata configured
-r7: improve check for valid timezone id to exclude directories
-r6: fix fd leak in r5, fix country code/BC flag use in
-    timezone_identifiers_list() using system db,
-    fix use of PECL timezonedb to override system db,
-r5: reverts addition of "System/Localtime" fake tzname.
-    updated for 5.3.0, parses zone.tab to pick up mapping between
-    timezone name, country code and long/lat coords
-r4: added "System/Localtime" tzname which uses /etc/localtime
-r3: fix a crash if /usr/share/zoneinfo doesn't exist (Raphael Geissert)
-r2: add filesystem trawl to set up name alias index
-r1: initial revision
----
- ext/date/config0.m4     |  13 ++
- ext/date/lib/parse_tz.c | 535 +++++++++++++++++++++++++++++++++++++++++++++++-
- 2 files changed, 545 insertions(+), 3 deletions(-)
-
---- a/ext/date/config0.m4
-+++ b/ext/date/config0.m4
-@@ -4,6 +4,19 @@ AC_CHECK_HEADERS([io.h])
- dnl Check for strtoll, atoll
- AC_CHECK_FUNCS(strtoll atoll)
- 
-+PHP_ARG_WITH(system-tzdata, for use of system timezone data,
-+[  --with-system-tzdata[=DIR]      to specify use of system timezone data],
-+no, no)
-+
-+if test "$PHP_SYSTEM_TZDATA" != "no"; then
-+   AC_DEFINE(HAVE_SYSTEM_TZDATA, 1, [Define if system timezone data is used])
-+
-+   if test "$PHP_SYSTEM_TZDATA" != "yes"; then
-+      AC_DEFINE_UNQUOTED(HAVE_SYSTEM_TZDATA_PREFIX, "$PHP_SYSTEM_TZDATA",
-+                         [Define for location of system timezone data])
-+   fi
-+fi
-+
- PHP_DATE_CFLAGS="-I@ext_builddir@/lib -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -DHAVE_TIMELIB_CONFIG_H=1"
- timelib_sources="lib/astro.c lib/dow.c lib/parse_date.c lib/parse_tz.c
-                  lib/timelib.c lib/tm2unixtime.c lib/unixtime2tm.c lib/parse_iso_intervals.c lib/interval.c"
---- a/ext/date/lib/parse_tz.c
-+++ b/ext/date/lib/parse_tz.c
-@@ -26,8 +26,21 @@
- #include "timelib.h"
- #include "timelib_private.h"
- 
-+#ifdef HAVE_SYSTEM_TZDATA
-+#include <sys/mman.h>
-+#include <sys/stat.h>
-+#include <limits.h>
-+#include <fcntl.h>
-+#include <unistd.h>
-+
-+#include "php_scandir.h"
-+
-+#else
- #define TIMELIB_SUPPORTS_V2DATA
- #include "timezonedb.h"
-+#endif
-+
-+#include <ctype.h>
- 
- #if (defined(__APPLE__) || defined(__APPLE_CC__)) && (defined(__BIG_ENDIAN__) || defined(__LITTLE_ENDIAN__))
- # if defined(__LITTLE_ENDIAN__)
-@@ -88,6 +101,11 @@ static int read_php_preamble(const unsig
- {
- 	uint32_t version;
- 
-+	if (memcmp(*tzf, "TZif", 4) == 0) {
-+		*tzf += 20;
-+		return 0;
-+	}
-+
- 	/* read ID */
- 	version = (*tzf)[3] - '0';
- 	*tzf += 4;
-@@ -412,7 +430,429 @@ void timelib_dump_tzinfo(timelib_tzinfo
- 	}
- }
- 
--static int seek_to_tz_position(const unsigned char **tzf, char *timezone, const timelib_tzdb *tzdb)
-+#ifdef HAVE_SYSTEM_TZDATA
-+
-+#ifdef HAVE_SYSTEM_TZDATA_PREFIX
-+#define ZONEINFO_PREFIX HAVE_SYSTEM_TZDATA_PREFIX
-+#else
-+#define ZONEINFO_PREFIX "/usr/share/zoneinfo"
-+#endif
-+
-+/* System timezone database pointer. */
-+static const timelib_tzdb *timezonedb_system;
-+
-+/* Hash table entry for the cache of the zone.tab mapping table. */
-+struct location_info {
-+        char code[2];
-+        double latitude, longitude;
-+        char name[64];
-+        char *comment;
-+        struct location_info *next;
-+};
-+
-+/* Cache of zone.tab. */
-+static struct location_info **system_location_table;
-+
-+/* Size of the zone.tab hash table; a random-ish prime big enough to
-+ * prevent too many collisions. */
-+#define LOCINFO_HASH_SIZE (1021)
-+
-+/* Compute a case insensitive hash of str */
-+static uint32_t tz_hash(const char *str)
-+{
-+    const unsigned char *p = (const unsigned char *)str;
-+    uint32_t hash = 5381;
-+    int c;
-+
-+    while ((c = tolower(*p++)) != '\0') {
-+        hash = (hash << 5) ^ hash ^ c;
-+    }
-+
-+    return hash % LOCINFO_HASH_SIZE;
-+}
-+
-+/* Parse an ISO-6709 date as used in zone.tab. Returns end of the
-+ * parsed string on success, or NULL on parse error.  On success,
-+ * writes the parsed number to *result. */
-+static char *parse_iso6709(char *p, double *result)
-+{
-+    double v, sign;
-+    char *pend;
-+    size_t len;
-+
-+    if (*p == '+')
-+        sign = 1.0;
-+    else if (*p == '-')
-+        sign = -1.0;
-+    else
-+        return NULL;
-+
-+    p++;
-+    for (pend = p; *pend >= '0' && *pend <= '9'; pend++)
-+        ;;
-+
-+    /* Annoying encoding used by zone.tab has no decimal point, so use
-+     * the length to determine the format:
-+     * 
-+     * 4 = DDMM
-+     * 5 = DDDMM
-+     * 6 = DDMMSS
-+     * 7 = DDDMMSS
-+     */
-+    len = pend - p;
-+    if (len < 4 || len > 7) {
-+        return NULL;
-+    }
-+
-+    /* p => [D]DD */
-+    v = (p[0] - '0') * 10.0 + (p[1] - '0');
-+    p += 2;
-+    if (len == 5 || len == 7)
-+        v = v * 10.0 + (*p++ - '0');
-+    /* p => MM[SS] */
-+    v += (10.0 * (p[0] - '0')
-+          + p[1] - '0') / 60.0;
-+    p += 2;
-+    /* p => [SS] */
-+    if (len > 5) {
-+        v += (10.0 * (p[0] - '0')
-+              + p[1] - '0') / 3600.0;
-+        p += 2;
-+    }
-+
-+    /* Round to five decimal place, not because it's a good idea,
-+     * but, because the builtin data uses rounded data, so, match
-+     * that. */
-+    *result = trunc(v * sign * 100000.0) / 100000.0;
-+
-+    return p;
-+}
-+
-+/* This function parses the zone.tab file to build up the mapping of
-+ * timezone to country code and geographic location, and returns a
-+ * hash table.  The hash table is indexed by the function:
-+ *
-+ *   tz_hash(timezone-name)
-+ */
-+static struct location_info **create_location_table(void)
-+{
-+    struct location_info **li, *i;
-+    char zone_tab[PATH_MAX];
-+    char line[512];
-+    FILE *fp;
-+
-+    strncpy(zone_tab, ZONEINFO_PREFIX "/zone.tab", sizeof zone_tab);
-+
-+    fp = fopen(zone_tab, "r");
-+    if (!fp) {
-+        return NULL;
-+    }
-+
-+    li = calloc(LOCINFO_HASH_SIZE, sizeof *li);
-+
-+    while (fgets(line, sizeof line, fp)) {
-+        char *p = line, *code, *name, *comment;
-+        uint32_t hash;
-+        double latitude, longitude;
-+
-+        while (isspace(*p))
-+            p++;
-+
-+        if (*p == '#' || *p == '\0' || *p == '\n')
-+            continue;
-+        
-+        if (!isalpha(p[0]) || !isalpha(p[1]) || p[2] != '\t')
-+            continue;
-+        
-+        /* code => AA */
-+        code = p;
-+        p[2] = 0;
-+        p += 3;
-+
-+        /* coords => [+-][D]DDMM[SS][+-][D]DDMM[SS] */
-+        p = parse_iso6709(p, &latitude);
-+        if (!p) {
-+            continue;
-+        }
-+        p = parse_iso6709(p, &longitude);
-+        if (!p) {
-+            continue;
-+        }
-+
-+        if (!p || *p != '\t') {
-+            continue;
-+        }
-+
-+        /* name = string */
-+        name = ++p;
-+        while (*p != '\t' && *p && *p != '\n')
-+            p++;
-+
-+        *p++ = '\0';
-+
-+        /* comment = string */
-+        comment = p;
-+        while (*p != '\t' && *p && *p != '\n')
-+            p++;
-+
-+        if (*p == '\n' || *p == '\t')
-+            *p = '\0';
-+        
-+        hash = tz_hash(name);
-+        i = malloc(sizeof *i);
-+        memcpy(i->code, code, 2);
-+        strncpy(i->name, name, sizeof i->name);
-+        i->comment = strdup(comment);
-+        i->longitude = longitude;
-+        i->latitude = latitude;
-+        i->next = li[hash];
-+        li[hash] = i;
-+        /* printf("%s [%u, %f, %f]\n", name, hash, latitude, longitude); */
-+    }
-+
-+    fclose(fp);
-+
-+    return li;
-+}
-+
-+/* Return location info from hash table, using given timezone name.
-+ * Returns NULL if the name could not be found. */
-+const struct location_info *find_zone_info(struct location_info **li, 
-+                                           const char *name)
-+{
-+    uint32_t hash = tz_hash(name);
-+    const struct location_info *l;
-+
-+    if (!li) {
-+        return NULL;
-+    }
-+
-+    for (l = li[hash]; l; l = l->next) {
-+        if (timelib_strcasecmp(l->name, name) == 0)
-+            return l;
-+    }
-+
-+    return NULL;
-+}    
-+
-+/* Filter out some non-tzdata files and the posix/right databases, if
-+ * present. */
-+static int index_filter(const struct dirent *ent)
-+{
-+	return strcmp(ent->d_name, ".") != 0
-+		&& strcmp(ent->d_name, "..") != 0
-+		&& strcmp(ent->d_name, "posix") != 0
-+		&& strcmp(ent->d_name, "posixrules") != 0
-+		&& strcmp(ent->d_name, "right") != 0
-+		&& strstr(ent->d_name, ".list") == NULL
-+		&& strstr(ent->d_name, ".tab") == NULL;
-+}
-+
-+static int sysdbcmp(const void *first, const void *second)
-+{
-+        const timelib_tzdb_index_entry *alpha = first, *beta = second;
-+
-+        return timelib_strcasecmp(alpha->id, beta->id);
-+}
-+
-+
-+/* Create the zone identifier index by trawling the filesystem. */
-+static void create_zone_index(timelib_tzdb *db)
-+{
-+	size_t dirstack_size,  dirstack_top;
-+	size_t index_size, index_next;
-+	timelib_tzdb_index_entry *db_index;
-+	char **dirstack;
-+
-+	/* LIFO stack to hold directory entries to scan; each slot is a
-+	 * directory name relative to the zoneinfo prefix. */
-+	dirstack_size = 32;
-+	dirstack = malloc(dirstack_size * sizeof *dirstack);
-+	dirstack_top = 1;
-+	dirstack[0] = strdup("");
-+	
-+	/* Index array. */
-+	index_size = 64;
-+	db_index = malloc(index_size * sizeof *db_index);
-+	index_next = 0;
-+
-+	do {
-+		struct dirent **ents;
-+		char name[PATH_MAX], *top;
-+		int count;
-+
-+		/* Pop the top stack entry, and iterate through its contents. */
-+		top = dirstack[--dirstack_top];
-+		snprintf(name, sizeof name, ZONEINFO_PREFIX "/%s", top);
-+
-+		count = php_scandir(name, &ents, index_filter, php_alphasort);
-+
-+		while (count > 0) {
-+			struct stat st;
-+			const char *leaf = ents[count - 1]->d_name;
-+
-+			snprintf(name, sizeof name, ZONEINFO_PREFIX "/%s/%s", 
-+				 top, leaf);
-+			
-+			if (strlen(name) && stat(name, &st) == 0) {
-+				/* Name, relative to the zoneinfo prefix. */
-+				const char *root = top;
-+
-+				if (root[0] == '/') root++;
-+
-+				snprintf(name, sizeof name, "%s%s%s", root, 
-+					 *root ? "/": "", leaf);
-+
-+				if (S_ISDIR(st.st_mode)) {
-+					if (dirstack_top == dirstack_size) {
-+						dirstack_size *= 2;
-+						dirstack = realloc(dirstack, 
-+								   dirstack_size * sizeof *dirstack);
-+					}
-+					dirstack[dirstack_top++] = strdup(name);
-+				}
-+				else {
-+					if (index_next == index_size) {
-+						index_size *= 2;
-+						db_index = realloc(db_index,
-+								   index_size * sizeof *db_index);
-+					}
-+
-+					db_index[index_next++].id = strdup(name);
-+				}
-+			}
-+
-+			free(ents[--count]);
-+		}
-+		
-+		if (count != -1) free(ents);
-+		free(top);
-+	} while (dirstack_top);
-+
-+        qsort(db_index, index_next, sizeof *db_index, sysdbcmp);
-+
-+	db->index = db_index;
-+	db->index_size = index_next;
-+
-+	free(dirstack);
-+}
-+
-+#define FAKE_HEADER "1234\0??\1??"
-+#define FAKE_UTC_POS (7 - 4)
-+
-+/* Create a fake data segment for database 'sysdb'. */
-+static void fake_data_segment(timelib_tzdb *sysdb,
-+                              struct location_info **info)
-+{
-+        size_t n;
-+        char *data, *p;
-+        
-+        data = malloc(3 * sysdb->index_size + 7);
-+
-+        p = mempcpy(data, FAKE_HEADER, sizeof(FAKE_HEADER) - 1);
-+
-+        for (n = 0; n < sysdb->index_size; n++) {
-+                const struct location_info *li;
-+                timelib_tzdb_index_entry *ent;
-+
-+                ent = (timelib_tzdb_index_entry *)&sysdb->index[n];
-+
-+                /* Lookup the timezone name in the hash table. */
-+                if (strcmp(ent->id, "UTC") == 0) {
-+                        ent->pos = FAKE_UTC_POS;
-+                        continue;
-+                }
-+
-+                li = find_zone_info(info, ent->id);
-+                if (li) {
-+                        /* If found, append the BC byte and the
-+                         * country code; set the position for this
-+                         * section of timezone data.  */
-+                        ent->pos = (p - data) - 4;
-+                        *p++ = '\1';
-+                        *p++ = li->code[0];
-+                        *p++ = li->code[1];
-+                }
-+                else {
-+                        /* If not found, the timezone data can
-+                         * point at the header. */
-+                        ent->pos = 0;
-+                }
-+        }
-+        
-+        sysdb->data = (unsigned char *)data;
-+}
-+
-+/* Returns true if the passed-in stat structure describes a
-+ * probably-valid timezone file. */
-+static int is_valid_tzfile(const struct stat *st, int fd)
-+{
-+	if (fd) {
-+		char buf[20];
-+		if (read(fd, buf, 20)!=20) {
-+			return 0;
-+		}
-+		lseek(fd, SEEK_SET, 0);
-+		if (memcmp(buf, "TZif", 4)) {
-+			return 0;
-+		}
-+	}
-+	return S_ISREG(st->st_mode) && st->st_size > 20;
-+}
-+
-+/* To allow timezone names to be used case-insensitively, find the
-+ * canonical name for this timezone, if possible. */
-+static const char *canonical_tzname(const char *timezone)
-+{
-+    if (timezonedb_system) {
-+        timelib_tzdb_index_entry *ent, lookup;
-+
-+        lookup.id = (char *)timezone;
-+
-+        ent = bsearch(&lookup, timezonedb_system->index,
-+                      timezonedb_system->index_size, sizeof lookup,
-+                      sysdbcmp);
-+        if (ent) {
-+            return ent->id;
-+        }
-+    }
-+
-+    return timezone;
-+}
-+
-+/* Return the mmap()ed tzfile if found, else NULL.  On success, the
-+ * length of the mapped data is placed in *length. */
-+static char *map_tzfile(const char *timezone, size_t *length)
-+{
-+	char fname[PATH_MAX];
-+	struct stat st;
-+	char *p;
-+	int fd;
-+	
-+	if (timezone[0] == '\0' || strstr(timezone, "..") != NULL) {
-+		return NULL;
-+	}
-+
-+	snprintf(fname, sizeof fname, ZONEINFO_PREFIX "/%s", canonical_tzname(timezone));
-+
-+	fd = open(fname, O_RDONLY);
-+	if (fd == -1) {
-+		return NULL;
-+	} else if (fstat(fd, &st) != 0 || !is_valid_tzfile(&st, fd)) {
-+		close(fd);
-+		return NULL;
-+	}
-+
-+	*length = st.st_size;
-+	p = mmap(NULL, st.st_size, PROT_READ, MAP_SHARED, fd, 0);
-+	close(fd);
-+	
-+	return p != MAP_FAILED ? p : NULL;
-+}
-+
-+#endif
-+
-+static int inmem_seek_to_tz_position(const unsigned char **tzf, char *timezone, const timelib_tzdb *tzdb)
- {
- 	int left = 0, right = tzdb->index_size - 1;
- 
-@@ -438,9 +878,48 @@ static int seek_to_tz_position(const uns
- 	return 0;
- }
- 
-+static int seek_to_tz_position(const unsigned char **tzf, char *timezone,
-+			       char **map, size_t *maplen,
-+			       const timelib_tzdb *tzdb)
-+{
-+#ifdef HAVE_SYSTEM_TZDATA
-+	if (tzdb == timezonedb_system) {
-+		char *orig;
-+
-+		orig = map_tzfile(timezone, maplen);
-+		if (orig == NULL) {
-+			return 0;
-+		}
-+
-+		(*tzf) = (unsigned char *)orig;
-+		*map = orig;
-+        return 1;
-+	}
-+	else
-+#endif
-+	{
-+		return inmem_seek_to_tz_position(tzf, timezone, tzdb);
-+	}
-+}
-+
- const timelib_tzdb *timelib_builtin_db(void)
- {
-+#ifdef HAVE_SYSTEM_TZDATA
-+	if (timezonedb_system == NULL) {
-+		timelib_tzdb *tmp = malloc(sizeof *tmp);
-+
-+		tmp->version = "0.system";
-+		tmp->data = NULL;
-+		create_zone_index(tmp);
-+		system_location_table = create_location_table();
-+		fake_data_segment(tmp, system_location_table);
-+		timezonedb_system = tmp;
-+	}
-+
-+	return timezonedb_system;
-+#else
- 	return &timezonedb_builtin;
-+#endif
- }
- 
- const timelib_tzdb_index_entry *timelib_timezone_identifiers_list(const timelib_tzdb *tzdb, int *count)
-@@ -452,7 +931,30 @@ const timelib_tzdb_index_entry *timelib_
- int timelib_timezone_id_is_valid(char *timezone, const timelib_tzdb *tzdb)
- {
- 	const unsigned char *tzf;
--	return (seek_to_tz_position(&tzf, timezone, tzdb));
-+
-+#ifdef HAVE_SYSTEM_TZDATA
-+	if (tzdb == timezonedb_system) {
-+		char fname[PATH_MAX];
-+		struct stat st;
-+
-+		if (timezone[0] == '\0' || strstr(timezone, "..") != NULL) {
-+			return 0;
-+		}
-+
-+		if (system_location_table) {
-+			if (find_zone_info(system_location_table, timezone) != NULL) {
-+				/* found in cache */
-+				return 1;
-+			}
-+		}
-+
-+		snprintf(fname, sizeof fname, ZONEINFO_PREFIX "/%s", canonical_tzname(timezone));
-+
-+		return stat(fname, &st) == 0 && is_valid_tzfile(&st, 0);
-+	}
-+#endif
-+
-+	return (inmem_seek_to_tz_position(&tzf, timezone, tzdb));
- }
- 
- static int skip_64bit_preamble(const unsigned char **tzf, timelib_tzinfo *tz)
-@@ -494,12 +996,14 @@ static timelib_tzinfo* timelib_tzinfo_ct
- timelib_tzinfo *timelib_parse_tzfile(char *timezone, const timelib_tzdb *tzdb, int *error_code)
- {
- 	const unsigned char *tzf;
-+	char *memmap = NULL;
-+	size_t maplen;
- 	timelib_tzinfo *tmp;
- 	int version;
- 	int transitions_result, types_result;
- 	unsigned int type; /* TIMELIB_TZINFO_PHP or TIMELIB_TZINFO_ZONEINFO */
- 
--	if (seek_to_tz_position(&tzf, timezone, tzdb)) {
-+	if (seek_to_tz_position(&tzf, timezone, &memmap, &maplen, tzdb)) {
- 		tmp = timelib_tzinfo_ctor(timezone);
- 
- 		version = read_preamble(&tzf, tmp, &type);
-@@ -534,11 +1038,36 @@ timelib_tzinfo *timelib_parse_tzfile(cha
- 		}
- 		skip_posix_string(&tzf, tmp);
- 
-+#ifdef HAVE_SYSTEM_TZDATA
-+		if (memmap) {
-+			const struct location_info *li;
-+
-+			/* TZif-style - grok the location info from the system database,
-+			 * if possible. */
-+
-+			if ((li = find_zone_info(system_location_table, timezone)) != NULL) {
-+				tmp->location.comments = timelib_strdup(li->comment);
-+				strncpy(tmp->location.country_code, li->code, 2);
-+				tmp->location.longitude = li->longitude;
-+				tmp->location.latitude = li->latitude;
-+				tmp->bc = 1;
-+			}
-+			else {
-+				set_default_location_and_comments(&tzf, tmp);
-+			}
-+
-+			/* Now done with the mmap segment - discard it. */
-+			munmap(memmap, maplen);
-+		} else {
-+#endif
- 		if (type == TIMELIB_TZINFO_PHP) {
- 			read_location(&tzf, tmp);
- 		} else {
- 			set_default_location_and_comments(&tzf, tmp);
- 		}
-+#ifdef HAVE_SYSTEM_TZDATA
-+		}
-+#endif
- 	} else {
- 		*error_code = TIMELIB_ERROR_NO_SUCH_TIMEZONE;
- 		tmp = NULL;
diff -uprN a/feeds/packages/lang/php7/patches/0032-Use-system-timezone.patch b/feeds/packages/lang/php7/patches/0032-Use-system-timezone.patch
--- a/feeds/packages/lang/php7/patches/0032-Use-system-timezone.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/0032-Use-system-timezone.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-From: Debian PHP Maintainers <pkg-php-maint@lists.alioth.debian.org>
-Date: Sat, 2 May 2015 10:26:56 +0200
-Subject: Use system timezone
-
-Upstream don't want this patch. See
-http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=730771 for a summary.
-
-This delta is recovered from previous versions of the system timezone patch in
-Debian, and appears to have inadvertently been dropped. Author unknown.
-
-To be used in tandem with use_embedded_timezonedb.patch and use_embedded_timezonedb_fixes.patch.
----
- ext/date/php_date.c | 17 +++++++++++++++++
- 1 file changed, 17 insertions(+)
-
---- a/ext/date/php_date.c
-+++ b/ext/date/php_date.c
-@@ -1039,6 +1039,23 @@ static char* guess_timezone(const timeli
- 		DATEG(timezone_valid) = 1;
- 		return DATEG(default_timezone);
- 	}
-+	/* Try to guess timezone from system information */
-+	{
-+		struct tm *ta, tmbuf;
-+		time_t     the_time;
-+		char      *tzid = NULL;
-+
-+		the_time = time(NULL);
-+		ta = php_localtime_r(&the_time, &tmbuf);
-+		if (ta) {
-+			tzid = timelib_timezone_id_from_abbr(ta->tm_zone, ta->tm_gmtoff, ta->tm_isdst);
-+		}
-+		if (! tzid) {
-+			tzid = "UTC";
-+		}
-+
-+		return tzid;
-+	}
- 	/* Fallback to UTC */
- 	return "UTC";
- }
diff -uprN a/feeds/packages/lang/php7/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch b/feeds/packages/lang/php7/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch
--- a/feeds/packages/lang/php7/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,102 +0,0 @@
-From: Thijs Kinkhorst <thijs@debian.org>
-Date: Mon, 2 Dec 2019 22:18:43 +0100
-Subject: Add patch to remove build timestamps from generated binaries.
-
----
- ext/standard/info.c           |  1 -
- sapi/apache2handler/config.m4 | 15 +++------------
- sapi/cgi/cgi_main.c           |  4 ++--
- sapi/cli/php_cli.c            |  4 ++--
- sapi/fpm/fpm/fpm_main.c       |  4 ++--
- sapi/phpdbg/phpdbg.c          |  4 +---
- 6 files changed, 10 insertions(+), 22 deletions(-)
-
---- a/ext/standard/info.c
-+++ b/ext/standard/info.c
-@@ -803,7 +803,6 @@ PHPAPI ZEND_COLD void php_print_info(int
- 		php_info_print_box_end();
- 		php_info_print_table_start();
- 		php_info_print_table_row(2, "System", ZSTR_VAL(php_uname));
--		php_info_print_table_row(2, "Build Date", __DATE__ " " __TIME__);
- #ifdef COMPILER
- 		php_info_print_table_row(2, "Compiler", COMPILER);
- #endif
---- a/sapi/apache2handler/config.m4
-+++ b/sapi/apache2handler/config.m4
-@@ -64,18 +64,9 @@ if test "$PHP_APXS2" != "no"; then
-   fi
- 
-   APXS_LIBEXECDIR='$(INSTALL_ROOT)'`$APXS -q LIBEXECDIR`
--  if test -z `$APXS -q SYSCONFDIR`; then
--    INSTALL_IT="\$(mkinstalldirs) '$APXS_LIBEXECDIR' && \
--                 $APXS -S LIBEXECDIR='$APXS_LIBEXECDIR' \
--                       -i -n php7"
--  else
--    APXS_SYSCONFDIR='$(INSTALL_ROOT)'`$APXS -q SYSCONFDIR`
--    INSTALL_IT="\$(mkinstalldirs) '$APXS_LIBEXECDIR' && \
--                \$(mkinstalldirs) '$APXS_SYSCONFDIR' && \
--                 $APXS -S LIBEXECDIR='$APXS_LIBEXECDIR' \
--                       -S SYSCONFDIR='$APXS_SYSCONFDIR' \
--                       -i -a -n php7"
--  fi
-+  INSTALL_IT="\$(mkinstalldirs) '$APXS_LIBEXECDIR' && \
-+               $APXS -S LIBEXECDIR='$APXS_LIBEXECDIR' \
-+                     -i -n php7"
- 
-   case $host_alias in
-   *aix*)
---- a/sapi/cgi/cgi_main.c
-+++ b/sapi/cgi/cgi_main.c
-@@ -2401,9 +2401,9 @@ parent_loop_end:
- 							SG(headers_sent) = 1;
- 							SG(request_info).no_headers = 1;
- #if ZEND_DEBUG
--							php_printf("PHP %s (%s) (built: %s %s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+							php_printf("PHP %s (%s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name,  get_zend_version());
- #else
--							php_printf("PHP %s (%s) (built: %s %s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+							php_printf("PHP %s (%s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #endif
- 							php_request_shutdown((void *) 0);
- 							fcgi_shutdown();
---- a/sapi/cli/php_cli.c
-+++ b/sapi/cli/php_cli.c
-@@ -648,8 +648,8 @@ static int do_cli(int argc, char **argv)
- 				goto out;
- 
- 			case 'v': /* show php version & quit */
--				php_printf("PHP %s (%s) (built: %s %s) ( %s)\nCopyright (c) The PHP Group\n%s",
--					PHP_VERSION, cli_sapi_module.name, __DATE__, __TIME__,
-+				php_printf("PHP %s (%s) ( %s)\nCopyright (c) The PHP Group\n%s",
-+					PHP_VERSION, cli_sapi_module.name,
- #if ZTS
- 					"ZTS "
- #else
---- a/sapi/fpm/fpm/fpm_main.c
-+++ b/sapi/fpm/fpm/fpm_main.c
-@@ -1718,9 +1718,9 @@ int main(int argc, char *argv[])
- 				SG(request_info).no_headers = 1;
- 
- #if ZEND_DEBUG
--				php_printf("PHP %s (%s) (built: %s %s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__,        __TIME__, get_zend_version());
-+				php_printf("PHP %s (%s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #else
--				php_printf("PHP %s (%s) (built: %s %s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__,      get_zend_version());
-+				php_printf("PHP %s (%s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #endif
- 				php_request_shutdown((void *) 0);
- 				fcgi_shutdown();
---- a/sapi/phpdbg/phpdbg.c
-+++ b/sapi/phpdbg/phpdbg.c
-@@ -1697,10 +1697,8 @@ phpdbg_main:
- 				phpdbg_do_help_cmd(exec);
- 			} else if (show_version) {
- 				phpdbg_out(
--					"phpdbg %s (built: %s %s)\nPHP %s, Copyright (c) The PHP Group\n%s",
-+					"phpdbg %s\nPHP %s, Copyright (c) The PHP Group\n%s",
- 					PHPDBG_VERSION,
--					__DATE__,
--					__TIME__,
- 					PHP_VERSION,
- 					get_zend_version()
- 				);
diff -uprN a/feeds/packages/lang/php7/patches/0042-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch b/feeds/packages/lang/php7/patches/0042-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch
--- a/feeds/packages/lang/php7/patches/0042-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/0042-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,23 +0,0 @@
-From: =?utf-8?q?Ond=C5=99ej_Sur=C3=BD?= <ondrej@sury.org>
-Date: Wed, 29 Jul 2015 14:37:55 +0200
-Subject: Remove W3C validation icon to not expose the reader's IP address to
- potential tracking.
-
----
- sapi/fpm/status.html.in | 5 -----
- 1 file changed, 5 deletions(-)
-
---- a/sapi/fpm/status.html.in
-+++ b/sapi/fpm/status.html.in
-@@ -70,11 +70,6 @@
- 				<tr class="h"><th>PID&darr;</th><th>Start Time</th><th>Start Since</th><th>Requests Served</th><th>Request Duration</th><th>Request method</th><th>Request URI</th><th>Content Length</th><th>User</th><th>Script</th><th>Last Request %CPU</th><th>Last Request Memory</th></tr>
- 			</table>
- 		</div>
--		<p>
--			<a href="http://validator.w3.org/check?uri=referer">
--				<img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Transitional" height="31" width="88" />
--			</a>
--		 </p>
- 		<script type="text/javascript">
- <!--
- 			var xhr_object = null;
diff -uprN a/feeds/packages/lang/php7/patches/0050-remove-build-timestamps.patch b/feeds/packages/lang/php7/patches/0050-remove-build-timestamps.patch
--- a/feeds/packages/lang/php7/patches/0050-remove-build-timestamps.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/0050-remove-build-timestamps.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
---- a/ext/opcache/ZendAccelerator.c
-+++ b/ext/opcache/ZendAccelerator.c
-@@ -2670,11 +2670,6 @@ static void accel_gen_system_id(void)
- 	PHP_MD5Update(&context, PHP_VERSION, sizeof(PHP_VERSION)-1);
- 	PHP_MD5Update(&context, ZEND_EXTENSION_BUILD_ID, sizeof(ZEND_EXTENSION_BUILD_ID)-1);
- 	PHP_MD5Update(&context, ZEND_BIN_ID, sizeof(ZEND_BIN_ID)-1);
--	if (strstr(PHP_VERSION, "-dev") != 0) {
--		/* Development versions may be changed from build to build */
--		PHP_MD5Update(&context, __DATE__, sizeof(__DATE__)-1);
--		PHP_MD5Update(&context, __TIME__, sizeof(__TIME__)-1);
--	}
- 	/* Modules may have changed after restart which can cause dangling pointers from
-      * custom opcode handlers in the second-level cache files
-      */
---- a/sapi/litespeed/lsapi_main.c
-+++ b/sapi/litespeed/lsapi_main.c
-@@ -1288,9 +1288,9 @@ static int cli_main( int argc, char * ar
-             case 'v':
-                 if (php_request_startup() != FAILURE) {
- #if ZEND_DEBUG
--                    php_printf("PHP %s (%s) (built: %s %s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+                    php_printf("PHP %s (%s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #else
--                    php_printf("PHP %s (%s) (built: %s %s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+                    php_printf("PHP %s (%s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #endif
- #ifdef PHP_OUTPUT_NEWAPI
-                     php_output_end_all();
diff -uprN a/feeds/packages/lang/php7/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch b/feeds/packages/lang/php7/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch
--- a/feeds/packages/lang/php7/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-From dd6ee0fb6715881b204fb4cb124db9134c1a6c7d Mon Sep 17 00:00:00 2001
-From: Michael Heimpold <mhei@heimpold.de>
-Date: Mon, 2 Dec 2019 22:42:28 +0100
-Subject: [PATCH] ext/opcache: fix detection of shm/mmap
-
-The detection of sysvipc and mmap doesn't work well when cross-compiling,
-so I decided to only check for the availability of the functions involved.
-This is not a clean solution, but works for now(tm) :-)
-
-It should be discussed with upstream to find a better solution.
-
-This solves the issue reported at
-https://github.com/openwrt/packages/issues/1010
-and makes opcache usable on OpenWrt.
-
-Signed-off-by: Michael Heimpold <mhei@heimpold.de>
----
- ext/opcache/config.m4 | 10 ++++++++--
- 1 file changed, 8 insertions(+), 2 deletions(-)
-
---- a/ext/opcache/config.m4
-+++ b/ext/opcache/config.m4
-@@ -89,7 +89,10 @@ int main() {
- }
- ]])],[dnl
-     AC_DEFINE(HAVE_SHM_IPC, 1, [Define if you have SysV IPC SHM support])
--    msg=yes],[msg=no],[msg=no])
-+    msg=yes],[msg=no],[dnl
-+    AC_CHECK_FUNC(shmget,[dnl
-+        AC_DEFINE(HAVE_SHM_IPC, 1, [Define if you have SysV IPC SHM support])
-+        msg=yes],[msg=no])])
-   AC_MSG_RESULT([$msg])
- 
-   AC_MSG_CHECKING(for mmap() using MAP_ANON shared memory support)
-@@ -141,7 +144,10 @@ int main() {
- }
- ]])],[dnl
-     AC_DEFINE(HAVE_SHM_MMAP_ANON, 1, [Define if you have mmap(MAP_ANON) SHM support])
--    msg=yes],[msg=no],[msg=no])
-+    msg=yes],[msg=no],[dnl
-+    AC_CHECK_FUNC(mmap,[dnl
-+        AC_DEFINE(HAVE_SHM_MMAP_ANON, 1, [Define if you have mmap(MAP_ANON) SHM support])
-+        msg=yes],[msg=no])])
-   AC_MSG_RESULT([$msg])
- 
-   PHP_CHECK_FUNC_LIB(shm_open, rt)
diff -uprN a/feeds/packages/lang/php7/patches/1004-disable-phar-command.patch b/feeds/packages/lang/php7/patches/1004-disable-phar-command.patch
--- a/feeds/packages/lang/php7/patches/1004-disable-phar-command.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/patches/1004-disable-phar-command.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,32 +0,0 @@
---- a/ext/phar/config.m4
-+++ b/ext/phar/config.m4
-@@ -19,7 +19,7 @@ if test "$PHP_PHAR" != "no"; then
-   fi
-   PHP_ADD_EXTENSION_DEP(phar, hash, true)
-   PHP_ADD_EXTENSION_DEP(phar, spl, true)
--  PHP_ADD_MAKEFILE_FRAGMENT
-+  #PHP_ADD_MAKEFILE_FRAGMENT
- 
-   PHP_INSTALL_HEADERS([ext/phar], [php_phar.h])
- 
---- a/configure.ac
-+++ b/configure.ac
-@@ -1454,13 +1454,13 @@ CFLAGS="\$(CFLAGS_CLEAN) $standard_libto
- INLINE_CFLAGS="$INLINE_CFLAGS $standard_libtool_flag"
- CXXFLAGS="$CXXFLAGS $standard_libtool_flag \$(PROF_FLAGS)"
- 
--if test "$PHP_PHAR" != "no" && test "$PHP_CLI" != "no"; then
--  pharcmd=pharcmd
--  pharcmd_install=install-pharcmd
--else
-+#if test "$PHP_PHAR" != "no" && test "$PHP_CLI" != "no"; then
-+#  pharcmd=pharcmd
-+#  pharcmd_install=install-pharcmd
-+#else
-   pharcmd=
-   pharcmd_install=
--fi;
-+#fi;
- 
- all_targets="$lcov_target \$(OVERALL_TARGET) \$(PHP_MODULES) \$(PHP_ZEND_EX) \$(PHP_BINARIES) $pharcmd"
- install_targets="$install_sapi $install_modules $install_binaries install-build install-headers install-programs $install_pear $pharcmd_install"
diff -uprN a/feeds/packages/lang/php7/pecl.mk b/feeds/packages/lang/php7/pecl.mk
--- a/feeds/packages/lang/php7/pecl.mk	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/pecl.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,52 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/php7-pecl/Default
-  SUBMENU:=PHP7
-  SECTION:=lang
-  CATEGORY:=Languages
-  URL:=http://pecl.php.net/
-  DEPENDS:=php7
-endef
-
-define Build/Prepare
-	$(Build/Prepare/Default)
-	$(if $(QUILT),,( cd $(PKG_BUILD_DIR); $(STAGING_DIR)/usr/bin/phpize7 ))
-endef
-
-define Build/Configure
-	$(if $(QUILT),( cd $(PKG_BUILD_DIR); $(STAGING_DIR)/usr/bin/phpize7 ))
-	$(Build/Configure/Default)
-endef
-
-CONFIGURE_VARS+= \
-	ac_cv_c_bigendian_php=$(if $(CONFIG_BIG_ENDIAN),yes,no)
-
-CONFIGURE_ARGS+= \
-	--with-php-config=$(STAGING_DIR)/usr/bin/php7-config
-
-define PHP7PECLPackage
-
-  define Package/php7-pecl-$(1)
-    $(call Package/php7-pecl/Default)
-    TITLE:=$(2)
-
-    ifneq ($(3),)
-      DEPENDS+=$(3)
-    endif
-  endef
-
-  define Package/php7-pecl-$(1)/install
-	$(INSTALL_DIR) $$(1)/usr/lib/php
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/modules/$(subst -,_,$(1)).so $$(1)/usr/lib/php/
-	$(INSTALL_DIR) $$(1)/etc/php7
-    ifeq ($(5),zend)
-	echo "zend_extension=/usr/lib/php/$(subst -,_,$(1)).so" > $$(1)/etc/php7/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-    else
-	echo "extension=$(subst -,_,$(1)).so" > $$(1)/etc/php7/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-    endif
-  endef
-
-endef
diff -uprN a/feeds/packages/lang/php7/test.sh b/feeds/packages/lang/php7/test.sh
--- a/feeds/packages/lang/php7/test.sh	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7/test.sh	1970-01-01 08:00:00.000000000 +0800
@@ -1,23 +0,0 @@
-#!/bin/sh
-
-case "$1" in
-	php7-cgi)
-		php-cgi -v | grep "$2"
-		;;
-	php7-cli)
-		php-cli -v | grep "$2"
-		;;
-	php7-fpm)
-		php-fpm -v | grep "$2"
-		;;
-	php7-mod-*)
-		PHP_MOD="${1#php7-mod-}"
-		PHP_MOD="${PHP_MOD//-/_}"
-
-		opkg install php7-cli
-
-		php-cli -m | grep -i "$PHP_MOD"
-		;;
-	*)
-		;;
-esac
diff -uprN a/feeds/packages/lang/php7-pecl-dio/Makefile b/feeds/packages/lang/php7-pecl-dio/Makefile
--- a/feeds/packages/lang/php7-pecl-dio/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-dio/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,32 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=dio
-PECL_LONGNAME:=Direct I/O functions
-
-PKG_VERSION:=0.2.0
-PKG_RELEASE:=1
-PKG_HASH:=062777e948dece374c2d7d9e92106c87d18c11128d2179b50dedb43175c4bd6e
-
-PKG_NAME:=php7-pecl-$(PECL_NAME)
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-$(eval $(call PHP7PECLPackage,$(PECL_NAME),$(PECL_LONGNAME)))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-http/Makefile b/feeds/packages/lang/php7-pecl-http/Makefile
--- a/feeds/packages/lang/php7-pecl-http/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-http/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,58 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=pecl_http
-PECL_LONGNAME:=Extended HTTP Support
-
-PKG_VERSION:=3.2.5
-PKG_RELEASE:=1
-PKG_HASH:=38f9345cee2e60b4919af73a6a291e1d3b90543c61edc9def6bd783f3b100728
-
-PKG_NAME:=php7-pecl-http
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=php7 php7-pecl-propro php7-pecl-raphf
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_VARS+= \
-	PECL_cv_HAVE_EXT_propro=yes \
-	PECL_cv_HAVE_EXT_raphf=yes \
-	PECL_cv_HAVE_LIBCURL_ARES=no \
-	PECL_cv_HAVE_LIBCURL_OpenSSL=$(if $(CONFIG_LIBCURL_OPENSSL),yes,no) \
-	PECL_cv_HAVE_LIBCURL_GnuTLS=$(if $(CONFIG_LIBCURL_GNUTLS),yes,no) \
-	PECL_cv_HAVE_LIBCURL_NSS=no \
-	PECL_cv_HAVE_LIBCURL_SecureTransport=no \
-	PECL_cv_HAVE_LIBCURL_GSKit=no \
-	PECL_cv_HAVE_LIBCURL_PolarSSL=no \
-	PECL_cv_HAVE_LIBCURL_WolfSSL=$(if $(CONFIG_LIBCURL_WOLFSSL),yes,no) \
-	PECL_cv_HAVE_LIBCURL_mbedTLS=$(if $(CONFIG_LIBCURL_MBEDTLS),yes,no) \
-	PECL_cv_HAVE_LIBCURL_axTLS=no \
-	PECL_cv_LIBCURL_TLSAUTH_SRP=$(if $(CONFIG_LIBCURL_TLS_SRP),yes,no) \
-
-CONFIGURE_ARGS+= \
-	--with-http \
-	--without-http-shared-deps \
-	--with-http-zlib-dir="$(STAGING_DIR)/usr" \
-	--with-http-libcurl-dir="$(STAGING_DIR)/usr" \
-	--with-http-libevent-dir="$(STAGING_DIR)/usr" \
-	--with-http-libidn-dir="$(STAGING_DIR)/usr" \
-	--with-http-libidnkit-dir=no \
-	--with-http-libidnkit2-dir=no
-
-$(eval $(call PHP7PECLPackage,http,$(PECL_LONGNAME),+icu +libcurl +librt +libevent2 +PACKAGE_libidn:libidn +libidn2 +php7-mod-iconv +php7-mod-session +php7-pecl-raphf +php7-pecl-propro,30))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-imagick/Makefile b/feeds/packages/lang/php7-pecl-imagick/Makefile
--- a/feeds/packages/lang/php7-pecl-imagick/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-imagick/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=imagick
-PECL_LONGNAME:=Image Processing (ImageMagick binding)
-
-PKG_VERSION:=3.5.1
-PKG_RELEASE:=1
-PKG_HASH:=243ff2094edcacb2ae46ee3a4d9f38a60a4f26a6a71f59023b6198cbed0f7f81
-
-PKG_NAME:=php7-pecl-imagick
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=php7
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= --with-imagick="$(STAGING_DIR)/usr"
-
-$(eval $(call PHP7PECLPackage,imagick,$(PECL_LONGNAME),+imagemagick,30))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-krb5/Makefile b/feeds/packages/lang/php7-pecl-krb5/Makefile
--- a/feeds/packages/lang/php7-pecl-krb5/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-krb5/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=krb5
-PECL_LONGNAME:=Bindings for the Kerberos library
-
-PKG_VERSION:=1.1.4
-PKG_RELEASE:=1
-PKG_HASH:=8aba35bb9f2892be9092e8717d3e13604a817cdfb478dbc3855a226abc6c5979
-
-PKG_NAME:=php7-pecl-krb5
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=php7
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= \
-	--with-krb5=shared,"$(STAGING_DIR)/usr" \
-	--with-krb5config=$(STAGING_DIR)/usr/bin/krb5-config
-
-$(eval $(call PHP7PECLPackage,krb5,$(PECL_LONGNAME),+krb5-libs,30))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-libevent/Makefile b/feeds/packages/lang/php7-pecl-libevent/Makefile
--- a/feeds/packages/lang/php7-pecl-libevent/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-libevent/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=libevent
-PECL_LONGNAME:=Libevent - event notification
-
-PKG_NAME:=php7-pecl-$(PECL_NAME)
-PKG_VERSION=2019-05-30-$(PKG_SOURCE_VERSION)
-PKG_RELEASE:=2
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://github.com/expressif/pecl-event-libevent.git
-PKG_SOURCE_VERSION:=ce255e7e1e293030951fd68d5df06b2a4c077a89
-PKG_SOURCE_SUBDIR:=$(PECL_NAME)-$(PKG_SOURCE_VERSION)
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_SOURCE_VERSION).tar.gz
-PKG_MIRROR_HASH:=9bb1665e020c2254bb347adc0779bea75876b8c21f2612eca723c99280a780dd
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_SOURCE_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= --with-libevent=shared,"$(STAGING_DIR)/usr"
-
-$(eval $(call PHP7PECLPackage,$(PECL_NAME),$(PECL_LONGNAME),+libevent2 +php7-mod-sockets,25))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-libevent/patches/010-libevent2.patch b/feeds/packages/lang/php7-pecl-libevent/patches/010-libevent2.patch
--- a/feeds/packages/lang/php7-pecl-libevent/patches/010-libevent2.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-libevent/patches/010-libevent2.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
---- a/libevent.c
-+++ b/libevent.c
-@@ -37,10 +37,12 @@
- # define LIBEVENT_SOCKETS_SUPPORT
- #endif
- 
--#ifdef PHP_WIN32
-+//#ifdef PHP_WIN32
- /* XXX compiling with 2.x on Windows. Luckily the ext code works thanks to the
- compat exports from the libevent. However it might need to be adapted to the
- never version, so this ifdefs would go away. */
-+#if 1
-+/* force use of libevent2 on OpenWrt and by-pass compat event.h */
- # include <event2/event.h>
- # include <event2/event_compat.h>
- # include <event2/event_struct.h>
diff -uprN a/feeds/packages/lang/php7-pecl-mcrypt/Makefile b/feeds/packages/lang/php7-pecl-mcrypt/Makefile
--- a/feeds/packages/lang/php7-pecl-mcrypt/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-mcrypt/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=mcrypt
-PECL_LONGNAME:=Bindings for the libmcrypt library
-
-PKG_VERSION:=1.0.4
-PKG_RELEASE:=1
-PKG_HASH:=98153e78958d7a48dcd0dcfe1fc3c16ec987121a0cb2d7c273d280ee7e4ea00d
-
-PKG_NAME:=php7-pecl-mcrypt
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=php7
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= --with-mcrypt=shared,"$(STAGING_DIR)/usr"
-
-$(eval $(call PHP7PECLPackage,mcrypt,$(PECL_LONGNAME),+libmcrypt +libltdl,30))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-propro/Makefile b/feeds/packages/lang/php7-pecl-propro/Makefile
--- a/feeds/packages/lang/php7-pecl-propro/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-propro/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=propro
-PECL_LONGNAME:=Property proxy
-
-PKG_VERSION:=2.1.0
-PKG_RELEASE:=1
-PKG_HASH:=7bba0653d90cd8f61816e13ac6c0f7102b4a16dc4c4e966095a121eeb4ae8271
-
-PKG_NAME:=php7-pecl-propro
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= \
-	--enable-propro
-
-define Build/InstallDev
-	mkdir -p $(STAGING_DIR)/usr/include/php7/ext/$(PECL_NAME)
-	$(CP) $(PKG_BUILD_DIR)/php_propro.h $(STAGING_DIR)/usr/include/php7/ext/$(PECL_NAME)/
-	$(CP) $(PKG_BUILD_DIR)/php_propro_api.h $(STAGING_DIR)/usr/include/php7/ext/$(PECL_NAME)/
-endef
-
-$(eval $(call PHP7PECLPackage,$(PECL_NAME),$(PECL_LONGNAME)))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-raphf/Makefile b/feeds/packages/lang/php7-pecl-raphf/Makefile
--- a/feeds/packages/lang/php7-pecl-raphf/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-raphf/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=raphf
-PECL_LONGNAME:=Resource and persistent handles factory
-
-PKG_VERSION:=2.0.1
-PKG_RELEASE:=2
-PKG_HASH:=da3566db17422e5ef08b7ff144162952aabc14cb22407cc6b1d2a2d095812bd0
-
-PKG_NAME:=php7-pecl-raphf
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= \
-	--enable-raphf
-
-define Build/InstallDev
-	mkdir -p $(STAGING_DIR)/usr/include/php7/ext/$(PECL_NAME)
-	cp $(PKG_BUILD_DIR)/php_raphf.h $(STAGING_DIR)/usr/include/php7/ext/$(PECL_NAME)/
-	cp $(PKG_BUILD_DIR)/php_raphf_api.h $(STAGING_DIR)/usr/include/php7/ext/$(PECL_NAME)/
-endef
-
-$(eval $(call PHP7PECLPackage,$(PECL_NAME),$(PECL_LONGNAME)))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php7-pecl-redis/Makefile b/feeds/packages/lang/php7-pecl-redis/Makefile
--- a/feeds/packages/lang/php7-pecl-redis/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php7-pecl-redis/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PECL_NAME:=redis
-PECL_LONGNAME:=PHP extension for interfacing with Redis
-
-PKG_VERSION:=5.3.7
-PKG_RELEASE:=1
-PKG_HASH:=b958166ccda4f40bd17c6998f9e2239021ae644467cd8ad5c15def420aad65b0
-
-PKG_NAME:=php7-pecl-redis
-PKG_SOURCE:=$(PECL_NAME)-$(PKG_VERSION).tgz
-PKG_SOURCE_URL:=http://pecl.php.net/get/
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=COPYING
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/pecl-php7/$(PECL_NAME)-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-include ../php7/pecl.mk
-
-CONFIGURE_ARGS+= \
-	--enable-redis \
-	--enable-redis-json \
-	--disable-redis-igbinary \
-	--disable-redis-lzf \
-	--disable-redis-msgpack
-
-$(eval $(call PHP7PECLPackage,$(PECL_NAME),$(PECL_LONGNAME),+php7-mod-json +php7-mod-session,25))
-$(eval $(call BuildPackage,$(PKG_NAME)))
diff -uprN a/feeds/packages/lang/php8/files/php8-fastcgi.config b/feeds/packages/lang/php8/files/php8-fastcgi.config
--- a/feeds/packages/lang/php8/files/php8-fastcgi.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php8-fastcgi.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,3 +0,0 @@
-config php8-fastcgi
-	option enabled 1
-	option port '1026'
diff -uprN a/feeds/packages/lang/php8/files/php8-fastcgi.init b/feeds/packages/lang/php8/files/php8-fastcgi.init
--- a/feeds/packages/lang/php8/files/php8-fastcgi.init	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php8-fastcgi.init	1970-01-01 08:00:00.000000000 +0800
@@ -1,29 +0,0 @@
-#!/bin/sh /etc/rc.common
-
-START=50
-
-SERVICE_DAEMONIZE=1
-SERVICE_WRITE_PID=1
-
-start_instance() {
-	local section="$1"
-	local enabled
-	local port
-
-	config_get_bool enabled "$section" 'enabled' 0
-	config_get port "$section" 'port'
-
-	[ $enabled -gt 0 ] || return 1
-
-	PHP_FCGI_CHILDREN='' \
-	service_start /usr/bin/php8-fcgi ${port:+-b $port}
-}
-
-start() {
-	config_load 'php8-fastcgi'
-	config_foreach start_instance 'php8-fastcgi'
-}
-
-stop() {
-	service_stop /usr/bin/php8-fcgi
-}
diff -uprN a/feeds/packages/lang/php8/files/php8-fpm.conf b/feeds/packages/lang/php8/files/php8-fpm.conf
--- a/feeds/packages/lang/php8/files/php8-fpm.conf	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php8-fpm.conf	1970-01-01 08:00:00.000000000 +0800
@@ -1,121 +0,0 @@
-;;;;;;;;;;;;;;;;;;;;;
-; FPM Configuration ;
-;;;;;;;;;;;;;;;;;;;;;
-
-; All relative paths in this configuration file are relative to PHP's install
-; prefix (/usr). This prefix can be dynamically changed by using the
-; '-p' argument from the command line.
-
-; Include one or more files. If glob(3) exists, it is used to include a bunch of
-; files from a glob(3) pattern. This directive can be used everywhere in the
-; file.
-; Relative path can also be used. They will be prefixed by:
-;  - the global prefix if it's been set (-p argument)
-;  - /usr otherwise
-;include=/etc/php8/fpm/*.conf
-
-;;;;;;;;;;;;;;;;;;
-; Global Options ;
-;;;;;;;;;;;;;;;;;;
-
-[global]
-; Pid file
-; Note: the default prefix is /var
-; Default Value: none
-pid = /var/run/php8-fpm.pid
-
-; Error log file
-; If it's set to "syslog", log is sent to syslogd instead of being written
-; in a local file.
-; Note: the default prefix is /var
-; Default Value: log/php-fpm.log
-error_log = /var/log/php8-fpm.log
-
-; syslog_facility is used to specify what type of program is logging the
-; message. This lets syslogd specify that messages from different facilities
-; will be handled differently.
-; See syslog(3) for possible values (ex daemon equiv LOG_DAEMON)
-; Default Value: daemon
-;syslog.facility = daemon
-
-; syslog_ident is prepended to every message. If you have multiple FPM
-; instances running on the same server, you can change the default value
-; which must suit common needs.
-; Default Value: php-fpm
-;syslog.ident = php-fpm
-
-; Log level
-; Possible Values: alert, error, warning, notice, debug
-; Default Value: notice
-;log_level = notice
-
-; If this number of child processes exit with SIGSEGV or SIGBUS within the time
-; interval set by emergency_restart_interval then FPM will restart. A value
-; of '0' means 'Off'.
-; Default Value: 0
-;emergency_restart_threshold = 0
-
-; Interval of time used by emergency_restart_interval to determine when 
-; a graceful restart will be initiated.  This can be useful to work around
-; accidental corruptions in an accelerator's shared memory.
-; Available Units: s(econds), m(inutes), h(ours), or d(ays)
-; Default Unit: seconds
-; Default Value: 0
-;emergency_restart_interval = 0
-
-; Time limit for child processes to wait for a reaction on signals from master.
-; Available units: s(econds), m(inutes), h(ours), or d(ays)
-; Default Unit: seconds
-; Default Value: 0
-;process_control_timeout = 0
-
-; The maximum number of processes FPM will fork. This has been design to control
-; the global number of processes when using dynamic PM within a lot of pools.
-; Use it with caution.
-; Note: A value of 0 indicates no limit
-; Default Value: 0
-; process.max = 128
-
-; Specify the nice(2) priority to apply to the master process (only if set)
-; The value can vary from -19 (highest priority) to 20 (lower priority)
-; Note: - It will only work if the FPM master process is launched as root
-;       - The pool process will inherit the master process priority
-;         unless it specified otherwise
-; Default Value: no set
-; process.priority = -19
-
-; Send FPM to background. Set to 'no' to keep FPM in foreground for debugging.
-; Default Value: yes
-;daemonize = yes
-
-; Set open file descriptor rlimit for the master process.
-; Default Value: system defined value
-;rlimit_files = 1024
-
-; Set max core size rlimit for the master process.
-; Possible Values: 'unlimited' or an integer greater or equal to 0
-; Default Value: system defined value
-;rlimit_core = 0
-
-; Specify the event mechanism FPM will use. The following is available:
-; - select     (any POSIX os)
-; - poll       (any POSIX os)
-; - epoll      (linux >= 2.5.44)
-; - kqueue     (FreeBSD >= 4.1, OpenBSD >= 2.9, NetBSD >= 2.0)
-; - /dev/poll  (Solaris >= 7)
-; - port       (Solaris >= 10)
-; Default Value: not set (auto detection)
-; events.mechanism = epoll
-
-;;;;;;;;;;;;;;;;;;;;
-; Pool Definitions ;
-;;;;;;;;;;;;;;;;;;;;
-
-; Multiple pools of child processes may be started with different listening
-; ports and different management options.  The name of the pool will be
-; used in logs and stats. There is no limitation on the number of pools which
-; FPM can handle. Your system will tell you anyway :)
-
-; To configure the pools it is recommended to have one .conf file per
-; pool in the following directory:
-include=/etc/php8-fpm.d/*.conf
diff -uprN a/feeds/packages/lang/php8/files/php8-fpm.config b/feeds/packages/lang/php8/files/php8-fpm.config
--- a/feeds/packages/lang/php8/files/php8-fpm.config	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php8-fpm.config	1970-01-01 08:00:00.000000000 +0800
@@ -1,2 +0,0 @@
-config php8-fpm
-	option enabled 1
diff -uprN a/feeds/packages/lang/php8/files/php8-fpm.init b/feeds/packages/lang/php8/files/php8-fpm.init
--- a/feeds/packages/lang/php8/files/php8-fpm.init	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php8-fpm.init	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
-#!/bin/sh /etc/rc.common
-
-START=50
-
-PROG=/usr/bin/php8-fpm
-CONFIG=/etc/php8-fpm.conf
-
-SERVICE_PID_FILE=/var/run/php8-fpm.pid
-
-start_instance() {
-	local section="$1"
-	local enabled
-
-	config_get_bool enabled "$section" 'enabled' 0
-
-	[ $enabled -gt 0 ] || return 1
-
-	service_start $PROG -y $CONFIG -g $SERVICE_PID_FILE
-}
-
-start() {
-	config_load 'php8-fpm'
-	config_foreach start_instance 'php8-fpm'
-}
-
-stop() {
-	service_stop $PROG
-}
diff -uprN a/feeds/packages/lang/php8/files/php8-fpm-www.conf b/feeds/packages/lang/php8/files/php8-fpm-www.conf
--- a/feeds/packages/lang/php8/files/php8-fpm-www.conf	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php8-fpm-www.conf	1970-01-01 08:00:00.000000000 +0800
@@ -1,392 +0,0 @@
-; Start a new pool named 'www'.
-; the variable $pool can we used in any directive and will be replaced by the
-; pool name ('www' here)
-[www]
-
-; Per pool prefix
-; It only applies on the following directives:
-; - 'slowlog'
-; - 'listen' (unixsocket)
-; - 'chroot'
-; - 'chdir'
-; - 'php_values'
-; - 'php_admin_values'
-; When not set, the global prefix (or /usr) applies instead.
-; Note: This directive can also be relative to the global prefix.
-; Default Value: none
-;prefix = /path/to/pools/$pool
-
-; Unix user/group of processes
-; Note: The user is mandatory. If the group is not set, the default user's group
-;       will be used.
-user = nobody
-;group =
-
-; The address on which to accept FastCGI requests.
-; Valid syntaxes are:
-;   'ip.add.re.ss:port'    - to listen on a TCP socket to a specific address on
-;                            a specific port;
-;   'port'                 - to listen on a TCP socket to all addresses on a
-;                            specific port;
-;   '/path/to/unix/socket' - to listen on a unix socket.
-; Note: This value is mandatory.
-listen = /var/run/php8-fpm.sock
-
-; Set listen(2) backlog.
-; Default Value: 128 (-1 on FreeBSD and OpenBSD)
-;listen.backlog = 128
-
-; Set permissions for unix socket, if one is used. In Linux, read/write
-; permissions must be set in order to allow connections from a web server. Many
-; BSD-derived systems allow connections regardless of permissions. 
-; Default Values: user and group are set as the running user
-;                 mode is set to 0666
-;listen.owner = www-data
-;listen.group = www-data
-;listen.mode = 0666
-
-; List of ipv4 addresses of FastCGI clients which are allowed to connect.
-; Equivalent to the FCGI_WEB_SERVER_ADDRS environment variable in the original
-; PHP FCGI (5.2.2+). Makes sense only with a tcp listening socket. Each address
-; must be separated by a comma. If this value is left blank, connections will be
-; accepted from any ip address.
-; Default Value: any
-;listen.allowed_clients = 127.0.0.1
-
-; Specify the nice(2) priority to apply to the pool processes (only if set)
-; The value can vary from -19 (highest priority) to 20 (lower priority)
-; Note: - It will only work if the FPM master process is launched as root
-;       - The pool processes will inherit the master process priority
-;         unless it specified otherwise
-; Default Value: no set
-; priority = -19
-
-; Choose how the process manager will control the number of child processes.
-; Possible Values:
-;   static  - a fixed number (pm.max_children) of child processes;
-;   dynamic - the number of child processes are set dynamically based on the
-;             following directives. With this process management, there will be
-;             always at least 1 children.
-;             pm.max_children      - the maximum number of children that can
-;                                    be alive at the same time.
-;             pm.start_servers     - the number of children created on startup.
-;             pm.min_spare_servers - the minimum number of children in 'idle'
-;                                    state (waiting to process). If the number
-;                                    of 'idle' processes is less than this
-;                                    number then some children will be created.
-;             pm.max_spare_servers - the maximum number of children in 'idle'
-;                                    state (waiting to process). If the number
-;                                    of 'idle' processes is greater than this
-;                                    number then some children will be killed.
-;  ondemand - no children are created at startup. Children will be forked when
-;             new requests will connect. The following parameter are used:
-;             pm.max_children           - the maximum number of children that
-;                                         can be alive at the same time.
-;             pm.process_idle_timeout   - The number of seconds after which
-;                                         an idle process will be killed.
-; Note: This value is mandatory.
-pm = dynamic
-
-; The number of child processes to be created when pm is set to 'static' and the
-; maximum number of child processes when pm is set to 'dynamic' or 'ondemand'.
-; This value sets the limit on the number of simultaneous requests that will be
-; served. Equivalent to the ApacheMaxClients directive with mpm_prefork.
-; Equivalent to the PHP_FCGI_CHILDREN environment variable in the original PHP
-; CGI. The below defaults are based on a server without much resources. Don't
-; forget to tweak pm.* to fit your needs.
-; Note: Used when pm is set to 'static', 'dynamic' or 'ondemand'
-; Note: This value is mandatory.
-pm.max_children = 5
-
-; The number of child processes created on startup.
-; Note: Used only when pm is set to 'dynamic'
-; Default Value: min_spare_servers + (max_spare_servers - min_spare_servers) / 2
-pm.start_servers = 2
-
-; The desired minimum number of idle server processes.
-; Note: Used only when pm is set to 'dynamic'
-; Note: Mandatory when pm is set to 'dynamic'
-pm.min_spare_servers = 1
-
-; The desired maximum number of idle server processes.
-; Note: Used only when pm is set to 'dynamic'
-; Note: Mandatory when pm is set to 'dynamic'
-pm.max_spare_servers = 3
-
-; The number of seconds after which an idle process will be killed.
-; Note: Used only when pm is set to 'ondemand'
-; Default Value: 10s
-;pm.process_idle_timeout = 10s;
-
-; The number of requests each child process should execute before respawning.
-; This can be useful to work around memory leaks in 3rd party libraries. For
-; endless request processing specify '0'. Equivalent to PHP_FCGI_MAX_REQUESTS.
-; Default Value: 0
-;pm.max_requests = 500
-
-; The URI to view the FPM status page. If this value is not set, no URI will be
-; recognized as a status page. It shows the following informations:
-;   pool                 - the name of the pool;
-;   process manager      - static, dynamic or ondemand;
-;   start time           - the date and time FPM has started;
-;   start since          - number of seconds since FPM has started;
-;   accepted conn        - the number of request accepted by the pool;
-;   listen queue         - the number of request in the queue of pending
-;                          connections (see backlog in listen(2));
-;   max listen queue     - the maximum number of requests in the queue
-;                          of pending connections since FPM has started;
-;   listen queue len     - the size of the socket queue of pending connections;
-;   idle processes       - the number of idle processes;
-;   active processes     - the number of active processes;
-;   total processes      - the number of idle + active processes;
-;   max active processes - the maximum number of active processes since FPM
-;                          has started;
-;   max children reached - number of times, the process limit has been reached,
-;                          when pm tries to start more children (works only for
-;                          pm 'dynamic' and 'ondemand');
-; Value are updated in real time.
-; Example output:
-;   pool:                 www
-;   process manager:      static
-;   start time:           01/Jul/2011:17:53:49 +0200
-;   start since:          62636
-;   accepted conn:        190460
-;   listen queue:         0
-;   max listen queue:     1
-;   listen queue len:     42
-;   idle processes:       4
-;   active processes:     11
-;   total processes:      15
-;   max active processes: 12
-;   max children reached: 0
-;
-; By default the status page output is formatted as text/plain. Passing either
-; 'html', 'xml' or 'json' in the query string will return the corresponding
-; output syntax. Example:
-;   http://www.foo.bar/status
-;   http://www.foo.bar/status?json
-;   http://www.foo.bar/status?html
-;   http://www.foo.bar/status?xml
-;
-; By default the status page only outputs short status. Passing 'full' in the
-; query string will also return status for each pool process.
-; Example: 
-;   http://www.foo.bar/status?full
-;   http://www.foo.bar/status?json&full
-;   http://www.foo.bar/status?html&full
-;   http://www.foo.bar/status?xml&full
-; The Full status returns for each process:
-;   pid                  - the PID of the process;
-;   state                - the state of the process (Idle, Running, ...);
-;   start time           - the date and time the process has started;
-;   start since          - the number of seconds since the process has started;
-;   requests             - the number of requests the process has served;
-;   request duration     - the duration in µs of the requests;
-;   request method       - the request method (GET, POST, ...);
-;   request URI          - the request URI with the query string;
-;   content length       - the content length of the request (only with POST);
-;   user                 - the user (PHP_AUTH_USER) (or '-' if not set);
-;   script               - the main script called (or '-' if not set);
-;   last request cpu     - the %cpu the last request consumed
-;                          it's always 0 if the process is not in Idle state
-;                          because CPU calculation is done when the request
-;                          processing has terminated;
-;   last request memory  - the max amount of memory the last request consumed
-;                          it's always 0 if the process is not in Idle state
-;                          because memory calculation is done when the request
-;                          processing has terminated;
-; If the process is in Idle state, then informations are related to the
-; last request the process has served. Otherwise informations are related to
-; the current request being served.
-; Example output:
-;   ************************
-;   pid:                  31330
-;   state:                Running
-;   start time:           01/Jul/2011:17:53:49 +0200
-;   start since:          63087
-;   requests:             12808
-;   request duration:     1250261
-;   request method:       GET
-;   request URI:          /test_mem.php?N=10000
-;   content length:       0
-;   user:                 -
-;   script:               /home/fat/web/docs/php/test_mem.php
-;   last request cpu:     0.00
-;   last request memory:  0
-;
-; Note: There is a real-time FPM status monitoring sample web page available
-;       It's available in: ${prefix}/share/fpm/status.html
-;
-; Note: The value must start with a leading slash (/). The value can be
-;       anything, but it may not be a good idea to use the .php extension or it
-;       may conflict with a real PHP file.
-; Default Value: not set 
-;pm.status_path = /status
-
-; The ping URI to call the monitoring page of FPM. If this value is not set, no
-; URI will be recognized as a ping page. This could be used to test from outside
-; that FPM is alive and responding, or to
-; - create a graph of FPM availability (rrd or such);
-; - remove a server from a group if it is not responding (load balancing);
-; - trigger alerts for the operating team (24/7).
-; Note: The value must start with a leading slash (/). The value can be
-;       anything, but it may not be a good idea to use the .php extension or it
-;       may conflict with a real PHP file.
-; Default Value: not set
-;ping.path = /ping
-
-; This directive may be used to customize the response of a ping request. The
-; response is formatted as text/plain with a 200 response code.
-; Default Value: pong
-;ping.response = pong
-
-; The access log file
-; Default: not set
-;access.log = log/$pool.access.log
-
-; The access log format.
-; The following syntax is allowed
-;  %%: the '%' character
-;  %C: %CPU used by the request
-;      it can accept the following format:
-;      - %{user}C for user CPU only
-;      - %{system}C for system CPU only
-;      - %{total}C  for user + system CPU (default)
-;  %d: time taken to serve the request
-;      it can accept the following format:
-;      - %{seconds}d (default)
-;      - %{miliseconds}d
-;      - %{mili}d
-;      - %{microseconds}d
-;      - %{micro}d
-;  %e: an environment variable (same as $_ENV or $_SERVER)
-;      it must be associated with embraces to specify the name of the env
-;      variable. Some exemples:
-;      - server specifics like: %{REQUEST_METHOD}e or %{SERVER_PROTOCOL}e
-;      - HTTP headers like: %{HTTP_HOST}e or %{HTTP_USER_AGENT}e
-;  %f: script filename
-;  %l: content-length of the request (for POST request only)
-;  %m: request method
-;  %M: peak of memory allocated by PHP
-;      it can accept the following format:
-;      - %{bytes}M (default)
-;      - %{kilobytes}M
-;      - %{kilo}M
-;      - %{megabytes}M
-;      - %{mega}M
-;  %n: pool name
-;  %o: ouput header
-;      it must be associated with embraces to specify the name of the header:
-;      - %{Content-Type}o
-;      - %{X-Powered-By}o
-;      - %{Transfert-Encoding}o
-;      - ....
-;  %p: PID of the child that serviced the request
-;  %P: PID of the parent of the child that serviced the request
-;  %q: the query string 
-;  %Q: the '?' character if query string exists
-;  %r: the request URI (without the query string, see %q and %Q)
-;  %R: remote IP address
-;  %s: status (response code)
-;  %t: server time the request was received
-;      it can accept a strftime(3) format:
-;      %d/%b/%Y:%H:%M:%S %z (default)
-;  %T: time the log has been written (the request has finished)
-;      it can accept a strftime(3) format:
-;      %d/%b/%Y:%H:%M:%S %z (default)
-;  %u: remote user
-;
-; Default: "%R - %u %t \"%m %r\" %s"
-;access.format = "%R - %u %t \"%m %r%Q%q\" %s %f %{mili}d %{kilo}M %C%%"
-
-; The log file for slow requests
-; Default Value: not set
-; Note: slowlog is mandatory if request_slowlog_timeout is set
-;slowlog = log/$pool.log.slow
-
-; The timeout for serving a single request after which a PHP backtrace will be
-; dumped to the 'slowlog' file. A value of '0s' means 'off'.
-; Available units: s(econds)(default), m(inutes), h(ours), or d(ays)
-; Default Value: 0
-;request_slowlog_timeout = 0
-
-; The timeout for serving a single request after which the worker process will
-; be killed. This option should be used when the 'max_execution_time' ini option
-; does not stop script execution for some reason. A value of '0' means 'off'.
-; Available units: s(econds)(default), m(inutes), h(ours), or d(ays)
-; Default Value: 0
-;request_terminate_timeout = 0
-
-; Set open file descriptor rlimit.
-; Default Value: system defined value
-;rlimit_files = 1024
-
-; Set max core size rlimit.
-; Possible Values: 'unlimited' or an integer greater or equal to 0
-; Default Value: system defined value
-;rlimit_core = 0
-
-; Chroot to this directory at the start. This value must be defined as an
-; absolute path. When this value is not set, chroot is not used.
-; Note: you can prefix with '$prefix' to chroot to the pool prefix or one
-; of its subdirectories. If the pool prefix is not set, the global prefix
-; will be used instead.
-; Note: chrooting is a great security feature and should be used whenever
-;       possible. However, all PHP paths will be relative to the chroot
-;       (error_log, sessions.save_path, ...).
-; Default Value: not set
-;chroot =
-
-; Chdir to this directory at the start.
-; Note: relative path can be used.
-; Default Value: current directory or / when chroot
-chdir = /
-
-; Redirect worker stdout and stderr into main error log. If not set, stdout and
-; stderr will be redirected to /dev/null according to FastCGI specs.
-; Note: on highloaded environement, this can cause some delay in the page
-; process time (several ms).
-; Default Value: no
-;catch_workers_output = yes
-
-; Limits the extensions of the main script FPM will allow to parse. This can
-; prevent configuration mistakes on the web server side. You should only limit
-; FPM to .php extensions to prevent malicious users to use other extensions to
-; exectute php code.
-; Note: set an empty value to allow all extensions.
-; Default Value: .php
-;security.limit_extensions = .php .php3 .php4 .php5
-
-; Pass environment variables like LD_LIBRARY_PATH. All $VARIABLEs are taken from
-; the current environment.
-; Default Value: clean env
-;env[HOSTNAME] = $HOSTNAME
-;env[PATH] = /usr/local/bin:/usr/bin:/bin
-;env[TMP] = /tmp
-;env[TMPDIR] = /tmp
-;env[TEMP] = /tmp
-
-; Additional php.ini defines, specific to this pool of workers. These settings
-; overwrite the values previously defined in the php.ini. The directives are the
-; same as the PHP SAPI:
-;   php_value/php_flag             - you can set classic ini defines which can
-;                                    be overwritten from PHP call 'ini_set'. 
-;   php_admin_value/php_admin_flag - these directives won't be overwritten by
-;                                     PHP call 'ini_set'
-; For php_*flag, valid values are on, off, 1, 0, true, false, yes or no.
-
-; Defining 'extension' will load the corresponding shared extension from
-; extension_dir. Defining 'disable_functions' or 'disable_classes' will not
-; overwrite previously defined php.ini values, but will append the new value
-; instead.
-
-; Note: path INI options can be relative and will be expanded with the prefix
-; (pool, global or /usr)
-
-; Default Value: nothing is defined by default except the values in php.ini and
-;                specified at startup with the -d argument
-;php_admin_value[sendmail_path] = /usr/sbin/sendmail -t -i -f www@my.domain.com
-;php_flag[display_errors] = off
-;php_admin_value[error_log] = /var/log/fpm-php.www.log
-;php_admin_flag[log_errors] = on
-;php_admin_value[memory_limit] = 32M
diff -uprN a/feeds/packages/lang/php8/files/php.ini b/feeds/packages/lang/php8/files/php.ini
--- a/feeds/packages/lang/php8/files/php.ini	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/files/php.ini	1970-01-01 08:00:00.000000000 +0800
@@ -1,134 +0,0 @@
-[PHP]
-
-;;;;;;;;;;;;;;;;;;;;
-; Language Options ;
-;;;;;;;;;;;;;;;;;;;;
-
-engine = On
-;short_open_tag = Off
-precision = 12
-output_buffering = Off
-;output_handler =
-zlib.output_compression = Off
-;zlib.output_compression_level = -1
-;zlib.output_handler =
-implicit_flush = Off
-unserialize_callback_func =
-;unserialize_max_depth = 4096
-serialize_precision = 100
-;open_basedir =
-disable_functions =
-disable_classes =
-;highlight.string = #DD0000
-;highlight.comment = #FF9900
-;highlight.keyword = #007700
-;highlight.default = #0000BB
-;highlight.html = #000000
-;ignore_user_abort = On
-;realpath_cache_size = 16k
-;realpath_cache_ttl = 120
-;zend.enable_gc = On
-;zend.multibyte = Off
-;zend.script_encoding =
-;zend.exception_ignore_args = On
-;zend.exception_string_param_max_len = 0
-
-;;;;;;;;;;;;;;;;;
-; Miscellaneous ;
-;;;;;;;;;;;;;;;;;
-
-expose_php = On
-
-;;;;;;;;;;;;;;;;;;;
-; Resource Limits ;
-;;;;;;;;;;;;;;;;;;;
-
-max_execution_time = 30
-max_input_time = 60
-;max_input_nesting_level = 64
-;max_input_vars = 1000
-memory_limit = 8M
-
-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
-; Error handling and logging ;
-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
-
-error_reporting = E_ALL & ~E_NOTICE & ~E_DEPRECATED & ~E_STRICT
-display_errors = On
-display_startup_errors = Off
-log_errors = Off
-log_errors_max_len = 1024
-ignore_repeated_errors = Off
-ignore_repeated_source = Off
-report_memleaks = On
-;report_zend_debug = 0
-track_errors = Off
-;html_errors = Off
-;docref_root = "/phpmanual/"
-;docref_ext = .html
-;error_prepend_string = "<span style='color: #ff0000'>"
-;error_append_string = "</span>"
-;error_log = syslog
-;syslog.ident = php
-;syslog.facility = user
-;syslog.filter = ascii
-
-;;;;;;;;;;;;;;;;;
-; Data Handling ;
-;;;;;;;;;;;;;;;;;
-
-;arg_separator.output = "&amp;"
-;arg_separator.input = ";&"
-variables_order = "EGPCS"
-request_order = "GP"
-register_argc_argv = On
-auto_globals_jit = On
-;enable_post_data_reading = Off
-post_max_size = 8M
-auto_prepend_file =
-auto_append_file =
-default_mimetype = "text/html"
-;default_charset = "UTF-8"
-;internal_encoding =
-;input_encoding =
-;output_encoding =
-
-;;;;;;;;;;;;;;;;;;;;;;;;;
-; Paths and Directories ;
-;;;;;;;;;;;;;;;;;;;;;;;;;
-
-;include_path = ".:/php/includes"
-doc_root = "/www"
-user_dir =
-extension_dir = "/usr/lib/php8"
-;sys_temp_dir = "/tmp"
-enable_dl = On
-;cgi.force_redirect = 1
-;cgi.nph = 1
-;cgi.redirect_status_env =
-cgi.fix_pathinfo = 1
-;cgi.discard_path = 1
-;fastcgi.impersonate = 1
-;fastcgi.logging = 0
-;cgi.rfc2616_headers = 0
-;cgi.check_shebang_line = 1
-
-;;;;;;;;;;;;;;;;
-; File Uploads ;
-;;;;;;;;;;;;;;;;
-
-file_uploads = On
-upload_tmp_dir = "/tmp"
-upload_max_filesize = 2M
-max_file_uploads = 20
-
-;;;;;;;;;;;;;;;;;;
-; Fopen wrappers ;
-;;;;;;;;;;;;;;;;;;
-
-allow_url_fopen = On
-allow_url_include = Off
-;from = "john@doe.com"
-;user_agent = "PHP"
-default_socket_timeout = 60
-;auto_detect_line_endings = Off
diff -uprN a/feeds/packages/lang/php8/Makefile b/feeds/packages/lang/php8/Makefile
--- a/feeds/packages/lang/php8/Makefile	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,641 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=php
-PKG_VERSION:=8.0.17
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Michael Heimpold <mhei@heimpold.de>
-PKG_LICENSE:=PHP-3.01
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:php:php
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_SOURCE_URL:=http://www.php.net/distributions/
-PKG_HASH:=4e7d94bb3d144412cb8b2adeb599fb1c6c1d7b357b0d0d0478dc5ef53532ebc5
-
-PKG_BUILD_PARALLEL:=1
-PKG_USE_MIPS16:=0
-
-PHP8_MODULES= \
-	bcmath \
-	calendar ctype curl \
-	dom \
-	exif \
-	fileinfo filter ftp \
-	gettext gd gmp \
-	iconv imap intl \
-	ldap \
-	mbstring mysqli mysqlnd \
-	opcache openssl \
-	pcntl pdo pdo-mysql pdo-pgsql pdo-sqlite pgsql phar \
-	session shmop simplexml snmp soap sockets sqlite3 sysvmsg sysvsem sysvshm \
-	tokenizer \
-	xml xmlreader xmlwriter \
-	zip
-
-PKG_CONFIG_DEPENDS:= \
-	$(patsubst %,CONFIG_PACKAGE_php8-mod-%,$(PHP8_MODULES)) \
-	CONFIG_PHP8_LIBXML CONFIG_PHP8_SYSTEMTZDATA
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-
-define Package/php8/Default
-  SUBMENU:=PHP8
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=PHP8 Hypertext preprocessor
-  URL:=http://www.php.net/
-  DEPENDS:=php8
-endef
-
-define Package/php8/Default/description
-  PHP is a widely-used general-purpose scripting language that is especially
-  suited for Web development and can be embedded into HTML.
-endef
-
-define Package/php8/config
-	config PHP8_LIBXML
-		bool "PHP8 LIBXML support"
-		depends on PACKAGE_php8-cli || PACKAGE_php8-cgi
-
-	config PHP8_SYSTEMTZDATA
-		bool "Use system timezone data instead of php's built-in database"
-		depends on PACKAGE_php8-cli || PACKAGE_php8-cgi
-		default y
-		help
-			Enabling this feature automatically selects the zoneinfo-core package
-			which contains data for UTC timezone. To use other timezones you have
-			to install the corresponding zoneinfo-... package(s).
-endef
-
-define Package/php8
-  $(call Package/php8/Default)
-
-  DEPENDS:=+libpcre2 +zlib \
-           +PHP8_LIBXML:libxml2 \
-           +PHP8_SYSTEMTZDATA:zoneinfo-core
-  CONFLICTS:=php7
-endef
-
-define Package/php8/description
-  $(call Package/php8/Default/description)
-  This package contains only the PHP config file. You must actually choose
-  your PHP flavour (cli, cgi or fastcgi).
-
-  Please note, that installing php5 and php8 in parallel on the same target
-  is not supported in OpenWrt/LEDE.
-endef
-
-define Package/php8-cli
-  $(call Package/php8/Default)
-  DEPENDS+= +PACKAGE_php8-mod-intl:libstdcpp
-  TITLE+= (CLI)
-endef
-
-define Package/php8-cli/description
-  $(call Package/php8/Default/description)
-  This package contains the CLI version of the PHP8 interpreter.
-endef
-
-define Package/php8-cgi
-  $(call Package/php8/Default)
-  DEPENDS+= +PACKAGE_php8-mod-intl:libstdcpp
-  TITLE+= (CGI & FastCGI)
-endef
-
-define Package/php8-cgi/description
-  $(call Package/php8/Default/description)
-  This package contains the CGI version of the PHP8 interpreter.
-endef
-
-define Package/php8-fastcgi
-  $(call Package/php8/Default)
-  DEPENDS+= +php8-cgi
-  TITLE:=FastCGI startup script
-endef
-
-define Package/php8-fastcgi/description
-  As FastCGI support is now a core feature the php8-fastcgi package now depends
-  on the php8-cgi package, containing just the startup script.
-endef
-
-define Package/php8-fpm
-  $(call Package/php8/Default)
-  DEPENDS+= +PACKAGE_php8-mod-intl:libstdcpp
-  TITLE+= (FPM)
-endef
-
-define Package/php8-fpm/description
-  $(call Package/php8/Default/description)
-  This package contains the FastCGI Process Manager of the PHP8 interpreter.
-endef
-
-define Package/php8-mod-intl/config
-  config PHP8_FULLICUDATA
-	bool "Add dependency to full ICU Data"
-	depends on PACKAGE_php8-mod-intl
-	default n
-endef
-
-define Package/php8-mod-intl/description
-  Note that this package depends in ICU library which is built without data
-  by default. This is to satisfy programs build and run dependencies but to
-  keep the installed footprint small on the target system(s).
-  However, the data is required to make the ICU library useful - and thus
-  directly affects PHPs ICU extension, too - so consider to also
-  select/install package 'icu-full-data'.
-endef
-
-# not everything groks --disable-nls
-DISABLE_NLS:=
-
-CONFIGURE_ARGS+= \
-	--enable-cli \
-	--enable-cgi \
-	--enable-fpm \
-	--enable-shared \
-	--disable-static \
-	--with-pic \
-	--disable-rpath \
-	--disable-debug \
-	--disable-phpdbg \
-	--without-pear \
-	\
-	--with-config-file-path=/etc \
-	--with-config-file-scan-dir=/etc/php8 \
-	--disable-short-tags \
-	\
-	--without-valgrind \
-	--with-external-pcre \
-	--with-zlib="$(STAGING_DIR)/usr"
-
-ifeq ($(CONFIG_LIBC_USE_GLIBC),y)
-TARGET_LDFLAGS += -ldl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-bcmath),)
-  CONFIGURE_ARGS+= --enable-bcmath=shared
-else
-  CONFIGURE_ARGS+= --disable-bcmath
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-calendar),)
-  CONFIGURE_ARGS+= --enable-calendar=shared
-else
-  CONFIGURE_ARGS+= --disable-calendar
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-ctype),)
-  CONFIGURE_ARGS+= --enable-ctype=shared
-else
-  CONFIGURE_ARGS+= --disable-ctype
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-curl),)
-  CONFIGURE_ARGS+= --with-curl=shared
-else
-  CONFIGURE_ARGS+= --without-curl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-dom),)
-  CONFIGURE_ARGS+= --enable-dom=shared
-else
-  CONFIGURE_ARGS+= --disable-dom
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-exif),)
-  CONFIGURE_ARGS+= --enable-exif=shared
-else
-  CONFIGURE_ARGS+= --disable-exif
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-fileinfo),)
-  CONFIGURE_ARGS+= --enable-fileinfo=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-fileinfo
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-filter),)
-  CONFIGURE_ARGS+= --enable-filter=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-filter
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-ftp),)
-  CONFIGURE_ARGS+= --enable-ftp=shared
-else
-  CONFIGURE_ARGS+= --disable-ftp
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-gd),)
-  CONFIGURE_ARGS+= \
-	--enable-gd=shared,"$(STAGING_DIR)/usr" \
-	--with-external-gd
-else
-  CONFIGURE_ARGS+= --disable-gd
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-gettext),)
-  CONFIGURE_ARGS+= --with-gettext=shared,"$(STAGING_DIR)/usr/lib/libintl-full"
-else
-  CONFIGURE_ARGS+= --without-gettext
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-gmp),)
-  CONFIGURE_ARGS+= --with-gmp=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-gmp
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-iconv),)
-  CONFIGURE_ARGS+= --with-iconv=shared,"$(ICONV_PREFIX)"
-else
-  CONFIGURE_ARGS+= --without-iconv
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-imap),)
-  CONFIGURE_ARGS+= \
-		--with-imap=shared,"$(STAGING_DIR)/usr" \
-		--with-kerberos=no \
-		--with-imap-ssl="$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-imap
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-intl),)
-  CONFIGURE_ARGS+= --enable-intl=shared
-  TARGET_CXXFLAGS+= -std=c++0x
-else
-  CONFIGURE_ARGS+= --disable-intl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-ldap),)
-  CONFIGURE_ARGS+= \
-	--with-ldap=shared,"$(STAGING_DIR)/usr" \
-	--with-ldap-sasl
-else
-  CONFIGURE_ARGS+= --without-ldap
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-mbstring),)
-  CONFIGURE_ARGS+= \
-	--enable-mbstring=shared \
-	--enable-mbregex
-else
-  CONFIGURE_ARGS+= --disable-mbstring
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-mysqli),)
-  CONFIGURE_ARGS+= --with-mysqli=shared
-else
-  CONFIGURE_ARGS+= --without-mysqli
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-mysqlnd),)
-  CONFIGURE_ARGS+= --enable-mysqlnd=shared
-else
-  CONFIGURE_ARGS+= --disable-mysqlnd
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-opcache),)
-  CONFIGURE_ARGS+= --enable-opcache=shared
-else
-  CONFIGURE_ARGS+= --disable-opcache
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-openssl)$(CONFIG_PACKAGE_php8-mod-ftp)$(CONFIG_PACKAGE_php8-mod-imap)$(CONFIG_PACKAGE_php8-mod-snmp),)
-  CONFIGURE_ARGS+= \
-	--with-openssl=shared \
-	--with-kerberos=no \
-	--with-openssl-dir="$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-openssl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-pcntl),)
-  CONFIGURE_ARGS+= --enable-pcntl=shared
-else
-  CONFIGURE_ARGS+= --disable-pcntl
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-pdo),)
-  CONFIGURE_ARGS+= --enable-pdo=shared
-  ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-pdo-mysql),)
-    CONFIGURE_ARGS+= --with-pdo-mysql=shared
-  else
-    CONFIGURE_ARGS+= --without-pdo-mysql
-  endif
-  ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-pdo-pgsql),)
-    CONFIGURE_ARGS+= --with-pdo-pgsql=shared,"$(STAGING_DIR)/usr"
-  else
-    CONFIGURE_ARGS+= --without-pdo-pgsql
-  endif
-  ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-pdo-sqlite),)
-    CONFIGURE_ARGS+= --with-pdo-sqlite=shared
-  else
-    CONFIGURE_ARGS+= --without-pdo-sqlite
-  endif
-else
-  CONFIGURE_ARGS+= --disable-pdo
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-pgsql),)
-  CONFIGURE_ARGS+= --with-pgsql=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-pgsql
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-phar),)
-  CONFIGURE_ARGS+= --enable-phar=shared
-else
-  CONFIGURE_ARGS+= --disable-phar
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-session),)
-  CONFIGURE_ARGS+= --enable-session=shared
-else
-  CONFIGURE_ARGS+= --disable-session
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-shmop),)
-  CONFIGURE_ARGS+= --enable-shmop=shared
-else
-  CONFIGURE_ARGS+= --disable-shmop
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-simplexml),)
-  CONFIGURE_ARGS+= --enable-simplexml=shared
-else
-  CONFIGURE_ARGS+= --disable-simplexml
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-snmp),)
-  CONFIGURE_ARGS+= --with-snmp=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-snmp
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-soap),)
-  CONFIGURE_ARGS+= --enable-soap=shared
-else
-  CONFIGURE_ARGS+= --disable-soap
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-sockets),)
-  CONFIGURE_ARGS+= --enable-sockets=shared
-else
-  CONFIGURE_ARGS+= --disable-sockets
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-sqlite3),)
-  CONFIGURE_ARGS+= --with-sqlite3=shared
-else
-  CONFIGURE_ARGS+= --without-sqlite3
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-sysvmsg),)
-  CONFIGURE_ARGS+= --enable-sysvmsg=shared
-else
-  CONFIGURE_ARGS+= --disable-sysvmsg
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-sysvsem),)
-  CONFIGURE_ARGS+= --enable-sysvsem=shared
-else
-  CONFIGURE_ARGS+= --disable-sysvsem
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-sysvshm),)
-  CONFIGURE_ARGS+= --enable-sysvshm=shared
-else
-  CONFIGURE_ARGS+= --disable-sysvshm
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-tokenizer),)
-  CONFIGURE_ARGS+= --enable-tokenizer=shared
-else
-  CONFIGURE_ARGS+= --disable-tokenizer
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-xml),)
-  CONFIGURE_ARGS+= --enable-xml=shared,"$(STAGING_DIR)/usr"
-  ifneq ($(CONFIG_PHP8_LIBXML),y)
-    CONFIGURE_ARGS+= --with-expat
-  endif
-else
-  CONFIGURE_ARGS+= --disable-xml
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-xmlreader),)
-  CONFIGURE_ARGS+= --enable-xmlreader=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-xmlreader
-endif
-
-ifneq ($(SDK)$(CONFIG_PACKAGE_php8-mod-xmlwriter),)
-  CONFIGURE_ARGS+= --enable-xmlwriter=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --disable-xmlwriter
-endif
-
-ifneq ($(CONFIG_PACKAGE_php8-mod-zip),)
-  CONFIGURE_ARGS+= --with-zip=shared,"$(STAGING_DIR)/usr"
-else
-  CONFIGURE_ARGS+= --without-zip
-endif
-
-ifneq ($(SDK)$(CONFIG_PHP8_LIBXML),)
-  CONFIGURE_ARGS+= --with-libxml
-else
-  CONFIGURE_ARGS+= --without-libxml
-endif
-
-ifneq ($(CONFIG_PHP8_SYSTEMTZDATA),)
-  CONFIGURE_ARGS+= --with-system-tzdata
-else
-  CONFIGURE_ARGS+= --without-system-tzdata
-endif
-
-CONFIGURE_VARS+= \
-	ac_cv_c_bigendian_php=$(if $(CONFIG_BIG_ENDIAN),yes,no) \
-	php_cv_cc_rpath="no" \
-	iconv_impl_name="gnu_libiconv" \
-	ac_cv_php_xml2_config_path="$(STAGING_DIR)/host/bin/xml2-config" \
-	ac_cv_u8t_decompose=yes \
-	ac_cv_have_pcre2_jit=no
-
-MAKE_VARS+= \
-	HOSTCC="$(HOSTCC)"
-
-define Package/php8/conffiles
-/etc/php.ini
-/etc/php8/
-endef
-
-define Package/php8/install
-	$(INSTALL_DIR) $(1)/etc
-	$(INSTALL_DATA) ./files/php.ini $(1)/etc/
-endef
-
-define Package/php8-cli/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_BUILD_DIR)/sapi/cli/php $(1)/usr/bin/php8-cli
-	ln -sf php8-cli $(1)/usr/bin/php-cli
-endef
-
-define Package/php8-cgi/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_BUILD_DIR)/sapi/cgi/php-cgi $(1)/usr/bin/php8-cgi
-	ln -sf php8-cgi $(1)/usr/bin/php-cgi
-	ln -sf php8-cgi $(1)/usr/bin/php8-fcgi
-endef
-
-define Package/php8-fastcgi/install
-	$(INSTALL_DIR) $(1)/etc/config
-	$(INSTALL_DATA) ./files/php8-fastcgi.config $(1)/etc/config/php8-fastcgi
-
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/php8-fastcgi.init $(1)/etc/init.d/php8-fastcgi
-endef
-
-define Package/php8-fastcgi/conffiles
-/etc/config/php8-fastcgi
-endef
-
-define Package/php8-fpm/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/sapi/fpm/php-fpm $(1)/usr/bin/php8-fpm
-
-	$(INSTALL_DIR) $(1)/etc
-	$(INSTALL_DATA) ./files/php8-fpm.conf $(1)/etc/php8-fpm.conf
-
-	$(INSTALL_DIR) $(1)/etc/config
-	$(INSTALL_DATA) ./files/php8-fpm.config $(1)/etc/config/php8-fpm
-
-	$(INSTALL_DIR) $(1)/etc/php8-fpm.d
-	$(INSTALL_DATA) ./files/php8-fpm-www.conf $(1)/etc/php8-fpm.d/www.conf
-
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/php8-fpm.init $(1)/etc/init.d/php8-fpm
-endef
-
-define Package/php8-fpm/conffiles
-/etc/php8-fpm.conf
-/etc/php8-fpm.d/
-/etc/config/php8-fpm
-endef
-
-define Build/Prepare
-	$(call Build/Prepare/Default)
-	$(if $(QUILT),,( cd $(PKG_BUILD_DIR); touch configure.ac; ./buildconf --force ))
-endef
-
-define Build/Configure
-	$(if $(QUILT),( cd $(PKG_BUILD_DIR); touch configure.ac; ./buildconf --force ))
-	$(call Build/Configure/Default)
-endef
-
-define Build/InstallDev
-	rm -rf $(PKG_BUILD_DIR)/staging
-	make -C $(PKG_BUILD_DIR) install INSTALL_ROOT=$(PKG_BUILD_DIR)/staging
-	rm -rf $(PKG_BUILD_DIR)/staging/usr/{share,man,sbin}
-	rm -f $(PKG_BUILD_DIR)/staging/usr/bin/{php,php-cgi,php-cli}
-	mv $(PKG_BUILD_DIR)/staging/usr/bin/phpize $(PKG_BUILD_DIR)/staging/usr/bin/phpize8
-	mv $(PKG_BUILD_DIR)/staging/usr/bin/php-config $(PKG_BUILD_DIR)/staging/usr/bin/php8-config
-	mv $(PKG_BUILD_DIR)/staging/usr/include/php $(PKG_BUILD_DIR)/staging/usr/include/php8
-	mv $(PKG_BUILD_DIR)/staging/usr/lib/php $(PKG_BUILD_DIR)/staging/usr/lib/php8
-
-	$(CP) $(PKG_BUILD_DIR)/staging/usr $(STAGING_DIR)/
-
-	sed -i -e "s#prefix='/usr'#prefix='$(STAGING_DIR)/usr'#" $(STAGING_DIR)/usr/bin/phpize8
-	sed -i -e "s#exec_prefix=\"\`eval echo /usr\`\"#exec_prefix='$(STAGING_DIR)/usr'#" $(STAGING_DIR)/usr/bin/phpize8
-	sed -i -e "s#/include\`/php\"#/include\`/php8\"#" $(STAGING_DIR)/usr/bin/phpize8
-	sed -i -e "s#/lib/php\`/build\"#/lib/php8\`/build\"#" $(STAGING_DIR)/usr/bin/phpize8
-
-	sed -i -e "s#prefix=\"/usr\"#prefix=\"$(STAGING_DIR)/usr\"#" $(STAGING_DIR)/usr/bin/php8-config
-	sed -i -e "s#/include/php\"#/include/php8\"#" $(STAGING_DIR)/usr/bin/php8-config
-endef
-
-define BuildModule
-
-  define Package/php8-mod-$(1)
-    $(call Package/php8/Default)
-
-    ifneq ($(3),)
-      DEPENDS+=$(3)
-    endif
-
-    TITLE:=$(2) shared module
-  endef
-
-  define Package/php8-mod-$(1)/install
-	$(INSTALL_DIR) $$(1)/usr/lib/php8
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/modules/$(subst -,_,$(1)).so $$(1)/usr/lib/php8/
-	$(INSTALL_DIR) $$(1)/etc/php8
-      ifeq ($(5),zend)
-	echo "zend_extension=/usr/lib/php8/$(subst -,_,$(1)).so" > $$(1)/etc/php8/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-      else
-	echo "extension=$(subst -,_,$(1)).so" > $$(1)/etc/php8/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-    endif
-  endef
-
-  $$(eval $$(call BuildPackage,php8-mod-$(1)))
-
-endef
-
-$(eval $(call BuildPackage,php8))
-$(eval $(call BuildPackage,php8-cgi))
-$(eval $(call BuildPackage,php8-cli))
-$(eval $(call BuildPackage,php8-fastcgi))
-$(eval $(call BuildPackage,php8-fpm))
-
-#$(eval $(call BuildModule,NAME,TITLE[,PKG DEPENDS]))
-$(eval $(call BuildModule,bcmath,Bcmath))
-$(eval $(call BuildModule,calendar,Calendar))
-$(eval $(call BuildModule,ctype,Ctype))
-$(eval $(call BuildModule,curl,cURL,+PACKAGE_php8-mod-curl:libcurl))
-$(eval $(call BuildModule,dom,DOM,+@PHP8_LIBXML +PACKAGE_php8-mod-dom:libxml2))
-$(eval $(call BuildModule,exif,EXIF))
-$(eval $(call BuildModule,fileinfo,Fileinfo))
-$(eval $(call BuildModule,filter,Filter))
-$(eval $(call BuildModule,ftp,FTP,+PACKAGE_php8-mod-ftp:libopenssl))
-$(eval $(call BuildModule,gd,GD graphics,+PACKAGE_php8-mod-gd:libgd-full))
-$(eval $(call BuildModule,gettext,Gettext,+PACKAGE_php8-mod-gettext:libintl-full))
-$(eval $(call BuildModule,gmp,GMP,+PACKAGE_php8-mod-gmp:libgmp))
-$(eval $(call BuildModule,iconv,iConv,$(ICONV_DEPENDS)))
-$(eval $(call BuildModule,imap,IMAP,+PACKAGE_php8-mod-imap:libopenssl +PACKAGE_libpam:libpam +PACKAGE_php8-mod-imap:uw-imap))
-$(eval $(call BuildModule,intl,Internationalization Functions,+PACKAGE_php8-mod-intl:icu +PHP8_FULLICUDATA:icu-full-data))
-$(eval $(call BuildModule,ldap,LDAP,+PACKAGE_php8-mod-ldap:libopenldap +PACKAGE_php8-mod-ldap:libsasl2))
-$(eval $(call BuildModule,mbstring,MBString,+PACKAGE_php8-mod-mbstring:oniguruma))
-$(eval $(call BuildModule,mysqli,MySQL Improved Extension,+PACKAGE_php8-mod-mysqli:php8-mod-mysqlnd,30))
-$(eval $(call BuildModule,mysqlnd,MySQL Native Driver,+PACKAGE_php8-mod-openssl:php8-mod-openssl))
-$(eval $(call BuildModule,opcache,OPcache,,,zend))
-$(eval $(call BuildModule,openssl,OpenSSL,+PACKAGE_php8-mod-openssl:libopenssl,15))
-$(eval $(call BuildModule,pcntl,PCNTL))
-$(eval $(call BuildModule,pdo,PHP Data Objects))
-$(eval $(call BuildModule,pdo-mysql,PDO driver for MySQL,+php8-mod-pdo +PACKAGE_php8-mod-pdo-mysql:php8-mod-mysqlnd))
-$(eval $(call BuildModule,pdo-pgsql,PDO driver for PostgreSQL,+php8-mod-pdo +PACKAGE_php8-mod-pdo-pgsql:libpq))
-$(eval $(call BuildModule,pdo-sqlite,PDO driver for SQLite 3.x,+php8-mod-pdo +PACKAGE_php8-mod-pdo-sqlite:libsqlite3 +PACKAGE_php8-mod-pdo-sqlite:librt))
-$(eval $(call BuildModule,pgsql,PostgreSQL,+PACKAGE_php8-mod-pgsql:libpq))
-$(eval $(call BuildModule,phar,Phar Archives))
-$(eval $(call BuildModule,session,Session))
-$(eval $(call BuildModule,shmop,Shared Memory))
-$(eval $(call BuildModule,simplexml,SimpleXML,+@PHP8_LIBXML +PACKAGE_php8-mod-simplexml:libxml2))
-$(eval $(call BuildModule,snmp,SNMP,+PACKAGE_php8-mod-snmp:libnetsnmp +PACKAGE_php8-mod-snmp:libopenssl))
-$(eval $(call BuildModule,soap,SOAP,+@PHP8_LIBXML +PACKAGE_php8-mod-soap:libxml2))
-$(eval $(call BuildModule,sockets,Sockets))
-$(eval $(call BuildModule,sqlite3,SQLite3,+PACKAGE_php8-mod-sqlite3:libsqlite3))
-$(eval $(call BuildModule,sysvmsg,System V messages))
-$(eval $(call BuildModule,sysvsem,System V shared memory))
-$(eval $(call BuildModule,sysvshm,System V semaphore))
-$(eval $(call BuildModule,tokenizer,Tokenizer))
-$(eval $(call BuildModule,xml,XML,+PHP8_LIBXML:libxml2 +!PHP8_LIBXML:libexpat))
-$(eval $(call BuildModule,xmlreader,XMLReader,+@PHP8_LIBXML +PACKAGE_php8-mod-dom:php8-mod-dom +PACKAGE_php8-mod-xmlreader:libxml2))
-$(eval $(call BuildModule,xmlwriter,XMLWriter,+@PHP8_LIBXML +PACKAGE_php8-mod-xmlwriter:libxml2))
-$(eval $(call BuildModule,zip,ZIP,+PACKAGE_php8-mod-zip:libzip))
diff -uprN a/feeds/packages/lang/php8/patches/0007-Add-support-for-use-of-the-system-timezone-database.patch b/feeds/packages/lang/php8/patches/0007-Add-support-for-use-of-the-system-timezone-database.patch
--- a/feeds/packages/lang/php8/patches/0007-Add-support-for-use-of-the-system-timezone-database.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/0007-Add-support-for-use-of-the-system-timezone-database.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,668 +0,0 @@
-From: Debian PHP Maintainers <team+pkg-php@tracker.debian.org>
-Date: Wed, 7 Oct 2020 10:58:24 +0200
-Subject: Add-support-for-use-of-the-system-timezone-database
-
-# License: MIT
-# http://opensource.org/licenses/MIT
-
-# License: MIT
-# http://opensource.org/licenses/MIT
-
-Add support for use of the system timezone database, rather
-than embedding a copy.  Discussed upstream but was not desired.
-
-History:
-r19: adapt for timelib 2020.02 (in 8.0.0beta2)
-r18: adapt for autotool change in 7.3.3RC1
-r17: adapt for timelib 2018.01 (in 7.3.2RC1)
-r16: adapt for timelib 2017.06 (in 7.2.3RC1)
-r15: adapt for timelib 2017.05beta7 (in 7.2.0RC1)
-r14: improve check for valid tz file
-r13: adapt for upstream changes to use PHP allocator
-r12: adapt for upstream changes for new zic
-r11: use canonical names to avoid more case sensitivity issues
-     round lat/long from zone.tab towards zero per builtin db
-r10: make timezone case insensitive
-r9: fix another compile error without --with-system-tzdata configured (Michael Heimpold)
-r8: fix compile error without --with-system-tzdata configured
-r7: improve check for valid timezone id to exclude directories
-r6: fix fd leak in r5, fix country code/BC flag use in
-    timezone_identifiers_list() using system db,
-    fix use of PECL timezonedb to override system db,
-r5: reverts addition of "System/Localtime" fake tzname.
-    updated for 5.3.0, parses zone.tab to pick up mapping between
-    timezone name, country code and long/lat coords
-r4: added "System/Localtime" tzname which uses /etc/localtime
-r3: fix a crash if /usr/share/zoneinfo doesn't exist (Raphael Geissert)
-r2: add filesystem trawl to set up name alias index
-r1: initial revision
----
- ext/date/config0.m4     |  13 ++
- ext/date/lib/parse_tz.c | 535 +++++++++++++++++++++++++++++++++++++++++++++++-
- 2 files changed, 545 insertions(+), 3 deletions(-)
-
---- a/ext/date/config0.m4
-+++ b/ext/date/config0.m4
-@@ -4,6 +4,19 @@ AC_CHECK_HEADERS([io.h])
- dnl Check for strtoll, atoll
- AC_CHECK_FUNCS(strtoll atoll)
- 
-+PHP_ARG_WITH(system-tzdata, for use of system timezone data,
-+[  --with-system-tzdata[=DIR]      to specify use of system timezone data],
-+no, no)
-+
-+if test "$PHP_SYSTEM_TZDATA" != "no"; then
-+   AC_DEFINE(HAVE_SYSTEM_TZDATA, 1, [Define if system timezone data is used])
-+
-+   if test "$PHP_SYSTEM_TZDATA" != "yes"; then
-+      AC_DEFINE_UNQUOTED(HAVE_SYSTEM_TZDATA_PREFIX, "$PHP_SYSTEM_TZDATA",
-+                         [Define for location of system timezone data])
-+   fi
-+fi
-+
- PHP_DATE_CFLAGS="-I@ext_builddir@/lib -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -DHAVE_TIMELIB_CONFIG_H=1"
- timelib_sources="lib/astro.c lib/dow.c lib/parse_date.c lib/parse_tz.c
-                  lib/timelib.c lib/tm2unixtime.c lib/unixtime2tm.c lib/parse_iso_intervals.c lib/interval.c"
---- a/ext/date/lib/parse_tz.c
-+++ b/ext/date/lib/parse_tz.c
-@@ -26,8 +26,21 @@
- #include "timelib.h"
- #include "timelib_private.h"
- 
-+#ifdef HAVE_SYSTEM_TZDATA
-+#include <sys/mman.h>
-+#include <sys/stat.h>
-+#include <limits.h>
-+#include <fcntl.h>
-+#include <unistd.h>
-+
-+#include "php_scandir.h"
-+
-+#else
- #define TIMELIB_SUPPORTS_V2DATA
- #include "timezonedb.h"
-+#endif
-+
-+#include <ctype.h>
- 
- #if (defined(__APPLE__) || defined(__APPLE_CC__)) && (defined(__BIG_ENDIAN__) || defined(__LITTLE_ENDIAN__))
- # if defined(__LITTLE_ENDIAN__)
-@@ -94,6 +107,11 @@ static int read_php_preamble(const unsig
- {
- 	uint32_t version;
- 
-+	if (memcmp(*tzf, "TZif", 4) == 0) {
-+		*tzf += 20;
-+		return 0;
-+	}
-+
- 	/* read ID */
- 	version = (*tzf)[3] - '0';
- 	*tzf += 4;
-@@ -435,7 +453,429 @@ void timelib_dump_tzinfo(timelib_tzinfo
- 	}
- }
- 
--static int seek_to_tz_position(const unsigned char **tzf, const char *timezone, const timelib_tzdb *tzdb)
-+#ifdef HAVE_SYSTEM_TZDATA
-+
-+#ifdef HAVE_SYSTEM_TZDATA_PREFIX
-+#define ZONEINFO_PREFIX HAVE_SYSTEM_TZDATA_PREFIX
-+#else
-+#define ZONEINFO_PREFIX "/usr/share/zoneinfo"
-+#endif
-+
-+/* System timezone database pointer. */
-+static const timelib_tzdb *timezonedb_system;
-+
-+/* Hash table entry for the cache of the zone.tab mapping table. */
-+struct location_info {
-+        char code[2];
-+        double latitude, longitude;
-+        char name[64];
-+        char *comment;
-+        struct location_info *next;
-+};
-+
-+/* Cache of zone.tab. */
-+static struct location_info **system_location_table;
-+
-+/* Size of the zone.tab hash table; a random-ish prime big enough to
-+ * prevent too many collisions. */
-+#define LOCINFO_HASH_SIZE (1021)
-+
-+/* Compute a case insensitive hash of str */
-+static uint32_t tz_hash(const char *str)
-+{
-+    const unsigned char *p = (const unsigned char *)str;
-+    uint32_t hash = 5381;
-+    int c;
-+
-+    while ((c = tolower(*p++)) != '\0') {
-+        hash = (hash << 5) ^ hash ^ c;
-+    }
-+
-+    return hash % LOCINFO_HASH_SIZE;
-+}
-+
-+/* Parse an ISO-6709 date as used in zone.tab. Returns end of the
-+ * parsed string on success, or NULL on parse error.  On success,
-+ * writes the parsed number to *result. */
-+static char *parse_iso6709(char *p, double *result)
-+{
-+    double v, sign;
-+    char *pend;
-+    size_t len;
-+
-+    if (*p == '+')
-+        sign = 1.0;
-+    else if (*p == '-')
-+        sign = -1.0;
-+    else
-+        return NULL;
-+
-+    p++;
-+    for (pend = p; *pend >= '0' && *pend <= '9'; pend++)
-+        ;;
-+
-+    /* Annoying encoding used by zone.tab has no decimal point, so use
-+     * the length to determine the format:
-+     * 
-+     * 4 = DDMM
-+     * 5 = DDDMM
-+     * 6 = DDMMSS
-+     * 7 = DDDMMSS
-+     */
-+    len = pend - p;
-+    if (len < 4 || len > 7) {
-+        return NULL;
-+    }
-+
-+    /* p => [D]DD */
-+    v = (p[0] - '0') * 10.0 + (p[1] - '0');
-+    p += 2;
-+    if (len == 5 || len == 7)
-+        v = v * 10.0 + (*p++ - '0');
-+    /* p => MM[SS] */
-+    v += (10.0 * (p[0] - '0')
-+          + p[1] - '0') / 60.0;
-+    p += 2;
-+    /* p => [SS] */
-+    if (len > 5) {
-+        v += (10.0 * (p[0] - '0')
-+              + p[1] - '0') / 3600.0;
-+        p += 2;
-+    }
-+
-+    /* Round to five decimal place, not because it's a good idea,
-+     * but, because the builtin data uses rounded data, so, match
-+     * that. */
-+    *result = trunc(v * sign * 100000.0) / 100000.0;
-+
-+    return p;
-+}
-+
-+/* This function parses the zone.tab file to build up the mapping of
-+ * timezone to country code and geographic location, and returns a
-+ * hash table.  The hash table is indexed by the function:
-+ *
-+ *   tz_hash(timezone-name)
-+ */
-+static struct location_info **create_location_table(void)
-+{
-+    struct location_info **li, *i;
-+    char zone_tab[PATH_MAX];
-+    char line[512];
-+    FILE *fp;
-+
-+    strncpy(zone_tab, ZONEINFO_PREFIX "/zone.tab", sizeof zone_tab);
-+
-+    fp = fopen(zone_tab, "r");
-+    if (!fp) {
-+        return NULL;
-+    }
-+
-+    li = calloc(LOCINFO_HASH_SIZE, sizeof *li);
-+
-+    while (fgets(line, sizeof line, fp)) {
-+        char *p = line, *code, *name, *comment;
-+        uint32_t hash;
-+        double latitude, longitude;
-+
-+        while (isspace(*p))
-+            p++;
-+
-+        if (*p == '#' || *p == '\0' || *p == '\n')
-+            continue;
-+        
-+        if (!isalpha(p[0]) || !isalpha(p[1]) || p[2] != '\t')
-+            continue;
-+        
-+        /* code => AA */
-+        code = p;
-+        p[2] = 0;
-+        p += 3;
-+
-+        /* coords => [+-][D]DDMM[SS][+-][D]DDMM[SS] */
-+        p = parse_iso6709(p, &latitude);
-+        if (!p) {
-+            continue;
-+        }
-+        p = parse_iso6709(p, &longitude);
-+        if (!p) {
-+            continue;
-+        }
-+
-+        if (!p || *p != '\t') {
-+            continue;
-+        }
-+
-+        /* name = string */
-+        name = ++p;
-+        while (*p != '\t' && *p && *p != '\n')
-+            p++;
-+
-+        *p++ = '\0';
-+
-+        /* comment = string */
-+        comment = p;
-+        while (*p != '\t' && *p && *p != '\n')
-+            p++;
-+
-+        if (*p == '\n' || *p == '\t')
-+            *p = '\0';
-+        
-+        hash = tz_hash(name);
-+        i = malloc(sizeof *i);
-+        memcpy(i->code, code, 2);
-+        strncpy(i->name, name, sizeof i->name);
-+        i->comment = strdup(comment);
-+        i->longitude = longitude;
-+        i->latitude = latitude;
-+        i->next = li[hash];
-+        li[hash] = i;
-+        /* printf("%s [%u, %f, %f]\n", name, hash, latitude, longitude); */
-+    }
-+
-+    fclose(fp);
-+
-+    return li;
-+}
-+
-+/* Return location info from hash table, using given timezone name.
-+ * Returns NULL if the name could not be found. */
-+const struct location_info *find_zone_info(struct location_info **li, 
-+                                           const char *name)
-+{
-+    uint32_t hash = tz_hash(name);
-+    const struct location_info *l;
-+
-+    if (!li) {
-+        return NULL;
-+    }
-+
-+    for (l = li[hash]; l; l = l->next) {
-+        if (timelib_strcasecmp(l->name, name) == 0)
-+            return l;
-+    }
-+
-+    return NULL;
-+}    
-+
-+/* Filter out some non-tzdata files and the posix/right databases, if
-+ * present. */
-+static int index_filter(const struct dirent *ent)
-+{
-+	return strcmp(ent->d_name, ".") != 0
-+		&& strcmp(ent->d_name, "..") != 0
-+		&& strcmp(ent->d_name, "posix") != 0
-+		&& strcmp(ent->d_name, "posixrules") != 0
-+		&& strcmp(ent->d_name, "right") != 0
-+		&& strstr(ent->d_name, ".list") == NULL
-+		&& strstr(ent->d_name, ".tab") == NULL;
-+}
-+
-+static int sysdbcmp(const void *first, const void *second)
-+{
-+        const timelib_tzdb_index_entry *alpha = first, *beta = second;
-+
-+        return timelib_strcasecmp(alpha->id, beta->id);
-+}
-+
-+
-+/* Create the zone identifier index by trawling the filesystem. */
-+static void create_zone_index(timelib_tzdb *db)
-+{
-+	size_t dirstack_size,  dirstack_top;
-+	size_t index_size, index_next;
-+	timelib_tzdb_index_entry *db_index;
-+	char **dirstack;
-+
-+	/* LIFO stack to hold directory entries to scan; each slot is a
-+	 * directory name relative to the zoneinfo prefix. */
-+	dirstack_size = 32;
-+	dirstack = malloc(dirstack_size * sizeof *dirstack);
-+	dirstack_top = 1;
-+	dirstack[0] = strdup("");
-+	
-+	/* Index array. */
-+	index_size = 64;
-+	db_index = malloc(index_size * sizeof *db_index);
-+	index_next = 0;
-+
-+	do {
-+		struct dirent **ents;
-+		char name[PATH_MAX], *top;
-+		int count;
-+
-+		/* Pop the top stack entry, and iterate through its contents. */
-+		top = dirstack[--dirstack_top];
-+		snprintf(name, sizeof name, ZONEINFO_PREFIX "/%s", top);
-+
-+		count = php_scandir(name, &ents, index_filter, php_alphasort);
-+
-+		while (count > 0) {
-+			struct stat st;
-+			const char *leaf = ents[count - 1]->d_name;
-+
-+			snprintf(name, sizeof name, ZONEINFO_PREFIX "/%s/%s", 
-+				 top, leaf);
-+			
-+			if (strlen(name) && stat(name, &st) == 0) {
-+				/* Name, relative to the zoneinfo prefix. */
-+				const char *root = top;
-+
-+				if (root[0] == '/') root++;
-+
-+				snprintf(name, sizeof name, "%s%s%s", root, 
-+					 *root ? "/": "", leaf);
-+
-+				if (S_ISDIR(st.st_mode)) {
-+					if (dirstack_top == dirstack_size) {
-+						dirstack_size *= 2;
-+						dirstack = realloc(dirstack, 
-+								   dirstack_size * sizeof *dirstack);
-+					}
-+					dirstack[dirstack_top++] = strdup(name);
-+				}
-+				else {
-+					if (index_next == index_size) {
-+						index_size *= 2;
-+						db_index = realloc(db_index,
-+								   index_size * sizeof *db_index);
-+					}
-+
-+					db_index[index_next++].id = strdup(name);
-+				}
-+			}
-+
-+			free(ents[--count]);
-+		}
-+		
-+		if (count != -1) free(ents);
-+		free(top);
-+	} while (dirstack_top);
-+
-+        qsort(db_index, index_next, sizeof *db_index, sysdbcmp);
-+
-+	db->index = db_index;
-+	db->index_size = index_next;
-+
-+	free(dirstack);
-+}
-+
-+#define FAKE_HEADER "1234\0??\1??"
-+#define FAKE_UTC_POS (7 - 4)
-+
-+/* Create a fake data segment for database 'sysdb'. */
-+static void fake_data_segment(timelib_tzdb *sysdb,
-+                              struct location_info **info)
-+{
-+        size_t n;
-+        char *data, *p;
-+        
-+        data = malloc(3 * sysdb->index_size + 7);
-+
-+        p = mempcpy(data, FAKE_HEADER, sizeof(FAKE_HEADER) - 1);
-+
-+        for (n = 0; n < sysdb->index_size; n++) {
-+                const struct location_info *li;
-+                timelib_tzdb_index_entry *ent;
-+
-+                ent = (timelib_tzdb_index_entry *)&sysdb->index[n];
-+
-+                /* Lookup the timezone name in the hash table. */
-+                if (strcmp(ent->id, "UTC") == 0) {
-+                        ent->pos = FAKE_UTC_POS;
-+                        continue;
-+                }
-+
-+                li = find_zone_info(info, ent->id);
-+                if (li) {
-+                        /* If found, append the BC byte and the
-+                         * country code; set the position for this
-+                         * section of timezone data.  */
-+                        ent->pos = (p - data) - 4;
-+                        *p++ = '\1';
-+                        *p++ = li->code[0];
-+                        *p++ = li->code[1];
-+                }
-+                else {
-+                        /* If not found, the timezone data can
-+                         * point at the header. */
-+                        ent->pos = 0;
-+                }
-+        }
-+        
-+        sysdb->data = (unsigned char *)data;
-+}
-+
-+/* Returns true if the passed-in stat structure describes a
-+ * probably-valid timezone file. */
-+static int is_valid_tzfile(const struct stat *st, int fd)
-+{
-+	if (fd) {
-+		char buf[20];
-+		if (read(fd, buf, 20)!=20) {
-+			return 0;
-+		}
-+		lseek(fd, SEEK_SET, 0);
-+		if (memcmp(buf, "TZif", 4)) {
-+			return 0;
-+		}
-+	}
-+	return S_ISREG(st->st_mode) && st->st_size > 20;
-+}
-+
-+/* To allow timezone names to be used case-insensitively, find the
-+ * canonical name for this timezone, if possible. */
-+static const char *canonical_tzname(const char *timezone)
-+{
-+    if (timezonedb_system) {
-+        timelib_tzdb_index_entry *ent, lookup;
-+
-+        lookup.id = (char *)timezone;
-+
-+        ent = bsearch(&lookup, timezonedb_system->index,
-+                      timezonedb_system->index_size, sizeof lookup,
-+                      sysdbcmp);
-+        if (ent) {
-+            return ent->id;
-+        }
-+    }
-+
-+    return timezone;
-+}
-+
-+/* Return the mmap()ed tzfile if found, else NULL.  On success, the
-+ * length of the mapped data is placed in *length. */
-+static char *map_tzfile(const char *timezone, size_t *length)
-+{
-+	char fname[PATH_MAX];
-+	struct stat st;
-+	char *p;
-+	int fd;
-+	
-+	if (timezone[0] == '\0' || strstr(timezone, "..") != NULL) {
-+		return NULL;
-+	}
-+
-+	snprintf(fname, sizeof fname, ZONEINFO_PREFIX "/%s", canonical_tzname(timezone));
-+
-+	fd = open(fname, O_RDONLY);
-+	if (fd == -1) {
-+		return NULL;
-+	} else if (fstat(fd, &st) != 0 || !is_valid_tzfile(&st, fd)) {
-+		close(fd);
-+		return NULL;
-+	}
-+
-+	*length = st.st_size;
-+	p = mmap(NULL, st.st_size, PROT_READ, MAP_SHARED, fd, 0);
-+	close(fd);
-+	
-+	return p != MAP_FAILED ? p : NULL;
-+}
-+
-+#endif
-+
-+static int inmem_seek_to_tz_position(const unsigned char **tzf, const char *timezone, const timelib_tzdb *tzdb)
- {
- 	int left = 0, right = tzdb->index_size - 1;
- 
-@@ -461,9 +901,48 @@ static int seek_to_tz_position(const uns
- 	return 0;
- }
- 
-+static int seek_to_tz_position(const unsigned char **tzf, const char *timezone,
-+			       char **map, size_t *maplen,
-+			       const timelib_tzdb *tzdb)
-+{
-+#ifdef HAVE_SYSTEM_TZDATA
-+	if (tzdb == timezonedb_system) {
-+		char *orig;
-+
-+		orig = map_tzfile(timezone, maplen);
-+		if (orig == NULL) {
-+			return 0;
-+		}
-+
-+		(*tzf) = (unsigned char *)orig;
-+		*map = orig;
-+        return 1;
-+	}
-+	else
-+#endif
-+	{
-+		return inmem_seek_to_tz_position(tzf, timezone, tzdb);
-+	}
-+}
-+
- const timelib_tzdb *timelib_builtin_db(void)
- {
-+#ifdef HAVE_SYSTEM_TZDATA
-+	if (timezonedb_system == NULL) {
-+		timelib_tzdb *tmp = malloc(sizeof *tmp);
-+
-+		tmp->version = "0.system";
-+		tmp->data = NULL;
-+		create_zone_index(tmp);
-+		system_location_table = create_location_table();
-+		fake_data_segment(tmp, system_location_table);
-+		timezonedb_system = tmp;
-+	}
-+
-+	return timezonedb_system;
-+#else
- 	return &timezonedb_builtin;
-+#endif
- }
- 
- const timelib_tzdb_index_entry *timelib_timezone_identifiers_list(const timelib_tzdb *tzdb, int *count)
-@@ -475,7 +954,30 @@ const timelib_tzdb_index_entry *timelib_
- int timelib_timezone_id_is_valid(const char *timezone, const timelib_tzdb *tzdb)
- {
- 	const unsigned char *tzf;
--	return (seek_to_tz_position(&tzf, timezone, tzdb));
-+
-+#ifdef HAVE_SYSTEM_TZDATA
-+	if (tzdb == timezonedb_system) {
-+		char fname[PATH_MAX];
-+		struct stat st;
-+
-+		if (timezone[0] == '\0' || strstr(timezone, "..") != NULL) {
-+			return 0;
-+		}
-+
-+		if (system_location_table) {
-+			if (find_zone_info(system_location_table, timezone) != NULL) {
-+				/* found in cache */
-+				return 1;
-+			}
-+		}
-+
-+		snprintf(fname, sizeof fname, ZONEINFO_PREFIX "/%s", canonical_tzname(timezone));
-+
-+		return stat(fname, &st) == 0 && is_valid_tzfile(&st, 0);
-+	}
-+#endif
-+
-+	return (inmem_seek_to_tz_position(&tzf, timezone, tzdb));
- }
- 
- static int skip_64bit_preamble(const unsigned char **tzf, timelib_tzinfo *tz)
-@@ -517,6 +1019,8 @@ static timelib_tzinfo* timelib_tzinfo_ct
- timelib_tzinfo *timelib_parse_tzfile(const char *timezone, const timelib_tzdb *tzdb, int *error_code)
- {
- 	const unsigned char *tzf;
-+	char *memmap = NULL;
-+	size_t maplen;
- 	timelib_tzinfo *tmp;
- 	int version;
- 	int transitions_result, types_result;
-@@ -524,7 +1028,7 @@ timelib_tzinfo *timelib_parse_tzfile(con
- 
- 	*error_code = TIMELIB_ERROR_NO_ERROR;
- 
--	if (seek_to_tz_position(&tzf, timezone, tzdb)) {
-+	if (seek_to_tz_position(&tzf, timezone, &memmap, &maplen, tzdb)) {
- 		tmp = timelib_tzinfo_ctor(timezone);
- 
- 		version = read_preamble(&tzf, tmp, &type);
-@@ -563,11 +1067,36 @@ timelib_tzinfo *timelib_parse_tzfile(con
- 		}
- 		skip_posix_string(&tzf, tmp);
- 
-+#ifdef HAVE_SYSTEM_TZDATA
-+		if (memmap) {
-+			const struct location_info *li;
-+
-+			/* TZif-style - grok the location info from the system database,
-+			 * if possible. */
-+
-+			if ((li = find_zone_info(system_location_table, timezone)) != NULL) {
-+				tmp->location.comments = timelib_strdup(li->comment);
-+				strncpy(tmp->location.country_code, li->code, 2);
-+				tmp->location.longitude = li->longitude;
-+				tmp->location.latitude = li->latitude;
-+				tmp->bc = 1;
-+			}
-+			else {
-+				set_default_location_and_comments(&tzf, tmp);
-+			}
-+
-+			/* Now done with the mmap segment - discard it. */
-+			munmap(memmap, maplen);
-+		} else {
-+#endif
- 		if (type == TIMELIB_TZINFO_PHP) {
- 			read_location(&tzf, tmp);
- 		} else {
- 			set_default_location_and_comments(&tzf, tmp);
- 		}
-+#ifdef HAVE_SYSTEM_TZDATA
-+		}
-+#endif
- 	} else {
- 		*error_code = TIMELIB_ERROR_NO_SUCH_TIMEZONE;
- 		tmp = NULL;
diff -uprN a/feeds/packages/lang/php8/patches/0022-Use-system-timezone.patch b/feeds/packages/lang/php8/patches/0022-Use-system-timezone.patch
--- a/feeds/packages/lang/php8/patches/0022-Use-system-timezone.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/0022-Use-system-timezone.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-From: Debian PHP Maintainers <pkg-php-maint@lists.alioth.debian.org>
-Date: Sat, 2 May 2015 10:26:56 +0200
-Subject: Use system timezone
-
-Upstream don't want this patch. See
-http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=730771 for a summary.
-
-This delta is recovered from previous versions of the system timezone patch in
-Debian, and appears to have inadvertently been dropped. Author unknown.
-
-To be used in tandem with use_embedded_timezonedb.patch and use_embedded_timezonedb_fixes.patch.
----
- ext/date/php_date.c | 17 +++++++++++++++++
- 1 file changed, 17 insertions(+)
-
---- a/ext/date/php_date.c
-+++ b/ext/date/php_date.c
-@@ -545,6 +545,23 @@ static char* guess_timezone(const timeli
- 		DATEG(timezone_valid) = 1;
- 		return DATEG(default_timezone);
- 	}
-+	/* Try to guess timezone from system information */
-+	{
-+		struct tm *ta, tmbuf;
-+		time_t     the_time;
-+		char      *tzid = NULL;
-+
-+		the_time = time(NULL);
-+		ta = php_localtime_r(&the_time, &tmbuf);
-+		if (ta) {
-+			tzid = timelib_timezone_id_from_abbr(ta->tm_zone, ta->tm_gmtoff, ta->tm_isdst);
-+		}
-+		if (! tzid) {
-+			tzid = "UTC";
-+		}
-+
-+		return tzid;
-+	}
- 	/* Fallback to UTC */
- 	return "UTC";
- }
diff -uprN a/feeds/packages/lang/php8/patches/0025-php-5.4.9-fixheader.patch b/feeds/packages/lang/php8/patches/0025-php-5.4.9-fixheader.patch
--- a/feeds/packages/lang/php8/patches/0025-php-5.4.9-fixheader.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/0025-php-5.4.9-fixheader.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-From: Debian PHP Maintainers <pkg-php-maint@lists.alioth.debian.org>
-Date: Sat, 2 May 2015 10:26:56 +0200
-Subject: php-5.4.9-fixheader
-
-Make generated php_config.h constant across rebuilds.
----
- configure.ac | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
---- a/configure.ac
-+++ b/configure.ac
-@@ -1289,7 +1289,7 @@ PHP_REMOVE_USR_LIB(LDFLAGS)
- EXTRA_LDFLAGS="$EXTRA_LDFLAGS $PHP_LDFLAGS"
- EXTRA_LDFLAGS_PROGRAM="$EXTRA_LDFLAGS_PROGRAM $PHP_LDFLAGS"
- 
--UNAME=`uname -a | xargs`
-+UNAME=`uname | xargs`
- PHP_UNAME=${PHP_UNAME:-$UNAME}
- AC_DEFINE_UNQUOTED(PHP_UNAME,"$PHP_UNAME",[uname -a output])
- PHP_OS=`uname | xargs`
diff -uprN a/feeds/packages/lang/php8/patches/0030-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch b/feeds/packages/lang/php8/patches/0030-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch
--- a/feeds/packages/lang/php8/patches/0030-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/0030-Remove-W3C-validation-icon-to-not-expose-the-reader-.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,23 +0,0 @@
-From: =?utf-8?b?T25kxZllaiBTdXLDvQ==?= <ondrej@sury.org>
-Date: Wed, 29 Jul 2015 14:37:55 +0200
-Subject: Remove W3C validation icon to not expose the reader's IP address to
- potential tracking.
-
----
- sapi/fpm/status.html.in | 5 -----
- 1 file changed, 5 deletions(-)
-
---- a/sapi/fpm/status.html.in
-+++ b/sapi/fpm/status.html.in
-@@ -70,11 +70,6 @@
- 				<tr class="h"><th>PID&darr;</th><th>Start Time</th><th>Start Since</th><th>Requests Served</th><th>Request Duration</th><th>Request method</th><th>Request URI</th><th>Content Length</th><th>User</th><th>Script</th><th>Last Request %CPU</th><th>Last Request Memory</th></tr>
- 			</table>
- 		</div>
--		<p>
--			<a href="http://validator.w3.org/check?uri=referer">
--				<img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Transitional" height="31" width="88" />
--			</a>
--		 </p>
- 		<script type="text/javascript">
- <!--
- 			var xhr_object = null;
diff -uprN a/feeds/packages/lang/php8/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch b/feeds/packages/lang/php8/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch
--- a/feeds/packages/lang/php8/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/0041-Add-patch-to-remove-build-timestamps-from-generated-.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,95 +0,0 @@
-From: Thijs Kinkhorst <thijs@debian.org>
-Date: Mon, 2 Dec 2019 22:18:43 +0100
-Subject: Add patch to remove build timestamps from generated binaries.
-
----
-
---- a/ext/standard/info.c
-+++ b/ext/standard/info.c
-@@ -792,7 +792,6 @@ PHPAPI ZEND_COLD void php_print_info(int
- 		php_info_print_box_end();
- 		php_info_print_table_start();
- 		php_info_print_table_row(2, "System", ZSTR_VAL(php_uname));
--		php_info_print_table_row(2, "Build Date", __DATE__ " " __TIME__);
- #ifdef PHP_BUILD_SYSTEM
- 		php_info_print_table_row(2, "Build System", PHP_BUILD_SYSTEM);
- #endif
---- a/sapi/apache2handler/config.m4
-+++ b/sapi/apache2handler/config.m4
-@@ -64,18 +64,9 @@ if test "$PHP_APXS2" != "no"; then
-   fi
- 
-   APXS_LIBEXECDIR='$(INSTALL_ROOT)'`$APXS -q LIBEXECDIR`
--  if test -z `$APXS -q SYSCONFDIR`; then
--    INSTALL_IT="\$(mkinstalldirs) '$APXS_LIBEXECDIR' && \
--                 $APXS -S LIBEXECDIR='$APXS_LIBEXECDIR' \
--                       -i -n php"
--  else
--    APXS_SYSCONFDIR='$(INSTALL_ROOT)'`$APXS -q SYSCONFDIR`
--    INSTALL_IT="\$(mkinstalldirs) '$APXS_LIBEXECDIR' && \
--                \$(mkinstalldirs) '$APXS_SYSCONFDIR' && \
--                 $APXS -S LIBEXECDIR='$APXS_LIBEXECDIR' \
--                       -S SYSCONFDIR='$APXS_SYSCONFDIR' \
--                       -i -a -n php"
--  fi
-+  INSTALL_IT="\$(mkinstalldirs) '$APXS_LIBEXECDIR' && \
-+               $APXS -S LIBEXECDIR='$APXS_LIBEXECDIR' \
-+                     -i -n php"
- 
-   LIBPHP_CFLAGS="-shared"
-   PHP_SUBST(LIBPHP_CFLAGS)
---- a/sapi/cgi/cgi_main.c
-+++ b/sapi/cgi/cgi_main.c
-@@ -2372,9 +2372,9 @@ parent_loop_end:
- 							SG(headers_sent) = 1;
- 							SG(request_info).no_headers = 1;
- #if ZEND_DEBUG
--							php_printf("PHP %s (%s) (built: %s %s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+							php_printf("PHP %s (%s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name,  get_zend_version());
- #else
--							php_printf("PHP %s (%s) (built: %s %s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+							php_printf("PHP %s (%s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #endif
- 							php_request_shutdown((void *) 0);
- 							fcgi_shutdown();
---- a/sapi/cli/php_cli.c
-+++ b/sapi/cli/php_cli.c
-@@ -633,8 +633,8 @@ static int do_cli(int argc, char **argv)
- 				goto out;
- 
- 			case 'v': /* show php version & quit */
--				php_printf("PHP %s (%s) (built: %s %s) ( %s)\nCopyright (c) The PHP Group\n%s",
--					PHP_VERSION, cli_sapi_module.name, __DATE__, __TIME__,
-+				php_printf("PHP %s (%s) ( %s)\nCopyright (c) The PHP Group\n%s",
-+					PHP_VERSION, cli_sapi_module.name,
- #ifdef ZTS
- 					"ZTS "
- #else
---- a/sapi/fpm/fpm/fpm_main.c
-+++ b/sapi/fpm/fpm/fpm_main.c
-@@ -1692,9 +1692,9 @@ int main(int argc, char *argv[])
- 				SG(request_info).no_headers = 1;
- 
- #if ZEND_DEBUG
--				php_printf("PHP %s (%s) (built: %s %s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__,        __TIME__, get_zend_version());
-+				php_printf("PHP %s (%s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #else
--				php_printf("PHP %s (%s) (built: %s %s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__,      get_zend_version());
-+				php_printf("PHP %s (%s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #endif
- 				php_request_shutdown((void *) 0);
- 				fcgi_shutdown();
---- a/sapi/phpdbg/phpdbg.c
-+++ b/sapi/phpdbg/phpdbg.c
-@@ -1634,10 +1634,8 @@ phpdbg_main:
- 				phpdbg_do_help_cmd(exec);
- 			} else if (show_version) {
- 				phpdbg_out(
--					"phpdbg %s (built: %s %s)\nPHP %s, Copyright (c) The PHP Group\n%s",
-+					"phpdbg %s\nPHP %s, Copyright (c) The PHP Group\n%s",
- 					PHPDBG_VERSION,
--					__DATE__,
--					__TIME__,
- 					PHP_VERSION,
- 					get_zend_version()
- 				);
diff -uprN a/feeds/packages/lang/php8/patches/0050-remove-build-timestamps.patch b/feeds/packages/lang/php8/patches/0050-remove-build-timestamps.patch
--- a/feeds/packages/lang/php8/patches/0050-remove-build-timestamps.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/0050-remove-build-timestamps.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,14 +0,0 @@
---- a/sapi/litespeed/lsapi_main.c
-+++ b/sapi/litespeed/lsapi_main.c
-@@ -1276,9 +1276,9 @@ static int cli_main( int argc, char * ar
-             case 'v':
-                 if (php_request_startup() != FAILURE) {
- #if ZEND_DEBUG
--                    php_printf("PHP %s (%s) (built: %s %s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+                    php_printf("PHP %s (%s) (DEBUG)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #else
--                    php_printf("PHP %s (%s) (built: %s %s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, __DATE__, __TIME__, get_zend_version());
-+                    php_printf("PHP %s (%s)\nCopyright (c) The PHP Group\n%s", PHP_VERSION, sapi_module.name, get_zend_version());
- #endif
- #ifdef PHP_OUTPUT_NEWAPI
-                     php_output_end_all();
diff -uprN a/feeds/packages/lang/php8/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch b/feeds/packages/lang/php8/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch
--- a/feeds/packages/lang/php8/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/1001-ext-opcache-fix-detection-of-shm-mmap.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,60 +0,0 @@
-From dd6ee0fb6715881b204fb4cb124db9134c1a6c7d Mon Sep 17 00:00:00 2001
-From: Michael Heimpold <mhei@heimpold.de>
-Date: Mon, 2 Dec 2019 22:42:28 +0100
-Subject: [PATCH] ext/opcache: fix detection of shm/mmap
-
-The detection of sysvipc and mmap doesn't work well when cross-compiling,
-so I decided to only check for the availability of the functions involved.
-This is not a clean solution, but works for now(tm) :-)
-
-It should be discussed with upstream to find a better solution.
-
-This solves the issue reported at
-https://github.com/openwrt/packages/issues/1010
-and makes opcache usable on OpenWrt.
-
-Signed-off-by: Michael Heimpold <mhei@heimpold.de>
----
- ext/opcache/config.m4 | 10 ++++++++--
- 1 file changed, 8 insertions(+), 2 deletions(-)
-
---- a/ext/opcache/config.m4
-+++ b/ext/opcache/config.m4
-@@ -167,7 +167,10 @@ int main() {
- }
- ]])],[dnl
-     AC_DEFINE(HAVE_SHM_IPC, 1, [Define if you have SysV IPC SHM support])
--    have_shm_ipc=yes],[have_shm_ipc=no],[have_shm_ipc=no])
-+    have_shm_ipc=yes],[have_shm_ipc=no],[dnl
-+    AC_CHECK_FUNC(shmget,[dnl
-+        AC_DEFINE(HAVE_SHM_IPC, 1, [Define if you have SysV IPC SHM support])
-+        have_shm_ipc=yes],[have_shm_ipc=no])])
-   AC_MSG_RESULT([$have_shm_ipc])
- 
-   AC_MSG_CHECKING(for mmap() using MAP_ANON shared memory support)
-@@ -219,7 +222,10 @@ int main() {
- }
- ]])],[dnl
-     AC_DEFINE(HAVE_SHM_MMAP_ANON, 1, [Define if you have mmap(MAP_ANON) SHM support])
--    have_shm_mmap_anon=yes],[have_shm_mmap_anon=no],[have_shm_mmap_anon=no])
-+    have_shm_mmap_anon=yes],[have_shm_mmap_anon=no],[dnl
-+    AC_CHECK_FUNC(mmap,[dnl
-+        AC_DEFINE(HAVE_SHM_MMAP_ANON, 1, [Define if you have mmap(MAP_ANON) SHM support])
-+        have_shm_mmap_anon=yes],[have_shm_mmap_anon=no])])
-   AC_MSG_RESULT([$have_shm_mmap_anon])
- 
-   PHP_CHECK_FUNC_LIB(shm_open, rt, root)
-@@ -294,8 +300,11 @@ int main() {
-     PHP_CHECK_LIBRARY(rt, shm_unlink, [PHP_ADD_LIBRARY(rt,1,OPCACHE_SHARED_LIBADD)])
-   ],[
-     AC_MSG_RESULT([no])
--  ],[
--    AC_MSG_RESULT([no])
-+  ],[dnl
-+    AC_DEFINE(HAVE_SHM_MMAP_POSIX, 1, [Define if you have POSIX mmap() SHM support])
-+    AC_MSG_RESULT([yes])
-+    have_shm_mmap_posix=yes
-+    PHP_CHECK_LIBRARY(rt, shm_unlink, [PHP_ADD_LIBRARY(rt,1,OPCACHE_SHARED_LIBADD)])
-   ])
- 
-   PHP_NEW_EXTENSION(opcache,
diff -uprN a/feeds/packages/lang/php8/patches/1004-disable-phar-command.patch b/feeds/packages/lang/php8/patches/1004-disable-phar-command.patch
--- a/feeds/packages/lang/php8/patches/1004-disable-phar-command.patch	2023-04-14 21:27:49.472066000 +0800
+++ b/feeds/packages/lang/php8/patches/1004-disable-phar-command.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,32 +0,0 @@
---- a/ext/phar/config.m4
-+++ b/ext/phar/config.m4
-@@ -19,7 +19,7 @@ if test "$PHP_PHAR" != "no"; then
-   fi
-   PHP_ADD_EXTENSION_DEP(phar, hash, true)
-   PHP_ADD_EXTENSION_DEP(phar, spl, true)
--  PHP_ADD_MAKEFILE_FRAGMENT
-+  #PHP_ADD_MAKEFILE_FRAGMENT
- 
-   PHP_INSTALL_HEADERS([ext/phar], [php_phar.h])
- 
---- a/configure.ac
-+++ b/configure.ac
-@@ -1434,13 +1434,13 @@ CFLAGS_CLEAN="$CFLAGS \$(PROF_FLAGS)"
- CFLAGS="\$(CFLAGS_CLEAN) $standard_libtool_flag"
- CXXFLAGS="$CXXFLAGS $standard_libtool_flag \$(PROF_FLAGS)"
- 
--if test "$PHP_PHAR" != "no" && test "$PHP_CLI" != "no"; then
--  pharcmd=pharcmd
--  pharcmd_install=install-pharcmd
--else
-+#if test "$PHP_PHAR" != "no" && test "$PHP_CLI" != "no"; then
-+#  pharcmd=pharcmd
-+#  pharcmd_install=install-pharcmd
-+#else
-   pharcmd=
-   pharcmd_install=
--fi;
-+#fi;
- 
- all_targets="$lcov_target \$(OVERALL_TARGET) \$(PHP_MODULES) \$(PHP_ZEND_EX) \$(PHP_BINARIES) $pharcmd"
- install_targets="$install_sapi $install_modules $install_binaries install-build install-headers install-programs $install_pear $pharcmd_install"
diff -uprN a/feeds/packages/lang/php8/patches/1010-Fix-opcache-jit-minilua-compiling.patch b/feeds/packages/lang/php8/patches/1010-Fix-opcache-jit-minilua-compiling.patch
--- a/feeds/packages/lang/php8/patches/1010-Fix-opcache-jit-minilua-compiling.patch	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/php8/patches/1010-Fix-opcache-jit-minilua-compiling.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-From 73ea1d44c1e6b063bfa02e12919ec8a9de3709d8 Mon Sep 17 00:00:00 2001
-From: Michael Heimpold <mhei@heimpold.de>
-Date: Wed, 3 Feb 2021 22:51:34 +0100
-Subject: [PATCH] Fix opcache jit minilua compiling
-
-Signed-off-by: Michael Heimpold <mhei@heimpold.de>
----
- ext/opcache/jit/Makefile.frag | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
---- a/ext/opcache/jit/Makefile.frag
-+++ b/ext/opcache/jit/Makefile.frag
-@@ -1,6 +1,6 @@
- 
- $(builddir)/minilua: $(srcdir)/jit/dynasm/minilua.c
--	$(CC) $(srcdir)/jit/dynasm/minilua.c -lm -o $@
-+	$(HOSTCC) $(srcdir)/jit/dynasm/minilua.c -lm -o $@
- 
- $(builddir)/jit/zend_jit_x86.c: $(srcdir)/jit/zend_jit_x86.dasc $(srcdir)/jit/dynasm/*.lua $(builddir)/minilua
- 	$(builddir)/minilua $(srcdir)/jit/dynasm/dynasm.lua  $(DASM_FLAGS) -o $@ $(srcdir)/jit/zend_jit_x86.dasc
diff -uprN a/feeds/packages/lang/php8/pecl.mk b/feeds/packages/lang/php8/pecl.mk
--- a/feeds/packages/lang/php8/pecl.mk	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/php8/pecl.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,54 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/php8-pecl/Default
-  SUBMENU:=PHP8
-  SECTION:=lang
-  CATEGORY:=Languages
-  URL:=http://pecl.php.net/
-  DEPENDS:=php8
-endef
-
-define Build/Prepare
-	$(Build/Prepare/Default)
-	$(if $(QUILT),,( cd $(PKG_BUILD_DIR); $(STAGING_DIR)/usr/bin/phpize8 ))
-endef
-
-define Build/Configure
-	$(if $(QUILT),( cd $(PKG_BUILD_DIR); $(STAGING_DIR)/usr/bin/phpize8 ))
-	$(Build/Configure/Default)
-endef
-
-CONFIGURE_VARS+= \
-	ac_cv_c_bigendian_php=$(if $(CONFIG_BIG_ENDIAN),yes,no)
-
-CONFIGURE_ARGS+= \
-	--with-php-config=$(STAGING_DIR)/usr/bin/php8-config
-
-define PHP8PECLPackage
-
-  define Package/php8-pecl-$(1)
-    $(call Package/php8-pecl/Default)
-    TITLE:=$(2)
-
-    ifneq ($(3),)
-      DEPENDS+=$(3)
-    endif
-
-    VARIANT:=php8
-  endef
-
-  define Package/php8-pecl-$(1)/install
-	$(INSTALL_DIR) $$(1)/usr/lib/php8
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/modules/$(subst -,_,$(1)).so $$(1)/usr/lib/php8/
-	$(INSTALL_DIR) $$(1)/etc/php8
-    ifeq ($(5),zend)
-	echo "zend_extension=/usr/lib/php8/$(subst -,_,$(1)).so" > $$(1)/etc/php8/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-    else
-	echo "extension=$(subst -,_,$(1)).so" > $$(1)/etc/php8/$(if $(4),$(4),20)_$(subst -,_,$(1)).ini
-    endif
-  endef
-
-endef
diff -uprN a/feeds/packages/lang/php8/test.sh b/feeds/packages/lang/php8/test.sh
--- a/feeds/packages/lang/php8/test.sh	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/php8/test.sh	1970-01-01 08:00:00.000000000 +0800
@@ -1,23 +0,0 @@
-#!/bin/sh
-
-case "$1" in
-	php8-cgi)
-		php8-cgi -v | grep "$2"
-		;;
-	php8-cli)
-		php8-cli -v | grep "$2"
-		;;
-	php8-fpm)
-		php8-fpm -v | grep "$2"
-		;;
-	php8-mod-*)
-		PHP_MOD="${1#php8-mod-}"
-		PHP_MOD="${PHP_MOD//-/_}"
-
-		opkg install php8-cli
-
-		php8-cli -m | grep -i "$PHP_MOD"
-		;;
-	*)
-		;;
-esac
diff -uprN a/feeds/packages/lang/python/2to3/files/2to3.py b/feeds/packages/lang/python/2to3/files/2to3.py
--- a/feeds/packages/lang/python/2to3/files/2to3.py	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/2to3/files/2to3.py	1970-01-01 08:00:00.000000000 +0800
@@ -1,5 +0,0 @@
-#! /usr/bin/python3
-import sys
-from lib2to3.main import main
-
-sys.exit(main("lib2to3.fixes"))
diff -uprN a/feeds/packages/lang/python/2to3/files/copyright b/feeds/packages/lang/python/2to3/files/copyright
--- a/feeds/packages/lang/python/2to3/files/copyright	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/2to3/files/copyright	1970-01-01 08:00:00.000000000 +0800
@@ -1,319 +0,0 @@
-This is the Debian GNU/Linux prepackaged version of the Python programming
-language. Python was written by Guido van Rossum <guido@cwi.nl> and others.
-
-This package was put together by Klee Dienes <klee@debian.org> from
-sources from ftp.python.org:/pub/python, based on the Debianization by
-the previous maintainers Bernd S. Brentrup <bsb@uni-muenster.de> and
-Bruce Perens.
-
-Current maintainer is Matthias Klose <doko@debian.org> until the final
-2.3 version is released.
-
-
-Copyright notice (as found in LICENSE in the original source).
---------------------------------------------------------------
-
-A. HISTORY OF THE SOFTWARE
-==========================
-
-Python was created in the early 1990s by Guido van Rossum at Stichting
-Mathematisch Centrum (CWI, see http://www.cwi.nl) in the Netherlands
-as a successor of a language called ABC.  Guido remains Python's
-principal author, although it includes many contributions from others.
-
-In 1995, Guido continued his work on Python at the Corporation for
-National Research Initiatives (CNRI, see http://www.cnri.reston.va.us)
-in Reston, Virginia where he released several versions of the
-software.
-
-In May 2000, Guido and the Python core development team moved to
-BeOpen.com to form the BeOpen PythonLabs team.  In October of the same
-year, the PythonLabs team moved to Digital Creations (now Zope
-Corporation, see http://www.zope.com).  In 2001, the Python Software
-Foundation (PSF, see http://www.python.org/psf/) was formed, a
-non-profit organization created specifically to own Python-related
-Intellectual Property.  Zope Corporation is a sponsoring member of
-the PSF.
-
-All Python releases are Open Source (see http://www.opensource.org for
-the Open Source Definition).  Historically, most, but not all, Python
-releases have also been GPL-compatible; the table below summarizes
-the various releases.
-
-    Release         Derived     Year        Owner       GPL-
-                    from                                compatible? (1)
-
-    0.9.0 thru 1.2              1991-1995   CWI         yes
-    1.3 thru 1.5.2  1.2         1995-1999   CNRI        yes
-    1.6             1.5.2       2000        CNRI        no
-    2.0             1.6         2000        BeOpen.com  no
-    1.6.1           1.6         2001        CNRI        yes (2)
-    2.1             2.0+1.6.1   2001        PSF         no
-    2.0.1           2.0+1.6.1   2001        PSF         yes
-    2.1.1           2.1+2.0.1   2001        PSF         yes
-    2.2             2.1.1       2001        PSF         yes
-    2.1.2           2.1.1       2002        PSF         yes
-    2.1.3           2.1.2       2002        PSF         yes
-    2.2.1           2.2         2002        PSF         yes
-    2.2.2           2.2.1       2002        PSF         yes
-    2.2.3           2.2.2       2003        PSF         yes
-    2.3             2.2.2       2002-2003   PSF         yes
-    2.3.1           2.3         2002-2003   PSF         yes
-    2.3.2           2.3.1       2002-2003   PSF         yes
-    2.3.3           2.3.2       2002-2003   PSF         yes
-    2.3.4           2.3.3       2004        PSF         yes
-    2.3.5           2.3.4       2005        PSF         yes
-    2.4             2.3         2004        PSF         yes
-    2.4.1           2.4         2005        PSF         yes
-    2.4.2           2.4.1       2005        PSF         yes
-    2.4.3           2.4.2       2006        PSF         yes
-    2.4.4           2.4.3       2006        PSF         yes
-    2.5             2.4         2006        PSF         yes
-    2.5.1           2.5         2007        PSF         yes
-    2.5.2           2.5.1       2008        PSF         yes
-    2.5.3           2.5.2       2008        PSF         yes
-    2.6             2.5         2008        PSF         yes
-    2.6.1           2.6         2008        PSF         yes
-    2.6.2           2.6.1       2009        PSF         yes
-    2.6.3           2.6.2       2009        PSF         yes
-    2.6.4           2.6.3       2009        PSF         yes
-    3.0             2.6         2008        PSF         yes
-    3.0.1           3.0         2009        PSF         yes
-    3.1             3.0.1       2009        PSF         yes
-    3.1.1           3.1         2009        PSF         yes
-
-Footnotes:
-
-(1) GPL-compatible doesn't mean that we're distributing Python under
-    the GPL.  All Python licenses, unlike the GPL, let you distribute
-    a modified version without making your changes open source.  The
-    GPL-compatible licenses make it possible to combine Python with
-    other software that is released under the GPL; the others don't.
-
-(2) According to Richard Stallman, 1.6.1 is not GPL-compatible,
-    because its license has a choice of law clause.  According to
-    CNRI, however, Stallman's lawyer has told CNRI's lawyer that 1.6.1
-    is "not incompatible" with the GPL.
-
-Thanks to the many outside volunteers who have worked under Guido's
-direction to make these releases possible.
-
-
-B. TERMS AND CONDITIONS FOR ACCESSING OR OTHERWISE USING PYTHON
-===============================================================
-
-PYTHON SOFTWARE FOUNDATION LICENSE VERSION 2
---------------------------------------------
-
-1. This LICENSE AGREEMENT is between the Python Software Foundation
-("PSF"), and the Individual or Organization ("Licensee") accessing and
-otherwise using this software ("Python") in source or binary form and
-its associated documentation.
-
-2. Subject to the terms and conditions of this License Agreement, PSF hereby
-grants Licensee a nonexclusive, royalty-free, world-wide license to reproduce,
-analyze, test, perform and/or display publicly, prepare derivative works,
-distribute, and otherwise use Python alone or in any derivative version,
-provided, however, that PSF's License Agreement and PSF's notice of copyright,
-i.e., "Copyright (c) 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010
-Python Software Foundation; All Rights Reserved" are retained in Python alone or
-in any derivative version prepared by Licensee.
-
-3. In the event Licensee prepares a derivative work that is based on
-or incorporates Python or any part thereof, and wants to make
-the derivative work available to others as provided herein, then
-Licensee hereby agrees to include in any such work a brief summary of
-the changes made to Python.
-
-4. PSF is making Python available to Licensee on an "AS IS"
-basis.  PSF MAKES NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR
-IMPLIED.  BY WAY OF EXAMPLE, BUT NOT LIMITATION, PSF MAKES NO AND
-DISCLAIMS ANY REPRESENTATION OR WARRANTY OF MERCHANTABILITY OR FITNESS
-FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF PYTHON WILL NOT
-INFRINGE ANY THIRD PARTY RIGHTS.
-
-5. PSF SHALL NOT BE LIABLE TO LICENSEE OR ANY OTHER USERS OF PYTHON
-FOR ANY INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES OR LOSS AS
-A RESULT OF MODIFYING, DISTRIBUTING, OR OTHERWISE USING PYTHON,
-OR ANY DERIVATIVE THEREOF, EVEN IF ADVISED OF THE POSSIBILITY THEREOF.
-
-6. This License Agreement will automatically terminate upon a material
-breach of its terms and conditions.
-
-7. Nothing in this License Agreement shall be deemed to create any
-relationship of agency, partnership, or joint venture between PSF and
-Licensee.  This License Agreement does not grant permission to use PSF
-trademarks or trade name in a trademark sense to endorse or promote
-products or services of Licensee, or any third party.
-
-8. By copying, installing or otherwise using Python, Licensee
-agrees to be bound by the terms and conditions of this License
-Agreement.
-
-
-BEOPEN.COM LICENSE AGREEMENT FOR PYTHON 2.0
--------------------------------------------
-
-BEOPEN PYTHON OPEN SOURCE LICENSE AGREEMENT VERSION 1
-
-1. This LICENSE AGREEMENT is between BeOpen.com ("BeOpen"), having an
-office at 160 Saratoga Avenue, Santa Clara, CA 95051, and the
-Individual or Organization ("Licensee") accessing and otherwise using
-this software in source or binary form and its associated
-documentation ("the Software").
-
-2. Subject to the terms and conditions of this BeOpen Python License
-Agreement, BeOpen hereby grants Licensee a non-exclusive,
-royalty-free, world-wide license to reproduce, analyze, test, perform
-and/or display publicly, prepare derivative works, distribute, and
-otherwise use the Software alone or in any derivative version,
-provided, however, that the BeOpen Python License is retained in the
-Software, alone or in any derivative version prepared by Licensee.
-
-3. BeOpen is making the Software available to Licensee on an "AS IS"
-basis.  BEOPEN MAKES NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR
-IMPLIED.  BY WAY OF EXAMPLE, BUT NOT LIMITATION, BEOPEN MAKES NO AND
-DISCLAIMS ANY REPRESENTATION OR WARRANTY OF MERCHANTABILITY OR FITNESS
-FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE WILL NOT
-INFRINGE ANY THIRD PARTY RIGHTS.
-
-4. BEOPEN SHALL NOT BE LIABLE TO LICENSEE OR ANY OTHER USERS OF THE
-SOFTWARE FOR ANY INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES OR LOSS
-AS A RESULT OF USING, MODIFYING OR DISTRIBUTING THE SOFTWARE, OR ANY
-DERIVATIVE THEREOF, EVEN IF ADVISED OF THE POSSIBILITY THEREOF.
-
-5. This License Agreement will automatically terminate upon a material
-breach of its terms and conditions.
-
-6. This License Agreement shall be governed by and interpreted in all
-respects by the law of the State of California, excluding conflict of
-law provisions.  Nothing in this License Agreement shall be deemed to
-create any relationship of agency, partnership, or joint venture
-between BeOpen and Licensee.  This License Agreement does not grant
-permission to use BeOpen trademarks or trade names in a trademark
-sense to endorse or promote products or services of Licensee, or any
-third party.  As an exception, the "BeOpen Python" logos available at
-http://www.pythonlabs.com/logos.html may be used according to the
-permissions granted on that web page.
-
-7. By copying, installing or otherwise using the software, Licensee
-agrees to be bound by the terms and conditions of this License
-Agreement.
-
-
-CNRI LICENSE AGREEMENT FOR PYTHON 1.6.1
----------------------------------------
-
-1. This LICENSE AGREEMENT is between the Corporation for National
-Research Initiatives, having an office at 1895 Preston White Drive,
-Reston, VA 20191 ("CNRI"), and the Individual or Organization
-("Licensee") accessing and otherwise using Python 1.6.1 software in
-source or binary form and its associated documentation.
-
-2. Subject to the terms and conditions of this License Agreement, CNRI
-hereby grants Licensee a nonexclusive, royalty-free, world-wide
-license to reproduce, analyze, test, perform and/or display publicly,
-prepare derivative works, distribute, and otherwise use Python 1.6.1
-alone or in any derivative version, provided, however, that CNRI's
-License Agreement and CNRI's notice of copyright, i.e., "Copyright (c)
-1995-2001 Corporation for National Research Initiatives; All Rights
-Reserved" are retained in Python 1.6.1 alone or in any derivative
-version prepared by Licensee.  Alternately, in lieu of CNRI's License
-Agreement, Licensee may substitute the following text (omitting the
-quotes): "Python 1.6.1 is made available subject to the terms and
-conditions in CNRI's License Agreement.  This Agreement together with
-Python 1.6.1 may be located on the Internet using the following
-unique, persistent identifier (known as a handle): 1895.22/1013.  This
-Agreement may also be obtained from a proxy server on the Internet
-using the following URL: http://hdl.handle.net/1895.22/1013".
-
-3. In the event Licensee prepares a derivative work that is based on
-or incorporates Python 1.6.1 or any part thereof, and wants to make
-the derivative work available to others as provided herein, then
-Licensee hereby agrees to include in any such work a brief summary of
-the changes made to Python 1.6.1.
-
-4. CNRI is making Python 1.6.1 available to Licensee on an "AS IS"
-basis.  CNRI MAKES NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR
-IMPLIED.  BY WAY OF EXAMPLE, BUT NOT LIMITATION, CNRI MAKES NO AND
-DISCLAIMS ANY REPRESENTATION OR WARRANTY OF MERCHANTABILITY OR FITNESS
-FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF PYTHON 1.6.1 WILL NOT
-INFRINGE ANY THIRD PARTY RIGHTS.
-
-5. CNRI SHALL NOT BE LIABLE TO LICENSEE OR ANY OTHER USERS OF PYTHON
-1.6.1 FOR ANY INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES OR LOSS AS
-A RESULT OF MODIFYING, DISTRIBUTING, OR OTHERWISE USING PYTHON 1.6.1,
-OR ANY DERIVATIVE THEREOF, EVEN IF ADVISED OF THE POSSIBILITY THEREOF.
-
-6. This License Agreement will automatically terminate upon a material
-breach of its terms and conditions.
-
-7. This License Agreement shall be governed by the federal
-intellectual property law of the United States, including without
-limitation the federal copyright law, and, to the extent such
-U.S. federal law does not apply, by the law of the Commonwealth of
-Virginia, excluding Virginia's conflict of law provisions.
-Notwithstanding the foregoing, with regard to derivative works based
-on Python 1.6.1 that incorporate non-separable material that was
-previously distributed under the GNU General Public License (GPL), the
-law of the Commonwealth of Virginia shall govern this License
-Agreement only as to issues arising under or with respect to
-Paragraphs 4, 5, and 7 of this License Agreement.  Nothing in this
-License Agreement shall be deemed to create any relationship of
-agency, partnership, or joint venture between CNRI and Licensee.  This
-License Agreement does not grant permission to use CNRI trademarks or
-trade name in a trademark sense to endorse or promote products or
-services of Licensee, or any third party.
-
-8. By clicking on the "ACCEPT" button where indicated, or by copying,
-installing or otherwise using Python 1.6.1, Licensee agrees to be
-bound by the terms and conditions of this License Agreement.
-
-        ACCEPT
-
-
-CWI LICENSE AGREEMENT FOR PYTHON 0.9.0 THROUGH 1.2
---------------------------------------------------
-
-Copyright (c) 1991 - 1995, Stichting Mathematisch Centrum Amsterdam,
-The Netherlands.  All rights reserved.
-
-Permission to use, copy, modify, and distribute this software and its
-documentation for any purpose and without fee is hereby granted,
-provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in
-supporting documentation, and that the name of Stichting Mathematisch
-Centrum or CWI not be used in advertising or publicity pertaining to
-distribution of the software without specific, written prior
-permission.
-
-STICHTING MATHEMATISCH CENTRUM DISCLAIMS ALL WARRANTIES WITH REGARD TO
-THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
-FITNESS, IN NO EVENT SHALL STICHTING MATHEMATISCH CENTRUM BE LIABLE
-FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
-WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
-ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT
-OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
-
-
-py3compile, py3clean and debpython module:
-==========================================
-Copyright © 2010-2013 Piotr Ożarowski <piotr@debian.org>
-
-Permission is hereby granted, free of charge, to any person obtaining a copy
-of this software and associated documentation files (the "Software"), to deal
-in the Software without restriction, including without limitation the rights
-to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
-copies of the Software, and to permit persons to whom the Software is
-furnished to do so, subject to the following conditions:
-
-The above copyright notice and this permission notice shall be included in
-all copies or substantial portions of the Software.
-
-THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
-IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
-FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
-AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
-LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
-OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
-THE SOFTWARE.
diff -uprN a/feeds/packages/lang/python/2to3/Makefile b/feeds/packages/lang/python/2to3/Makefile
--- a/feeds/packages/lang/python/2to3/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/2to3/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,51 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=2to3
-PKG_VERSION:=1.0
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Gerald Kerma <gandalf@gk2.net>,Jeffery To <jeffery.to@gmail.com>
-PKG_LICENSE:=PSF-2.0
-PKG_LICENSE_FILES:=copyright
-
-PKG_HOST_ONLY:=1
-HOST_BUILD_DEPENDS:=python3/host
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/2to3
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=2to3 binary using python3
-  URL:=https://salsa.debian.org/cpython-team/python3-defaults
-  BUILDONLY:=1
-endef
-
-define Package/2to3/description
-  2to3 is a Python program that reads Python 2.x source code and applies a
-  series of fixers to transform it into valid Python 3.x code. The standard
-  library contains a rich set of fixers that will handle almost all code. 2to3
-  supporting library lib2to3 is, however, a flexible and generic library, so it
-  is possible to write your own fixers for 2to3. lib2to3 could also be adapted
-  to custom applications in which Python code needs to be edited automatically.
-endef
-
-define Host/Install
-	$(INSTALL_DIR) $(1)/bin
-	$(INSTALL_BIN) ./files/2to3.py $(1)/bin/2to3
-	$(SED) '1c#!$(STAGING_DIR_HOSTPKG)/bin/python3' $(1)/bin/2to3
-endef
-
-define Host/Clean
-	rm -f $(STAGING_DIR_HOSTPKG)/bin/2to3
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,2to3))
diff -uprN a/feeds/packages/lang/python/bcrypt/Makefile b/feeds/packages/lang/python/bcrypt/Makefile
--- a/feeds/packages/lang/python/bcrypt/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/bcrypt/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=bcrypt
-PKG_VERSION:=3.1.7
-PKG_RELEASE:=4
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=0b0069c752ec14172c5f78208f1863d7ad6755a6fae6fe76ec2c80d13be41e42
-
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=libffi/host
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=cffi  # cffi>=1.1
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-bcrypt
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Modern password hashing
-  URL:=https://github.com/pyca/bcrypt/
-  DEPENDS:= \
-	+python3 \
-	+python3-cffi \
-	+python3-six
-endef
-
-define Package/python3-bcrypt/description
-  Good password hashing for your software and your servers.
-endef
-
-$(eval $(call Py3Package,python3-bcrypt))
-$(eval $(call BuildPackage,python3-bcrypt))
-$(eval $(call BuildPackage,python3-bcrypt-src))
diff -uprN a/feeds/packages/lang/python/click/Makefile b/feeds/packages/lang/python/click/Makefile
--- a/feeds/packages/lang/python/click/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/click/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=click
-PKG_VERSION:=8.0.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=click
-PKG_HASH:=410e932b050f5eed773c4cda94de75971c89cdb3155a72a0831139a79e5ecb5b
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-click
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Click
-  URL:=https://palletsprojects.com/p/click/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-click/description
-  Composable command line interface toolkit
-endef
-
-$(eval $(call Py3Package,python3-click))
-$(eval $(call BuildPackage,python3-click))
-$(eval $(call BuildPackage,python3-click-src))
diff -uprN a/feeds/packages/lang/python/click-log/Makefile b/feeds/packages/lang/python/click-log/Makefile
--- a/feeds/packages/lang/python/click-log/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/click-log/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=click-log
-PKG_VERSION:=0.3.2
-PKG_RELEASE:=2
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-
-PKG_SOURCE_URL:=https://codeload.github.com/click-contrib/click-log/tar.gz/$(PKG_VERSION)?
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_HASH:=16babb66a2ebf22c37c1cf38753a84e6027eb8991fcf9a8487971591b8ca9812
-PKG_LICENSE:=MIT
-
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-click-log
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=http://github.com/mitsuhiko/click
-  TITLE:=python3-click-log
-  DEPENDS:=+python3-click
-endef
-
-define Package/python3-click-log/description
-  Simple and beautiful logging for click applications
-endef
-
-$(eval $(call Py3Package,python3-click-log))
-$(eval $(call BuildPackage,python3-click-log))
-$(eval $(call BuildPackage,python3-click-log-src))
diff -uprN a/feeds/packages/lang/python/django/Makefile b/feeds/packages/lang/python/django/Makefile
--- a/feeds/packages/lang/python/django/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django
-PKG_VERSION:=3.2.8
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=Django
-PKG_HASH:=f6d2c4069c9b9bfac03bedff927ea1f9e0d29e34525cec8a68fd28eb2a8df7af
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>, Peter Stadler <peter.stadler@student.uibk.ac.at>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE LICENSE.python
-PKG_CPE_ID:=cpe:/a:djangoproject:django
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The web framework for perfectionists with deadlines.
-  URL:=https://www.djangoproject.com/
-  DEPENDS:= +python3 +python3-pytz +python3-sqlparse +python3-asgiref
-  CONFLICTS:=python3-django1
-  PROVIDES:=django
-endef
-
-define Package/python3-django/description
-    The web framework for perfectionists with deadlines.
-endef
-
-define Py3Package/python3-django/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/django-admin.py \
-		$(1)/usr/bin/django-admin
-endef
-
-$(eval $(call Py3Package,python3-django))
-$(eval $(call BuildPackage,python3-django))
-$(eval $(call BuildPackage,python3-django-src))
diff -uprN a/feeds/packages/lang/python/django1/Makefile b/feeds/packages/lang/python/django1/Makefile
--- a/feeds/packages/lang/python/django1/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django1/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django1
-PKG_VERSION:=1.11.29
-PKG_RELEASE:=4
-
-PYPI_NAME:=Django
-PKG_HASH:=4200aefb6678019a0acf0005cd14cfce3a5e6b9b90d06145fcdd2e474ad4329c
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE LICENSE.python
-PKG_CPE_ID:=cpe:/a:djangoproject:django
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django1
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The web framework for perfectionists with deadlines.
-  URL:=https://www.djangoproject.com/
-  DEPENDS:= \
-	+python3 \
-	+python3-pytz
-  PROVIDES:=django
-endef
-
-define Package/python3-django1/description
-  The web framework for perfectionists with deadlines (LTS 1.11 series).
-endef
-
-define Py3Package/python3-django1/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/django-admin.py \
-		$(1)/usr/bin/django-admin
-endef
-
-$(eval $(call Py3Package,python3-django1))
-$(eval $(call BuildPackage,python3-django1))
-$(eval $(call BuildPackage,python3-django1-src))
diff -uprN a/feeds/packages/lang/python/django1/patches/001-load-byte-compiled-db-migrations.patch b/feeds/packages/lang/python/django1/patches/001-load-byte-compiled-db-migrations.patch
--- a/feeds/packages/lang/python/django1/patches/001-load-byte-compiled-db-migrations.patch	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django1/patches/001-load-byte-compiled-db-migrations.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/django/db/migrations/loader.py
-+++ b/django/db/migrations/loader.py
-@@ -106,7 +106,7 @@ class MigrationLoader(object):
-             # Scan for .py files
-             migration_names = set()
-             for name in os.listdir(directory):
--                if name.endswith(".py"):
-+                if name.endswith(".py") or name.endswith(".pyc"):
-                     import_name = name.rsplit(".", 1)[0]
-                     if import_name[0] not in "_.~":
-                         migration_names.add(import_name)
diff -uprN a/feeds/packages/lang/python/django-appconf/Makefile b/feeds/packages/lang/python/django-appconf/Makefile
--- a/feeds/packages/lang/python/django-appconf/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-appconf/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2007-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-appconf
-PKG_VERSION:=1.0.4
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=be58deb54a43d77d2e1621fe59f787681376d3cd0b8bd8e4758ef6c3a6453380
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-appconf
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Helper class for handling config defaults
-  URL:=https://django-appconf.readthedocs.io
-  DEPENDS:= \
-	+python3 \
-	+python3-django1 \
-	+python3-six
-endef
-
-define Package/python3-django-appconf/description
-  A helper class for handling configuration defaults of packaged apps gracefully
-endef
-
-$(eval $(call Py3Package,python3-django-appconf))
-$(eval $(call BuildPackage,python3-django-appconf))
-$(eval $(call BuildPackage,python3-django-appconf-src))
diff -uprN a/feeds/packages/lang/python/django-compressor/Makefile b/feeds/packages/lang/python/django-compressor/Makefile
--- a/feeds/packages/lang/python/django-compressor/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-compressor/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-compressor
-PKG_VERSION:=2.4
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PYPI_SOURCE_NAME:=django_compressor
-PKG_HASH:=d2ed1c6137ddaac5536233ec0a819e14009553fee0a869bea65d03e5285ba74f
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-compressor
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Compress CSS/JS into single cached files
-  URL:=https://django-compressor.readthedocs.io
-  DEPENDS:= \
-	+python3 \
-	+python3-django1 \
-	+python3-django-appconf \
-	+python3-rcssmin
-endef
-
-define Package/python3-django-compressor/description
-  Compresses linked and inline JavaScript or CSS into single cached files.
-  Note that the JavaScript filter is not being installed as a dependency.
-  You'll need to build the rjsmin module (it is not par of the openwrt standard
-  feeds) to use JavaScript functionality.
-endef
-
-$(eval $(call Py3Package,python3-django-compressor))
-$(eval $(call BuildPackage,python3-django-compressor))
-$(eval $(call BuildPackage,python3-django-compressor-src))
diff -uprN a/feeds/packages/lang/python/django-formtools/Makefile b/feeds/packages/lang/python/django-formtools/Makefile
--- a/feeds/packages/lang/python/django-formtools/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-formtools/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-formtools
-PKG_VERSION:=2.1
-PKG_RELEASE:=8
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=7703793f1675aa6e871f9fed147e8563816d7a5b9affdc5e3459899596217f7c
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-formtools
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=High-level abstractions for Django forms
-  URL:=https://django-formtools.readthedocs.io
-  DEPENDS:= \
-	+python3 \
-	+python3-django1
-endef
-
-define Package/python3-django-formtools/description
-  Django "formtools" is a set of high-level abstractions for Django forms.
-  Currently for form previews and multi-step forms.
-endef
-
-$(eval $(call Py3Package,python3-django-formtools))
-$(eval $(call BuildPackage,python3-django-formtools))
-$(eval $(call BuildPackage,python3-django-formtools-src))
diff -uprN a/feeds/packages/lang/python/django-jsonfield/Makefile b/feeds/packages/lang/python/django-jsonfield/Makefile
--- a/feeds/packages/lang/python/django-jsonfield/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-jsonfield/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2007-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-jsonfield
-PKG_VERSION:=2.1.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=jsonfield
-PKG_HASH:=ed7c5e1829e9453e24a8bebef1e702ffe402e6def6b326f0e0b88764c59a6dc7
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-jsonfield
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A reusable Django field to store validated JSON in models
-  URL:=https://github.com/rpkilby/jsonfield
-  DEPENDS:= \
-	+python3 \
-	+python3-django1 \
-	+python3-six
-endef
-
-define Package/python3-django-jsonfield/description
-  jsonfield is a reusable model field that allows you to store validated
-  JSON, automatically handling serialization to and from the database.
-endef
-
-$(eval $(call Py3Package,python3-django-jsonfield))
-$(eval $(call BuildPackage,python3-django-jsonfield))
-$(eval $(call BuildPackage,python3-django-jsonfield-src))
diff -uprN a/feeds/packages/lang/python/django-jsonfield2/Makefile b/feeds/packages/lang/python/django-jsonfield2/Makefile
--- a/feeds/packages/lang/python/django-jsonfield2/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-jsonfield2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-# Please do not update: 3.0.3 is the last version compatible with Django 1.11
-PKG_NAME:=django-jsonfield2
-PKG_VERSION:=3.0.3
-PKG_RELEASE:=1
-
-# Source for 3.0.3 is not available from PyPI
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/rpkilby/jsonfield2/tar.gz/$(PKG_VERSION)?
-PKG_HASH:=4b79ac28738671fe27cadbd537d50130c35a286207d31d8320c7b48b6cda36ca
-
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/jsonfield2-$(PKG_VERSION)
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-jsonfield2
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A reusable Django field to store validated JSON in models
-  URL:=https://github.com/rpkilby/jsonfield2
-  DEPENDS:=+python3-light +python3-decimal +django
-  CONFLICTS:=python3-django-jsonfield
-endef
-
-define Package/python3-django-jsonfield2/description
-  A modern fork of django-jsonfield, compatible with the latest versions
-  of Django.
-
-  jsonfield2 is a reusable model field that allows you to store
-  validated JSON, automatically handling serialization to and from the
-  database.
-endef
-
-$(eval $(call Py3Package,python3-django-jsonfield2))
-$(eval $(call BuildPackage,python3-django-jsonfield2))
-$(eval $(call BuildPackage,python3-django-jsonfield2-src))
diff -uprN a/feeds/packages/lang/python/django-picklefield/Makefile b/feeds/packages/lang/python/django-picklefield/Makefile
--- a/feeds/packages/lang/python/django-picklefield/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-picklefield/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-picklefield
-PKG_VERSION:=2.1.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=67a5e156343e3b032cac2f65565f0faa81635a99c7da74b0f07a0f5db467b646
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_VARS:= \
-  PKG_VERSION="$(PKG_VERSION)"
-
-define Package/python3-django-picklefield
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Pickled object field for Django
-  URL:=https://github.com/gintas/django-picklefield/
-  DEPENDS:= \
-	+python3 \
-	+python3-django1
-endef
-
-define Package/python3-django-picklefield/description
-  Pickled object field for Django
-endef
-
-$(eval $(call Py3Package,python3-django-picklefield))
-$(eval $(call BuildPackage,python3-django-picklefield))
-$(eval $(call BuildPackage,python3-django-picklefield-src))
diff -uprN a/feeds/packages/lang/python/django-picklefield/patches/001-no-import-self-during-setup.patch b/feeds/packages/lang/python/django-picklefield/patches/001-no-import-self-during-setup.patch
--- a/feeds/packages/lang/python/django-picklefield/patches/001-no-import-self-during-setup.patch	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-picklefield/patches/001-no-import-self-during-setup.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -2,14 +2,14 @@ from __future__ import unicode_literals
- 
- from setuptools import find_packages, setup
- 
--import picklefield
-+import os
- 
- with open('README.rst') as file_:
-     long_description = file_.read()
- 
- setup(
-     name='django-picklefield',
--    version=picklefield.__version__,
-+    version=os.getenv('PKG_VERSION'),
-     description='Pickled object field for Django',
-     long_description=long_description,
-     author='Simon Charette',
diff -uprN a/feeds/packages/lang/python/django-postoffice/Makefile b/feeds/packages/lang/python/django-postoffice/Makefile
--- a/feeds/packages/lang/python/django-postoffice/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-postoffice/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-# Please do not update: 3.3.0 is the last version compatible with Django 1.11
-PKG_NAME:=django-postoffice
-PKG_VERSION:=3.3.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=django-post-office
-PYPI_SOURCE_NAME:=django-post_office
-PKG_HASH:=b06514da601c22e955bd93a4ac6dd6b2218c571ca67c193e62bd1f22cec7536f
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-postoffice
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A Django app to monitor and send mail asynchronously
-  URL:=https://github.com/ui/django-post_office
-  DEPENDS:= \
-	+python3 \
-	+python3-django1 \
-	+python3-django-jsonfield2
-endef
-
-define Package/python3-django-postoffice/description
-  A Django app to monitor and send mail asynchronously, complete with template
-  support
-endef
-
-$(eval $(call Py3Package,python3-django-postoffice))
-$(eval $(call BuildPackage,python3-django-postoffice))
-$(eval $(call BuildPackage,python3-django-postoffice-src))
diff -uprN a/feeds/packages/lang/python/django-ranged-response/Makefile b/feeds/packages/lang/python/django-ranged-response/Makefile
--- a/feeds/packages/lang/python/django-ranged-response/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-ranged-response/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-ranged-response
-PKG_VERSION:=0.2.0
-PKG_RELEASE:=8
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=f71fff352a37316b9bead717fc76e4ddd6c9b99c4680cdf4783b9755af1cf985
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-ranged-response
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Add Content-Range: to FileResponse
-  URL:=https://github.com/i3thuan5/django-ranged-response
-  DEPENDS:= \
-	+python3 \
-	+python3-django1
-endef
-
-define Package/python3-django-ranged-response/description
-  Modified Django FileResponse that adds Content-Range headers.
-endef
-
-$(eval $(call Py3Package,python3-django-ranged-response))
-$(eval $(call BuildPackage,python3-django-ranged-response))
-$(eval $(call BuildPackage,python3-django-ranged-response-src))
diff -uprN a/feeds/packages/lang/python/django-restframework/Makefile b/feeds/packages/lang/python/django-restframework/Makefile
--- a/feeds/packages/lang/python/django-restframework/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-restframework/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-restframework
-PKG_VERSION:=3.12.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=djangorestframework
-PKG_HASH:=0898182b4737a7b584a2c73735d89816343369f259fea932d90dc78e35d8ac33
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.md
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-restframework
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Web APIs for Django, made easy.
-  URL:=https://www.django-rest-framework.org
-  DEPENDS:=+python3 +django
-endef
-
-define Package/python3-django-restframework/description
-  Web APIs for Django, made easy.
-endef
-
-$(eval $(call Py3Package,python3-django-restframework))
-$(eval $(call BuildPackage,python3-django-restframework))
-$(eval $(call BuildPackage,python3-django-restframework-src))
diff -uprN a/feeds/packages/lang/python/django-restframework39/Makefile b/feeds/packages/lang/python/django-restframework39/Makefile
--- a/feeds/packages/lang/python/django-restframework39/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-restframework39/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-restframework39
-PKG_VERSION:=3.9.4
-PKG_RELEASE:=2
-
-PYPI_NAME:=djangorestframework
-PKG_HASH:=c12869cfd83c33d579b17b3cb28a2ae7322a53c3ce85580c2a2ebe4e3f56c4fb
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.md
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-restframework39
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Web APIs for Django, made easy.
-  URL:=https://www.django-rest-framework.org
-  DEPENDS:= \
-	+python3 \
-	+python3-django1
-  CONFLICTS:=python3-django-restframework
-endef
-
-define Package/python3-django-restframework39/description
-  Web APIs for Django, made easy. (3.9 series)
-endef
-
-$(eval $(call Py3Package,python3-django-restframework39))
-$(eval $(call BuildPackage,python3-django-restframework39))
-$(eval $(call BuildPackage,python3-django-restframework39-src))
diff -uprN a/feeds/packages/lang/python/django-simple-captcha/Makefile b/feeds/packages/lang/python/django-simple-captcha/Makefile
--- a/feeds/packages/lang/python/django-simple-captcha/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-simple-captcha/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2007-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-simple-captcha
-PKG_VERSION:=0.5.12
-PKG_RELEASE:=4
-
-PYPI_NAME:=$(PKG_NAME)
-PYPI_SOURCE_EXT:=zip
-PKG_HASH:=fc25f0425e282aa82d2a65013049a8dc7c0682f8e05d32681c39a0c55ed322bd
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-simple-captcha
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Simple Django captcha application
-  URL:=https://github.com/mbi/django-simple-captcha
-  DEPENDS:= \
-	+python3 \
-	+python3-six \
-	+python3-django1 \
-	+python3-pillow \
-	+python3-django-ranged-response
-endef
-
-define Package/python3-django-simple-captcha/description
-  Django Simple Captcha is an extremely simple, yet highly customizable Django
-  application to add captcha images to any Django form.
-endef
-
-$(eval $(call Py3Package,python3-django-simple-captcha))
-$(eval $(call BuildPackage,python3-django-simple-captcha))
-$(eval $(call BuildPackage,python3-django-simple-captcha-src))
diff -uprN a/feeds/packages/lang/python/django-statici18n/Makefile b/feeds/packages/lang/python/django-statici18n/Makefile
--- a/feeds/packages/lang/python/django-statici18n/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-statici18n/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2007-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-statici18n
-PKG_VERSION:=1.9.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=913dd056c1abcbe129b1db806cb4cfb821c4077d7e857d6eb29043ea64f4d1d0
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-statici18n
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Helper for generating JavaScript catalog to static files
-  URL:=https://django-statici18n.readthedocs.io
-  DEPENDS:= \
-	+python3 \
-	+python3-django1 \
-	+python3-django-appconf \
-	+python3-six
-endef
-
-define Package/python3-django-statici18n/description
-  A Django app that provides helper for generating JavaScript catalog to static files.
-endef
-
-$(eval $(call Py3Package,python3-django-statici18n))
-$(eval $(call BuildPackage,python3-django-statici18n))
-$(eval $(call BuildPackage,python3-django-statici18n-src))
diff -uprN a/feeds/packages/lang/python/django-webpack-loader/Makefile b/feeds/packages/lang/python/django-webpack-loader/Makefile
--- a/feeds/packages/lang/python/django-webpack-loader/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/django-webpack-loader/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-webpack-loader
-PKG_VERSION:=0.6.0
-PKG_RELEASE:=8
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=60bab6b9a037a5346fad12d2a70a6bc046afb33154cf75ed640b93d3ebd5f520
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-webpack-loader
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Transparently use webpack in django
-  URL:=https://github.com/owais/django-webpack-loader
-  DEPENDS:= \
-	+python3 \
-	+python3-django1
-endef
-
-define Package/python3-django-webpack-loader/description
-  Use webpack to generate your static bundles without django’s staticfiles or opaque wrappers.
-endef
-
-$(eval $(call Py3Package,python3-django-webpack-loader))
-$(eval $(call BuildPackage,python3-django-webpack-loader))
-$(eval $(call BuildPackage,python3-django-webpack-loader-src))
diff -uprN a/feeds/packages/lang/python/Flask/Makefile b/feeds/packages/lang/python/Flask/Makefile
--- a/feeds/packages/lang/python/Flask/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/Flask/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=Flask
-PKG_VERSION:=2.0.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=1c4c257b1892aec1398784c63791cbaa43062f1f7aeb555c4da961b20ee68f55
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.rst
-PKG_CPE_ID:=cpe:/a:palletsprojects:flask
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Flask
-  URL:=https://palletsprojects.com/p/flask/
-  DEPENDS:=+python3-asyncio +python3-click +python3-codecs +python3-decimal \
-           +python3-itsdangerous +python3-jinja2 +python3 +python3-logging \
-           +python3-markupsafe +python3-multiprocessing +python3-setuptools \
-           +python3-werkzeug
-endef
-
-define Package/python3-flask/description
-  Flask is a microframework for Python based on Werkzeug, Jinja 2 and good
-  intentions. And before you ask: It.s BSD licensed!
-endef
-
-$(eval $(call Py3Package,python3-flask))
-$(eval $(call BuildPackage,python3-flask))
-$(eval $(call BuildPackage,python3-flask-src))
diff -uprN a/feeds/packages/lang/python/flup/Makefile b/feeds/packages/lang/python/flup/Makefile
--- a/feeds/packages/lang/python/flup/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/flup/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2007-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=flup
-PKG_VERSION:=1.0.3
-PKG_RELEASE:=4
-
-PYPI_NAME:=flup
-PKG_HASH:=5eb09f26eb0751f8380d8ac43d1dfb20e1d42eca0fa45ea9289fa532a79cd159
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>, Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=PKG-INFO
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flup
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Random assortment of WSGI servers
-  URL:=https://www.saddi.com/software/flup/
-  DEPENDS:=+python3-light +python3-logging 
-endef
-
-define Package/python3-flup/description
-  Random assortment of WSGI servers.
-endef
-
-$(eval $(call Py3Package,python3-flup))
-$(eval $(call BuildPackage,python3-flup))
-$(eval $(call BuildPackage,python3-flup-src))
diff -uprN a/feeds/packages/lang/python/gunicorn/Makefile b/feeds/packages/lang/python/gunicorn/Makefile
--- a/feeds/packages/lang/python/gunicorn/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/gunicorn/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,70 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=gunicorn
-PKG_VERSION:=20.0.4
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=1904bb2b8a43658807108d59c3f3d56c2b6121a701161de0ddf9ad140073c626
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/gunicorn/Default
-  SUBMENU:=Web Servers/Proxies
-  SECTION:=net
-  CATEGORY:=Network
-  TITLE:=WSGI HTTP Server for UNIX
-  URL:=https://gunicorn.org
-endef
-
-define Package/python3-gunicorn
-$(call Package/gunicorn/Default)
-  TITLE:=WSGI HTTP Server for UNIX (library)
-  DEPENDS:=+python3
-endef
-
-define Package/python3-gunicorn/description
-    WSGI HTTP Server for UNIX (libraries)
-endef
-
-# Make sure that the binaries are not installed with the libraries
-# That means adding some empty Py3Package/gunicorn3/install rules
-define Py3Package/python3-gunicorn/install
-	:
-endef
-
-define Package/gunicorn3
-$(call Package/gunicorn/Default)
-  DEPENDS:=+python3 +python3-setuptools +python3-gunicorn
-endef
-
-define Package/gunicorn3/description
-    WSGI HTTP Server for UNIX (daemon)
-endef
-
-define Package/gunicorn3/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) \
-		$(PKG_INSTALL_DIR)/usr/bin/gunicorn \
-		$(1)/usr/bin/gunicorn3
-	$(LN) gunicorn3 $(1)/usr/bin/gunicorn
-	$(call Python3/FixShebang,$(1)/usr/bin/*)
-endef
-
-$(eval $(call Py3Package,python3-gunicorn))
-$(eval $(call BuildPackage,python3-gunicorn))
-$(eval $(call BuildPackage,python3-gunicorn-src))
-$(eval $(call BuildPackage,gunicorn3))
diff -uprN a/feeds/packages/lang/python/host-pip-requirements/cffi.txt b/feeds/packages/lang/python/host-pip-requirements/cffi.txt
--- a/feeds/packages/lang/python/host-pip-requirements/cffi.txt	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/host-pip-requirements/cffi.txt	1970-01-01 08:00:00.000000000 +0800
@@ -1,2 +0,0 @@
-cffi==1.14.6 --hash=sha256:c9a875ce9d7fe32887784274dd533c57909b7b1dcadcc128a2ac21331a9765dd
-pycparser==2.20 --hash=sha256:2d475327684562c3a96cc71adf7dc8c4f0565175cf86b6d7a404ff4c771f15f0
diff -uprN a/feeds/packages/lang/python/host-pip-requirements/Cython.txt b/feeds/packages/lang/python/host-pip-requirements/Cython.txt
--- a/feeds/packages/lang/python/host-pip-requirements/Cython.txt	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/host-pip-requirements/Cython.txt	1970-01-01 08:00:00.000000000 +0800
@@ -1 +0,0 @@
-Cython==0.29.21 --hash=sha256:e57acb89bd55943c8d8bf813763d20b9099cc7165c0f16b707631a7654be9cad
diff -uprN a/feeds/packages/lang/python/host-pip-requirements/Django-1.11.txt b/feeds/packages/lang/python/host-pip-requirements/Django-1.11.txt
--- a/feeds/packages/lang/python/host-pip-requirements/Django-1.11.txt	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/host-pip-requirements/Django-1.11.txt	1970-01-01 08:00:00.000000000 +0800
@@ -1,2 +0,0 @@
-Django==1.11.29 --hash=sha256:4200aefb6678019a0acf0005cd14cfce3a5e6b9b90d06145fcdd2e474ad4329c
-pytz==2021.3 --hash=sha256:acad2d8b20a1af07d4e4c9d2e9285c5ed9104354062f275f3fcd88dcef4f1326
diff -uprN a/feeds/packages/lang/python/host-pip-requirements/ply.txt b/feeds/packages/lang/python/host-pip-requirements/ply.txt
--- a/feeds/packages/lang/python/host-pip-requirements/ply.txt	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/host-pip-requirements/ply.txt	1970-01-01 08:00:00.000000000 +0800
@@ -1 +0,0 @@
-ply==3.11 --hash=sha256:00c7c1aaa88358b9c765b6d3000c6eec0ba42abca5351b095321aef446081da3
diff -uprN a/feeds/packages/lang/python/host-pip-requirements/setuptools-scm.txt b/feeds/packages/lang/python/host-pip-requirements/setuptools-scm.txt
--- a/feeds/packages/lang/python/host-pip-requirements/setuptools-scm.txt	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/host-pip-requirements/setuptools-scm.txt	1970-01-01 08:00:00.000000000 +0800
@@ -1 +0,0 @@
-setuptools-scm==6.0.1 --hash=sha256:d1925a69cb07e9b29416a275b9fadb009a23c148ace905b2fb220649a6c18e92
diff -uprN a/feeds/packages/lang/python/host-pip-requirements/toml.txt b/feeds/packages/lang/python/host-pip-requirements/toml.txt
--- a/feeds/packages/lang/python/host-pip-requirements/toml.txt	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/host-pip-requirements/toml.txt	1970-01-01 08:00:00.000000000 +0800
@@ -1 +0,0 @@
-toml==0.10.2 --hash=sha256:b3bda1d108d5dd99f4a20d24d9c348e91c4db7ab1b749200bded2f839ccbe68f
diff -uprN a/feeds/packages/lang/python/itsdangerous/Makefile b/feeds/packages/lang/python/itsdangerous/Makefile
--- a/feeds/packages/lang/python/itsdangerous/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/itsdangerous/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=itsdangerous
-PKG_VERSION:=2.0.1
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=9e724d68fc22902a1435351f84c3fb8623f303fffcc566a4cb952df8c572cff0
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-itsdangerous
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=ItsDangerous
-  URL:=https://palletsprojects.com/p/itsdangerous/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-itsdangerous/description
-  Various helpers to pass trusted data to untrusted environments and back.
-endef
-
-$(eval $(call Py3Package,python3-itsdangerous))
-$(eval $(call BuildPackage,python3-itsdangerous))
-$(eval $(call BuildPackage,python3-itsdangerous-src))
-
diff -uprN a/feeds/packages/lang/python/Jinja2/Makefile b/feeds/packages/lang/python/Jinja2/Makefile
--- a/feeds/packages/lang/python/Jinja2/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/Jinja2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=Jinja2
-PKG_VERSION:=3.0.3
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=611bb273cd68f3b993fabdc4064fc858c5b47a973cb5aa7999ec1ba405c87cd7
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:pocoo:jinja2
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-jinja2
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Jinja2
-  URL:=https://palletsprojects.com/p/jinja/
-  DEPENDS:=+python3-light +python3-markupsafe
-endef
-
-define Package/python3-jinja2/description
-Jinja2 is a full featured template engine for Python. It has full
-unicode support, an optional integrated sandboxed execution
-environment, widely used and BSD licensed.
-endef
-
-$(eval $(call Py3Package,python3-jinja2))
-$(eval $(call BuildPackage,python3-jinja2))
-$(eval $(call BuildPackage,python3-jinja2-src))
diff -uprN a/feeds/packages/lang/python/MarkupSafe/Makefile b/feeds/packages/lang/python/MarkupSafe/Makefile
--- a/feeds/packages/lang/python/MarkupSafe/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/MarkupSafe/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=MarkupSafe
-PKG_VERSION:=2.1.0
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=80beaf63ddfbc64a0452b841d8036ca0611e049650e20afcb882f5d3c266d65f
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.rst
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-markupsafe
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=MarkupSafe
-  URL:=https://palletsprojects.com/p/markupsafe/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-markupsafe/description
-  MarkupSafe implements a text object that escapes characters so it is safe to use in HTML and XML.
-endef
-
-$(eval $(call Py3Package,python3-markupsafe))
-$(eval $(call BuildPackage,python3-markupsafe))
-$(eval $(call BuildPackage,python3-markupsafe-src))
diff -uprN a/feeds/packages/lang/python/micropython/Makefile b/feeds/packages/lang/python/micropython/Makefile
--- a/feeds/packages/lang/python/micropython/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/micropython/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,54 +0,0 @@
-#
-# Copyright (C) 2008-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=micropython
-PKG_VERSION:=1.9.4
-PKG_RELEASE:=2
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://github.com/micropython/micropython/releases/download/v$(PKG_VERSION)
-PKG_HASH:=0db042011bffcbd65362b67eb3cca87eaefa9f2a55b747fa75e922c706b8ce1a
-
-PKG_MAINTAINER:=Roger D <rogerdammit@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/micropython
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Micro Python
-  URL:=https://micropython.org
-  DEPENDS:=+libffi
-endef
-
-define Package/micropython/description
- This package contains Micro Python, a lean and fast implementation of the Python 3.4 programming language
- that is optimised to run on a microcontroller (and low power computers).
-endef
-
-
-MAKE_FLAGS += -C $(PKG_BUILD_DIR)/ports/unix FROZEN_MPY_DIR=
-
-define Build/Compile
-	$(call Build/Compile/Default,axtls)
-	$(call Build/Compile/Default)
-
-endef
-
-define Package/micropython/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/ports/unix/micropython $(1)/usr/bin/micropython
-endef
-
-$(eval $(call BuildPackage,micropython))
diff -uprN a/feeds/packages/lang/python/micropython/patches/000-Makefile-no-errors.patch b/feeds/packages/lang/python/micropython/patches/000-Makefile-no-errors.patch
--- a/feeds/packages/lang/python/micropython/patches/000-Makefile-no-errors.patch	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/micropython/patches/000-Makefile-no-errors.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/ports/unix/Makefile
-+++ b/ports/unix/Makefile
-@@ -21,7 +21,7 @@ INC +=  -I$(TOP)
- INC += -I$(BUILD)
- 
- # compiler settings
--CWARN = -Wall -Werror
-+CWARN = -Wall
- CWARN += -Wpointer-arith -Wuninitialized
- CFLAGS = $(INC) $(CWARN) -std=gnu99 -DUNIX $(CFLAGS_MOD) $(COPT) $(CFLAGS_EXTRA)
- 
diff -uprN a/feeds/packages/lang/python/micropython/patches/010-cdefs.patch b/feeds/packages/lang/python/micropython/patches/010-cdefs.patch
--- a/feeds/packages/lang/python/micropython/patches/010-cdefs.patch	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/micropython/patches/010-cdefs.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,64 +0,0 @@
---- a/lib/berkeley-db-1.xx/PORT/bsd.4.4/include/db.h
-+++ b/lib/berkeley-db-1.xx/PORT/bsd.4.4/include/db.h
-@@ -37,7 +37,7 @@
- #define	_DB_H_
- 
- #include <sys/types.h>
--#include <sys/cdefs.h>
-+#include "cdefs.h"
- 
- #include <limits.h>
- 
---- a/lib/berkeley-db-1.xx/PORT/clib/memmove.c
-+++ b/lib/berkeley-db-1.xx/PORT/clib/memmove.c
-@@ -38,7 +38,7 @@
- static char sccsid[] = "@(#)bcopy.c	8.1 (Berkeley) 6/4/93";
- #endif /* LIBC_SCCS and not lint */
- 
--#include <sys/cdefs.h>
-+#include "cdefs.h"
- #include <string.h>
- 
- /*
---- a/lib/berkeley-db-1.xx/PORT/clib/snprintf.c
-+++ b/lib/berkeley-db-1.xx/PORT/clib/snprintf.c
-@@ -1,5 +1,5 @@
- #include <sys/types.h>
--#include <sys/cdefs.h>
-+#include "cdefs.h"
- 
- #include <compat.h>
- 
---- a/lib/berkeley-db-1.xx/PORT/hpux.9.01/local/hp_siglist.c
-+++ b/lib/berkeley-db-1.xx/PORT/hpux.9.01/local/hp_siglist.c
-@@ -2,7 +2,7 @@
-  * Derived from:
-  * static char sccsid[] = "@(#)siglist.c	8.1 (Berkeley) 6/4/93";
-  */
--#include <sys/cdefs.h>
-+#include "cdefs.h"
- 
- #include <signal.h>
- 
---- a/lib/berkeley-db-1.xx/PORT/ultrix.4.2/include/db.h
-+++ b/lib/berkeley-db-1.xx/PORT/ultrix.4.2/include/db.h
-@@ -37,7 +37,7 @@
- #define	_DB_H_
- 
- #include <sys/types.h>
--#include <sys/cdefs.h>
-+#include "cdefs.h"
- 
- #include <limits.h>
- 
---- a/lib/berkeley-db-1.xx/include/db.h
-+++ b/lib/berkeley-db-1.xx/include/db.h
-@@ -37,7 +37,7 @@
- #define	_DB_H_
- 
- #include <sys/types.h>
--#include <sys/cdefs.h>
-+#include "cdefs.h"
- 
- #include <limits.h>
- 
diff -uprN a/feeds/packages/lang/python/micropython-lib/Makefile b/feeds/packages/lang/python/micropython-lib/Makefile
--- a/feeds/packages/lang/python/micropython-lib/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/micropython-lib/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,51 +0,0 @@
-#
-# Copyright (C) 2008-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=micropython-lib
-PKG_VERSION:=1.9.3
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://codeload.github.com/micropython/micropython-lib/tar.gz/v$(PKG_VERSION)?
-PKG_HASH:=66e15380eb109613263beb6825b8eecb9191088270c1a59e8c7d922dd57183c7
-
-PKG_MAINTAINER:=Roger D <rogerdammit@gmail.com>
-PKG_LICENSE:=MIT, PSFL
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/micropython-lib
-    SUBMENU:=Python
-    SECTION:=lang
-    CATEGORY:=Languages
-    TITLE:=micropython-lib
-    URL:=https://github.com/micropython/micropython-lib
-    DEPENDS:=+micropython
-endef
-
-define Package/micropython-lib/description
-    This package contains micropython-lib, a project to develop a non-monolothic
-    standard library for Micro Python. Note that this is a work in progress and
-    several libraries may be missing, incomplete or buggy.
-endef
-
-MAKE_FLAGS:=\
-	PREFIX=$(PKG_BUILD_DIR)/_install_tmp/dist \
-	install
-
-define Package/micropython-lib/install
-	$(INSTALL_DIR) $(1)/usr/lib/micropython
-	$(CP) $(PKG_BUILD_DIR)/_install_tmp/dist/* $(1)/usr/lib/micropython
-endef
-
-$(eval $(call BuildPackage,micropython-lib))
-
diff -uprN a/feeds/packages/lang/python/numpy/Makefile b/feeds/packages/lang/python/numpy/Makefile
--- a/feeds/packages/lang/python/numpy/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/numpy/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2019 Jakub Piotr Cłapa <jpc@loee.pl>
-# Copyright (C) 2020 Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=numpy
-PKG_VERSION:=1.20.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=3bc63486a870294683980d76ec1e3efc786295ae00128f9ea38e2c6e74d5a60a
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_CPE_ID:=cpe:/a:numpy:numpy
-
-# yes, zip... sigh
-PYPI_SOURCE_EXT:=zip
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=Cython
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-numpy
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The fundamental package for scientific computing with Python
-  URL:=https://www.numpy.org/
-  DEPENDS:=@!SOFT_FLOAT +INSTALL_GFORTRAN:libgfortran +python3
-endef
-
-define Package/python3-numpy/description
-NumPy is the fundamental package for array computing with Python.
-
-By default, this package is built without some modules.
-For some modules to be available, the INSTALL_GFORTRAN symbol needs
-to be enabled in the OpenWrt core/toolchain.
-endef
-
-$(eval $(call Py3Package,python3-numpy))
-$(eval $(call BuildPackage,python3-numpy))
-$(eval $(call BuildPackage,python3-numpy-src))
diff -uprN a/feeds/packages/lang/python/openpyxl/Makefile b/feeds/packages/lang/python/openpyxl/Makefile
--- a/feeds/packages/lang/python/openpyxl/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/openpyxl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-openpyxl
-PKG_VERSION:=3.0.9
-PKG_RELEASE:=$(AUTORELEASE)
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENCE.rst
-
-PYPI_NAME:=openpyxl
-PKG_HASH:=40f568b9829bf9e446acfffce30250ac1fa39035124d55fc024025c41481c90f
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-openpyxl
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A Python library to read/write Excel 2010 xlsx/xlsm files
-  URL:=https://openpyxl.readthedocs.org/
-  DEPENDS:=+python3 +python3-defusedxml +python3-et_xmlfile +python3-jdcal
-endef
-
-define Package/python3-openpyxl/description
-  A Python library to read/write Excel 2010 xlsx/xlsm files
-endef
-
-$(eval $(call Py3Package,python3-openpyxl))
-$(eval $(call BuildPackage,python3-openpyxl))
-$(eval $(call BuildPackage,python3-openpyxl-src))
diff -uprN a/feeds/packages/lang/python/passlib/Makefile b/feeds/packages/lang/python/passlib/Makefile
--- a/feeds/packages/lang/python/passlib/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/passlib/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=passlib
-PKG_VERSION:=1.7.2
-PKG_RELEASE:=2
-PKG_LICENSE:=BSD-3-Clause
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=8d666cef936198bc2ab47ee9b0410c94adf2ba798e5a84bf220be079ae7ab6a8
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-
-include ../python3-package.mk
-
-define Package/python3-passlib
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Comprehensive password hashing framework
-  URL:=https://bitbucket.org/ecollins/passlib
-  DEPENDS:=+python3 +python3-dateutil
-endef
-
-define Package/python3-passlib/description
-Passlib is a password hashing library for Python 2 & 3, which provides
-cross-platform implementations of over 30 password hashing algorithms,
-as well as a framework for managing existing password hashes. It’s
-designed to be useful for a wide range of tasks, from verifying a hash
-found in /etc/shadow, to providing full-strength password hashing for
-multi-user applications.
-endef
-
-$(eval $(call Py3Package,python3-passlib))
-
-$(eval $(call BuildPackage,python3-passlib))
-$(eval $(call BuildPackage,python3-passlib-src))
diff -uprN a/feeds/packages/lang/python/pillow/Makefile b/feeds/packages/lang/python/pillow/Makefile
--- a/feeds/packages/lang/python/pillow/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/pillow/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,52 +0,0 @@
-#
-# Copyright © 1997-2011 by Secret Labs AB
-# Copyright © 1995-2011 by Fredrik Lundh
-# Copyright © 2016 by Alex Clark and contributors
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=pillow
-PKG_VERSION:=8.2.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=Pillow
-PKG_HASH:=a787ab10d7bb5494e5f76536ac460741788f1fbce851068d73a87ca7c35fc3e1
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=HPND
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:python:pillow
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pillow
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The friendly PIL fork
-  URL:=https://python-pillow.org/
-  DEPENDS:=+libfreetype +libjpeg +libtiff +zlib +python3
-endef
-
-define Package/python3-pillow/description
-  The friendly PIL fork
-endef
-
-PYTHON3_PKG_SETUP_GLOBAL_ARGS += build_ext \
-	--enable-zlib \
-	--enable-jpeg \
-	--enable-tiff \
-	--enable-freetype \
-	--disable-lcms \
-	--disable-webp \
-	--disable-webpmux \
-	--disable-jpeg2000 \
-	--disable-imagequant \
-	--disable-platform-guessing
-
-$(eval $(call Py3Package,python3-pillow))
-$(eval $(call BuildPackage,python3-pillow))
-$(eval $(call BuildPackage,python3-pillow-src))
diff -uprN a/feeds/packages/lang/python/pyjwt/Makefile b/feeds/packages/lang/python/pyjwt/Makefile
--- a/feeds/packages/lang/python/pyjwt/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/pyjwt/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=pyjwt
-PKG_VERSION:=1.7.1
-PKG_RELEASE:=2
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cote2004-github@yahoo.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PYPI_NAME:=PyJWT
-PKG_HASH:=8d59a976fb773f3e6a39c85636357c4f0e242707394cadadd9814f5cbaa20e96
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyjwt
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=JSON Web Token implementation in Python
-  URL:=http://github.com/jpadilla/pyjwt
-  DEPENDS:=+python3
-endef
-
-define Package/python3-pyjwt/description
-  A Python implementation of RFC 7519.
-endef
-
-$(eval $(call Py3Package,python3-pyjwt))
-$(eval $(call BuildPackage,python3-pyjwt))
-$(eval $(call BuildPackage,python3-pyjwt-src))
diff -uprN a/feeds/packages/lang/python/pymysql/Config.in b/feeds/packages/lang/python/pymysql/Config.in
--- a/feeds/packages/lang/python/pymysql/Config.in	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/pymysql/Config.in	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
-menu "Configuration"
-	depends on PACKAGE_python3-pymysql
-
-config PYTHON3_PYMYSQL_SHA_PASSWORD_SUPPORT
-	bool "Enable support for SHA password authentication"
-	help
-	  To use “sha256_password” or “caching_sha2_password” for authentication
-	  this symbol needs to be enabled, to also install python3-cryptography.
-	default n
-
-endmenu
diff -uprN a/feeds/packages/lang/python/pymysql/Makefile b/feeds/packages/lang/python/pymysql/Makefile
--- a/feeds/packages/lang/python/pymysql/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/pymysql/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=pymysql
-PKG_VERSION:=1.0.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=PyMySQL
-PKG_HASH:=816927a350f38d56072aeca5dfb10221fe1dc653745853d30a216637f5d7ad36
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_CONFIG_DEPENDS:=CONFIG_PYTHON3_PYMYSQL_SHA_PASSWORD_SUPPORT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pymysql
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Pure Python MySQL Client
-  URL:=https://pymysql.readthedocs.io/
-  DEPENDS:=+python3 +PYTHON3_PYMYSQL_SHA_PASSWORD_SUPPORT:python3-cryptography
-endef
-
-define Package/python3-pymysql/config
-  source "$(SOURCE)/Config.in"
-endef
-
-define Package/python3-pymysql/description
-  This package contains a pure-Python MySQL client library, based on PEP 249.
-endef
-
-$(eval $(call Py3Package,python3-pymysql))
-$(eval $(call BuildPackage,python3-pymysql))
-$(eval $(call BuildPackage,python3-pymysql-src))
diff -uprN a/feeds/packages/lang/python/pyodbc/Makefile b/feeds/packages/lang/python/pyodbc/Makefile
--- a/feeds/packages/lang/python/pyodbc/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/pyodbc/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=pyodbc
-PKG_VERSION:=4.0.32
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=9be5f0c3590655e1968488410fe3528bb8023d527e7ccec1f663d64245071a6b
-PKG_BUILD_DEPENDS:=python3 unixodbc
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-
-PKG_BUILD_DEPENDS:=unixodbc/host
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/uclibc++.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyodbc
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=python3-pyodbc
-  URL:=https://github.com/mkleehammer/pyodbc
-  DEPENDS:=+unixodbc +python3-light $(CXX_DEPENDS)
-endef
-
-define Package/python3-pyodbc/description
-DB API Module for ODBC
-
-A Python DB API 2 module for ODBC. This project provides an up-to-date,
-convenient interface to ODBC using native data types like datetime and decimal.
-endef
-
-$(eval $(call Py3Package,python3-pyodbc))
-$(eval $(call BuildPackage,python3-pyodbc))
diff -uprN a/feeds/packages/lang/python/pypi.mk b/feeds/packages/lang/python/pypi.mk
--- a/feeds/packages/lang/python/pypi.mk	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/pypi.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,24 +0,0 @@
-#
-# Copyright (C) 2019 Jeffery To <jeffery.to@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-ifndef DUMP
-  ifdef __package_mk
-    $(warning pypi.mk should be included before package.mk)
-  endif
-endif
-
-ifneq ($(strip $(PYPI_NAME)),)
-  PYPI_SOURCE_NAME?=$(PYPI_NAME)
-  PYPI_SOURCE_EXT?=tar.gz
-  PYPI_NAME_FIRST_LETTER?=$(strip $(foreach a,$(chars_lower) $(chars_upper) 0 1 2 3 4 5 6 7 8 9 _ -,$(if $(PYPI_NAME:$a%=),,$a)))
-
-  PKG_SOURCE?=$(PYPI_SOURCE_NAME)-$(PKG_VERSION).$(PYPI_SOURCE_EXT)
-  PKG_SOURCE_URL?=https://files.pythonhosted.org/packages/source/$(PYPI_NAME_FIRST_LETTER)/$(PYPI_NAME)
-
-  PKG_BUILD_DIR:=$(BUILD_DIR)/pypi/$(if $(BUILD_VARIANT),$(PKG_NAME)-$(BUILD_VARIANT)/)$(PYPI_SOURCE_NAME)$(if $(PKG_VERSION),-$(PKG_VERSION))
-  HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/pypi/$(PYPI_SOURCE_NAME)$(if $(PKG_VERSION),-$(PKG_VERSION))
-endif
diff -uprN a/feeds/packages/lang/python/python3/Config-python3-light.in b/feeds/packages/lang/python/python3/Config-python3-light.in
--- a/feeds/packages/lang/python/python3/Config-python3-light.in	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3/Config-python3-light.in	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
-menu "Configuration"
-
-config PYTHON3_BLUETOOTH_SUPPORT
-	bool "Enable Bluetooth support"
-	default n
-
-config PYTHON3_HOST_PIP_CACHE_WORLD_READABLE
-	bool "Ensure host pip cache is world-readable"
-	default n
-
-endmenu
diff -uprN a/feeds/packages/lang/python/python3/files/config.site b/feeds/packages/lang/python/python3/files/config.site
--- a/feeds/packages/lang/python/python3/files/config.site	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3/files/config.site	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
-#! /bin/sh
-#
-# Copyright (C) 2007-2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-ac_cv_file__dev_ptmx=yes
-ac_cv_file__dev_ptc=no
-ac_cv_buggy_getaddrinfo=no
-ac_cv_header_uuid_h=yes
-
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-asyncio.mk b/feeds/packages/lang/python/python3/files/python3-package-asyncio.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-asyncio.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-asyncio.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-asyncio
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) asyncio module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-asyncio, \
-	/usr/lib/python$(PYTHON3_VERSION)/asyncio \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-cgi.mk b/feeds/packages/lang/python/python3/files/python3-package-cgi.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-cgi.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-cgi.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,27 +0,0 @@
-#
-# Copyright (C) 2006-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-cgi
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) cgi module
-  DEPENDS:=+python3-light +python3-email
-endef
-
-define Package/python3-cgitb
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) cgitb module
-  DEPENDS:=+python3-light +python3-cgi +python3-pydoc
-endef
-
-
-$(eval $(call Py3BasePackage,python3-cgi, \
-	/usr/lib/python$(PYTHON3_VERSION)/cgi.py \
-))
-
-$(eval $(call Py3BasePackage,python3-cgitb, \
-	/usr/lib/python$(PYTHON3_VERSION)/cgitb.py \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-codecs.mk b/feeds/packages/lang/python/python3/files/python3-package-codecs.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-codecs.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-codecs.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,22 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-codecs
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) codecs + unicode support
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-codecs, \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_codecs_cn.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_codecs_hk.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_codecs_iso2022.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_codecs_jp.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_codecs_kr.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_codecs_tw.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/unicodedata.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-ctypes.mk b/feeds/packages/lang/python/python3/files/python3-package-ctypes.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-ctypes.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-ctypes.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-ctypes
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) ctypes module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-ctypes, \
-	/usr/lib/python$(PYTHON3_VERSION)/ctypes \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_ctypes.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_ctypes_test.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-dbm.mk b/feeds/packages/lang/python/python3/files/python3-package-dbm.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-dbm.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-dbm.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-dbm
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) dbm module
-  DEPENDS:=+python3-light +libdb47
-endef
-
-$(eval $(call Py3BasePackage,python3-dbm, \
-	/usr/lib/python$(PYTHON3_VERSION)/dbm \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_dbm.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-decimal.mk b/feeds/packages/lang/python/python3/files/python3-package-decimal.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-decimal.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-decimal.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-decimal
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) decimal module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-decimal, \
-	/usr/lib/python$(PYTHON3_VERSION)/decimal.py \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_decimal.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-dev.mk b/feeds/packages/lang/python/python3/files/python3-package-dev.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-dev.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-dev.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,31 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-dev
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) development files
-  DEPENDS:=+python3 +python3-lib2to3
-endef
-
-define Py3Package/python3-dev/install
-	$(INSTALL_DIR) $(1)/usr/bin $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/python$(PYTHON3_VERSION)-config $(1)/usr/bin
-	$(LN) python$(PYTHON3_VERSION)-config $(1)/usr/bin/python3-config
-	$(LN) python$(PYTHON3_VERSION)-config $(1)/usr/bin/python-config
-	$(LN) python$(PYTHON3_VERSION)/config-$(PYTHON3_VERSION)/libpython$(PYTHON3_VERSION).a $(1)/usr/lib/
-  # This depends on being called before filespec is processed
-	$(SED) 's|$(TARGET_AR)|ar|g;s|$(TARGET_CROSS)readelf|readelf|g;s|$(TARGET_CC)|gcc|g;s|$(TARGET_CXX)|g++|g' \
-		$(PKG_INSTALL_DIR)/usr/lib/python$(PYTHON3_VERSION)/config-$(PYTHON3_VERSION)/Makefile
-endef
-
-$(eval $(call Py3BasePackage,python3-dev, \
-    /usr/lib/python$(PYTHON3_VERSION)/config-$(PYTHON3_VERSION) \
-    /usr/include/python$(PYTHON3_VERSION) \
-    /usr/lib/pkgconfig \
-	, \
-	DO_NOT_ADD_TO_PACKAGE_DEPENDS \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-distutils.mk b/feeds/packages/lang/python/python3/files/python3-package-distutils.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-distutils.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-distutils.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-distutils
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) distutils module
-  DEPENDS:=+python3-light +python3-email
-endef
-
-$(eval $(call Py3BasePackage,python3-distutils, \
-	/usr/lib/python$(PYTHON3_VERSION)/distutils \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-email.mk b/feeds/packages/lang/python/python3/files/python3-package-email.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-email.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-email.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-email
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) email module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-email, \
-	/usr/lib/python$(PYTHON3_VERSION)/email \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-gdbm.mk b/feeds/packages/lang/python/python3/files/python3-package-gdbm.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-gdbm.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-gdbm.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-gdbm
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) gdbm module
-  DEPENDS:=+python3-light +libgdbm
-endef
-
-$(eval $(call Py3BasePackage,python3-gdbm, \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_gdbm.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-lib2to3.mk b/feeds/packages/lang/python/python3/files/python3-package-lib2to3.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-lib2to3.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-lib2to3.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-lib2to3
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) lib2to3 module
-  DEPENDS:=+python3
-endef
-
-$(eval $(call Py3BasePackage,python3-lib2to3, \
-	/usr/lib/python$(PYTHON3_VERSION)/lib2to3 \
-	, \
-	DO_NOT_ADD_TO_PACKAGE_DEPENDS \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-logging.mk b/feeds/packages/lang/python/python3/files/python3-package-logging.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-logging.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-logging.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-logging
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) logging module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-logging, \
-	/usr/lib/python$(PYTHON3_VERSION)/logging \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-lzma.mk b/feeds/packages/lang/python/python3/files/python3-package-lzma.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-lzma.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-lzma.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-lzma
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) lzma module
-  DEPENDS:=+python3-light +liblzma
-endef
-
-$(eval $(call Py3BasePackage,python3-lzma, \
-	/usr/lib/python$(PYTHON3_VERSION)/lzma.py \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_lzma.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-multiprocessing.mk b/feeds/packages/lang/python/python3/files/python3-package-multiprocessing.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-multiprocessing.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-multiprocessing.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-multiprocessing
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) multiprocessing
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-multiprocessing, \
-	/usr/lib/python$(PYTHON3_VERSION)/multiprocessing \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_multiprocessing.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-ncurses.mk b/feeds/packages/lang/python/python3/files/python3-package-ncurses.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-ncurses.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-ncurses.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-ncurses
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) ncurses module
-  DEPENDS:=+python3-light +libncursesw
-endef
-
-$(eval $(call Py3BasePackage,python3-ncurses, \
-	/usr/lib/python$(PYTHON3_VERSION)/curses \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_curses.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_curses_panel.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-openssl.mk b/feeds/packages/lang/python/python3/files/python3-package-openssl.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-openssl.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-openssl.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-openssl
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) SSL module
-  DEPENDS:=+python3-light +libopenssl +ca-certs
-endef
-
-$(eval $(call Py3BasePackage,python3-openssl, \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_hashlib.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_ssl.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-pip.mk b/feeds/packages/lang/python/python3/files/python3-package-pip.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-pip.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-pip.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-pip
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) pip module
-  VERSION:=$(PYTHON3_PIP_VERSION)-$(PYTHON3_PIP_PKG_RELEASE)
-  LICENSE:=MIT
-  LICENSE_FILES:=LICENSE.txt
-#  CPE_ID:=cpe:/a:python:pip # not currently handled this way by uscan
-  DEPENDS:=+python3 +python3-setuptools +python-pip-conf
-endef
-
-define Py3Package/python3-pip/install
-	$(INSTALL_DIR) $(1)/usr/bin $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages
-	$(CP) $(PKG_BUILD_DIR)/install-pip/usr/bin/pip$(PYTHON3_VERSION) $(1)/usr/bin
-	$(LN) pip$(PYTHON3_VERSION) $(1)/usr/bin/pip3
-	$(LN) pip$(PYTHON3_VERSION) $(1)/usr/bin/pip
-	$(CP) \
-		$(PKG_BUILD_DIR)/install-pip/usr/lib/python$(PYTHON3_VERSION)/site-packages/pip \
-		$(PKG_BUILD_DIR)/install-pip/usr/lib/python$(PYTHON3_VERSION)/site-packages/pip-$(PYTHON3_PIP_VERSION).dist-info \
-		$(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/
-	find $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/ -path '*/__pycache__/*' -delete
-	find $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/ -type d -name __pycache__ -delete
-endef
-
-$(eval $(call Py3BasePackage,python3-pip, \
-	, \
-	DO_NOT_ADD_TO_PACKAGE_DEPENDS \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-pkg-resources.mk b/feeds/packages/lang/python/python3/files/python3-package-pkg-resources.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-pkg-resources.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-pkg-resources.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,30 +0,0 @@
-#
-# Copyright (C) 2019 Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-pkg-resources
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) pkg_resources module (part of setuptools)
-  VERSION:=$(PYTHON3_SETUPTOOLS_VERSION)-$(PYTHON3_SETUPTOOLS_PKG_RELEASE)
-  LICENSE:=MIT
-  LICENSE_FILES:=LICENSE
-#  CPE_ID:=cpe:/a:python:setuptools # not currently handled this way by uscan
-  DEPENDS:=+python3
-endef
-
-define Py3Package/python3-pkg-resources/install
-	$(INSTALL_DIR) $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages
-	$(CP) \
-		$(PKG_BUILD_DIR)/install-setuptools/usr/lib/python$(PYTHON3_VERSION)/site-packages/pkg_resources \
-		$(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages
-	find $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/ -path '*/__pycache__/*' -delete
-	find $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/ -type d -name __pycache__ -delete
-endef
-
-$(eval $(call Py3BasePackage,python3-pkg-resources, \
-	, \
-	DO_NOT_ADD_TO_PACKAGE_DEPENDS \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-pydoc.mk b/feeds/packages/lang/python/python3/files/python3-package-pydoc.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-pydoc.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-pydoc.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-pydoc
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) pydoc module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-pydoc, \
-	/usr/lib/python$(PYTHON3_VERSION)/doctest.py \
-	/usr/lib/python$(PYTHON3_VERSION)/pydoc.py \
-	/usr/lib/python$(PYTHON3_VERSION)/pydoc_data \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-readline.mk b/feeds/packages/lang/python/python3/files/python3-package-readline.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-readline.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-readline.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2021 Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-readline
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) readline module
-  DEPENDS:=+python3-light +libreadline +libncursesw
-endef
-
-$(eval $(call Py3BasePackage,python3-readline, \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/readline.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-setuptools.mk b/feeds/packages/lang/python/python3/files/python3-package-setuptools.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-setuptools.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-setuptools.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,32 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-setuptools
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) setuptools module
-  VERSION:=$(PYTHON3_SETUPTOOLS_VERSION)-$(PYTHON3_SETUPTOOLS_PKG_RELEASE)
-  LICENSE:=MIT
-  LICENSE_FILES:=LICENSE
-#  CPE_ID:=cpe:/a:python:setuptools # not currently handled this way by uscan
-  DEPENDS:=+python3 +python3-pkg-resources
-endef
-
-define Py3Package/python3-setuptools/install
-	$(INSTALL_DIR) $(1)/usr/bin $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages
-	$(CP) \
-		$(PKG_BUILD_DIR)/install-setuptools/usr/lib/python$(PYTHON3_VERSION)/site-packages/setuptools \
-		$(PKG_BUILD_DIR)/install-setuptools/usr/lib/python$(PYTHON3_VERSION)/site-packages/setuptools-$(PYTHON3_SETUPTOOLS_VERSION).dist-info \
-		$(PKG_BUILD_DIR)/install-setuptools/usr/lib/python$(PYTHON3_VERSION)/site-packages/_distutils_hack \
-		$(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages
-	find $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/ -path '*/__pycache__/*' -delete
-	find $(1)/usr/lib/python$(PYTHON3_VERSION)/site-packages/ -type d -name __pycache__ -delete
-endef
-
-$(eval $(call Py3BasePackage,python3-setuptools, \
-	, \
-	DO_NOT_ADD_TO_PACKAGE_DEPENDS \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-sqlite3.mk b/feeds/packages/lang/python/python3/files/python3-package-sqlite3.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-sqlite3.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-sqlite3.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-sqlite3
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) sqlite3 module
-  DEPENDS:=+python3-light +libsqlite3
-endef
-
-$(eval $(call Py3BasePackage,python3-sqlite3, \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_sqlite3.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/sqlite3 \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-unittest.mk b/feeds/packages/lang/python/python3/files/python3-package-unittest.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-unittest.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-unittest.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-unittest
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) unittest module
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3BasePackage,python3-unittest, \
-	/usr/lib/python$(PYTHON3_VERSION)/unittest \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-urllib.mk b/feeds/packages/lang/python/python3/files/python3-package-urllib.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-urllib.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-urllib.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-#
-# Copyright (C) 2019 Alexandru Ardelean <ardeleanalex@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-urllib
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) URL library module
-  DEPENDS:=+python3-light +python3-email
-endef
-
-$(eval $(call Py3BasePackage,python3-urllib, \
-	/usr/lib/python$(PYTHON3_VERSION)/urllib \
-))
diff -uprN a/feeds/packages/lang/python/python3/files/python3-package-xml.mk b/feeds/packages/lang/python/python3/files/python3-package-xml.mk
--- a/feeds/packages/lang/python/python3/files/python3-package-xml.mk	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/files/python3-package-xml.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-define Package/python3-xml
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) xml libs
-  DEPENDS:=+python3-light +python3-urllib
-endef
-
-$(eval $(call Py3BasePackage,python3-xml, \
-	/usr/lib/python$(PYTHON3_VERSION)/xml \
-	/usr/lib/python$(PYTHON3_VERSION)/xmlrpc \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_elementtree.$(PYTHON3_SO_SUFFIX) \
-	/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/pyexpat.$(PYTHON3_SO_SUFFIX) \
-))
diff -uprN a/feeds/packages/lang/python/python3/Makefile b/feeds/packages/lang/python/python3/Makefile
--- a/feeds/packages/lang/python/python3/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,391 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-# The file included below defines PYTHON3_VERSION
-include ../python3-version.mk
-
-PKG_NAME:=python3
-PKG_RELEASE:=1
-PKG_VERSION:=$(PYTHON3_VERSION).$(PYTHON3_VERSION_MICRO)
-
-PKG_SOURCE:=Python-$(PKG_VERSION).tar.xz
-PKG_SOURCE_URL:=https://www.python.org/ftp/python/$(PKG_VERSION)
-PKG_HASH:=2cd94b20670e4159c6d9ab57f91dbf255b97d8c1a1451d1c35f4ec1968adf971
-
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-PKG_LICENSE:=Python/2.0
-PKG_LICENSE_FILES:=LICENSE Doc/copyright.rst Doc/license.rst Modules/_ctypes/darwin/LICENSE Modules/_ctypes/libffi_osx/LICENSE Modules/expat/COPYING
-PKG_CPE_ID:=cpe:/a:python:python
-
-# This file provides the necsessary host build variables
-include ../python3-host.mk
-
-# For Py3Package
-PYTHON3_PKG_BUILD:=0
-include ../python3-package.mk
-
-PKG_FIXUP:=autoreconf
-PKG_INSTALL:=1
-PKG_BUILD_PARALLEL:=1
-HOST_BUILD_PARALLEL:=1
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/Python-$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/Python-$(PKG_VERSION)
-
-PKG_CONFIG_DEPENDS:= \
-	CONFIG_PACKAGE_python3-pkg-resources \
-	CONFIG_PACKAGE_python3-setuptools CONFIG_PACKAGE_python3-pip \
-	CONFIG_PYTHON3_BLUETOOTH_SUPPORT
-
-PKG_BUILD_DEPENDS:=python3/host
-HOST_BUILD_DEPENDS:=bzip2/host expat/host libffi/host
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/python3/Default
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python $(PYTHON3_VERSION) programming language
-  URL:=https://www.python.org/
-endef
-
-define Package/python3/Default/description
- Python is a dynamic object-oriented programming language that can be used
- for many kinds of software development. It offers strong support for
- integration with other languages and tools, comes with extensive standard
- libraries, and can be learned in a few days. Many Python programmers
- report substantial productivity gains and feel the language encourages
- the development of higher quality, more maintainable code.
-endef
-
-define Package/libpython3
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) core library
-  DEPENDS:=+libpthread +zlib
-  ABI_VERSION:=$(PYTHON3_VERSION)
-endef
-
-define Package/libpython3/description
-  This package contains only core Python library.
-endef
-
-define Package/python3-base
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) interpreter
-  DEPENDS:=+libpthread +zlib +libpython3
-endef
-
-define Package/python3-base/description
-  This package contains only the interpreter and the bare minimum
-  for the interpreter to start.
-endef
-
-define Package/python3-light
-$(call Package/python3/Default)
-  TITLE:=Python $(PYTHON3_VERSION) light installation
-  DEPENDS:=+python3-base +libffi +libbz2 +PYTHON3_BLUETOOTH_SUPPORT:bluez-libs +libuuid
-endef
-
-define Package/python3-light/config
-  source "$(SOURCE)/Config-python3-light.in"
-endef
-
-define Package/python3-light/description
-  This package is essentially the python3-base package plus
-  a few of the rarely used (and big) libraries stripped out
-  into separate packages.
-endef
-
-PYTHON3_LIB_FILES_DEL:=
-PYTHON3_PACKAGES:=
-PYTHON3_SO_SUFFIX:=cpython-$(PYTHON3_VERSION_MAJOR)$(PYTHON3_VERSION_MINOR).so
-PYTHON3_PACKAGES_DEPENDS:=
-define Py3BasePackage
-  PYTHON3_PACKAGES+=$(1)
-  ifeq ($(3),)
-    PYTHON3_PACKAGES_DEPENDS+=$(1)
-  endif
-  PYTHON3_LIB_FILES_DEL+=$(2)
-  define Py3Package/$(1)/filespec
-    ifneq ($(2),)
-      $(subst $(space),$(newline),$(foreach lib_file,$(2),+|$(lib_file)))
-      -|/usr/lib/python$(PYTHON3_VERSION)/*/test
-      -|/usr/lib/python$(PYTHON3_VERSION)/*/tests
-    endif
-  endef
-  Py3Package/$(1)/install?=:
-endef
-
-include ./files/python3-package-*.mk
-
-define Package/python3
-$(call Package/python3/Default)
-  DEPENDS:=+python3-light $(foreach package,$(PYTHON3_PACKAGES_DEPENDS),+$(package))
-endef
-
-define Package/python3/description
-  This package contains the (almost) full Python install.
-  It's python3-light + all other packages.
-endef
-
-TARGET_CONFIGURE_OPTS+= \
-	READELF="$(TARGET_CROSS)readelf"
-
-MAKE_FLAGS+=\
-	LD="$(TARGET_CC)"
-
-EXTRA_CFLAGS+= \
-	-DNDEBUG -fno-inline
-EXTRA_LDFLAGS+= \
-	-L$(PKG_BUILD_DIR) \
-	-L$(STAGING_DIR)/usr/lib -L$(STAGING_DIR)/lib
-
-DISABLE_BLUETOOTH:= \
-	ac_cv_header_bluetooth_bluetooth_h=no \
-	ac_cv_header_bluetooth_h=no
-
-CONFIGURE_ARGS+= \
-	--enable-optimizations \
-	--enable-shared \
-	--with-system-ffi \
-	--without-cxx-main \
-	--without-ensurepip \
-	--without-pymalloc \
-	$(if $(CONFIG_IPV6),--enable-ipv6) \
-	$(if $(findstring mips,$(CONFIG_ARCH)),,--with-lto) \
-	CONFIG_SITE="$(PKG_BUILD_DIR)/config.site" \
-	OPT="$(TARGET_CFLAGS)" \
-	$(if $(CONFIG_PYTHON3_BLUETOOTH_SUPPORT),,$(DISABLE_BLUETOOTH))
-
-define Build/Prepare
-	$(call Build/Prepare/Default)
-	$(CP) ./files/config.site $(PKG_BUILD_DIR)/config.site
-endef
-
-ifdef CONFIG_PACKAGE_python3-setuptools
-PYTHON3_SETUPTOOLS_BUILD:=1
-endif
-
-ifdef CONFIG_PACKAGE_python3-pkg-resources
-PYTHON3_SETUPTOOLS_BUILD:=1
-endif
-
-ifeq ($(PYTHON3_SETUPTOOLS_BUILD),1)
-define Build/Compile/python3-setuptools
-	$(HOST_PYTHON3_PIP) \
-		--disable-pip-version-check \
-		--cache-dir "$(DL_DIR)/pip-cache" \
-		install \
-		--ignore-installed \
-		--root=$(PKG_BUILD_DIR)/install-setuptools \
-		--prefix=/usr \
-		$(PKG_BUILD_DIR)/Lib/ensurepip/_bundled/setuptools-$(PYTHON3_SETUPTOOLS_VERSION)-py3-none-any.whl
-	$(call PatchDir,$(PKG_BUILD_DIR)/install-setuptools/usr/lib/python$(PYTHON3_VERSION)/site-packages,./patches-setuptools,)
-endef
-else
-define Build/Compile/python3-setuptools
-	ls $(PKG_BUILD_DIR)/Lib/ensurepip/_bundled/setuptools-$(PYTHON3_SETUPTOOLS_VERSION)-py3-none-any.whl
-endef
-endif # CONFIG_PACKAGE_python3-setuptools
-
-ifdef CONFIG_PACKAGE_python3-pip
-define Build/Compile/python3-pip
-	$(HOST_PYTHON3_PIP) \
-		--disable-pip-version-check \
-		--cache-dir "$(DL_DIR)/pip-cache" \
-		install \
-		--ignore-installed \
-		--root=$(PKG_BUILD_DIR)/install-pip \
-		--prefix=/usr \
-		$(PKG_BUILD_DIR)/Lib/ensurepip/_bundled/pip-$(PYTHON3_PIP_VERSION)-py3-none-any.whl
-	$(call PatchDir,$(PKG_BUILD_DIR)/install-pip/usr/lib/python$(PYTHON3_VERSION)/site-packages,./patches-pip,)
-endef
-else
-define Build/Compile/python3-pip
-	ls $(PKG_BUILD_DIR)/Lib/ensurepip/_bundled/pip-$(PYTHON3_PIP_VERSION)-py3-none-any.whl
-endef
-endif # CONFIG_PACKAGE_python3-pip
-
-define Build/Compile
-	$(call Build/Compile/Default)
-	# Use host pip to install python-setuptools
-	$(call Build/Compile/python3-setuptools)
-	$(call Build/Compile/python3-pip)
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include $(1)/usr/lib $(1)/usr/lib/pkgconfig
-	$(INSTALL_DIR) $(2)/bin
-	$(CP) \
-		$(PKG_INSTALL_DIR)/usr/include/python$(PYTHON3_VERSION) \
-		$(1)/usr/include/
-	$(CP) \
-		$(PKG_INSTALL_DIR)/usr/lib/python$(PYTHON3_VERSION) \
-		$(PKG_INSTALL_DIR)/usr/lib/libpython$(PYTHON3_VERSION).so* \
-		$(1)/usr/lib/
-	grep \
-		'^_PYTHON_HOST_PLATFORM=' \
-		$(PKG_INSTALL_DIR)/usr/lib/python$(PYTHON3_VERSION)/config-$(PYTHON3_VERSION)/Makefile > \
-		$(1)/usr/lib/python$(PYTHON3_VERSION)/config-$(PYTHON3_VERSION)/Makefile-vars
-	$(CP) \
-		$(PKG_INSTALL_DIR)/usr/lib/pkgconfig/python*.pc \
-		$(1)/usr/lib/pkgconfig
-	$(INSTALL_BIN) \
-		$(PKG_INSTALL_DIR)/usr/bin/python$(PYTHON3_VERSION)-config \
-		$(2)/bin/
-	$(SED) \
-		's|^prefix_real=.*$$$$|prefix_real="$(PYTHON3_DIR)"|' \
-		$(2)/bin/python$(PYTHON3_VERSION)-config
-endef
-
-PYTHON3_BASE_LIB_FILES:= \
-	/usr/lib/python$(PYTHON3_VERSION)/encodings \
-	/usr/lib/python$(PYTHON3_VERSION)/_collections_abc.py \
-	/usr/lib/python$(PYTHON3_VERSION)/_sitebuiltins.py \
-	/usr/lib/python$(PYTHON3_VERSION)/_sysconfigdata.py \
-	/usr/lib/python$(PYTHON3_VERSION)/_weakrefset.py \
-	/usr/lib/python$(PYTHON3_VERSION)/abc.py \
-	/usr/lib/python$(PYTHON3_VERSION)/codecs.py \
-	/usr/lib/python$(PYTHON3_VERSION)/genericpath.py \
-	/usr/lib/python$(PYTHON3_VERSION)/io.py \
-	/usr/lib/python$(PYTHON3_VERSION)/os.py \
-	/usr/lib/python$(PYTHON3_VERSION)/posixpath.py \
-	/usr/lib/python$(PYTHON3_VERSION)/site.py \
-	/usr/lib/python$(PYTHON3_VERSION)/sysconfig.py \
-	/usr/lib/python$(PYTHON3_VERSION)/stat.py
-
-PYTHON3_LIB_FILES_DEL+=$(PYTHON3_BASE_LIB_FILES)
-
-define Py3Package/python3-base/filespec
-+|/usr/bin/python$(PYTHON3_VERSION)
-$(subst $(space),$(newline),$(foreach lib_file,$(PYTHON3_BASE_LIB_FILES),+|$(lib_file)))
-endef
-
-define Py3Package/python3-light/filespec
-+|/usr/lib/python$(PYTHON3_VERSION)
--|/usr/lib/python$(PYTHON3_VERSION)/distutils/cygwinccompiler.py
--|/usr/lib/python$(PYTHON3_VERSION)/distutils/command/wininst*
--|/usr/lib/python$(PYTHON3_VERSION)/ensurepip
--|/usr/lib/python$(PYTHON3_VERSION)/idlelib
--|/usr/lib/python$(PYTHON3_VERSION)/tkinter
--|/usr/lib/python$(PYTHON3_VERSION)/turtledemo
--|/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/_test*.so
--|/usr/lib/python$(PYTHON3_VERSION)/pdb.doc
--|/usr/lib/python$(PYTHON3_VERSION)/test
--|/usr/lib/python$(PYTHON3_VERSION)/webbrowser.py
--|/usr/lib/python$(PYTHON3_VERSION)/*/test
--|/usr/lib/python$(PYTHON3_VERSION)/*/tests
--|/usr/lib/python$(PYTHON3_VERSION)/_osx_support.py
-$(subst $(space),$(newline),$(foreach lib_file,$(PYTHON3_LIB_FILES_DEL),-|$(lib_file)))
-endef
-
-define Package/libpython3/install
-	# Adding the lib-dynload folder (even just empty) suppresses 2 warnings when starting Python
-	$(INSTALL_DIR) $(1)/usr/lib/python$(PYTHON3_VERSION)/lib-dynload/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/libpython$(PYTHON3_VERSION).so* $(1)/usr/lib/
-endef
-
-define Py3Package/python3-base/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(LN) python$(PYTHON3_VERSION) $(1)/usr/bin/python3
-	$(LN) python$(PYTHON3_VERSION) $(1)/usr/bin/python
-  # This depends on being called before filespec is processed
-	$(SED) 's|$(TARGET_AR)|ar|g;s|$(TARGET_CROSS)readelf|readelf|g;s|$(TARGET_CC)|gcc|g;s|$(TARGET_CXX)|g++|g' \
-		$(PKG_INSTALL_DIR)/usr/lib/python$(PYTHON3_VERSION)/_sysconfigdata.py
-endef
-
-Py3Package/python3-light/install:=:
-Py3Package/python3/install:=:
-
-define Py3Package/python3/filespec
--|$(PYTHON3_PKG_DIR)
-endef
-
-HOST_LDFLAGS += \
-	-Wl$(comma)-rpath$(comma)$(STAGING_DIR_HOSTPKG)/lib
-
-ifeq ($(HOST_OS),Linux)
-HOST_LDFLAGS += \
-	-Wl,--no-as-needed -lrt
-endif
-
-ifeq ($(HOST_OS),Darwin)
-HOST_CONFIGURE_VARS += \
-	ac_cv_header_libintl_h=no
-HOST_MAKE_VARS += \
-	USE_PYTHON_CONFIG_PY=1
-endif
-
-HOST_CONFIGURE_ARGS+= \
-	--enable-optimizations \
-	--with-ensurepip=upgrade \
-	--with-system-expat=$(STAGING_DIR_HOSTPKG) \
-	--without-cxx-main \
-	--without-pymalloc \
-	CONFIG_SITE=
-
-define Host/Configure
-	$(SED) 's/^ENABLE_USER_SITE = None$$$$/ENABLE_USER_SITE = False/' $(HOST_BUILD_DIR)/Lib/site.py
-	$(call Host/Configure/Default)
-endef
-
-define Host/Compile
-	$(call Host/Compile/Default,python)
-	$(call Host/Compile/Default,sharedmods)
-endef
-
-define Host/Install
-	$(if $(wildcard $(HOST_PYTHON3_PKG_DIR)/.setuptools_installed_$(PYTHON3_SETUPTOOLS_VERSION)-$(PYTHON3_SETUPTOOLS_PKG_RELEASE)),,
-		rm -rf \
-			$(HOST_PYTHON3_PKG_DIR)/pkg_resources \
-			$(HOST_PYTHON3_PKG_DIR)/setuptools \
-			$(HOST_PYTHON3_PKG_DIR)/setuptools-* \
-			$(HOST_PYTHON3_PKG_DIR)/.setuptools-patched* \
-			$(HOST_PYTHON3_PKG_DIR)/.setuptools_installed_*
-	)
-	$(if $(wildcard $(HOST_PYTHON3_PKG_DIR)/.pip_installed_$(PYTHON3_PIP_VERSION)-$(PYTHON3_PIP_PKG_RELEASE)),,
-		rm -rf \
-			$(HOST_PYTHON3_PKG_DIR)/pip \
-			$(HOST_PYTHON3_PKG_DIR)/pip-* \
-			$(HOST_PYTHON3_PKG_DIR)/.pip-patched* \
-			$(HOST_PYTHON3_PKG_DIR)/.pip_installed_*
-	)
-	$(call Host/Install/Default)
-	$(if $(wildcard $(HOST_PYTHON3_PKG_DIR)/.setuptools_installed_$(PYTHON3_SETUPTOOLS_VERSION)-$(PYTHON3_SETUPTOOLS_PKG_RELEASE)),,
-		$(call HostPatchDir,$(HOST_PYTHON3_PKG_DIR),./patches-setuptools,)
-		touch $(HOST_PYTHON3_PKG_DIR)/.setuptools_installed_$(PYTHON3_SETUPTOOLS_VERSION)-$(PYTHON3_SETUPTOOLS_PKG_RELEASE)
-	)
-	$(if $(wildcard $(HOST_PYTHON3_PKG_DIR)/.pip_installed_$(PYTHON3_PIP_VERSION)-$(PYTHON3_PIP_PKG_RELEASE)),,
-		$(call HostPatchDir,$(HOST_PYTHON3_PKG_DIR),./patches-pip,)
-		touch $(HOST_PYTHON3_PKG_DIR)/.pip_installed_$(PYTHON3_PIP_VERSION)-$(PYTHON3_PIP_PKG_RELEASE)
-	)
-endef
-
-$(eval $(call HostBuild))
-
-$(foreach package, $(PYTHON3_PACKAGES),  \
-	$(eval $(call Py3Package,$(package))) \
-	$(eval $(call BuildPackage,$(package))) \
-	$(eval $(call BuildPackage,$(package)-src)) \
-)
-
-$(eval $(call BuildPackage,libpython3))
-
-$(eval $(call Py3Package,python3-base))
-$(eval $(call Py3Package,python3-light))
-$(eval $(call Py3Package,python3))
-
-$(eval $(call BuildPackage,python3-base))
-$(eval $(call BuildPackage,python3-light))
-$(eval $(call BuildPackage,python3))
-
-$(eval $(call BuildPackage,python3-base-src))
-$(eval $(call BuildPackage,python3-light-src))
diff -uprN a/feeds/packages/lang/python/python3/patches/001-enable-zlib.patch b/feeds/packages/lang/python/python3/patches/001-enable-zlib.patch
--- a/feeds/packages/lang/python/python3/patches/001-enable-zlib.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/001-enable-zlib.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Modules/Setup
-+++ b/Modules/Setup
-@@ -338,7 +338,7 @@ _symtable symtablemodule.c
- # Andrew Kuchling's zlib module.
- # This require zlib 1.1.3 (or later).
- # See http://www.gzip.org/zlib/
--#zlib zlibmodule.c -I$(prefix)/include -L$(exec_prefix)/lib -lz
-+zlib zlibmodule.c -lz
- 
- # Interface to the Expat XML parser
- # More information on Expat can be found at www.libexpat.org.
diff -uprN a/feeds/packages/lang/python/python3/patches/003-do-not-run-distutils-tests.patch b/feeds/packages/lang/python/python3/patches/003-do-not-run-distutils-tests.patch
--- a/feeds/packages/lang/python/python3/patches/003-do-not-run-distutils-tests.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/003-do-not-run-distutils-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
---- a/Makefile.pre.in
-+++ b/Makefile.pre.in
-@@ -1545,6 +1545,7 @@ libinstall:	build_all $(srcdir)/Modules/
- 	$(INSTALL_DATA) `cat pybuilddir.txt`/_sysconfigdata_$(ABIFLAGS)_$(MACHDEP)_$(MULTIARCH).py \
- 		$(DESTDIR)$(LIBDEST); \
- 	$(INSTALL_DATA) $(srcdir)/LICENSE $(DESTDIR)$(LIBDEST)/LICENSE.txt
-+ifeq (@COMPILE_ALL_TESTS@,yes)
- 	if test -d $(DESTDIR)$(LIBDEST)/distutils/tests; then \
- 		$(INSTALL_DATA) $(srcdir)/Modules/xxmodule.c \
- 			$(DESTDIR)$(LIBDEST)/distutils/tests ; \
-@@ -1580,6 +1581,7 @@ libinstall:	build_all $(srcdir)/Modules/
- 		$(PYTHON_FOR_BUILD) -m lib2to3.pgen2.driver $(DESTDIR)$(LIBDEST)/lib2to3/Grammar.txt
- 	-PYTHONPATH=$(DESTDIR)$(LIBDEST) $(RUNSHARED) \
- 		$(PYTHON_FOR_BUILD) -m lib2to3.pgen2.driver $(DESTDIR)$(LIBDEST)/lib2to3/PatternGrammar.txt
-+endif
- 
- # bpo-21536: Misc/python-config.sh is generated in the build directory
- # from $(srcdir)Misc/python-config.sh.in.
diff -uprN a/feeds/packages/lang/python/python3/patches/004-do-not-write-bytes-codes.patch b/feeds/packages/lang/python/python3/patches/004-do-not-write-bytes-codes.patch
--- a/feeds/packages/lang/python/python3/patches/004-do-not-write-bytes-codes.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/004-do-not-write-bytes-codes.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Python/initconfig.c
-+++ b/Python/initconfig.c
-@@ -158,7 +158,7 @@ int Py_NoSiteFlag = 0; /* Suppress 'impo
- int Py_BytesWarningFlag = 0; /* Warn on str(bytes) and str(buffer) */
- int Py_FrozenFlag = 0; /* Needed by getpath.c */
- int Py_IgnoreEnvironmentFlag = 0; /* e.g. PYTHONPATH, PYTHONHOME */
--int Py_DontWriteBytecodeFlag = 0; /* Suppress writing bytecode files (*.pyc) */
-+int Py_DontWriteBytecodeFlag = 1; /* Suppress writing bytecode files (*.pyc) */
- int Py_NoUserSiteDirectory = 0; /* for -s and site.py */
- int Py_UnbufferedStdioFlag = 0; /* Unbuffered binary std{in,out,err} */
- int Py_HashRandomizationFlag = 0; /* for -R and PYTHONHASHSEED */
diff -uprN a/feeds/packages/lang/python/python3/patches/006-do-not-add-multiarch-paths-when-cross-compiling.patch b/feeds/packages/lang/python/python3/patches/006-do-not-add-multiarch-paths-when-cross-compiling.patch
--- a/feeds/packages/lang/python/python3/patches/006-do-not-add-multiarch-paths-when-cross-compiling.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/006-do-not-add-multiarch-paths-when-cross-compiling.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -742,7 +742,8 @@ class PyBuildExt(build_ext):
-         # only change this for cross builds for 3.3, issues on Mageia
-         if CROSS_COMPILING:
-             self.add_cross_compiling_paths()
--        self.add_multiarch_paths()
-+        else:
-+            self.add_multiarch_paths()
-         self.add_ldflags_cppflags()
- 
-     def init_inc_lib_dirs(self):
diff -uprN a/feeds/packages/lang/python/python3/patches/007-distutils-do-not-adjust-path.patch b/feeds/packages/lang/python/python3/patches/007-distutils-do-not-adjust-path.patch
--- a/feeds/packages/lang/python/python3/patches/007-distutils-do-not-adjust-path.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/007-distutils-do-not-adjust-path.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/Lib/distutils/command/build_scripts.py
-+++ b/Lib/distutils/command/build_scripts.py
-@@ -91,6 +91,7 @@ class build_scripts(Command):
-                     adjust = True
-                     post_interp = match.group(1) or b''
- 
-+            adjust = 0
-             if adjust:
-                 log.info("copying and adjusting %s -> %s", script,
-                          self.build_dir)
diff -uprN a/feeds/packages/lang/python/python3/patches/008-distutils-use-python-sysroot.patch b/feeds/packages/lang/python/python3/patches/008-distutils-use-python-sysroot.patch
--- a/feeds/packages/lang/python/python3/patches/008-distutils-use-python-sysroot.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/008-distutils-use-python-sysroot.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,60 +0,0 @@
-From e359a7a3c4f9e70360a068bef19c95938fdacede Mon Sep 17 00:00:00 2001
-From: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
-Date: Wed, 23 Dec 2015 11:33:14 +0100
-Subject: [PATCH] Adjust library/header paths for cross-compilation
-
-When cross-compiling third-party extensions, the get_python_inc() or
-get_python_lib() can be called, to return the path to headers or
-libraries. However, they use the sys.prefix of the host Python, which
-returns incorrect paths when cross-compiling (paths pointing to host
-headers and libraries).
-
-In order to fix this, we introduce the _python_sysroot, _python_prefix
-and _python_exec_prefix variables, that allow to override these
-values, and get correct header/library paths when cross-compiling
-third-party Python modules.
-
-Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
----
- Lib/distutils/command/build_ext.py |  5 ++++-
- Lib/distutils/sysconfig.py         | 15 +++++++++++----
- 2 files changed, 15 insertions(+), 5 deletions(-)
-
---- a/Lib/distutils/command/build_ext.py
-+++ b/Lib/distutils/command/build_ext.py
-@@ -234,7 +234,10 @@ class build_ext(Command):
-         if (sysconfig.get_config_var('Py_ENABLE_SHARED')):
-             if not sysconfig.python_build:
-                 # building third party extensions
--                self.library_dirs.append(sysconfig.get_config_var('LIBDIR'))
-+                libdir = sysconfig.get_config_var('LIBDIR')
-+                if "_python_sysroot" in os.environ:
-+                    libdir = os.environ.get("_python_sysroot") + libdir
-+                self.library_dirs.append(libdir)
-             else:
-                 # building python standard extensions
-                 self.library_dirs.append('.')
---- a/Lib/distutils/sysconfig.py
-+++ b/Lib/distutils/sysconfig.py
-@@ -17,10 +17,17 @@ import sys
- from .errors import DistutilsPlatformError
- 
- # These are needed in a couple of spots, so just compute them once.
--PREFIX = os.path.normpath(sys.prefix)
--EXEC_PREFIX = os.path.normpath(sys.exec_prefix)
--BASE_PREFIX = os.path.normpath(sys.base_prefix)
--BASE_EXEC_PREFIX = os.path.normpath(sys.base_exec_prefix)
-+if "_python_sysroot" in os.environ:
-+    _sysroot=os.environ.get('_python_sysroot')
-+    PREFIX = os.path.normpath(_sysroot + os.environ.get('_python_prefix'))
-+    EXEC_PREFIX = os.path.normpath(_sysroot + os.environ.get('_python_exec_prefix'))
-+    BASE_PREFIX = PREFIX
-+    BASE_EXEC_PREFIX = EXEC_PREFIX
-+else:
-+    PREFIX = os.path.normpath(sys.prefix)
-+    EXEC_PREFIX = os.path.normpath(sys.exec_prefix)
-+    BASE_PREFIX = os.path.normpath(sys.base_prefix)
-+    BASE_EXEC_PREFIX = os.path.normpath(sys.base_exec_prefix)
- 
- # Path to the base directory of the project. On Windows the binary may
- # live in project/PCbuild/win32 or project/PCbuild/amd64.
diff -uprN a/feeds/packages/lang/python/python3/patches/010-do-not-add-rt-lib-dirs-when-cross-compiling.patch b/feeds/packages/lang/python/python3/patches/010-do-not-add-rt-lib-dirs-when-cross-compiling.patch
--- a/feeds/packages/lang/python/python3/patches/010-do-not-add-rt-lib-dirs-when-cross-compiling.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/010-do-not-add-rt-lib-dirs-when-cross-compiling.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,13 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -719,8 +719,9 @@ class PyBuildExt(build_ext):
-         # directly since an inconsistently reproducible issue comes up where
-         # the environment variable is not set even though the value were passed
-         # into configure and stored in the Makefile (issue found on OS X 10.3).
-+        rt_lib_dirs = [] if CROSS_COMPILING else self.compiler.runtime_library_dirs
-         for env_var, arg_name, dir_list in (
--                ('LDFLAGS', '-R', self.compiler.runtime_library_dirs),
-+                ('LDFLAGS', '-R', rt_lib_dirs),
-                 ('LDFLAGS', '-L', self.compiler.library_dirs),
-                 ('CPPFLAGS', '-I', self.compiler.include_dirs)):
-             env_val = sysconfig.get_config_var(env_var)
diff -uprN a/feeds/packages/lang/python/python3/patches/013-getbuildinfo-date-time-source-date-epoch.patch b/feeds/packages/lang/python/python3/patches/013-getbuildinfo-date-time-source-date-epoch.patch
--- a/feeds/packages/lang/python/python3/patches/013-getbuildinfo-date-time-source-date-epoch.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/013-getbuildinfo-date-time-source-date-epoch.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,28 +0,0 @@
---- a/Makefile.pre.in
-+++ b/Makefile.pre.in
-@@ -773,6 +773,16 @@ regen-all: regen-opcode regen-opcode-tar
- ############################################################################
- # Special rules for object files
- 
-+DATE_FMT = %b %d %Y
-+TIME_FMT = %H:%M:%S
-+ifdef SOURCE_DATE_EPOCH
-+	BUILD_DATE ?= $(shell date -u -d "@$(SOURCE_DATE_EPOCH)" "+$(DATE_FMT)"  2>/dev/null || date -u -r "$(SOURCE_DATE_EPOCH)" "+$(DATE_FMT)" 2>/dev/null || date -u "+$(DATE_FMT)")
-+	BUILD_TIME ?= $(shell date -u -d "@$(SOURCE_DATE_EPOCH)" "+$(TIME_FMT)"  2>/dev/null || date -u -r "$(SOURCE_DATE_EPOCH)" "+$(TIME_FMT)" 2>/dev/null || date -u "+$(TIME_FMT)")
-+else
-+	BUILD_DATE ?= $(shell date "+$(DATE_FMT)")
-+	BUILD_TIME ?= $(shell date "+$(TIME_FMT)")
-+endif
-+
- Modules/getbuildinfo.o: $(PARSER_OBJS) \
- 		$(OBJECT_OBJS) \
- 		$(PYTHON_OBJS) \
-@@ -781,6 +791,8 @@ Modules/getbuildinfo.o: $(PARSER_OBJS) \
- 		$(DTRACE_OBJS) \
- 		$(srcdir)/Modules/getbuildinfo.c
- 	$(CC) -c $(PY_CORE_CFLAGS) \
-+	      -DDATE="\"$(BUILD_DATE)\"" \
-+	      -DTIME="\"$(BUILD_TIME)\"" \
- 	      -DGITVERSION="\"`LC_ALL=C $(GITVERSION)`\"" \
- 	      -DGITTAG="\"`LC_ALL=C $(GITTAG)`\"" \
- 	      -DGITBRANCH="\"`LC_ALL=C $(GITBRANCH)`\"" \
diff -uprN a/feeds/packages/lang/python/python3/patches/014-remove-platform-so-suffix.patch b/feeds/packages/lang/python/python3/patches/014-remove-platform-so-suffix.patch
--- a/feeds/packages/lang/python/python3/patches/014-remove-platform-so-suffix.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/014-remove-platform-so-suffix.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,22 +0,0 @@
---- a/configure
-+++ b/configure
-@@ -15431,7 +15431,7 @@ $as_echo_n "checking ABIFLAGS... " >&6;
- $as_echo "$ABIFLAGS" >&6; }
- { $as_echo "$as_me:${as_lineno-$LINENO}: checking SOABI" >&5
- $as_echo_n "checking SOABI... " >&6; }
--SOABI='cpython-'`echo $VERSION | tr -d .`${ABIFLAGS}${PLATFORM_TRIPLET:+-$PLATFORM_TRIPLET}
-+SOABI='cpython-'`echo $VERSION | tr -d .`
- { $as_echo "$as_me:${as_lineno-$LINENO}: result: $SOABI" >&5
- $as_echo "$SOABI" >&6; }
- 
---- a/configure.ac
-+++ b/configure.ac
-@@ -4811,7 +4811,7 @@ AC_SUBST(SOABI)
- AC_MSG_CHECKING(ABIFLAGS)
- AC_MSG_RESULT($ABIFLAGS)
- AC_MSG_CHECKING(SOABI)
--SOABI='cpython-'`echo $VERSION | tr -d .`${ABIFLAGS}${PLATFORM_TRIPLET:+-$PLATFORM_TRIPLET}
-+SOABI='cpython-'`echo $VERSION | tr -d .`
- AC_MSG_RESULT($SOABI)
- 
- # Release and debug (Py_DEBUG) ABI are compatible, but not Py_TRACE_REFS ABI
diff -uprN a/feeds/packages/lang/python/python3/patches/015-abort-on-failed-modules.patch b/feeds/packages/lang/python/python3/patches/015-abort-on-failed-modules.patch
--- a/feeds/packages/lang/python/python3/patches/015-abort-on-failed-modules.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/015-abort-on-failed-modules.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,10 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -526,6 +526,7 @@ class PyBuildExt(build_ext):
-             print("Failed to build these modules:")
-             print_three_column(failed)
-             print()
-+            if CROSS_COMPILING: sys.exit(1)
- 
-         if self.failed_on_import:
-             failed = self.failed_on_import[:]
diff -uprN a/feeds/packages/lang/python/python3/patches/016-adjust-config-paths.patch b/feeds/packages/lang/python/python3/patches/016-adjust-config-paths.patch
--- a/feeds/packages/lang/python/python3/patches/016-adjust-config-paths.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/016-adjust-config-paths.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,80 +0,0 @@
---- a/Lib/distutils/sysconfig.py
-+++ b/Lib/distutils/sysconfig.py
-@@ -451,6 +451,7 @@ def _init_posix():
-         platform=sys.platform,
-         multiarch=getattr(sys.implementation, '_multiarch', ''),
-     ))
-+    name = '_sysconfigdata'
-     _temp = __import__(name, globals(), locals(), ['build_time_vars'], 0)
-     build_time_vars = _temp.build_time_vars
-     global _config_vars
---- a/Lib/sysconfig.py
-+++ b/Lib/sysconfig.py
-@@ -352,6 +352,7 @@ def get_makefile_filename():
- 
- 
- def _get_sysconfigdata_name():
-+    return '_sysconfigdata'
-     return os.environ.get('_PYTHON_SYSCONFIGDATA_NAME',
-         '_sysconfigdata_{abi}_{platform}_{multiarch}'.format(
-         abi=sys.abiflags,
---- a/Makefile.pre.in
-+++ b/Makefile.pre.in
-@@ -1554,7 +1554,7 @@ libinstall:	build_all $(srcdir)/Modules/
- 			esac; \
- 		done; \
- 	done
--	$(INSTALL_DATA) `cat pybuilddir.txt`/_sysconfigdata_$(ABIFLAGS)_$(MACHDEP)_$(MULTIARCH).py \
-+	$(INSTALL_DATA) `cat pybuilddir.txt`/_sysconfigdata*.py \
- 		$(DESTDIR)$(LIBDEST); \
- 	$(INSTALL_DATA) $(srcdir)/LICENSE $(DESTDIR)$(LIBDEST)/LICENSE.txt
- ifeq (@COMPILE_ALL_TESTS@,yes)
-@@ -1712,7 +1712,7 @@ sharedinstall: sharedmods
- 		--install-scripts=$(BINDIR) \
- 		--install-platlib=$(DESTSHARED) \
- 		--root=$(DESTDIR)/
--	-rm $(DESTDIR)$(DESTSHARED)/_sysconfigdata_$(ABIFLAGS)_$(MACHDEP)_$(MULTIARCH).py
-+	-rm $(DESTDIR)$(DESTSHARED)/_sysconfigdata*.py
- 	-rm -r $(DESTDIR)$(DESTSHARED)/__pycache__
- 
- # Here are a couple of targets for MacOSX again, to install a full
---- a/configure
-+++ b/configure
-@@ -2991,7 +2991,7 @@ $as_echo_n "checking for python interpre
- 	fi
-         { $as_echo "$as_me:${as_lineno-$LINENO}: result: $interp" >&5
- $as_echo "$interp" >&6; }
--	PYTHON_FOR_BUILD='_PYTHON_PROJECT_BASE=$(abs_builddir) _PYTHON_HOST_PLATFORM=$(_PYTHON_HOST_PLATFORM) PYTHONPATH=$(shell test -f pybuilddir.txt && echo $(abs_builddir)/`cat pybuilddir.txt`:)$(srcdir)/Lib _PYTHON_SYSCONFIGDATA_NAME=_sysconfigdata_$(ABIFLAGS)_$(MACHDEP)_$(MULTIARCH) '$interp
-+	PYTHON_FOR_BUILD='_PYTHON_PROJECT_BASE=$(abs_builddir) _PYTHON_HOST_PLATFORM=$(_PYTHON_HOST_PLATFORM) PYTHONPATH=$(shell test -f pybuilddir.txt && echo $(abs_builddir)/`cat pybuilddir.txt`:)$(srcdir)/Lib _PYTHON_SYSCONFIGDATA_NAME=_sysconfigdata '$interp
-     fi
- elif test "$cross_compiling" = maybe; then
-     as_fn_error $? "Cross compiling required --host=HOST-TUPLE and --build=ARCH" "$LINENO" 5
-@@ -15501,7 +15501,7 @@ fi
- 
- 
- 
--if test x$PLATFORM_TRIPLET = x; then
-+if true ; then
-   LIBPL='$(prefix)'"/${PLATLIBDIR}/python${VERSION}/config-${LDVERSION}"
- else
-   LIBPL='$(prefix)'"/${PLATLIBDIR}/python${VERSION}/config-${LDVERSION}-${PLATFORM_TRIPLET}"
---- a/configure.ac
-+++ b/configure.ac
-@@ -82,7 +82,7 @@ if test "$cross_compiling" = yes; then
- 	    AC_MSG_ERROR([python$PACKAGE_VERSION interpreter not found])
- 	fi
-         AC_MSG_RESULT($interp)
--	PYTHON_FOR_BUILD='_PYTHON_PROJECT_BASE=$(abs_builddir) _PYTHON_HOST_PLATFORM=$(_PYTHON_HOST_PLATFORM) PYTHONPATH=$(shell test -f pybuilddir.txt && echo $(abs_builddir)/`cat pybuilddir.txt`:)$(srcdir)/Lib _PYTHON_SYSCONFIGDATA_NAME=_sysconfigdata_$(ABIFLAGS)_$(MACHDEP)_$(MULTIARCH) '$interp
-+	PYTHON_FOR_BUILD='_PYTHON_PROJECT_BASE=$(abs_builddir) _PYTHON_HOST_PLATFORM=$(_PYTHON_HOST_PLATFORM) PYTHONPATH=$(shell test -f pybuilddir.txt && echo $(abs_builddir)/`cat pybuilddir.txt`:)$(srcdir)/Lib _PYTHON_SYSCONFIGDATA_NAME=_sysconfigdata '$interp
-     fi
- elif test "$cross_compiling" = maybe; then
-     AC_MSG_ERROR([Cross compiling required --host=HOST-TUPLE and --build=ARCH])
-@@ -4869,7 +4869,7 @@ fi],
- 
- dnl define LIBPL after ABIFLAGS and LDVERSION is defined.
- AC_SUBST(PY_ENABLE_SHARED)
--if test x$PLATFORM_TRIPLET = x; then
-+if true ; then
-   LIBPL='$(prefix)'"/${PLATLIBDIR}/python${VERSION}/config-${LDVERSION}"
- else
-   LIBPL='$(prefix)'"/${PLATLIBDIR}/python${VERSION}/config-${LDVERSION}-${PLATFORM_TRIPLET}"
diff -uprN a/feeds/packages/lang/python/python3/patches/024-musl-find_library.patch b/feeds/packages/lang/python/python3/patches/024-musl-find_library.patch
--- a/feeds/packages/lang/python/python3/patches/024-musl-find_library.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/024-musl-find_library.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,74 +0,0 @@
-https://bugs.python.org/issue21622
-
-Based on the patch from Alpine Linux
-https://git.alpinelinux.org/aports/tree/main/python2/musl-find_library.patch
-
---- a/Lib/ctypes/util.py
-+++ b/Lib/ctypes/util.py
-@@ -92,6 +92,8 @@ elif sys.platform.startswith("aix"):
- elif os.name == "posix":
-     # Andreas Degert's find functions, using gcc, /sbin/ldconfig, objdump
-     import re, tempfile
-+    from glob import glob
-+    musl_ldso = glob('/lib/ld-musl-*.so.1')
- 
-     def _is_elf(filename):
-         "Return True if the given file is an ELF file"
-@@ -265,6 +267,57 @@ elif os.name == "posix":
-         def find_library(name, is64 = False):
-             return _get_soname(_findLib_crle(name, is64) or _findLib_gcc(name))
- 
-+    elif musl_ldso and os.path.isfile(musl_ldso[0]):
-+
-+        def _is_elf(filepath):
-+            try:
-+                with open(filepath, 'rb') as fh:
-+                    return fh.read(4) == b'\x7fELF'
-+            except:
-+                return False
-+
-+        def find_library(name):
-+            # absolute name?
-+            if os.path.isabs(name):
-+                if _is_elf(name):
-+                    return name
-+                else:
-+                    return None
-+
-+            # special case for unified standard libs
-+            stdlibs = ['libcrypt.so', 'libdl.so', 'libm.so', 'libpthread.so', 'libresolv.so', 'librt.so', 'libutil.so', 'libxnet.so']
-+            if name in stdlibs:
-+                name = 'libc.so'
-+            elif ('lib' + name + '.so') in stdlibs:
-+                name = 'c'
-+
-+            paths = []
-+            # read path list from /etc/ld-musl-$(ARCH).path
-+            path_list = musl_ldso[0].replace('/lib/', '/etc/').replace('.so.1', '.path')
-+            try:
-+                with open(path_list, 'r') as fh:
-+                    paths = [path for line in fh for path in line.rstrip('\n').split(':') if path]
-+            except:
-+                paths = []
-+            # default path list if /etc/ld-musl-$(ARCH).path is empty or does not exist
-+            if not paths:
-+                paths = ['/lib', '/usr/local/lib', '/usr/lib']
-+
-+            # prepend paths from LD_LIBRARY_PATH
-+            if 'LD_LIBRARY_PATH' in os.environ:
-+                paths = os.environ['LD_LIBRARY_PATH'].split(':') + paths
-+
-+            for d in paths:
-+                f = os.path.join(d, name)
-+                if _is_elf(f):
-+                    return os.path.basename(f)
-+
-+                prefix = os.path.join(d, 'lib'+name)
-+                for suffix in ['.so', '.so.*']:
-+                    for f in glob('{0}{1}'.format(prefix, suffix)):
-+                        if _is_elf(f):
-+                            return os.path.basename(f)
-+
-     else:
- 
-         def _findSoname_ldconfig(name):
diff -uprN a/feeds/packages/lang/python/python3/patches/025-choose-python-config-version.patch b/feeds/packages/lang/python/python3/patches/025-choose-python-config-version.patch
--- a/feeds/packages/lang/python/python3/patches/025-choose-python-config-version.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches/025-choose-python-config-version.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/Makefile.pre.in
-+++ b/Makefile.pre.in
-@@ -1606,7 +1606,7 @@ python-config: $(srcdir)/Misc/python-con
- 	@ # On Darwin, always use the python version of the script, the shell
- 	@ # version doesn't use the compiler customizations that are provided
- 	@ # in python (_osx_support.py).
--	@if test `uname -s` = Darwin; then \
-+	@if test "$(USE_PYTHON_CONFIG_PY)" = 1; then \
- 		cp python-config.py python-config; \
- 	fi
- 
diff -uprN a/feeds/packages/lang/python/python3/patches-pip/001-pep517-pyc-fix.patch b/feeds/packages/lang/python/python3/patches-pip/001-pep517-pyc-fix.patch
--- a/feeds/packages/lang/python/python3/patches-pip/001-pep517-pyc-fix.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches-pip/001-pep517-pyc-fix.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-diff --git a/pip/_vendor/pep517/in_process/__init__.py b/pip/_vendor/pep517/in_process/__init__.py
-index c932313..a01143b 100644
---- a/pip/_vendor/pep517/in_process/__init__.py
-+++ b/pip/_vendor/pep517/in_process/__init__.py
-@@ -10,8 +10,13 @@ try:
-     import importlib.resources as resources
- 
-     def _in_proc_script_path():
--        return resources.path(__package__, '_in_process.py')
-+        if resources.is_resource(__package__, '_in_process.py'):
-+            return resources.path(__package__, '_in_process.py')
-+        return resources.path(__package__, '_in_process.pyc')
- except ImportError:
-     @contextmanager
-     def _in_proc_script_path():
--        yield pjoin(dirname(abspath(__file__)), '_in_process.py')
-+        _in_proc_script = pjoin(dirname(abspath(__file__)), '_in_process.py')
-+        if not os.path.isfile(_in_proc_script):
-+            _in_proc_script = pjoin(dirname(abspath(__file__)), '_in_process.pyc')
-+        yield _in_proc_script
diff -uprN a/feeds/packages/lang/python/python3/patches-setuptools/001-reproducible.patch b/feeds/packages/lang/python/python3/patches-setuptools/001-reproducible.patch
--- a/feeds/packages/lang/python/python3/patches-setuptools/001-reproducible.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches-setuptools/001-reproducible.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=848136
-https://sources.debian.org/patches/python-setuptools/40.8.0-1/reproducible.diff/
-
-Index: b/setuptools/command/easy_install.py
-===================================================================
---- a/setuptools/command/easy_install.py
-+++ b/setuptools/command/easy_install.py
-@@ -423,7 +423,7 @@ class easy_install(Command):
-             for spec in self.args:
-                 self.easy_install(spec, not self.no_deps)
-             if self.record:
--                outputs = self.outputs
-+                outputs = list(sorted(self.outputs))
-                 if self.root:  # strip any package prefix
-                     root_len = len(self.root)
-                     for counter in range(len(outputs)):
diff -uprN a/feeds/packages/lang/python/python3/patches-setuptools/002-sorted-requires.patch b/feeds/packages/lang/python/python3/patches-setuptools/002-sorted-requires.patch
--- a/feeds/packages/lang/python/python3/patches-setuptools/002-sorted-requires.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches-setuptools/002-sorted-requires.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,16 +0,0 @@
-https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=804249
-https://sources.debian.org/patches/python-setuptools/40.8.0-1/sorted-requires.diff/
-
-Index: b/setuptools/command/egg_info.py
-===================================================================
---- a/setuptools/command/egg_info.py
-+++ b/setuptools/command/egg_info.py
-@@ -641,7 +641,7 @@ def _write_requirements(stream, reqs):
- 
-     def append_cr(line):
-         return line + '\n'
--    lines = map(append_cr, lines)
-+    lines = map(append_cr, sorted(lines))
-     stream.writelines(lines)
- 
- 
diff -uprN a/feeds/packages/lang/python/python3/patches-setuptools/003-PKG-INFO-output-reproducible.patch b/feeds/packages/lang/python/python3/patches-setuptools/003-PKG-INFO-output-reproducible.patch
--- a/feeds/packages/lang/python/python3/patches-setuptools/003-PKG-INFO-output-reproducible.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/python3/patches-setuptools/003-PKG-INFO-output-reproducible.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,14 +0,0 @@
-https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=894215
-https://sources.debian.org/patches/python-setuptools/40.8.0-1/PKG-INFO-output-reproducible.diff/
-
---- a/setuptools/dist.py
-+++ b/setuptools/dist.py
-@@ -193,7 +193,7 @@ def write_pkg_file(self, file):
-             self.long_description_content_type
-         )
-     if self.provides_extras:
--        for extra in self.provides_extras:
-+        for extra in sorted(self.provides_extras):
-             write_field('Provides-Extra', extra)
- 
- 
diff -uprN a/feeds/packages/lang/python/python3-asgiref/Makefile b/feeds/packages/lang/python/python3-asgiref/Makefile
--- a/feeds/packages/lang/python/python3-asgiref/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-asgiref/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=asgiref
-PKG_VERSION:=3.3.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=asgiref
-PKG_HASH:=7162a3cb30ab0609f1a4c95938fd73e8604f63bdba516a7f7d64b83ff09478f0
-
-PKG_MAINTAINER:=Peter Stadler <peter.stadler@student.uibk.ac.at>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-asgiref
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Standard for Python asynchronous web apps and servers.
-  URL:=https://asgi.readthedocs.io/en/latest/
-  DEPENDS:=+python3-light +python3-logging +python3-asyncio
-endef
-
-define Package/python3-asgiref/description
-  ASGI is a standard for Python asynchronous web apps and servers to communicate
-  with each other, and positioned as an asynchronous successor to WSGI.
-endef
-
-$(eval $(call Py3Package,python3-asgiref))
-$(eval $(call BuildPackage,python3-asgiref))
-$(eval $(call BuildPackage,python3-asgiref-src))
diff -uprN a/feeds/packages/lang/python/python3-bottle/Makefile b/feeds/packages/lang/python/python3-bottle/Makefile
--- a/feeds/packages/lang/python/python3-bottle/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-bottle/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-bottle
-PKG_VERSION:=0.12.17
-PKG_RELEASE:=2
-
-PYPI_NAME:=bottle
-PKG_HASH:=e9eaa412a60cc3d42ceb42f58d15864d9ed1b92e9d630b8130c871c5bb16107c
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:bottlepy:bottle
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-bottle
-	SECTION:=lang
-	CATEGORY:=Languages
-	SUBMENU:=Python
-	TITLE:=Fast and simple WSGI-framework for small web-applications
-	URL:=https://bottlepy.org
-	DEPENDS:=+python3
-endef
-
-define Package/python3-bottle/description
- Bottle is a fast, simple and lightweight WSGI micro web-framework for Python.
- It is distributed as a single file module and has no dependencies other than the
- Python Standard Library.
-endef
-
-$(eval $(call Py3Package,python3-bottle))
-$(eval $(call BuildPackage,python3-bottle))
-$(eval $(call BuildPackage,python3-bottle-src))
diff -uprN a/feeds/packages/lang/python/python3-django-cors-headers/Makefile b/feeds/packages/lang/python/python3-django-cors-headers/Makefile
--- a/feeds/packages/lang/python/python3-django-cors-headers/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-django-cors-headers/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,33 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-cors-headers
-PKG_VERSION:=3.5.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=django-cors-headers
-PKG_HASH:=db82b2840f667d47872ae3e4a4e0a0d72fbecb42779b8aa233fa8bb965f7836a
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Peter Stadler <peter.stadler@student.uibk.ac.at>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-cors-headers
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Django application for handling the server headers required for Cross-Origin Resource Sharing (CORS).
-  URL:=https://github.com/adamchainz/django-cors-headers
-  DEPENDS:=+python3-django +python3-urllib +python3-light
-endef
-
-define Package/python3-django-cors-headers/description
-  Django application for handling the server headers required for Cross-Origin Resource Sharing (CORS).
-endef
-
-$(eval $(call Py3Package,python3-django-cors-headers))
-$(eval $(call BuildPackage,python3-django-cors-headers))
-$(eval $(call BuildPackage,python3-django-cors-headers-src))
diff -uprN a/feeds/packages/lang/python/python3-django-etesync-journal/Makefile b/feeds/packages/lang/python/python3-django-etesync-journal/Makefile
--- a/feeds/packages/lang/python/python3-django-etesync-journal/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-django-etesync-journal/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,33 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=django-etesync-journal
-PKG_VERSION:=1.2.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=django-etesync-journal
-PKG_HASH:=1b10a6bca45078bff9b78da3757ba118ecae8f0cc1d9db278bd96eab85f594db
-
-PKG_LICENSE:=AGPL-3.0-only
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Peter Stadler <peter.stadler@student.uibk.ac.at>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-django-etesync-journal
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The server side implementation of the EteSync protocol.
-  URL:=https://www.etesync.com/
-  DEPENDS:=+django +python3-django-restframework +python3-light
-endef
-
-define Package/python3-django-etesync-journal/description
-  The reusable django app that implements the server side of the EteSync protocol.
-endef
-
-$(eval $(call Py3Package,python3-django-etesync-journal))
-$(eval $(call BuildPackage,python3-django-etesync-journal))
-$(eval $(call BuildPackage,python3-django-etesync-journal-src))
diff -uprN a/feeds/packages/lang/python/python3-drf-nested-routers/Makefile b/feeds/packages/lang/python/python3-drf-nested-routers/Makefile
--- a/feeds/packages/lang/python/python3-drf-nested-routers/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-drf-nested-routers/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=drf-nested-routers
-PKG_VERSION:=0.92.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=drf-nested-routers
-PKG_HASH:=e043fc937f94ac462a92d2d9fc9a7e55710a67164b558442adfe9634fc519c3b
-
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Peter Stadler <peter.stadler@student.uibk.ac.at>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-drf-nested-routers
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Nested resources for the Django Rest Framework
-  URL:=https://github.com/alanjds/drf-nested-routers
-  DEPENDS:=+python3-django-restframework +django +python3-light
-endef
-
-define Package/python3-drf-nested-routers/description
-  Nested resources for the Django Rest Framework
-endef
-
-define Py3Package/python3-drf-nested-routers/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/rest_framework_nested/runtests
-endef
-
-$(eval $(call Py3Package,python3-drf-nested-routers))
-$(eval $(call BuildPackage,python3-drf-nested-routers))
-$(eval $(call BuildPackage,python3-drf-nested-routers-src))
diff -uprN a/feeds/packages/lang/python/python3-find-stdlib-depends.sh b/feeds/packages/lang/python/python3-find-stdlib-depends.sh
--- a/feeds/packages/lang/python/python3-find-stdlib-depends.sh	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-find-stdlib-depends.sh	1970-01-01 08:00:00.000000000 +0800
@@ -1,435 +0,0 @@
-#!/bin/sh
-
-# Packages data
-#
-# Notes:
-# * python3-codecs: Also contains codecs for CJK encodings but we don't
-#   have a good way to check for uses
-# * python3-openssl: Don't include hashlib as it supports several
-#   standard algorithms without requiring OpenSSL
-
-packages="
-python3-asyncio: asyncio
-python3-cgi: cgi
-python3-cgitb: cgitb
-python3-codecs: unicodedata
-python3-ctypes: ctypes
-python3-dbm: dbm
-python3-decimal: decimal
-python3-distutils: distutils
-python3-email: email
-python3-gdbm: dbm.gnu
-python3-logging: logging
-python3-lzma: lzma
-python3-multiprocessing: multiprocessing
-python3-ncurses: ncurses
-python3-openssl: ssl
-python3-pydoc: doctest pydoc
-python3-readline: readline
-python3-sqlite3: sqlite3
-python3-unittest: unittest
-python3-urllib: urllib
-python3-xml: xml xmlrpc
-"
-
-
-# Constants
-
-stdin_name="<stdin>"
-grep_dir_filters="
--Ir
---include=*.py
---exclude=setup.py
---exclude=test_*.py
---exclude=*_test.py
---exclude-dir=test
---exclude-dir=tests
---exclude-dir=ipkg-*
---exclude-dir=.pkgdir
-"
-
-log_level_notice=5
-log_level_info=6
-log_level_debug=7
-
-# /usr/include/sysexits.h
-ex_usage=64
-ex_noinput=66
-ex_unavailable=69
-ex_software=70
-
-newline="
-"
-oifs="$IFS"
-
-
-# Defaults
-
-grep_output_default_max_count=3
-grep_output_default_color_when="auto"
-grep_output_default_line_prefix="-HnT --label=$stdin_name"
-grep_output_default_context_num=1
-
-log_level_default="$log_level_info"
-
-
-# Global variables
-
-log_level=
-grep=
-grep_output_options=
-grep_output_description=
-stdin=
-output_name=
-is_first_search=
-
-
-# Logging
-
-log() {
-	printf '%s\n' "$*"
-}
-
-can_log_notice() {
-	[ "$log_level" -ge "$log_level_notice" ]
-}
-
-can_log_info() {
-	[ "$log_level" -ge "$log_level_info" ]
-}
-
-can_log_debug() {
-	[ "$log_level" -ge "$log_level_debug" ]
-}
-
-log_notice() {
-	if can_log_notice; then
-		log "$@"
-	fi
-}
-
-log_info() {
-	if can_log_info; then
-		log "$@"
-	fi
-}
-
-log_debug() {
-	if can_log_debug; then
-		log "$@"
-	fi
-}
-
-log_error() {
-	printf '%s\n' "Error: $*" >&2
-}
-
-
-# Usage
-
-usage() {
-	cat <<- EOF
-	Usage: ${0##*/} [OPTION]... [FILE]...
-	Search for imports of certain Python standard libraries in each FILE,
-	generate a list of suggested package dependencies.
-
-	With no FILE, or when FILE is -, read standard input.
-
-	Options:
-	  -c WHEN   use color in output;
-	            WHEN is 'always', 'never', or 'auto' (default: '$grep_output_default_color_when')
-	  -h        display this help text and exit
-	  -m NUM    show max NUM matches per package per file (default: $grep_output_default_max_count);
-	            use 0 to show all matches
-	  -n NAME   when one or no FILE is given, use NAME instead of FILE in
-	            displayed information
-	  -q        show suggested dependencies only
-	  -v        show verbose output (also show all matches)
-	  -x NUM    show NUM lines of context (default: $grep_output_default_context_num)
-
-	EOF
-}
-
-
-# Imports search
-
-get_package_modules() {
-	local line="$1"
-	local field_num=0
-	local IFS=:
-
-	for field in $line; do
-		# strip leading and trailing whitespace
-		field="${field#"${field%%[! 	]*}"}"
-		field="${field%"${field##*[! 	]}"}"
-
-		# set variables in search_path()
-		if [ "$field_num" -eq 0 ]; then
-			package="$field"
-			field_num=1
-		elif [ "$field_num" -eq 1 ]; then
-			modules="$field"
-			field_num=2
-		else
-			field_num=3
-		fi
-	done
-
-	if [ "$field_num" -ne 2 ] || [ -z "$package" ] || [ -z "$modules" ]; then
-		log_error "invalid package data \"$line\""
-		exit "$ex_software"
-	fi
-}
-
-search_path_for_modules() {
-	local path="$1"
-	local path_is_dir="$2"
-	local path_is_stdin="$3"
-	local package="$4"
-	local modules="$5"
-	local modules_regex
-	local regex
-	local remove_dir_prefix
-	local grep_results
-	local IFS="$oifs"
-
-	log_debug "    Looking for modules in $package ($modules)"
-
-	modules_regex=$(printf '%s' "$modules" | sed -e 's/\./\\./g' -e 's/\s\+/|/g')
-	regex="\b(import\s+($modules_regex)|from\s+($modules_regex)\S*\s+import)\b"
-
-	if [ -n "$path_is_dir" ]; then
-		remove_dir_prefix="s|^\(\(\x1b[[0-9;]*[mK]\)*\)$path|\1|"
-		grep_results=$($grep $grep_output_options $grep_dir_filters -E "$regex" "$path")
-
-	elif [ -n "$path_is_stdin" ]; then
-		grep_results=$(printf '%s\n' "$stdin" | $grep $grep_output_options -E "$regex")
-
-	else
-		grep_results=$($grep $grep_output_options -E "$regex" "$path")
-	fi
-
-	if [ "$?" -ne 0 ]; then
-		log_debug "    No imports found"
-		log_debug ""
-		return 0
-	fi
-
-	log_info "    Found imports for: $modules"
-
-	if can_log_info; then
-		printf '%s\n' "$grep_results" | sed -e "$remove_dir_prefix" -e "s/^/        /"
-	fi
-
-	log_info ""
-
-	# set variable in search_path()
-	suggested="$suggested +$package"
-}
-
-search_path() {
-	local path="$1"
-	local name="$2"
-	local path_is_dir
-	local path_is_stdin
-	local package
-	local modules
-	local suggested
-	local IFS="$newline"
-
-	if [ "$path" = "-" ]; then
-		path_is_stdin=1
-
-	else
-		if ! [ -e "$path" ]; then
-			log_error "$path does not exist"
-			exit "$ex_noinput"
-		fi
-
-		if [ -d "$path" ]; then
-			path="${path%/}/"
-			path_is_dir=1
-		fi
-	fi
-
-	log_info ""
-	log_info "Searching $name (showing $grep_output_description):"
-	log_info ""
-
-	if [ -n "$path_is_stdin" ]; then
-		stdin="$(cat)"
-	fi
-
-	for line in $packages; do
-		# strip leading whitespace
-		line="${line#"${line%%[! 	]*}"}"
-
-		# skip blank lines or comments (beginning with #)
-		if [ -z "$line" ] ||  [ "$line" != "${line###}" ]; then
-			continue
-		fi
-
-		package=
-		modules=
-
-		get_package_modules "$line"
-		search_path_for_modules "$path" "$path_is_dir" "$path_is_stdin" "$package" "$modules"
-	done
-
-	log_notice "Suggested dependencies for $name:"
-
-	if [ -z "$suggested" ]; then
-		suggested="(none)"
-	fi
-	IFS="$oifs"
-	for package in $suggested; do
-		log_notice "    $package"
-	done
-
-	log_notice ""
-}
-
-
-# Find GNU grep
-
-if ggrep --version 2>&1 | grep -q GNU; then
-	grep="ggrep"
-elif grep --version 2>&1 | grep -q GNU; then
-	grep="grep"
-else
-	log_error "cannot find GNU grep"
-	exit "$ex_unavailable"
-fi
-
-
-# Process environment variables
-
-case $PYTHON3_FIND_STDLIB_DEPENDS_LOG_LEVEL in
-	notice)
-		log_level="$log_level_notice"
-		;;
-	info)
-		log_level="$log_level_info"
-		;;
-	debug)
-		log_level="$log_level_debug"
-		;;
-	*)
-		log_level="$log_level_default"
-		;;
-esac
-
-grep_output_max_count="${PYTHON3_FIND_STDLIB_DEPENDS_MAX_COUNT:-$grep_output_default_max_count}"
-grep_output_color_when="${PYTHON3_FIND_STDLIB_DEPENDS_COLOR_WHEN:-$grep_output_default_color_when}"
-grep_output_line_prefix="${PYTHON3_FIND_STDLIB_DEPENDS_LINE_PREFIX:-$grep_output_default_line_prefix}"
-grep_output_context_num="${PYTHON3_FIND_STDLIB_DEPENDS_CONTEXT_NUM:-$grep_output_default_context_num}"
-
-
-# Process command line options
-
-while getopts c:hm:n:qvx: OPT; do
-	case $OPT in
-		c)
-			grep_output_color_when="$OPTARG"
-			;;
-		h)
-			usage
-			exit 0
-			;;
-		m)
-			grep_output_max_count="$OPTARG"
-			;;
-		n)
-			output_name="$OPTARG"
-			;;
-		q)
-			log_level="$log_level_notice"
-			;;
-		v)
-			log_level="$log_level_debug"
-			;;
-		x)
-			grep_output_context_num="$OPTARG"
-			;;
-		\?)
-			usage
-			exit "$ex_usage"
-			;;
-	esac
-done
-
-shift $((OPTIND - 1))
-
-
-# Set up grep output options
-
-if can_log_info; then
-	if [ "$grep_output_color_when" = "auto" ]; then
-		if [ -t 1 ]; then
-			grep_output_color_when="always"
-		else
-			grep_output_color_when="never"
-		fi
-	fi
-
-	if ! can_log_debug && [ "$grep_output_max_count" -gt 0 ]; then
-		grep_output_options="-m $grep_output_max_count"
-
-		if [ "$grep_output_max_count" -eq 1 ]; then
-			grep_output_description="max 1 match per file"
-		else
-			grep_output_description="max $grep_output_max_count matches per file"
-		fi
-
-	else
-		grep_output_description="all matches"
-	fi
-
-	if [ "$grep_output_context_num" -gt 0 ]; then
-		grep_output_options="$grep_output_options -C $grep_output_context_num"
-
-		if [ "$grep_output_context_num" -eq 1 ]; then
-			grep_output_description="$grep_output_description, 1 line of context"
-		else
-			grep_output_description="$grep_output_description, $grep_output_context_num lines of context"
-		fi
-	fi
-
-	grep_output_options="$grep_output_options --color=$grep_output_color_when $grep_output_line_prefix"
-
-else
-	grep_output_options="-q"
-fi
-
-
-# Main
-
-if [ "$#" -gt 0 ]; then
-	is_first_search=1
-
-	if [ "$#" -gt 1 ]; then
-		output_name=
-	fi
-
-	for path; do
-		if [ -z "$is_first_search" ]; then
-			log_info "===="
-		fi
-
-		if [ -z "$output_name" ]; then
-			if [ "$path" = "-" ]; then
-				output_name="$stdin_name"
-			else
-				output_name="$path"
-			fi
-		fi
-
-		search_path "$path" "$output_name"
-
-		is_first_search=
-		output_name=
-	done
-
-else
-	search_path "-" "${output_name:-$stdin_name}"
-fi
diff -uprN a/feeds/packages/lang/python/python3-host.mk b/feeds/packages/lang/python/python3-host.mk
--- a/feeds/packages/lang/python/python3-host.mk	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-host.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,82 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-# Note: include this file after `include $(TOPDIR)/rules.mk in your package Makefile
-#       if `python3-package.mk` is included, this will already be included
-
-# For PYTHON3_VERSION
-python3_mk_path:=$(dir $(lastword $(MAKEFILE_LIST)))
-include $(python3_mk_path)python3-version.mk
-
-HOST_PYTHON3_DIR:=$(STAGING_DIR_HOSTPKG)
-HOST_PYTHON3_INC_DIR:=$(HOST_PYTHON3_DIR)/include/python$(PYTHON3_VERSION)
-HOST_PYTHON3_LIB_DIR:=$(HOST_PYTHON3_DIR)/lib/python$(PYTHON3_VERSION)
-
-HOST_PYTHON3_PKG_DIR:=$(HOST_PYTHON3_DIR)/lib/python$(PYTHON3_VERSION)/site-packages
-
-HOST_PYTHON3_BIN:=$(HOST_PYTHON3_DIR)/bin/python$(PYTHON3_VERSION)
-
-HOST_PYTHON3PATH:=$(HOST_PYTHON3_LIB_DIR):$(HOST_PYTHON3_PKG_DIR)
-
-HOST_PYTHON3_VARS = \
-	ARCH="$(HOST_ARCH)" \
-	CC="$(HOSTCC)" \
-	CCSHARED="$(HOSTCC) $(HOST_FPIC)" \
-	CXX="$(HOSTCXX)" \
-	LD="$(HOSTCC)" \
-	LDSHARED="$(HOSTCC) -shared" \
-	CFLAGS="$(HOST_CFLAGS)" \
-	CPPFLAGS="$(HOST_CPPFLAGS) -I$(HOST_PYTHON3_INC_DIR)" \
-	LDFLAGS="$(HOST_LDFLAGS) -lpython$(PYTHON3_VERSION) -Wl$(comma)-rpath$(comma)$(STAGING_DIR_HOSTPKG)/lib" \
-	PYTHONPATH="$(HOST_PYTHON3PATH)" \
-	PYTHONDONTWRITEBYTECODE=0 \
-	PYTHONOPTIMIZE=""
-
-# $(1) => directory of python script
-# $(2) => python script and its arguments
-# $(3) => additional variables
-define HostPython3/Run
-	cd "$(if $(strip $(1)),$(strip $(1)),.)" && \
-	$(HOST_PYTHON3_VARS) \
-	$(3) \
-	$(HOST_PYTHON3_BIN) $(2)
-endef
-
-# Note: I shamelessly copied this from Yousong's logic (from python-packages);
-HOST_PYTHON3_PIP:=$(STAGING_DIR_HOSTPKG)/bin/pip$(PYTHON3_VERSION)
-
-HOST_PYTHON3_PIP_CACHE_DIR:=$(DL_DIR)/pip-cache
-
-# Multiple concurrent pip processes can lead to errors or unexpected results: https://github.com/pypa/pip/issues/2361
-# $(1) => packages to install
-define HostPython3/PipInstall
-	$(call locked, \
-		$(HOST_PYTHON3_VARS) \
-		$(HOST_PYTHON3_PIP) \
-			--cache-dir "$(HOST_PYTHON3_PIP_CACHE_DIR)" \
-			--disable-pip-version-check \
-			install \
-			--no-binary :all: \
-			--require-hashes \
-			$(1) \
-		$(if $(CONFIG_PYTHON3_HOST_PIP_CACHE_WORLD_READABLE), \
-			&& $(FIND) $(HOST_PYTHON3_PIP_CACHE_DIR) -not -type d -exec chmod go+r  '{}' \; \
-			&& $(FIND) $(HOST_PYTHON3_PIP_CACHE_DIR)      -type d -exec chmod go+rx '{}' \; \
-		), \
-		pip \
-	)
-endef
-
-# $(1) => build subdir
-# $(2) => additional arguments to setup.py
-# $(3) => additional variables
-define HostPython3/ModSetup
-	$(call HostPython3/Run, \
-		$(HOST_BUILD_DIR)/$(strip $(1)), \
-		setup.py $(2), \
-		$(3))
-endef
diff -uprN a/feeds/packages/lang/python/python3-libselinux/Makefile b/feeds/packages/lang/python/python3-libselinux/Makefile
--- a/feeds/packages/lang/python/python3-libselinux/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-libselinux/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,77 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-SRC_NAME:=libselinux
-PKG_NAME:=python3-$(SRC_NAME)
-PKG_VERSION:=3.1
-PKG_RELEASE:=1
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/python-libselinux/$(SRC_NAME)-$(PKG_VERSION)
-PKG_SOURCE:=$(SRC_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://github.com/SELinuxProject/selinux/releases/download/20200710
-PKG_HASH:=ea5dcbb4d859e3f999c26a13c630da2f16dff9462e3cc8cb7b458ac157d112e7
-PKG_BUILD_DEPENDS:=swig/host
-
-PKG_MAINTAINER:=Thomas Petazzoni <thomas.petazzoni@bootlin.com>
-PKG_LICENSE:=libselinux-1.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:selinuxproject:libselinux
-PYTHON3_PKG_BUILD:=0
-PKG_INSTALL:=1
-MAKE_PATH:=src
-
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-libselinux
-  TITLE:=Python bindings for the runtime SELinux library
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  DEPENDS:=+libpcre +musl-fts +python3 +libselinux
-  URL:=http://selinuxproject.org/page/Main_Page
-endef
-
-define Package/python3-libselinux/description
-	libselinux is the runtime SELinux library that provides
-	interfaces (e.g. library functions for the SELinux kernel
-	APIs like getcon(), other support functions like
-	getseuserbyname()) to SELinux-aware applications. libselinux
-	may use the shared libsepol to manipulate the binary policy
-	if necessary (e.g. to downgrade the policy format to an
-	older version supported by the kernel) when loading policy.
-
-	This package provides the Python bindings for libselinux.
-endef
-
-MAKE_FLAGS += \
-	FTS_LDLIBS=-lfts \
-	SHLIBDIR=/usr/lib \
-	PYTHON=$(PYTHON3) \
-	PYINC="-I $(PYTHON3_INC_DIR)" \
-	PYLIBS="-lpython$(PYTHON3_VERSION)" \
-	$(PYTHON3_VARS)
-
-define Build/Compile
-	$(call Build/Compile/Default,swigify pywrap)
-endef
-
-define Build/Install
-	$(call Build/Install/Default,install-pywrap)
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)$(PYTHON3_PKG_DIR)
-	$(CP) $(PKG_INSTALL_DIR)$(PYTHON3_PKG_DIR)/* $(1)$(PYTHON3_PKG_DIR)
-endef
-
-define Package/python3-libselinux/install
-	$(INSTALL_DIR) $(1)$(PYTHON3_PKG_DIR)
-	$(CP) $(PKG_INSTALL_DIR)$(PYTHON3_PKG_DIR)/* $(1)$(PYTHON3_PKG_DIR)
-endef
-
-$(eval $(call BuildPackage,python3-libselinux))
diff -uprN a/feeds/packages/lang/python/python3-libselinux/patches/010-setup-py-custom-cc.patch b/feeds/packages/lang/python/python3-libselinux/patches/010-setup-py-custom-cc.patch
--- a/feeds/packages/lang/python/python3-libselinux/patches/010-setup-py-custom-cc.patch	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-libselinux/patches/010-setup-py-custom-cc.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/src/Makefile
-+++ b/src/Makefile
-@@ -131,7 +131,7 @@ SWIGRUBY = swig -Wall -ruby -o $(SWIGRUB
- all: $(LIBA) $(LIBSO) $(LIBPC)
- 
- pywrap: all selinuxswig_python_exception.i
--	CFLAGS="$(CFLAGS) $(SWIG_CFLAGS)" $(PYTHON) setup.py build_ext
-+	LDSHARED="$(CC) -shared" CFLAGS="$(CFLAGS) $(SWIG_CFLAGS)" $(PYTHON) setup.py build_ext
- 
- rubywrap: all $(SWIGRUBYSO)
- 
diff -uprN a/feeds/packages/lang/python/python3-libselinux/patches/020-Make-use-of-variables-when-defining-libdir-and-inclu.patch b/feeds/packages/lang/python/python3-libselinux/patches/020-Make-use-of-variables-when-defining-libdir-and-inclu.patch
--- a/feeds/packages/lang/python/python3-libselinux/patches/020-Make-use-of-variables-when-defining-libdir-and-inclu.patch	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-libselinux/patches/020-Make-use-of-variables-when-defining-libdir-and-inclu.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,21 +0,0 @@
-Pkg-config definitions commonly make use of ${exec_prefix} and ${prefix}
-when defining libdir and includedir, respectively. OpenWrt, for example,
-relies on this when it adjusts things for cross compiling.
-
-Signed-off-by: W. Michael Petullo <mike@flyn.org>
----
- src/libselinux.pc.in | 4 ++--
- 1 file changed, 2 insertions(+), 2 deletions(-)
-
---- a/src/libselinux.pc.in
-+++ b/src/libselinux.pc.in
-@@ -1,7 +1,7 @@
- prefix=@prefix@
- exec_prefix=${prefix}
--libdir=@libdir@
--includedir=@includedir@
-+libdir=${exec_prefix}/lib
-+includedir=${prefix}/include
- 
- Name: libselinux
- Description: SELinux utility library
diff -uprN a/feeds/packages/lang/python/python3-libsemanage/Makefile b/feeds/packages/lang/python/python3-libsemanage/Makefile
--- a/feeds/packages/lang/python/python3-libsemanage/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-libsemanage/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,78 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-SRC_NAME:=libsemanage
-PKG_NAME:=python3-$(SRC_NAME)
-PKG_VERSION:=3.2
-PKG_RELEASE:=1
-
-PKG_BUILD_DIR:=$(BUILD_DIR)/python-libsemanage/$(SRC_NAME)-$(PKG_VERSION)
-PKG_SOURCE:=$(SRC_NAME)-$(PKG_VERSION).tar.gz
-PKG_SOURCE_URL:=https://github.com/SELinuxProject/selinux/releases/download/20200710
-PKG_HASH:=d722a55ca4fe2d4e2b30527720db657e6238b28079e69e2e4affeb8e733ee511
-PKG_BUILD_DEPENDS:=swig/host
-
-PKG_MAINTAINER:=Thomas Petazzoni <thomas.petazzoni@bootlin.com>
-PKG_LICENSE:=LGPL-2.1-or-later
-PKG_LICENSE_FILES:=COPYING
-PKG_CPE_ID:=cpe:/a:selinuxproject:libsemanage
-PYTHON3_PKG_BUILD:=0
-PKG_INSTALL:=1
-MAKE_PATH:=src
-
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-libsemanage
-  TITLE:=Python bindings for the SELinux policy management library
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  DEPENDS:=+python3 +libsemanage
-  URL:=http://selinuxproject.org/page/Main_Page
-endef
-
-define Package/python3-libsemanage/description
-	libsemanage is the policy management library. It uses
-	libsepol for binary policy manipulation and libselinux for
-	interacting with the SELinux system. It also exec's helper
-	programs for loading policy and for checking whether the
-	file_contexts configuration is valid (load_policy and
-	setfiles from policycoreutils) presently, although this may
-	change at least for the bootstrapping case (for rpm).
-
-	This package provides the Python bindings for libsemanage.
-endef #'
-
-MAKE_FLAGS += \
-	PYTHON=$(PYTHON3) \
-	PYINC="-I $(PYTHON3_INC_DIR)" \
-	PYLIBS="-lpython$(PYTHON3_VERSION)" \
-	$(PYTHON3_VARS)
-
-define Build/Compile
-	$(call Build/Compile/Default,swigify pywrap)
-endef
-
-define Build/Install
-	$(call Build/Install/Default,install-pywrap)
-endef
-
-define Build/Configure
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)$(PYTHON3_PKG_DIR)
-	$(CP) $(PKG_INSTALL_DIR)$(PYTHON3_PKG_DIR)/* $(1)$(PYTHON3_PKG_DIR)
-endef
-
-define Package/python3-libsemanage/install
-	$(INSTALL_DIR) $(1)$(PYTHON3_PKG_DIR)
-	$(CP) $(PKG_INSTALL_DIR)$(PYTHON3_PKG_DIR)/* $(1)$(PYTHON3_PKG_DIR)
-endef
-
-$(eval $(call BuildPackage,python3-libsemanage))
diff -uprN a/feeds/packages/lang/python/python3-maxminddb/Makefile b/feeds/packages/lang/python/python3-maxminddb/Makefile
--- a/feeds/packages/lang/python/python3-maxminddb/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-maxminddb/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC z.s.p.o. (http://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=maxminddb
-PKG_VERSION:=2.0.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=47e86a084dd814fac88c99ea34ba3278a74bc9de5a25f4b815b608798747c7dc
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-maxminddb
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Reader for the MaxMind DB format
-  URL:=https://dev.maxmind.com/
-  DEPENDS:=+python3-light +libmaxminddb
-endef
-
-define Package/python3-maxminddb/description
-  Module for reading MaxMind DB files
-endef
-
-$(eval $(call Py3Package,python3-maxminddb))
-$(eval $(call BuildPackage,python3-maxminddb))
-$(eval $(call BuildPackage,python3-maxminddb-src))
diff -uprN a/feeds/packages/lang/python/python3-netifaces/Makefile b/feeds/packages/lang/python/python3-netifaces/Makefile
--- a/feeds/packages/lang/python/python3-netifaces/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-netifaces/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-netifaces
-PKG_VERSION:=0.10.9
-PKG_RELEASE:=2
-
-PYPI_NAME:=netifaces
-PKG_HASH:=2dee9ffdd16292878336a58d04a20f0ffe95555465fee7c9bd23b3490ef2abf3
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-netifaces
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Portable network interface information
-  URL:=https://github.com/al45tair/netifaces
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-netifaces/description
-  Portable network interface information.
-endef
-
-$(eval $(call Py3Package,python3-netifaces))
-$(eval $(call BuildPackage,python3-netifaces))
-$(eval $(call BuildPackage,python3-netifaces-src))
diff -uprN a/feeds/packages/lang/python/python3-networkx/Makefile b/feeds/packages/lang/python/python3-networkx/Makefile
--- a/feeds/packages/lang/python/python3-networkx/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-networkx/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-networkx
-PKG_VERSION:=2.5
-PKG_RELEASE:=1
-
-PYPI_NAME:=networkx
-PKG_HASH:=7978955423fbc9639c10498878be59caf99b44dc304c2286162fd24b458c1602
-
-PKG_LICENSE:=BSD-3-clause
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=W. Michael Petullo <mike@flyn.org>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-networkx
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Creating and manipulating graphs and networks
-  URL:=https://networkx.github.io/
-  DEPENDS:=+python3-light +python3-decorator
-endef
-
-define Package/python3-networkx/description
-NetworkX is a Python package for the creation, manipulation, and study
-of the structure, dynamics, and functions of complex networks.
-endef
-
-$(eval $(call Py3Package,python3-networkx))
-$(eval $(call BuildPackage,python3-networkx))
-$(eval $(call BuildPackage,python3-networkx-src))
diff -uprN a/feeds/packages/lang/python/python3-package.mk b/feeds/packages/lang/python/python3-package.mk
--- a/feeds/packages/lang/python/python3-package.mk	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-package.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,230 +0,0 @@
-#
-# Copyright (C) 2007-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-# Note: include this file after `include $(TOPDIR)/rules.mk in your package Makefile
-
-python3_mk_path:=$(dir $(lastword $(MAKEFILE_LIST)))
-include $(python3_mk_path)python3-host.mk
-
-PYTHON3_DIR:=$(STAGING_DIR)/usr
-PYTHON3_INC_DIR:=$(PYTHON3_DIR)/include/python$(PYTHON3_VERSION)
-PYTHON3_LIB_DIR:=$(PYTHON3_DIR)/lib/python$(PYTHON3_VERSION)
-
-PYTHON3_PKG_DIR:=/usr/lib/python$(PYTHON3_VERSION)/site-packages
-
-PYTHON3:=python$(PYTHON3_VERSION)
-
-PYTHON3PATH:=$(PYTHON3_LIB_DIR):$(STAGING_DIR)/$(PYTHON3_PKG_DIR):$(PKG_INSTALL_DIR)/$(PYTHON3_PKG_DIR)
-
--include $(PYTHON3_LIB_DIR)/config-$(PYTHON3_VERSION)/Makefile-vars
-
-# These configure args are needed in detection of path to Python header files
-# using autotools.
-CONFIGURE_ARGS += \
-	_python_sysroot="$(STAGING_DIR)" \
-	_python_prefix="/usr" \
-	_python_exec_prefix="/usr"
-
-PYTHON3_VARS = \
-	CC="$(TARGET_CC)" \
-	CCSHARED="$(TARGET_CC) $(FPIC)" \
-	CXX="$(TARGET_CXX)" \
-	LD="$(TARGET_CC)" \
-	LDSHARED="$(TARGET_CC) -shared" \
-	CFLAGS="$(TARGET_CFLAGS)" \
-	CPPFLAGS="$(TARGET_CPPFLAGS) -I$(PYTHON3_INC_DIR)" \
-	LDFLAGS="$(TARGET_LDFLAGS) -lpython$(PYTHON3_VERSION)" \
-	_PYTHON_HOST_PLATFORM="$(_PYTHON_HOST_PLATFORM)" \
-	__PYVENV_LAUNCHER__="/usr/bin/$(PYTHON3)" \
-	PYTHONPATH="$(PYTHON3PATH)" \
-	PYTHONDONTWRITEBYTECODE=1 \
-	PYTHONOPTIMIZE="" \
-	_python_sysroot="$(STAGING_DIR)" \
-	_python_prefix="/usr" \
-	_python_exec_prefix="/usr"
-
-# $(1) => directory of python script
-# $(2) => python script and its arguments
-# $(3) => additional variables
-define Python3/Run
-	cd "$(if $(strip $(1)),$(strip $(1)),.)" && \
-	$(PYTHON3_VARS) \
-	$(3) \
-	$(HOST_PYTHON3_BIN) $(2)
-endef
-
-# $(1) => build subdir
-# $(2) => additional arguments to setup.py
-# $(3) => additional variables
-define Python3/ModSetup
-	$(INSTALL_DIR) $(PKG_INSTALL_DIR)/$(PYTHON3_PKG_DIR)
-	$(call Python3/Run, \
-		$(PKG_BUILD_DIR)/$(strip $(1)), \
-		setup.py $(2), \
-		$(3))
-endef
-
-define Python3/FixShebang
-	$(SED) "1"'!'"b;s,^#"'!'".*python.*,#"'!'"/usr/bin/python3," -i --follow-symlinks $(1)
-endef
-
-# default max recursion is 10
-PYTHON3_COMPILEALL_MAX_RECURSION_LEVEL:=20
-
-# $(1) => directory of python source files to compile
-#
-# XXX [So that you won't goof as I did]
-# Note: Yes, I tried to use the -O & -OO flags here.
-#       However the generated byte-codes were not portable.
-#       So, we just stuck to un-optimized byte-codes,
-#       which is still way better/faster than running
-#       Python sources all the time.
-#
-# Setting a fixed hash seed value is less secure than using
-# random seed values, but is necessary for reproducible builds
-# (for now).
-#
-# Should revisit this when https://bugs.python.org/issue37596
-# (and other related reproducibility issues) are fixed.
-define Python3/CompileAll
-	$(call Python3/Run,, \
-		-m compileall -r "$(PYTHON3_COMPILEALL_MAX_RECURSION_LEVEL)" -b -d '/' $(1),
-		$(if $(SOURCE_DATE_EPOCH),PYTHONHASHSEED="$(SOURCE_DATE_EPOCH)")
-	)
-endef
-
-# $(1) => target directory
-define Python3/DeleteSourceFiles
-	$(FIND) $(1) -type f -name '*.py' -delete
-endef
-
-# $(1) => target directory
-define Python3/DeleteNonSourceFiles
-	$(FIND) $(1) -not -type d -not -name '*.py' -delete
-endef
-
-# $(1) => target directory
-define Python3/DeleteEmptyDirs
-	$(FIND) $(1) -mindepth 1 -empty -type d -not -path '$(1)/CONTROL' -not -path '$(1)/CONTROL/*' -delete
-endef
-
-
-# Py3Package
-
-define Py3Package/filespec/Default
-+|$(PYTHON3_PKG_DIR)
-endef
-
-# $(1) => package name
-# $(2) => src directory
-# $(3) => dest directory
-define Py3Package/ProcessFilespec
-	$(eval $(call shexport,Py3Package/$(1)/filespec))
-	$(SHELL) $(python3_mk_path)python-package-install.sh \
-		"$(2)" "$(3)" "$$$$$(call shvar,Py3Package/$(1)/filespec)"
-endef
-
-define Py3Package
-  define Package/$(1)-src
-    $(call Package/$(1))
-    DEPENDS:=
-    CONFLICTS:=
-    PROVIDES:=
-    EXTRA_DEPENDS:=
-    TITLE+= (sources)
-    USERID:=
-    MENU:=
-  endef
-
-  define Package/$(1)-src/description
-    $$(call Package/$(1)/description)
-
-    This package contains the Python source files for $(1).
-  endef
-
-  define Package/$(1)-src/config
-    depends on PACKAGE_$(1)
-  endef
-
-  # Add default PyPackage filespec none defined
-  ifeq ($(origin Py3Package/$(1)/filespec),undefined)
-    Py3Package/$(1)/filespec=$$(Py3Package/filespec/Default)
-  endif
-
-  ifndef Py3Package/$(1)/install
-    define Py3Package/$(1)/install
-	if [ -d $(PKG_INSTALL_DIR)/usr/bin ]; then \
-		$(INSTALL_DIR) $$(1)/usr/bin ; \
-		$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $$(1)/usr/bin/ ; \
-	fi
-    endef
-  endif
-
-  ifndef Package/$(1)/install
-    define Package/$(1)/install
-	$$(call Py3Package/$(1)/install,$$(1))
-	$$(call Py3Package/ProcessFilespec,$(1),$(PKG_INSTALL_DIR),$$(1))
-	$(FIND) $$(1) -name '*.exe' -delete
-	$$(call Python3/CompileAll,$$(1))
-	$$(call Python3/DeleteSourceFiles,$$(1))
-	$$(call Python3/DeleteEmptyDirs,$$(1))
-	if [ -d "$$(1)/usr/bin" ]; then \
-		$$(call Python3/FixShebang,$$(1)/usr/bin/*) ; \
-	fi
-    endef
-
-    define Package/$(1)-src/install
-	$$(call Py3Package/$(1)/install,$$(1))
-	$$(call Py3Package/ProcessFilespec,$(1),$(PKG_INSTALL_DIR),$$(1))
-	$$(call Python3/DeleteNonSourceFiles,$$(1))
-	$$(call Python3/DeleteEmptyDirs,$$(1))
-    endef
-  endif # Package/$(1)/install
-endef
-
-
-# Py3Build
-
-PYTHON3_PKG_SETUP_DIR ?=
-PYTHON3_PKG_SETUP_GLOBAL_ARGS ?=
-PYTHON3_PKG_SETUP_ARGS ?= --single-version-externally-managed
-PYTHON3_PKG_SETUP_VARS ?=
-
-PYTHON3_PKG_HOST_PIP_INSTALL_ARGS = \
-	$(foreach req,$(HOST_PYTHON3_PACKAGE_BUILD_DEPENDS), \
-		--requirement \
-		$(if $(findstring /,$(req)),$(req),$(python3_mk_path)host-pip-requirements/$(req).txt) \
-	)
-
-define Py3Build/FindStdlibDepends
-	$(SHELL) $(python3_mk_path)python3-find-stdlib-depends.sh -n "$(PKG_NAME)" "$(PKG_BUILD_DIR)"
-endef
-
-define Py3Build/Compile/Default
-	$(if $(PYTHON3_PKG_HOST_PIP_INSTALL_ARGS), \
-		$(call HostPython3/PipInstall,$(PYTHON3_PKG_HOST_PIP_INSTALL_ARGS)) \
-	)
-	$(call Python3/ModSetup, \
-		$(PYTHON3_PKG_SETUP_DIR), \
-		$(PYTHON3_PKG_SETUP_GLOBAL_ARGS) \
-		install --prefix="/usr" --root="$(PKG_INSTALL_DIR)" \
-		$(PYTHON3_PKG_SETUP_ARGS), \
-		$(PYTHON3_PKG_SETUP_VARS) \
-	)
-endef
-
-Py3Build/Configure=$(Py3Build/Configure/Default)
-Py3Build/Compile=$(Py3Build/Compile/Default)
-
-PYTHON3_PKG_BUILD ?= 1
-
-ifeq ($(strip $(PYTHON3_PKG_BUILD)),1)
-  ifeq ($(PY3),stdlib)
-    Hooks/Configure/Post+=Py3Build/FindStdlibDepends
-  endif
-  Build/Compile=$(Py3Build/Compile)
-endif
diff -uprN a/feeds/packages/lang/python/python3-packages/Makefile b/feeds/packages/lang/python/python3-packages/Makefile
--- a/feeds/packages/lang/python/python3-packages/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-packages/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,134 +0,0 @@
-#
-# Copyright (C) 2019 Yousong Zhou <yszhou4tech@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-packages
-PKG_VERSION:=1.0
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Yousong Zhou <yszhou4tech@gmail.com>
-
-#
-# NOTE: move the host module installation to Host/Compile when
-# HOST_CONFIG_DEPENDS is supported
-#
-# NOTE: PKG_CONFIG_DEPENDS cannot correctly track changes of string type config
-# options, so you may want to do manual cleanup on config change.
-#
-PKG_CONFIG_DEPENDS:= \
-	CONFIG_PACKAGE_python3-packages-list-host \
-	CONFIG_PACKAGE_python3-packages-list \
-	CONFIG_PACKAGE_python3-packages-list-cleanup \
-	CONFIG_PACKAGE_python3-packages-envs \
-	CONFIG_PACKAGE_python3-packages-extra-deps \
-	CONFIG_PACKAGE_python3-packages-index-url \
-	CONFIG_PACKAGE_python3-packages-pip-opts \
-
-PKG_BUILD_DEPENDS:=python3 python3/host
-
-include $(INCLUDE_DIR)/package.mk
-include ../python3-host.mk
-include ../python3-package.mk
-
-define Package/python3-packages
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A dummy package for packaging python3 modules with pip
-  DEPENDS:=@DEVEL +python3
-endef
-
-define Package/python3-packages/config
-if PACKAGE_python3-packages
-config PACKAGE_python3-packages-list-host
-	string "List of python3 packages to install on host"
-config PACKAGE_python3-packages-list
-	string "List of python3 packages to install on target"
-config PACKAGE_python3-packages-list-cleanup
-	string "List of python3 packages to cleanup to avoid clash with existing packages"
-config PACKAGE_python3-packages-envs
-	string "Extra environment variables to pass on to pip and its children on target build"
-config PACKAGE_python3-packages-extra-deps
-	string "List of deps fulfilled but not tracked by the build system"
-config PACKAGE_python3-packages-index-url
-	string "Index URL passed to pip with --index-url"
-config PACKAGE_python3-packages-pip-opts
-	string "Additional arguments to pip command line"
-endif
-endef
-
-CONFIG_PACKAGE_python3-packages-list-host:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-list-host))
-CONFIG_PACKAGE_python3-packages-list:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-list))
-CONFIG_PACKAGE_python3-packages-list-cleanup:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-list-cleanup))
-CONFIG_PACKAGE_python3-packages-envs:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-envs))
-CONFIG_PACKAGE_python3-packages-extra-deps:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-extra-deps))
-CONFIG_PACKAGE_python3-packages-index-url:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-index-url))
-CONFIG_PACKAGE_python3-packages-pip-opts:=$(call qstrip,$(CONFIG_PACKAGE_python3-packages-pip-opts))
-
-decr=$(word $(1),0 1 2 3 4 5 6 7 8 9 10)
-recur=$(if $(subst 0,,$(2)),$(call recur,$(1),$(call decr,$(2)),$(call $(1)$(2),$(3))),$(3))
-_req2dir1=$(subst >,gt,$(1))
-_req2dir2=$(subst <,lt,$(1))
-_req2dir3=$(subst >=,geq,$(1))
-_req2dir4=$(subst <=,leq,$(1))
-_req2dir5=$(subst ://,:::,$(1))
-_req2dir6=$(subst *,_,$(1))
-_req2dir7=$(subst ?,_,$(1))
-req2dir=$(call recur,_req2dir,7,$(1))
-
-# --ignore-installed, it may happen that host pip will ignore target install if
-#  it was already installed as host module, e.g. cffi deps of cryptograph
-#
-# --no-build-isolation, this is a new addition in pip3 and is needed when build
-#  depends on host modules
-HOST_PYTHON3_PIP_INSTALL=$(HOST_PYTHON3_PIP) install \
-	--root=$(1) \
-	--prefix=$(2) \
-	--ignore-installed \
-	--no-build-isolation \
-	--no-compile \
-	$(if $(CONFIG_PACKAGE_python3-packages-index-url), --index-url "$(CONFIG_PACKAGE_python3-packages-index-url)") \
-	$(if $(CONFIG_PACKAGE_python3-packages-pip-opts), $(CONFIG_PACKAGE_python3-packages-pip-opts)) \
-
-HOST_PYTHON3_PIP_INSTALL_HOST:=$(call HOST_PYTHON3_PIP_INSTALL,$(STAGING_DIR_HOSTPKG),"")
-HOST_PYTHON3_PIP_INSTALL_TARGET=$(call HOST_PYTHON3_PIP_INSTALL,$(PKG_INSTALL_DIR)/$(call req2dir,$(pkg)),/usr)
-HOST_PYTHON3_PIP_INSTALL_CLEANUP:=$(call HOST_PYTHON3_PIP_INSTALL,$(PKG_INSTALL_DIR)/_cleanup,/usr)
-
-define Build/Compile
-	$(foreach pkg,$(CONFIG_PACKAGE_python3-packages-list-host),
-		$(call HostPython3/Run,,$(HOST_PYTHON3_PIP_INSTALL_HOST) $(pkg))
-	)
-	$(foreach pkg,$(CONFIG_PACKAGE_python3-packages-list),
-		$(call Python3/Run,,$(call HOST_PYTHON3_PIP_INSTALL_TARGET,$(pkg)) $(pkg),$(CONFIG_PACKAGE_python3-packages-envs))
-	)
-	$(foreach pkg,$(CONFIG_PACKAGE_python3-packages-list-cleanup),
-		$(call Python3/Run,,$(HOST_PYTHON3_PIP_INSTALL_CLEANUP) $(pkg),$(CONFIG_PACKAGE_python3-packages-envs))
-	)
-endef
-
-define Package/python3-packages/install
-	$(foreach pkg,$(CONFIG_PACKAGE_python3-packages-list),
-		$(CP) "$(PKG_INSTALL_DIR)/$(call req2dir,$(pkg))"/* $(1)
-	)
-
-	find "$(PKG_INSTALL_DIR)/_cleanup" -mindepth 1 -depth | while read sf; do \
-		tf="$$$${sf#$(PKG_INSTALL_DIR)/_cleanup/}"; \
-		tf="$(1)/$$$$tf"; \
-		if [ -f "$$$$tf" -o -L "$$$$tf" ]; then \
-			rm -vf "$$$$tf"; \
-		elif [ -d "$$$$tf" ]; then \
-			rmdir -v -p "$$$$tf" || true; \
-		fi \
-	done
-endef
-
-define Package/python3-packages/extra_provides
-	echo $(CONFIG_PACKAGE_python3-packages-extra-deps) | tr ' ' '\n'
-endef
-
-$(eval $(call BuildPackage,python3-packages))
diff -uprN a/feeds/packages/lang/python/python3-packages/README.md b/feeds/packages/lang/python/python3-packages/README.md
--- a/feeds/packages/lang/python/python3-packages/README.md	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-packages/README.md	1970-01-01 08:00:00.000000000 +0800
@@ -1,72 +0,0 @@
-This package allows users to package python3 modules without creating package
-Makefiles for each individual module and their dependencies.  It provides a
-way making packaging python3 packages faster and may also facilitate the process
-of developing Makefiles for new python3 packages
-
-This is a raw DEVEL only package.  Using it may entails a lot of implementation
-details and you may need to resolve target dependencies and package details on
-your own
-
-- Third party python3 packages may depend on features not included in e.g.
-  python3-light
-- Some python3 modules may require host install of another module to progress,
-  e.g. target cryptography requires host cffi
-- Some python3 modules have external C library dependencies, e.g. pyOpenSSL
-  requires openssl libs
-- Some packages may have an autoconf configure script whose arguments we
-  cannot control with pip and has to be passed on (hacked) by overriding some
-  environment variables
-
-## How it works
-
-1. Install host modules required for building target modules
-2. Install each target module to separate directories
-3. Install another copy of modules for cleanup purposes to make list of
-   installed files to be removed from target modules installed in step 2
-
-Why should it be so
-
-1. Installing target cryptography requires host installation of cffi module
-2. cryptography requires setuptools and pip will install its own copy with
-   --ignore-installed.  When PACKAGE_python3-setuptools is also selected, opkg
-   will complain of data file clashes if it was not removed here.
-
-Pip will handle dependency requirements of python3 modules, but external
-dependencies like c libraries has to be prepared by the build system.  The
-issue is that there is currently no way to express such dependencies, thus may
-cause build failure, e.g. pycrypto requires the presence of libgmp to build
-successfully.
-
-## Tips
-
-If something goes wrong, we can add additional arguments to pip command
-line to check the detailed build process.  Some useful arguments may be
-
-- -v, for verbose output.  Repeat this option if the current level of
-  verbosity is not enough
-- --no-clean, for preserving pip build dir on build failure
-
-## Examples
-
-tornado (python-only module)
-
-	CONFIG_PACKAGE_python3-packages=y
-	CONFIG_PACKAGE_python3-packages-list="tornado==6.0.2"
-
-cryptography (requires installation of host modules and cleanup on target modules)
-
-	CONFIG_PACKAGE_python3-packages=y
-	CONFIG_PACKAGE_python3-packages-list-host="cffi"
-	CONFIG_PACKAGE_python3-packages-list="cryptography"
-	CONFIG_PACKAGE_python3-packages-list-cleanup="setuptools"
-
-pycrypto 2.7a1 (python module with autoconf configure script; depends on
-libgmp; broken wmmintrin.h).  2.6.1 does not work because of a flaw in
-the setup.py hardcoding host include directory
-
-	CONFIG_PACKAGE_libgmp=y
-	CONFIG_PACKAGE_python3-packages=y
-	CONFIG_PACKAGE_python3-packages-list="https://github.com/dlitz/pycrypto/archive/v2.7a1.tar.gz"
-	CONFIG_PACKAGE_python3-packages-envs="ac_cv_header_wmmintrin_h=no build_alias=$(GNU_HOST_NAME) host_alias=$(GNU_TARGET_NAME) target_alias=$(GNU_TARGET_NAME)"
-	CONFIG_PACKAGE_python3-packages-extra-deps="libgmp.so.10"
-
diff -uprN a/feeds/packages/lang/python/python3-pyinotify/Makefile b/feeds/packages/lang/python/python3-pyinotify/Makefile
--- a/feeds/packages/lang/python/python3-pyinotify/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-pyinotify/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-pyinotify
-PKG_VERSION:=0.9.6
-PKG_RELEASE:=1
-
-PYPI_NAME:=pyinotify
-PKG_HASH:=9c998a5d7606ca835065cdabc013ae6c66eb9ea76a00a1e3bc6e0cfe2b4f71f4
-
-PKG_MAINTAINER:=Gerald Kerma <gandalf@gk2.net>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYING
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyinotify
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Linux filesystem events monitoring
-  URL:=https://github.com/seb-m/pyinotify
-  DEPENDS:= +python3-light \
-  +python3-ctypes \
-  +python3-logging
-endef
-
-define Package/python3-pyinotify/description
-  Pyinotify is a Python module for monitoring filesystems changes.
-endef
-
-$(eval $(call Py3Package,python3-pyinotify))
-$(eval $(call BuildPackage,python3-pyinotify))
-$(eval $(call BuildPackage,python3-pyinotify-src))
diff -uprN a/feeds/packages/lang/python/python3-pyroute2/Makefile b/feeds/packages/lang/python/python3-pyroute2/Makefile
--- a/feeds/packages/lang/python/python3-pyroute2/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-pyroute2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) 2019-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-pyroute2
-PKG_VERSION:=0.5.16
-PKG_RELEASE:=1
-
-PYPI_NAME:=pyroute2
-PKG_HASH:=fe681a2d008cac815b9f287250d69a333fbfc2b2d89c37d58798104057149989
-
-PKG_MAINTAINER:=Martin Matějek <martin.matejek@nic.cz>
-PKG_LICENSE:=GPL-2.0-or-later Apache-2.0
-PKG_LICENSE_FILES:=LICENSE.GPL.v2 LICENSE.Apache.v2
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyroute2
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python netlink library
-  URL:=https://github.com/svinota/pyroute2
-  DEPENDS:= \
-	  +python3-light \
-	  +python3-distutils \
-	  +python3-logging \
-	  +python3-multiprocessing \
-	  +python3-sqlite3 \
-	  +python3-ctypes
-endef
-
-define Package/python3-pyroute2/description
-  Pyroute2 is a pure Python netlink library.
-  The library was started as an RTNL protocol implementation,
-  but now it supports many netlink protocols.
-endef
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-$(eval $(call Py3Package,python3-pyroute2))
-$(eval $(call BuildPackage,python3-pyroute2))
-$(eval $(call BuildPackage,python3-pyroute2-src))
diff -uprN a/feeds/packages/lang/python/python3-speedtest-cli/Makefile b/feeds/packages/lang/python/python3-speedtest-cli/Makefile
--- a/feeds/packages/lang/python/python3-speedtest-cli/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-speedtest-cli/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-speedtest-cli
-PKG_VERSION:=2.1.2
-PKG_RELEASE:=2
-
-PYPI_NAME:=speedtest-cli
-PKG_HASH:=cf1d386222f94c324e3125ba9a0d187e46d4a13dca08c023bdb9a23096be2e54
-
-PKG_MAINTAINER:=Jaymin Patel <jem.patel@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-speedtest-cli
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Command line interface for testing internet bandwidth using speedtest.net
-  URL:=https://github.com/sivel/speedtest-cli
-  DEPENDS:=+python3-light +python3-pkg-resources +python3-xml +python3-email \
-	  +python3-urllib +python3-codecs +python3-openssl
-endef
-
-define Package/python3-speedtest-cli/description
-  Command line interface for testing internet bandwidth using speedtest.net
-endef
-
-$(eval $(call Py3Package,python3-speedtest-cli))
-$(eval $(call BuildPackage,python3-speedtest-cli))
-$(eval $(call BuildPackage,python3-speedtest-cli-src))
diff -uprN a/feeds/packages/lang/python/python3-sqlparse/Makefile b/feeds/packages/lang/python/python3-sqlparse/Makefile
--- a/feeds/packages/lang/python/python3-sqlparse/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-sqlparse/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=sqlparse
-PKG_VERSION:=0.4.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=sqlparse
-PKG_HASH:=0f91fd2e829c44362cbcfab3e9ae12e22badaa8a29ad5ff599f9ec109f0454e8
-
-PKG_MAINTAINER:=Peter Stadler <peter.stadler@student.uibk.ac.at>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-sqlparse
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Non-validating SQL parser module.
-  URL:=https://github.com/andialbrecht/sqlparse
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-sqlparse/description
-  A non-validating SQL parser module. It provides support for parsing, splitting and formatting SQL statements.
-endef
-
-define Py3Package/python3-sqlparse/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/$(PYTHON3_PKG_DIR)/sqlparse/__main__.py \
-		$(1)/usr/bin/sqlformat
-endef
-
-$(eval $(call Py3Package,python3-sqlparse))
-$(eval $(call BuildPackage,python3-sqlparse))
-$(eval $(call BuildPackage,python3-sqlparse-src))
diff -uprN a/feeds/packages/lang/python/python3-unidecode/Makefile b/feeds/packages/lang/python/python3-unidecode/Makefile
--- a/feeds/packages/lang/python/python3-unidecode/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-unidecode/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-unidecode
-PKG_VERSION:=1.1.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=Unidecode
-PKG_HASH:=2b6aab710c2a1647e928e36d69c21e76b453cd455f4e2621000e54b2a9b8cce8
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=GPL-2.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-unidecode
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=ASCII transliterations of Unicode text
-  URL:=https://github.com/avian2/unidecode
-  DEPENDS:=+python3-light
-endef
-
-define Package/python-unidecode/description
-  Unidecode, lossy ASCII transliterations of Unicode text
-endef
-
-$(eval $(call Py3Package,python3-unidecode))
-$(eval $(call BuildPackage,python3-unidecode))
-$(eval $(call BuildPackage,python3-unidecode-src))
diff -uprN a/feeds/packages/lang/python/python3-version.mk b/feeds/packages/lang/python/python3-version.mk
--- a/feeds/packages/lang/python/python3-version.mk	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python3-version.mk	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
-#
-# Copyright (C) 2007-2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-# Note: keep in sync with setuptools & pip
-PYTHON3_VERSION_MAJOR:=3
-PYTHON3_VERSION_MINOR:=9
-PYTHON3_VERSION_MICRO:=12
-
-PYTHON3_VERSION:=$(PYTHON3_VERSION_MAJOR).$(PYTHON3_VERSION_MINOR)
-
-PYTHON3_SETUPTOOLS_PKG_RELEASE:=1
-PYTHON3_PIP_PKG_RELEASE:=1
-
-PYTHON3_SETUPTOOLS_VERSION:=58.1.0
-PYTHON3_PIP_VERSION:=22.0.4
diff -uprN a/feeds/packages/lang/python/python-aiohttp/Makefile b/feeds/packages/lang/python/python-aiohttp/Makefile
--- a/feeds/packages/lang/python/python-aiohttp/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-aiohttp/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2019-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=aiohttp
-PKG_VERSION:=3.7.4
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=5d84ecc73141d0a0d61ece0742bb7ff5751b0657dab8405f899d3ceb104cc7de
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:aio-libs_project:aiohttp
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-aiohttp
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Async http client/server framework (asyncio)
-  URL:=https://github.com/aio-libs/aiohttp
-  DEPENDS:= \
-	+python3-light \
-	+python3-attrs \
-	+python3-chardet \
-	+python3-multidict \
-	+python3-async-timeout \
-	+python3-yarl \
-	+python3-logging \
-	+python3-codecs \
-	+python3-cgi \
-	+python3-openssl \
-	+python3-typing-extensions
-endef
-
-define Package/python3-aiohttp/description
-  Asynchronous HTTP client/server framework for asyncio and Python3.
-endef
-
-$(eval $(call Py3Package,python3-aiohttp))
-$(eval $(call BuildPackage,python3-aiohttp))
-$(eval $(call BuildPackage,python3-aiohttp-src))
diff -uprN a/feeds/packages/lang/python/python-aiohttp-cors/Makefile b/feeds/packages/lang/python/python-aiohttp-cors/Makefile
--- a/feeds/packages/lang/python/python-aiohttp-cors/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-aiohttp-cors/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=aiohttp-cors
-PKG_VERSION:=0.7.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=aiohttp_cors
-PYPI_SOURCE_NAME:=aiohttp-cors
-PKG_HASH:=4d39c6d7100fd9764ed1caf8cebf0eb01bf5e3f24e2e073fda6234bc48b19f5d
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-aiohttp-cors
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=CORS support for aiohttp
-  URL:=https://github.com/aio-libs/aiohttp-cors
-  DEPENDS:= \
-	+python3-aiohttp \
-	+python3-light
-endef
-
-define Package/python3-aiohttp-cors/description
-  Implements Cross Origin Resource Sharing (CORS) support for aiohttp asyncio-powered asynchronous HTTP server.
-endef
-
-$(eval $(call Py3Package,python3-aiohttp-cors))
-$(eval $(call BuildPackage,python3-aiohttp-cors))
-$(eval $(call BuildPackage,python3-aiohttp-cors-src))
diff -uprN a/feeds/packages/lang/python/python-apipkg/Makefile b/feeds/packages/lang/python/python-apipkg/Makefile
--- a/feeds/packages/lang/python/python-apipkg/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-apipkg/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-apipkg
-PKG_VERSION:=1.5
-PKG_RELEASE:=2
-
-PYPI_NAME:=apipkg
-PKG_HASH:=37228cda29411948b422fae072f57e31d3396d2ee1c9783775980ee9c9990af6
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-apipkg
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:= Controler for exported namespace of a Python package a
-  URL:=https://github.com/pytest-dev/apipkg
-  DEPENDS:= +python3-light
-endef
-
-define Package/python3-apipkg/description
-  apipkg is used to control the exported namespace of a Python package and greatly reduce
-  the number of imports for users.
-endef
-
-$(eval $(call Py3Package,python3-apipkg))
-$(eval $(call BuildPackage,python3-apipkg))
-$(eval $(call BuildPackage,python3-apipkg-src))
diff -uprN a/feeds/packages/lang/python/python-appdirs/Makefile b/feeds/packages/lang/python/python-appdirs/Makefile
--- a/feeds/packages/lang/python/python-appdirs/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-appdirs/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,36 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-appdirs
-PKG_VERSION:=1.4.4
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-
-PYPI_NAME:=appdirs
-PKG_HASH:=7d5d0167b2b1ba821647616af46a749d1c653740dd0d2415100fe26e27afdf41
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-appdirs
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=https://github.com/ActiveState/appdirs
-  TITLE:=Determining platform-specific dirs
-  DEPENDS:=+python3-light
-endef
-
-define Package/python-appdirs/description
-  A small Python module for determining appropriate platform-specific
-  dirs, e.g. a "user data dir".
-endef
-
-$(eval $(call Py3Package,python3-appdirs))
-$(eval $(call BuildPackage,python3-appdirs))
-$(eval $(call BuildPackage,python3-appdirs-src))
diff -uprN a/feeds/packages/lang/python/python-asn1crypto/Makefile b/feeds/packages/lang/python/python-asn1crypto/Makefile
--- a/feeds/packages/lang/python/python-asn1crypto/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-asn1crypto/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-asn1crypto
-PKG_VERSION:=1.4.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=asn1crypto
-PKG_HASH:=f4f6e119474e58e04a2b1af817eb585b4fd72bdd89b998624712b5c99be7641c
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-asn1crypto
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=https://github.com/wbond/asn1crypto
-  TITLE:=Fast pure Python lib for ASN1 structures
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-asn1crypto/description
-Fast ASN.1 parser and serializer with definitions for
-private keys, public keys, certificates, CRL, OCSP,
-CMS, PKCS#3, PKCS#7, PKCS#8, PKCS#12, PKCS#5, X.509 and TSP
-endef
-
-$(eval $(call Py3Package,python3-asn1crypto))
-$(eval $(call BuildPackage,python3-asn1crypto))
-$(eval $(call BuildPackage,python3-asn1crypto-src))
diff -uprN a/feeds/packages/lang/python/python-astral/Makefile b/feeds/packages/lang/python/python-astral/Makefile
--- a/feeds/packages/lang/python/python-astral/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-astral/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-astral
-PKG_VERSION:=2.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=astral
-PKG_HASH:=e41d9967d5c48be421346552f0f4dedad43ff39a83574f5ff2ad32b6627b6fbe
-
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-astral
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Calculations for the position of the sun and moon
-  URL:=https://github.com/sffjunkie/astral
-  DEPENDS+= \
-      +python3-light \
-      +python3-pytz
-endef
-
-define Package/python3-astral/description
-Astral is a python module for calculating the times of various aspects of the sun and moon.
-endef
-
-$(eval $(call Py3Package,python3-astral))
-$(eval $(call BuildPackage,python3-astral))
-$(eval $(call BuildPackage,python3-astral-src))
diff -uprN a/feeds/packages/lang/python/python-async-timeout/Makefile b/feeds/packages/lang/python/python-async-timeout/Makefile
--- a/feeds/packages/lang/python/python-async-timeout/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-async-timeout/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=async-timeout
-PKG_VERSION:=3.0.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=async_timeout
-PYPI_SOURCE_NAME:=async-timeout
-PKG_HASH:=0c3c816a028d47f659d6ff5c745cb2acf1f966da1fe5c19c77a70282b25f4c5f
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-async-timeout
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Timeout context manager for asyncio programs
-  URL:=https://github.com/aio-libs/async-timeout
-  DEPENDS:= \
-  +python3-light \
-  +python3-asyncio
-endef
-
-define Package/python3-async-timeout/description
-Timeout context manager for asyncio programs
-endef
-
-$(eval $(call Py3Package,python3-async-timeout))
-$(eval $(call BuildPackage,python3-async-timeout))
-$(eval $(call BuildPackage,python3-async-timeout-src))
diff -uprN a/feeds/packages/lang/python/python-atomicwrites/Makefile b/feeds/packages/lang/python/python-atomicwrites/Makefile
--- a/feeds/packages/lang/python/python-atomicwrites/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/python-atomicwrites/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-atomicwrites
-PKG_VERSION:=1.4.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=atomicwrites
-PKG_HASH:=ae70396ad1a434f9c7046fd2dd196fc04b12f9e91ffb859164193be8b6168a7a
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-atomicwrites
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Atomic file writes
-  URL:=https://github.com/untitaker/python-atomicwrites
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-atomicwrites/description
-  Python library for atomic file writes.
-endef
-
-$(eval $(call Py3Package,python3-atomicwrites))
-$(eval $(call BuildPackage,python3-atomicwrites))
-$(eval $(call BuildPackage,python3-atomicwrites-src))
diff -uprN a/feeds/packages/lang/python/python-attrs/Makefile b/feeds/packages/lang/python/python-attrs/Makefile
--- a/feeds/packages/lang/python/python-attrs/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-attrs/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2016-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-attrs
-PKG_VERSION:=21.2.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=attrs
-PKG_HASH:=ef6aaac3ca6cd92904cdd0d83f629a15f18053ec84e6432106f7a4d04ae4f5fb
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-attrs
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Classes Without Boilerplate
-  URL:=https://www.attrs.org/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-attrs/description
-attrs is an MIT-licensed Python package with class decorators that ease
-the chores of implementing the most common attribute-related object
-protocols.
-endef
-
-$(eval $(call Py3Package,python3-attrs))
-$(eval $(call BuildPackage,python3-attrs))
-$(eval $(call BuildPackage,python3-attrs-src))
diff -uprN a/feeds/packages/lang/python/python-augeas/Makefile b/feeds/packages/lang/python/python-augeas/Makefile
--- a/feeds/packages/lang/python/python-augeas/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-augeas/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-augeas
-PKG_VERSION:=1.1.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=python-augeas
-PKG_HASH:=5194a49e86b40ffc57055f73d833f87e39dce6fce934683e7d0d5bbb8eff3b8c
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=LGPL-2.1-or-later
-PKG_LICENSE_FILES:=COPYING
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=cffi  # cffi>=1.0.0
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-augeas
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python bindings for Augeas
-  URL:=http://augeas.net
-  DEPENDS:=+python3-light +python3-cffi +augeas
-endef
-
-define Package/python3-augeas/description
-  Pure python bindings for Augeas.
-endef
-
-$(eval $(call Py3Package,python3-augeas))
-$(eval $(call BuildPackage,python3-augeas))
-$(eval $(call BuildPackage,python3-augeas-src))
diff -uprN a/feeds/packages/lang/python/python-augeas/patches/001-backport-ffi-fix.patch b/feeds/packages/lang/python/python-augeas/patches/001-backport-ffi-fix.patch
--- a/feeds/packages/lang/python/python-augeas/patches/001-backport-ffi-fix.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-augeas/patches/001-backport-ffi-fix.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,89 +0,0 @@
-From 712c2028568df7760bc98d95577e35709078bfea Mon Sep 17 00:00:00 2001
-From: Jeffery To <jeffery.to@gmail.com>
-Date: Sun, 8 Nov 2020 21:51:09 +0800
-Subject: [PATCH] Use CFFI in out-of-line API mode (#49)
-
-Currently, ffi.py is called during setup to generate augeas.py; this
-file would normally be used for out-of-line ABI mode. ffi.py is also
-imported at run-time, instead of the generated augeas.py, and used in
-in-line ABI mode.
-
-This changes usage of CFFI to out-of-line API mode (CFFI's "main mode of
-usage"): ffi.py is called during setup to generate _augeas.abi3.so (a C
-extension module); this generated module is imported at run-time.
-
-With this change, the headers/development files for augeas (i.e.
-libaugeas-dev on Debian, augeas-devel on Fedora, etc.) and the C
-compiler are required for build/setup. (These were not necessary
-previously.)
-
-Closes https://github.com/hercules-team/python-augeas/issues/48.
----
- augeas/__init__.py |  2 +-
- augeas/ffi.py      | 27 ++++++++++++++++++++++-----
- setup.py           |  1 +
- 3 files changed, 24 insertions(+), 6 deletions(-)
-
---- a/augeas/__init__.py
-+++ b/augeas/__init__.py
-@@ -32,7 +32,7 @@ format and the transformation into a tre
- 
- from sys import version_info as _pyver
- 
--from augeas.ffi import ffi, lib
-+from _augeas import ffi, lib
- 
- __author__ = "Nathaniel McCallum <nathaniel@natemccallum.com>"
- __credits__ = """Jeff Schroeder <jeffschroeder@computer.org>
---- a/augeas/ffi.py
-+++ b/augeas/ffi.py
-@@ -1,9 +1,28 @@
-+import os
-+import subprocess
-+
- from cffi import FFI
- 
-+def get_include_dirs():
-+    XML2_CONFIG = os.environ.get('XML2_CONFIG', 'xml2-config')
-+    PKG_CONFIG = os.environ.get('PKG_CONFIG', 'pkg-config')
-+    try:
-+        stdout = subprocess.check_output([XML2_CONFIG, '--cflags'])
-+    except (OSError, subprocess.CalledProcessError):
-+        try:
-+            stdout = subprocess.check_output([PKG_CONFIG, '--cflags', 'libxml-2.0'])
-+        except (OSError, subprocess.CalledProcessError):
-+            stdout = b''
-+    cflags = stdout.decode('utf-8').split()
-+    return [cflag[2:] for cflag in cflags if cflag.startswith('-I')]
-+
- ffi = FFI()
--ffi.set_source("augeas",
--               None,
--               libraries=['augeas'])
-+ffi.set_source("_augeas",
-+               """
-+               #include <augeas.h>
-+               """,
-+               libraries=['augeas'],
-+               include_dirs=get_include_dirs())
- 
- ffi.cdef("""
- typedef struct augeas augeas;
-@@ -44,7 +63,5 @@ const char *aug_error_details(augeas *au
- void free(void *);
- """)
- 
--lib = ffi.dlopen("augeas")
--
- if __name__ == "__main__":
-     ffi.compile(verbose=True)
---- a/setup.py
-+++ b/setup.py
-@@ -22,6 +22,7 @@ setup(name=name,
-       setup_requires=["cffi>=1.0.0"],
-       cffi_modules=["augeas/ffi.py:ffi"],
-       install_requires=["cffi>=1.0.0"],
-+      zip_safe=False,
-       url="http://augeas.net/",
-       classifiers=[
-           "Programming Language :: Python :: 2.7",
diff -uprN a/feeds/packages/lang/python/python-automat/Makefile b/feeds/packages/lang/python/python-automat/Makefile
--- a/feeds/packages/lang/python/python-automat/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-automat/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-automat
-PKG_VERSION:=20.2.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=Automat
-PKG_HASH:=7979803c74610e11ef0c0d68a2942b152df52da55336e0c9d58daf1831cbdf33
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_VARS:= \
-  PKG_VERSION="$(PKG_VERSION)"
-
-define Package/python3-automat
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Concise, idiomatic finite-state automata
-  URL:=https://github.com/glyph/Automat
-  DEPENDS:= \
-      +python3-light \
-      +python3-attrs \
-      +python3-six
-endef
-
-define Package/python3-automat/description
-Automat is a library for concise, idiomatic Python expression of
-finite-state automata (particularly deterministic finite-state
-transducers).
-endef
-
-define Py3Package/python3-automat/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/automat/_visualize.py
-endef
-
-$(eval $(call Py3Package,python3-automat))
-$(eval $(call BuildPackage,python3-automat))
-$(eval $(call BuildPackage,python3-automat-src))
diff -uprN a/feeds/packages/lang/python/python-automat/patches/001-do-not-use-setuptools-scm-m2r.patch b/feeds/packages/lang/python/python-automat/patches/001-do-not-use-setuptools-scm-m2r.patch
--- a/feeds/packages/lang/python/python-automat/patches/001-do-not-use-setuptools-scm-m2r.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-automat/patches/001-do-not-use-setuptools-scm-m2r.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,30 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -2,6 +2,7 @@
- Setup file for automat
- """
- 
-+import os
- from setuptools import setup, find_packages
- 
- try:
-@@ -14,7 +15,7 @@ except(IOError, ImportError):
- 
- setup(
-     name='Automat',
--    use_scm_version=True,
-+    version=os.getenv('PKG_VERSION'),
-     url='https://github.com/glyph/Automat',
-     description="""
-     Self-service finite-state machines for the programmer on the go.
-@@ -22,10 +23,6 @@ setup(
-     long_description=long_description,
-     packages=find_packages(exclude=[]),
-     package_dir={'automat': 'automat'},
--    setup_requires=[
--        'setuptools-scm',
--        'm2r',
--    ],
-     install_requires=[
-         "attrs>=19.2.0",
-         "six",
diff -uprN a/feeds/packages/lang/python/python-automat/patches/002-omit-visualize.patch b/feeds/packages/lang/python/python-automat/patches/002-omit-visualize.patch
--- a/feeds/packages/lang/python/python-automat/patches/002-omit-visualize.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-automat/patches/002-omit-visualize.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -27,15 +27,6 @@ setup(
-         "attrs>=19.2.0",
-         "six",
-     ],
--    extras_require={
--        "visualize": ["graphviz>0.5.1",
--                      "Twisted>=16.1.1"],
--    },
--    entry_points={
--        "console_scripts": [
--            "automat-visualize = automat._visualize:tool"
--        ],
--    },
-     author='Glyph',
-     author_email='glyph@twistedmatrix.com',
-     include_package_data=True,
diff -uprN a/feeds/packages/lang/python/python-automat/patches/003-omit-tests.patch b/feeds/packages/lang/python/python-automat/patches/003-omit-tests.patch
--- a/feeds/packages/lang/python/python-automat/patches/003-omit-tests.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-automat/patches/003-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -21,7 +21,7 @@ setup(
-     Self-service finite-state machines for the programmer on the go.
-     """.strip(),
-     long_description=long_description,
--    packages=find_packages(exclude=[]),
-+    packages=find_packages(exclude=["*._test", "*._test.*"]),
-     package_dir={'automat': 'automat'},
-     install_requires=[
-         "attrs>=19.2.0",
-@@ -30,6 +30,7 @@ setup(
-     author='Glyph',
-     author_email='glyph@twistedmatrix.com',
-     include_package_data=True,
-+    exclude_package_data={'':['_test/*']},
-     license="MIT",
-     keywords='fsm finite state machine automata',
-     classifiers=[
diff -uprN a/feeds/packages/lang/python/python-awscli/Makefile b/feeds/packages/lang/python/python-awscli/Makefile
--- a/feeds/packages/lang/python/python-awscli/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-awscli/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=awscli
-PKG_VERSION:=1.16.75
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=8d96ec0de325ea8271cc6aa95b7392bbf548ec4aabd3ffbcdc0619b64edd4a45
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-awscli
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=awscli
-  URL:=https://github.com/aws/aws-cli
-  DEPENDS:=+python3 \
-	+python3-yaml \
-	+python3-pyasn1 \
-	+python3-botocore \
-	+python3-rsa \
-	+python3-colorama \
-	+python3-docutils \
-	+python3-s3transfer
-endef
-
-define Package/python3-awscli/description
-This package provides a unified command line interface to Amazon Web Services.
-endef
-
-$(eval $(call Py3Package,python3-awscli))
-$(eval $(call BuildPackage,python3-awscli))
-$(eval $(call BuildPackage,python3-awscli-src))
diff -uprN a/feeds/packages/lang/python/python-babel/Makefile b/feeds/packages/lang/python/python-babel/Makefile
--- a/feeds/packages/lang/python/python-babel/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-babel/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2019-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-babel
-PKG_VERSION:=2.9.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=Babel
-PKG_HASH:=bc0c176f9f6a994582230df350aa6e05ba2ebe4b3ac317eab29d9be5d2768da0
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-babel
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Internationalization utilities
-  URL:=https://babel.pocoo.org/en/latest/
-  DEPENDS:= \
-    +python3-cgi \
-    +python3-decimal \
-    +python3-distutils \
-    +python3-email \
-    +python3-light \
-    +python3-pytz \
-    +python3-urllib
-endef
-
-define Package/python3-babel/description
-  Babel is an integrated collection of utilities that assist in
-  internationalizing and localizing Python applications
-  with an emphasis on web-based applications.
-endef
-
-$(eval $(call Py3Package,python3-babel))
-$(eval $(call BuildPackage,python3-babel))
-$(eval $(call BuildPackage,python3-babel-src))
diff -uprN a/feeds/packages/lang/python/python-bidict/Makefile b/feeds/packages/lang/python/python-bidict/Makefile
--- a/feeds/packages/lang/python/python-bidict/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-bidict/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-bidict
-PKG_VERSION:=0.21.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=bidict
-PKG_HASH:=4fa46f7ff96dc244abfc437383d987404ae861df797e2fd5b190e233c302be09
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MPL-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-bidict
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=The bidirectional mapping library
-  URL:=https://github.com/jab/bidict
-  DEPENDS:= \
-	+python3-light
-endef
-
-define Package/python3-bidict/description
-  The bidirectional mapping library for Python.
-endef
-
-$(eval $(call Py3Package,python3-bidict))
-$(eval $(call BuildPackage,python3-bidict))
-$(eval $(call BuildPackage,python3-bidict-src))
diff -uprN a/feeds/packages/lang/python/python-boto3/Makefile b/feeds/packages/lang/python/python-boto3/Makefile
--- a/feeds/packages/lang/python/python-boto3/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-boto3/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=boto3
-PKG_VERSION:=1.9.135
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=5e5805992e873e5687b5ef3b4c56c386ccb4df1c3364f8b8601d289e2f275be1
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-boto3
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=AWS SDK for Python (Boto3)
-  URL:=https://aws.amazon.com/sdk-for-python/
-  DEPENDS:=+python3 \
-	+python3-jmespath \
-	+python3-botocore \
-	+python3-s3transfer
-endef
-
-define Package/python3-boto3/description
-Boto3 is the Amazon Web Services (AWS) Software Development Kit (SDK) for Python,
-which allows Python developers to write software that makes use of services like Amazon S3 and Amazon EC2.
-endef
-
-$(eval $(call Py3Package,python3-boto3))
-$(eval $(call BuildPackage,python3-boto3))
-$(eval $(call BuildPackage,python3-boto3-src))
diff -uprN a/feeds/packages/lang/python/python-botocore/Makefile b/feeds/packages/lang/python/python-botocore/Makefile
--- a/feeds/packages/lang/python/python-botocore/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-botocore/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=botocore
-PKG_VERSION:=1.12.66
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=25c39ecc71356287cf79d66981ec77deca374e28043b19b2f818d48aa34272a1
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-botocore
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=botocore
-  URL:=https://github.com/boto/botocore
-  DEPENDS:=+python3 \
-	+python3-urllib3 \
-	+python3-docutils \
-	+python3-dateutil \
-	+python3-jmespath \
-	+python3-requests
-endef
-
-define Package/python3-botocore/description
-A low-level interface to a growing number of Amazon Web Services.
-The botocore package is the foundation for the AWS CLI as well as boto3.
-endef
-
-$(eval $(call Py3Package,python3-botocore))
-$(eval $(call BuildPackage,python3-botocore))
-$(eval $(call BuildPackage,python3-botocore-src))
diff -uprN a/feeds/packages/lang/python/python-cached-property/Makefile b/feeds/packages/lang/python/python-cached-property/Makefile
--- a/feeds/packages/lang/python/python-cached-property/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cached-property/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cached-property
-PKG_VERSION:=1.5.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=cached-property
-PKG_HASH:=9fa5755838eecbb2d234c3aa390bd80fbd3ac6b6869109bfc1b499f7bd89a130
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-define Package/python3-cached-property
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=A decorator for caching properties in classes
-  URL:=https://github.com/pydanny/cached-property
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-cached-property/description
-  A decorator for caching properties in classes.
-endef
-
-$(eval $(call Py3Package,python3-cached-property))
-$(eval $(call BuildPackage,python3-cached-property))
-$(eval $(call BuildPackage,python3-cached-property-src))
diff -uprN a/feeds/packages/lang/python/python-cachelib/Makefile b/feeds/packages/lang/python/python-cachelib/Makefile
--- a/feeds/packages/lang/python/python-cachelib/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cachelib/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cachelib
-PKG_VERSION:=0.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=cachelib
-PKG_HASH:=8b889b509d372095357b8705966e1282d40835c4126d7c2b07fd414514d8ae8d
-
-PKG_MAINTAINER:=Stepan Henek <stepan.henek@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-cachelib
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=cachelib
-  URL:=https://github.com/pallets/cachelib
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-cachelib/description
-  A collection of cache libraries in the same API interface.
-  Extracted from werkzeug.
-endef
-
-$(eval $(call Py3Package,python3-cachelib))
-$(eval $(call BuildPackage,python3-cachelib))
-$(eval $(call BuildPackage,python3-cachelib-src))
diff -uprN a/feeds/packages/lang/python/python-cachetools/Makefile b/feeds/packages/lang/python/python-cachetools/Makefile
--- a/feeds/packages/lang/python/python-cachetools/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cachetools/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cachetools
-PKG_VERSION:=3.1.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=cachetools
-PKG_HASH:=8ea2d3ce97850f31e4a08b0e2b5e6c34997d7216a9d2c98e0f3978630d4da69a
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-cachetools
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Extensible memoizing collections and decorators
-  URL:=https://github.com/tkem/cachetools
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-cachetools/description
-  This module provides various memoizing collections and decorators, including variants of the Python 3 Standard Library lru_cache function decorator.
-endef
-
-$(eval $(call Py3Package,python3-cachetools))
-$(eval $(call BuildPackage,python3-cachetools))
-$(eval $(call BuildPackage,python3-cachetools-src))
diff -uprN a/feeds/packages/lang/python/python-certifi/Makefile b/feeds/packages/lang/python/python-certifi/Makefile
--- a/feeds/packages/lang/python/python-certifi/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-certifi/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-certifi
-PKG_VERSION:=2021.5.30
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=MPL-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-PYPI_NAME:=certifi
-PKG_HASH:=2bbf76fd432960138b3ef6dda3dde0544f27cbf8546c458e60baf371917ba9ee
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-certifi
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python package for Mozilla's CA Bundle
-  URL:=http://certifi.io/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-certifi/description
-  Certifi is a carefully curated collection of Root Certificates for validating the
-  trustworthiness of SSL certificates while verifying the identity of TLS hosts.
-endef
-
-$(eval $(call Py3Package,python3-certifi))
-$(eval $(call BuildPackage,python3-certifi))
-$(eval $(call BuildPackage,python3-certifi-src))
diff -uprN a/feeds/packages/lang/python/python-cffi/Makefile b/feeds/packages/lang/python/python-cffi/Makefile
--- a/feeds/packages/lang/python/python-cffi/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cffi/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cffi
-PKG_VERSION:=1.14.6
-PKG_RELEASE:=1
-
-PYPI_NAME:=cffi
-PKG_HASH:=c9a875ce9d7fe32887784274dd533c57909b7b1dcadcc128a2ac21331a9765dd
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-cffi
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=C Foreign Function Interface
-  URL:=https://cffi.readthedocs.org/
-  DEPENDS:= \
-      +libffi \
-      +python3-light \
-      +python3-pycparser
-endef
-
-define Package/python3-cffi/description
-Foreign Function Interface for Python calling C code.
-endef
-
-$(eval $(call Py3Package,python3-cffi))
-$(eval $(call BuildPackage,python3-cffi))
-$(eval $(call BuildPackage,python3-cffi-src))
diff -uprN a/feeds/packages/lang/python/python-chardet/Makefile b/feeds/packages/lang/python/python-chardet/Makefile
--- a/feeds/packages/lang/python/python-chardet/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-chardet/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-chardet
-PKG_VERSION:=4.0.0
-PKG_RELEASE:=1
-PKG_LICENSE:=LGPL-2.1
-
-PYPI_NAME:=chardet
-PKG_HASH:=0d6f53a15db4120f2b08c94f11e7d93d2c911ee118b6b30a04ec3ee8310179fa
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-chardet
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-  URL:=https://github.com/chardet/chardet
-  TITLE:=Universal encoding detector
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-chardet/description
-  Universal encoding detector for Python 2 and 3
-endef
-
-define Py3Package/python3-chardet/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $(1)/usr/bin/
-	for bin in $(1)/usr/bin/*; do \
-		mv $$$$bin $$$${bin}3 ; \
-		$(LN) $$$${bin##*/}3 $$$$bin ; \
-	done
-endef
-
-$(eval $(call Py3Package,python3-chardet))
-$(eval $(call BuildPackage,python3-chardet))
-$(eval $(call BuildPackage,python3-chardet-src))
diff -uprN a/feeds/packages/lang/python/python-ciso8601/Makefile b/feeds/packages/lang/python/python-ciso8601/Makefile
--- a/feeds/packages/lang/python/python-ciso8601/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-ciso8601/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-ciso8601
-PKG_VERSION:=2.1.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=ciso8601
-PKG_HASH:=bdbb5b366058b1c87735603b23060962c439ac9be66f1ae91e8c7dbd7d59e262
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-ciso8601
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Fast ISO8601 date time parser for Python written in C
-  URL:=https://github.com/closeio/ciso8601
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-ciso8601/description
-  ciso8601 converts ISO 8601 or RFC 3339 date time strings into Python datetime objects.
-endef
-
-$(eval $(call Py3Package,python3-ciso8601))
-$(eval $(call BuildPackage,python3-ciso8601))
-$(eval $(call BuildPackage,python3-ciso8601-src))
-
diff -uprN a/feeds/packages/lang/python/python-colorama/Makefile b/feeds/packages/lang/python/python-colorama/Makefile
--- a/feeds/packages/lang/python/python-colorama/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-colorama/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,33 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=colorama
-PKG_VERSION:=0.4.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=05eed71e2e327246ad6b38c540c4a3117230b19679b875190486ddd2d721422d
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-colorama
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=colorama
-  URL:=https://github.com/tartley/colorama
-  DEPENDS:=+python3
-endef
-
-define Package/python3-colorama/description
-Makes ANSI escape character sequences
-(for producing colored terminal text and cursor positioning) work under MS Windows.
-endef
-
-$(eval $(call Py3Package,python3-colorama))
-$(eval $(call BuildPackage,python3-colorama))
-$(eval $(call BuildPackage,python3-colorama-src))
diff -uprN a/feeds/packages/lang/python/python-constantly/Makefile b/feeds/packages/lang/python/python-constantly/Makefile
--- a/feeds/packages/lang/python/python-constantly/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-constantly/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-constantly
-PKG_VERSION:=15.1.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=constantly
-PKG_HASH:=586372eb92059873e29eba4f9dec8381541b4d3834660707faf8ba59146dfc35
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-constantly
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Symbolic constants in Python
-  URL:=https://github.com/twisted/constantly
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-constantly/description
-A library that provides symbolic constant support. It includes
-collections and constants with text, numeric, and bit flag values.
-Originally twisted.python.constants from the Twisted project.
-endef
-
-$(eval $(call Py3Package,python3-constantly))
-$(eval $(call BuildPackage,python3-constantly))
-$(eval $(call BuildPackage,python3-constantly-src))
diff -uprN a/feeds/packages/lang/python/python-contextlib2/Makefile b/feeds/packages/lang/python/python-contextlib2/Makefile
--- a/feeds/packages/lang/python/python-contextlib2/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-contextlib2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-contextlib2
-PKG_VERSION:=0.6.0.post1
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-
-PYPI_NAME:=contextlib2
-PKG_HASH:=01f490098c18b19d2bd5bb5dc445b2054d2fa97f09a4280ba2c5f3c394c8162e
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-contextlib2
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=http://contextlib2.readthedocs.org
-  TITLE:=python3-contextlib2
-  DEPENDS:=+python3-light
-endef
-
-define Package/python-contextlib2/description
-  contextlib2 is a backport of the standard library’s contextlib module to earlier Python versions.
-endef
-
-$(eval $(call Py3Package,python3-contextlib2))
-$(eval $(call BuildPackage,python3-contextlib2))
-$(eval $(call BuildPackage,python3-contextlib2-src))
diff -uprN a/feeds/packages/lang/python/python-cryptodome/Makefile b/feeds/packages/lang/python/python-cryptodome/Makefile
--- a/feeds/packages/lang/python/python-cryptodome/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptodome/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cryptodome
-PKG_VERSION:=3.9.7
-PKG_RELEASE:=3
-
-PYPI_NAME:=pycryptodome
-PKG_HASH:=f1add21b6d179179b3c177c33d18a2186a09cc0d3af41ff5ed3f377360b869f2
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.rst
-PKG_MAINTAINER:=Richard Yu <yurichard3839@gmail.com>
-PKG_CPE_ID:=cpe:/a:pycryptodome:pycryptodome
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-PYTHON3_PKG_SETUP_VARS:= \
-  CONFIG_BIG_ENDIAN="$(CONFIG_BIG_ENDIAN)"
-
-define Package/python3-cryptodome
-  SECTION:=lang-python
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=A self-contained cryptographic library for Python
-  URL:=https://www.pycryptodome.org/
-  DEPENDS:=+libgmp +python3
-  PROVIDES:=python3-crypto
-endef
-
-define Package/python3-cryptodome/description
-PyCryptodome is a self-contained Python package of low-level
-cryptographic primitives.
-endef
-
-$(eval $(call Py3Package,python3-cryptodome))
-$(eval $(call BuildPackage,python3-cryptodome))
-$(eval $(call BuildPackage,python3-cryptodome-src))
diff -uprN a/feeds/packages/lang/python/python-cryptodome/patches/001-fix-libgmp-loading.patch b/feeds/packages/lang/python/python-cryptodome/patches/001-fix-libgmp-loading.patch
--- a/feeds/packages/lang/python/python-cryptodome/patches/001-fix-libgmp-loading.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptodome/patches/001-fix-libgmp-loading.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/lib/Crypto/Math/_IntegerGMP.py
-+++ b/lib/Crypto/Math/_IntegerGMP.py
-@@ -92,7 +92,7 @@ gmp_defs = """typedef unsigned long UNIX
-         int __gmpz_divisible_ui_p (const mpz_t n, UNIX_ULONG d);
-         """
- 
--lib = load_lib("gmp", gmp_defs)
-+lib = load_lib("libgmp.so.10", gmp_defs)
- implementation = {"library": "gmp", "api": backend}
- 
- if hasattr(lib, "__mpir_version"):
diff -uprN a/feeds/packages/lang/python/python-cryptodome/patches/002-omit-tests.patch b/feeds/packages/lang/python/python-cryptodome/patches/002-omit-tests.patch
--- a/feeds/packages/lang/python/python-cryptodome/patches/002-omit-tests.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptodome/patches/002-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -301,6 +301,9 @@ package_data = {
-     ],
- }
- 
-+packages = [i for i in packages if not i.startswith('Crypto.SelfTest')]
-+package_data = {k: v for k, v in package_data.items() if not k.startswith('Crypto.SelfTest')}
-+
- ext_modules = [
-     # Hash functions
-     Extension("Crypto.Hash._MD2",
diff -uprN a/feeds/packages/lang/python/python-cryptodomex/Makefile b/feeds/packages/lang/python/python-cryptodomex/Makefile
--- a/feeds/packages/lang/python/python-cryptodomex/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptodomex/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cryptodomex
-PKG_VERSION:=3.10.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=pycryptodomex
-PKG_HASH:=541cd3e3e252fb19a7b48f420b798b53483302b7fe4d9954c947605d0a263d62
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.rst
-PKG_MAINTAINER:=Richard Yu <yurichard3839@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-PYTHON3_PKG_SETUP_VARS:= \
-  CONFIG_BIG_ENDIAN="$(CONFIG_BIG_ENDIAN)"
-
-define Package/python3-cryptodomex
-  SECTION:=lang-python
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=A self-contained cryptographic library for Python
-  URL:=https://www.pycryptodome.org/
-  DEPENDS:=+libgmp +python3
-endef
-
-define Package/python3-cryptodomex/description
-PyCryptodome is a self-contained Python package of low-level
-cryptographic primitives.
-endef
-
-$(eval $(call Py3Package,python3-cryptodomex))
-$(eval $(call BuildPackage,python3-cryptodomex))
-$(eval $(call BuildPackage,python3-cryptodomex-src))
diff -uprN a/feeds/packages/lang/python/python-cryptodomex/patches/001-fix-libgmp-loading.patch b/feeds/packages/lang/python/python-cryptodomex/patches/001-fix-libgmp-loading.patch
--- a/feeds/packages/lang/python/python-cryptodomex/patches/001-fix-libgmp-loading.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptodomex/patches/001-fix-libgmp-loading.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/lib/Cryptodome/Math/_IntegerGMP.py
-+++ b/lib/Cryptodome/Math/_IntegerGMP.py
-@@ -95,7 +95,7 @@ gmp_defs = """typedef unsigned long UNIX
- if sys.platform == "win32":
-     raise ImportError("Not using GMP on Windows")
- 
--lib = load_lib("gmp", gmp_defs)
-+lib = load_lib("libgmp.so.10", gmp_defs)
- implementation = {"library": "gmp", "api": backend}
- 
- if hasattr(lib, "__mpir_version"):
diff -uprN a/feeds/packages/lang/python/python-cryptodomex/patches/002-omit-tests.patch b/feeds/packages/lang/python/python-cryptodomex/patches/002-omit-tests.patch
--- a/feeds/packages/lang/python/python-cryptodomex/patches/002-omit-tests.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptodomex/patches/002-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,12 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -275,6 +275,9 @@ package_data = {
-     "Crypto.Util" : [ "*.pyi" ],
- }
- 
-+packages = [i for i in packages if not i.startswith('Crypto.SelfTest')]
-+package_data = {k: v for k, v in package_data.items() if not k.startswith('Crypto.SelfTest')}
-+
- ext_modules = [
-     # Hash functions
-     Extension("Crypto.Hash._MD2",
diff -uprN a/feeds/packages/lang/python/python-cryptography/Makefile b/feeds/packages/lang/python/python-cryptography/Makefile
--- a/feeds/packages/lang/python/python-cryptography/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-cryptography
-PKG_VERSION:=3.4.8
-PKG_RELEASE:=1
-
-PYPI_NAME:=cryptography
-PKG_HASH:=94cc5ed4ceaefcbe5bf38c8fba6a21fc1d365bb8fb826ea1688e3370b2e24a1c
-
-PKG_LICENSE:=Apache-2.0 BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.APACHE LICENSE.BSD
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-PKG_BUILD_DEPENDS:=libffi/host
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=cffi  # cffi>=1.12
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-cryptography
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Cryptographic recipes and primitives
-  URL:=https://github.com/pyca/cryptography
-  DEPENDS:= \
-      +libopenssl \
-      +python3-light \
-      +python3-email \
-      +python3-openssl \
-      +python3-urllib \
-      +python3-cffi \
-      +python3-six
-endef
-
-define Package/python3-cryptography/description
-cryptography is a package which provides cryptographic recipes and
-primitives to Python developers.  Our goal is for it to be your "cryptographic
-standard library". It supports Python 2.6-2.7, Python 3.3+, and PyPy 2.6+.
-endef
-
-$(eval $(call Py3Package,python3-cryptography))
-$(eval $(call BuildPackage,python3-cryptography))
-$(eval $(call BuildPackage,python3-cryptography-src))
diff -uprN a/feeds/packages/lang/python/python-cryptography/patches/0001-Add-new-ASN1_STRING_get0_data-API.patch b/feeds/packages/lang/python/python-cryptography/patches/0001-Add-new-ASN1_STRING_get0_data-API.patch
--- a/feeds/packages/lang/python/python-cryptography/patches/0001-Add-new-ASN1_STRING_get0_data-API.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/patches/0001-Add-new-ASN1_STRING_get0_data-API.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
-From 7eefc9c72f522e414f953fee2d6ca9242c566107 Mon Sep 17 00:00:00 2001
-From: Rosen Penev <rosenp@gmail.com>
-Date: Fri, 7 Jun 2019 18:18:46 -0700
-Subject: [PATCH 1/7] Add new ASN1_STRING_get0_data API
-
-Introduced with OpenSSL 1.1
----
- src/_cffi_src/openssl/asn1.py | 4 ++++
- 1 file changed, 4 insertions(+)
-
---- a/src/_cffi_src/openssl/asn1.py
-+++ b/src/_cffi_src/openssl/asn1.py
-@@ -105,4 +105,7 @@ ASN1_NULL *ASN1_NULL_new(void);
- """
- 
- CUSTOMIZATIONS = """
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+#define ASN1_STRING_data ASN1_STRING_get0_data
-+#endif
- """
diff -uprN a/feeds/packages/lang/python/python-cryptography/patches/0002-Add-compatibility-for-X509_STORE_set_get_issuer.patch b/feeds/packages/lang/python/python-cryptography/patches/0002-Add-compatibility-for-X509_STORE_set_get_issuer.patch
--- a/feeds/packages/lang/python/python-cryptography/patches/0002-Add-compatibility-for-X509_STORE_set_get_issuer.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/patches/0002-Add-compatibility-for-X509_STORE_set_get_issuer.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,55 +0,0 @@
-From 77b25307a743eb52ef5ead24c956e577f5bd025f Mon Sep 17 00:00:00 2001
-From: Rosen Penev <rosenp@gmail.com>
-Date: Fri, 7 Jun 2019 20:42:04 -0700
-Subject: [PATCH 2/7] Add compatibility for X509_STORE_set_get_issuer
-
-Deprecated under OpenSSL 1.1.
----
- src/_cffi_src/openssl/x509_vfy.py                        | 8 ++++++++
- src/cryptography/hazmat/bindings/openssl/_conditional.py | 8 ++++++++
- 2 files changed, 16 insertions(+)
-
---- a/src/_cffi_src/openssl/x509_vfy.py
-+++ b/src/_cffi_src/openssl/x509_vfy.py
-@@ -21,6 +21,7 @@ TYPES = """
- static const long Cryptography_HAS_102_VERIFICATION;
- static const long Cryptography_HAS_110_VERIFICATION_PARAMS;
- static const long Cryptography_HAS_X509_STORE_CTX_GET_ISSUER;
-+static const long Cryptography_HAS_X509_CB_ISSUER_CHECK;
- 
- typedef ... Cryptography_STACK_OF_ASN1_OBJECT;
- typedef ... Cryptography_STACK_OF_X509_OBJECT;
-@@ -257,4 +258,11 @@ void (*X509_STORE_set_get_issuer)(X509_S
- #else
- static const long Cryptography_HAS_X509_STORE_CTX_GET_ISSUER = 1;
- #endif
-+
-+#ifndef X509_V_FLAG_CB_ISSUER_CHECK
-+static const long Cryptography_HAS_X509_CB_ISSUER_CHECK = 0;
-+#define X509_V_FLAG_CB_ISSUER_CHECK	0x0
-+#else
-+static const long Cryptography_HAS_X509_CB_ISSUER_CHECK = 1;
-+#endif
- """
---- a/src/cryptography/hazmat/bindings/openssl/_conditional.py
-+++ b/src/cryptography/hazmat/bindings/openssl/_conditional.py
-@@ -269,6 +269,11 @@ def cryptography_has_get_proto_version()
-         "SSL_get_max_proto_version",
-     ]
- 
-+def cryptography_has_x509_cb_issuer_check():
-+    return [
-+        "X509_V_FLAG_CB_ISSUER_CHECK",
-+    ]
-+
- 
- # This is a mapping of
- # {condition: function-returning-names-dependent-on-that-condition} so we can
-@@ -318,4 +323,7 @@ CONDITIONAL_NAMES = {
-     "Cryptography_HAS_VERIFIED_CHAIN": cryptography_has_verified_chain,
-     "Cryptography_HAS_SRTP": cryptography_has_srtp,
-     "Cryptography_HAS_GET_PROTO_VERSION": cryptography_has_get_proto_version,
-+    "Cryptography_HAS_X509_CB_ISSUER_CHECK": (
-+        cryptography_has_x509_cb_issuer_check
-+    ),
- }
diff -uprN a/feeds/packages/lang/python/python-cryptography/patches/0003-Add-compatibility-for-deprecated-TLS-methods.patch b/feeds/packages/lang/python/python-cryptography/patches/0003-Add-compatibility-for-deprecated-TLS-methods.patch
--- a/feeds/packages/lang/python/python-cryptography/patches/0003-Add-compatibility-for-deprecated-TLS-methods.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/patches/0003-Add-compatibility-for-deprecated-TLS-methods.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,127 +0,0 @@
-From 7a55c37e01114dfd1ae733b099fdee1ba1889449 Mon Sep 17 00:00:00 2001
-From: Rosen Penev <rosenp@gmail.com>
-Date: Fri, 7 Jun 2019 21:00:46 -0700
-Subject: [PATCH 3/7] Add compatibility for deprecated TLS methods
-
----
- src/_cffi_src/openssl/ssl.py                  | 45 +++++++++++++++++--
- .../hazmat/bindings/openssl/_conditional.py   | 36 +++++++++++++++
- 2 files changed, 77 insertions(+), 4 deletions(-)
-
---- a/src/_cffi_src/openssl/ssl.py
-+++ b/src/_cffi_src/openssl/ssl.py
-@@ -13,12 +13,14 @@ TYPES = """
- static const long Cryptography_HAS_SSL_ST;
- static const long Cryptography_HAS_TLS_ST;
- static const long Cryptography_HAS_SSL3_METHOD;
--static const long Cryptography_HAS_TLSv1_1;
--static const long Cryptography_HAS_TLSv1_2;
-+static const long Cryptography_HAS_TLS1_METHOD;
-+static const long Cryptography_HAS_TLS1_1_METHOD;
-+static const long Cryptography_HAS_TLS1_2_METHOD;
- static const long Cryptography_HAS_TLSv1_3;
- static const long Cryptography_HAS_SECURE_RENEGOTIATION;
- static const long Cryptography_HAS_SSL_CTX_CLEAR_OPTIONS;
- static const long Cryptography_HAS_DTLS;
-+static const long Cryptography_HAS_DTLS1_METHOD;
- static const long Cryptography_HAS_SIGALGS;
- static const long Cryptography_HAS_PSK;
- static const long Cryptography_HAS_VERIFIED_CHAIN;
-@@ -548,8 +550,43 @@ static const long Cryptography_HAS_SSL3_
- 
- static const long Cryptography_HAS_RELEASE_BUFFERS = 1;
- static const long Cryptography_HAS_OP_NO_COMPRESSION = 1;
--static const long Cryptography_HAS_TLSv1_1 = 1;
--static const long Cryptography_HAS_TLSv1_2 = 1;
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+static const long Cryptography_HAS_TLS1_METHOD = 0;
-+const SSL_METHOD* (*TLSv1_method)(void) = NULL;
-+const SSL_METHOD* (*TLSv1_server_method)(void) = NULL;
-+const SSL_METHOD* (*TLSv1_client_method)(void) = NULL;
-+#else
-+static const long Cryptography_HAS_TLS1_METHOD = 1;
-+#endif
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+static const long Cryptography_HAS_TLS1_1_METHOD = 0;
-+const SSL_METHOD* (*TLSv1_1_method)(void) = NULL;
-+const SSL_METHOD* (*TLSv1_1_server_method)(void) = NULL;
-+const SSL_METHOD* (*TLSv1_1_client_method)(void) = NULL;
-+#else
-+static const long Cryptography_HAS_TLS1_1_METHOD = 1;
-+#endif
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+static const long Cryptography_HAS_TLS1_2_METHOD = 0;
-+const SSL_METHOD* (*TLSv1_2_method)(void) = NULL;
-+const SSL_METHOD* (*TLSv1_2_server_method)(void) = NULL;
-+const SSL_METHOD* (*TLSv1_2_client_method)(void) = NULL;
-+#else
-+static const long Cryptography_HAS_TLS1_2_METHOD = 1;
-+#endif
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+static const long Cryptography_HAS_DTLS1_METHOD = 0;
-+const SSL_METHOD* (*DTLSv1_method)(void) = NULL;
-+const SSL_METHOD* (*DTLSv1_server_method)(void) = NULL;
-+const SSL_METHOD* (*DTLSv1_client_method)(void) = NULL;
-+#else
-+static const long Cryptography_HAS_DTLS1_METHOD = 1;
-+#endif
-+
- static const long Cryptography_HAS_SSL_OP_MSIE_SSLV2_RSA_PADDING = 1;
- static const long Cryptography_HAS_SSL_OP_NO_TICKET = 1;
- static const long Cryptography_HAS_SSL_SET_SSL_CTX = 1;
---- a/src/cryptography/hazmat/bindings/openssl/_conditional.py
-+++ b/src/cryptography/hazmat/bindings/openssl/_conditional.py
-@@ -31,6 +31,38 @@ def cryptography_has_ssl3_method():
-     ]
- 
- 
-+def cryptography_has_tls1_method():
-+    return [
-+        "TLSv1_method",
-+        "TLSv1_client_method",
-+        "TLSv1_server_method",
-+    ]
-+
-+
-+def cryptography_has_tls1_1_method():
-+    return [
-+        "TLSv1_1_method",
-+        "TLSv1_1_client_method",
-+        "TLSv1_1_server_method",
-+    ]
-+
-+
-+def cryptography_has_tls1_2_method():
-+    return [
-+        "TLSv1_2_method",
-+        "TLSv1_2_client_method",
-+        "TLSv1_2_server_method",
-+    ]
-+
-+
-+def cryptography_has_dtls1_method():
-+    return [
-+        "DTLSv1_method",
-+        "DTLSv1_client_method",
-+        "DTLSv1_server_method",
-+    ]
-+
-+
- def cryptography_has_102_verification():
-     return [
-         "X509_V_ERR_SUITE_B_INVALID_VERSION",
-@@ -285,6 +317,10 @@ CONDITIONAL_NAMES = {
-     "Cryptography_HAS_RSA_OAEP_MD": cryptography_has_rsa_oaep_md,
-     "Cryptography_HAS_RSA_OAEP_LABEL": cryptography_has_rsa_oaep_label,
-     "Cryptography_HAS_SSL3_METHOD": cryptography_has_ssl3_method,
-+    "Cryptography_HAS_TLS1_METHOD": cryptography_has_tls1_method,
-+    "Cryptography_HAS_TLS1_1_METHOD": cryptography_has_tls1_1_method,
-+    "Cryptography_HAS_TLS1_2_METHOD": cryptography_has_tls1_2_method,
-+    "Cryptography_HAS_DTLS1_METHOD": cryptography_has_dtls1_method,
-     "Cryptography_HAS_102_VERIFICATION": cryptography_has_102_verification,
-     "Cryptography_HAS_110_VERIFICATION_PARAMS": (
-         cryptography_has_110_verification_params
diff -uprN a/feeds/packages/lang/python/python-cryptography/patches/0004-disable-rust.patch b/feeds/packages/lang/python/python-cryptography/patches/0004-disable-rust.patch
--- a/feeds/packages/lang/python/python-cryptography/patches/0004-disable-rust.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/patches/0004-disable-rust.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -11,7 +11,7 @@ import sys
- from setuptools import find_packages, setup
- 
- try:
--    from setuptools_rust import RustExtension
-+    pass
- except ImportError:
-     print(
-         """
-@@ -45,7 +45,7 @@ setuptools_rust = "setuptools-rust>=0.11
- install_requirements = ["cffi>=1.12"]
- setup_requirements = install_requirements + [setuptools_rust]
- 
--if os.environ.get("CRYPTOGRAPHY_DONT_BUILD_RUST"):
-+if True:
-     rust_extensions = []
- else:
-     rust_extensions = [
diff -uprN a/feeds/packages/lang/python/python-cryptography/patches/0006-Add-X509_STORE_CTX_trusted_stack-compatibility-macro.patch b/feeds/packages/lang/python/python-cryptography/patches/0006-Add-X509_STORE_CTX_trusted_stack-compatibility-macro.patch
--- a/feeds/packages/lang/python/python-cryptography/patches/0006-Add-X509_STORE_CTX_trusted_stack-compatibility-macro.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/patches/0006-Add-X509_STORE_CTX_trusted_stack-compatibility-macro.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,25 +0,0 @@
-From 98bf3eda9c950158cf6a0a6a698dd365712201b1 Mon Sep 17 00:00:00 2001
-From: Rosen Penev <rosenp@gmail.com>
-Date: Mon, 25 Nov 2019 12:06:16 -0800
-Subject: [PATCH 6/7] Add X509_STORE_CTX_trusted_stack compatibility macro
-
-Deprecated in 1.1
-
-Signed-off-by: Rosen Penev <rosenp@gmail.com>
----
- src/_cffi_src/openssl/x509_vfy.py | 12 +++++++++++-
- 1 file changed, 11 insertions(+), 1 deletion(-)
-
---- a/src/_cffi_src/openssl/x509_vfy.py
-+++ b/src/_cffi_src/openssl/x509_vfy.py
-@@ -265,4 +265,10 @@ static const long Cryptography_HAS_X509_
- #else
- static const long Cryptography_HAS_X509_CB_ISSUER_CHECK = 1;
- #endif
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+#define X509_STORE_CTX_trusted_stack X509_STORE_CTX_set0_trusted_stack
-+#define X509_STORE_CTX_set_chain X509_STORE_CTX_set0_untrusted
-+#define X509_STORE_CTX_get_chain X509_STORE_CTX_get1_chain
-+#endif
- """
diff -uprN a/feeds/packages/lang/python/python-cryptography/patches/0007-Add-defines-for-totally-deprecated-functions.patch b/feeds/packages/lang/python/python-cryptography/patches/0007-Add-defines-for-totally-deprecated-functions.patch
--- a/feeds/packages/lang/python/python-cryptography/patches/0007-Add-defines-for-totally-deprecated-functions.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-cryptography/patches/0007-Add-defines-for-totally-deprecated-functions.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,56 +0,0 @@
-From e96af1cee523c5551c7fc5f36eba8e271fa51b20 Mon Sep 17 00:00:00 2001
-From: Rosen Penev <rosenp@gmail.com>
-Date: Thu, 5 Dec 2019 12:52:13 -0800
-Subject: [PATCH 7/7] Add defines for totally deprecated functions
-
----
- src/_cffi_src/openssl/conf.py   | 4 ++++
- src/_cffi_src/openssl/crypto.py | 4 ++++
- src/_cffi_src/openssl/ecdh.py   | 3 +++
- src/_cffi_src/openssl/ssl.py    | 5 +++++
- 4 files changed, 16 insertions(+)
-
---- a/src/_cffi_src/openssl/conf.py
-+++ b/src/_cffi_src/openssl/conf.py
-@@ -17,4 +17,8 @@ void OPENSSL_no_config(void);
- """
- 
- CUSTOMIZATIONS = """
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+#define OPENSSL_config(x) 0
-+#define OPENSSL_no_config() 0
-+#endif
- """
---- a/src/_cffi_src/openssl/crypto.py
-+++ b/src/_cffi_src/openssl/crypto.py
-@@ -113,4 +113,8 @@ void *Cryptography_realloc_wrapper(void
- void Cryptography_free_wrapper(void *ptr, const char *path, int line) {
-     free(ptr);
- }
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+#define CRYPTO_get_locking_callback() 0
-+#endif
- """
---- a/src/_cffi_src/openssl/ecdh.py
-+++ b/src/_cffi_src/openssl/ecdh.py
-@@ -17,4 +17,7 @@ long SSL_CTX_set_ecdh_auto(SSL_CTX *, in
- """
- 
- CUSTOMIZATIONS = """
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+#define SSL_CTX_set_ecdh_auto(a, b) ((b) != 0)
-+#endif
- """
---- a/src/_cffi_src/openssl/ssl.py
-+++ b/src/_cffi_src/openssl/ssl.py
-@@ -745,4 +745,9 @@ long (*SSL_get_max_proto_version)(SSL *)
- #else
- static const long Cryptography_HAS_GET_PROTO_VERSION = 1;
- #endif
-+
-+#if (OPENSSL_API_COMPAT >= 0x10100000L) && !CRYPTOGRAPHY_IS_LIBRESSL
-+#define SSL_library_init() 1
-+#define SSL_load_error_strings() 0
-+#endif
- """
diff -uprN a/feeds/packages/lang/python/python-curl/Makefile b/feeds/packages/lang/python/python-curl/Makefile
--- a/feeds/packages/lang/python/python-curl/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-curl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,55 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=pycurl
-PKG_VERSION:=7.43.0.6
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=8301518689daefa53726b59ded6b48f33751c383cf987b0ccfbbc4ed40281325
-
-PKG_MAINTAINER:=Waldemar Konik <informatyk74@interia.pl>
-PKG_LICENSE:=LGPL-2.1
-PKG_LICENSE_FILES:=COPYING-LGPL
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-curl
-  CATEGORY:=Languages
-  SECTION:=lang
-  SUBMENU:=Python
-  TITLE:=Python module interface to the cURL library
-  URL:=http://pycurl.io/
-  DEPENDS:=+libcurl +python3
-endef
-
-define Package/python3-curl/description
-PycURL is a Python interface to libcurl, the multiprotocol file transfer library.
-endef
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-ifdef CONFIG_LIBCURL_OPENSSL
-  PYTHON3_PKG_SETUP_ARGS+=--with-openssl
-endif
-
-ifdef CONFIG_LIBCURL_GNUTLS
-  PYTHON3_PKG_SETUP_ARGS+=--with-gnutls
-endif
-
-ifdef CONFIG_LIBCURL_MBEDTLS
-  PYTHON3_PKG_SETUP_ARGS+=--with-mbedtls
-endif
-
-ifdef CONFIG_LIBCURL_WOLFSSL
-  PYTHON3_PKG_SETUP_ARGS+=--with-wolfssl
-endif
-
-$(eval $(call Py3Package,python3-curl))
-$(eval $(call BuildPackage,python3-curl))
-$(eval $(call BuildPackage,python3-curl-src))
diff -uprN a/feeds/packages/lang/python/python-dateutil/Makefile b/feeds/packages/lang/python/python-dateutil/Makefile
--- a/feeds/packages/lang/python/python-dateutil/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-dateutil/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-dateutil
-PKG_VERSION:=2.8.1
-PKG_RELEASE:=3
-PKG_LICENSE:=BSD-2-Clause
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=73ebfe9dbf22e832286dafa60473e4cd239f8592f699aa5adaf10050e6e1823c
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-
-include ../python3-package.mk
-
-define Package/python3-dateutil
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Extensions to the standard Python datetime module
-  URL:=https://dateutil.readthedocs.org/
-  DEPENDS:=+python3 +python3-six
-endef
-
-define Package/python3-dateutil/description
-  Extensions to the standard Python datetime module
-endef
-
-$(eval $(call Py3Package,python3-dateutil))
-$(eval $(call BuildPackage,python3-dateutil))
-$(eval $(call BuildPackage,python3-dateutil-src))
diff -uprN a/feeds/packages/lang/python/python-decorator/Makefile b/feeds/packages/lang/python/python-decorator/Makefile
--- a/feeds/packages/lang/python/python-decorator/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-decorator/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,31 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-decorator
-PKG_VERSION:=4.4.2
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-PKG_CPE_ID:=cpe:/a:python:decorator
-
-PYPI_NAME:=decorator
-PKG_HASH:=e3a62f0520172440ca0dcc823749319382e377f37f140a0b99ef45fecb84bfe7
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-decorator
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=https://github.com/micheles/decorator
-  TITLE:=python3-decodator
-  DEPENDS:=+python3-light
-endef
-
-$(eval $(call Py3Package,python3-decorator))
-$(eval $(call BuildPackage,python3-decorator))
-$(eval $(call BuildPackage,python3-decorator-src))
diff -uprN a/feeds/packages/lang/python/python-defusedxml/Makefile b/feeds/packages/lang/python/python-defusedxml/Makefile
--- a/feeds/packages/lang/python/python-defusedxml/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-defusedxml/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-defusedxml
-PKG_VERSION:=0.6.0
-PKG_RELEASE:=3
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cote2004-github@yahoo.com>
-PKG_LICENSE:=Python-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-PYPI_NAME:=defusedxml
-PKG_HASH:=f684034d135af4c6cbb949b8a4d2ed61634515257a67299e5f940fbaa34377f5
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-defusedxml
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=XML bomb protection for Python
-  URL:=https://github.com/tiran/defusedxml
-  DEPENDS:= \
-	+python3-light \
-	+python3-xml
-endef
-
-define Package/python3-defusedxml/description
-  The defusedxml package contains several Python-only workarounds and fixes for
-  denial of service and other vulnerabilities in Python’s XML libraries.
-endef
-
-$(eval $(call Py3Package,python3-defusedxml))
-$(eval $(call BuildPackage,python3-defusedxml))
-$(eval $(call BuildPackage,python3-defusedxml-src))
diff -uprN a/feeds/packages/lang/python/python-distro/Makefile b/feeds/packages/lang/python/python-distro/Makefile
--- a/feeds/packages/lang/python/python-distro/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-distro/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-distro
-PKG_VERSION:=1.5.0
-PKG_RELEASE:=3
-
-PYPI_NAME:=distro
-PKG_HASH:=0e58756ae38fbd8fc3020d54badb8eae17c5b9dcbed388b17bb55b8a5928df92
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-distro
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Distro - an OS platform information API
-  URL:=https://github.com/nir0s/distro
-  DEPENDS:=+python3-light +python3-logging
-endef
-
-define Package/python3-distro/description
-  A much more elaborate, renewed alternative implementation for Python's
-  platform.linux_distribution()
-endef
-
-$(eval $(call Py3Package,python3-distro))
-$(eval $(call BuildPackage,python3-distro))
-$(eval $(call BuildPackage,python3-distro-src))
diff -uprN a/feeds/packages/lang/python/python-dns/Makefile b/feeds/packages/lang/python/python-dns/Makefile
--- a/feeds/packages/lang/python/python-dns/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-dns/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2014 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-dns
-PKG_VERSION:=2.1.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=dnspython
-PYPI_SOURCE_EXT:=zip
-PKG_HASH:=e4a87f0b573201a0f3727fa18a516b055fd1107e0e5477cded4a2de497df1dd4
-
-PKG_LICENSE:=ISC
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-dns
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=dnspython
-  URL:=http://www.dnspython.org/
-  DEPENDS:=+python3
-endef
-
-define Package/python3-dns/description
- dnspython is a DNS toolkit for Python. It supports almost all record types. It can be used for queries, zone transfers, and dynamic updates. It supports TSIG authenticated messages and EDNS0.
-endef
-
-$(eval $(call Py3Package,python3-dns))
-$(eval $(call BuildPackage,python3-dns))
-$(eval $(call BuildPackage,python3-dns-src))
diff -uprN a/feeds/packages/lang/python/python-docker/Makefile b/feeds/packages/lang/python/python-docker/Makefile
--- a/feeds/packages/lang/python/python-docker/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-docker/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-docker
-PKG_VERSION:=4.4.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=docker
-PKG_HASH:=0604a74719d5d2de438753934b755bfcda6f62f49b8e4b30969a4b0a2a8a1220
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-define Package/python3-docker
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=A Python library for the Docker Engine API
-  URL:=https://github.com/docker/docker-py
-  DEPENDS:=\
-	  +python3-light +python3-distutils +python3-logging \
-	  +python3-openssl +python3-paramiko +python3-six +python3-requests \
-	  +python3-websocket-client
-endef
-
-define Package/python3-docker/description
-  A Python library for the Docker Engine API. It lets you do anything the
-  docker command does, but from within Python apps – run containers manage
-  containers, manage Swarms, etc.
-endef
-
-$(eval $(call Py3Package,python3-docker))
-$(eval $(call BuildPackage,python3-docker))
-$(eval $(call BuildPackage,python3-docker-src))
diff -uprN a/feeds/packages/lang/python/python-dockerpty/Makefile b/feeds/packages/lang/python/python-dockerpty/Makefile
--- a/feeds/packages/lang/python/python-dockerpty/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-dockerpty/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-dockerpty
-PKG_VERSION:=0.4.1
-PKG_RELEASE:=3
-
-PYPI_NAME:=dockerpty
-PKG_HASH:=69a9d69d573a0daa31bcd1c0774eeed5c15c295fe719c61aca550ed1393156ce
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-define Package/python3-dockerpty
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Python library to use the pseudo-tty of a docker container
-  URL:=https://github.com/d11wtq/dockerpty
-  DEPENDS:=+python3-light +python3-openssl +python3-six
-endef
-
-define Package/python3-dockerpty/description
-  Python library to use the pseudo-tty of a docker container
-endef
-
-$(eval $(call Py3Package,python3-dockerpty))
-$(eval $(call BuildPackage,python3-dockerpty))
-$(eval $(call BuildPackage,python3-dockerpty-src))
diff -uprN a/feeds/packages/lang/python/python-docopt/Makefile b/feeds/packages/lang/python/python-docopt/Makefile
--- a/feeds/packages/lang/python/python-docopt/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-docopt/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-docopt
-PKG_VERSION:=0.6.2
-PKG_RELEASE:=2
-
-PYPI_NAME:=docopt
-PKG_HASH:=49b3a825280bd66b3aa83585ef59c4a8c82f2c8a522dbe754a8bc8d08c85c491
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE-MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-define Package/python3-docopt
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Pythonic argument parser, that will make you smile
-  URL:=http://docopt.org/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-docopt/description
-  Pythonic argument parser, that will make you smile
-endef
-
-$(eval $(call Py3Package,python3-docopt))
-$(eval $(call BuildPackage,python3-docopt))
-$(eval $(call BuildPackage,python3-docopt-src))
diff -uprN a/feeds/packages/lang/python/python-docutils/Makefile b/feeds/packages/lang/python/python-docutils/Makefile
--- a/feeds/packages/lang/python/python-docutils/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-docutils/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,36 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=docutils
-PKG_VERSION:=0.14
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=51e64ef2ebfb29cae1faa133b3710143496eca21c530f3f71424d77687764274
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-docutils
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=docutils
-  URL:=http://docutils.sourceforge.net
-  DEPENDS:=+python3
-endef
-
-define Package/python3-docutils/description
-Docutils is a modular system for processing documentation into useful formats,
-such as HTML, XML, and LaTeX. For input Docutils supports reStructuredText,
-an easy-to-read, what-you-see-is-what-you-get plaintext markup syntax.
-endef
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-$(eval $(call Py3Package,python3-docutils))
-$(eval $(call BuildPackage,python3-docutils))
-$(eval $(call BuildPackage,python3-docutils-src))
diff -uprN a/feeds/packages/lang/python/python-dotenv/Makefile b/feeds/packages/lang/python/python-dotenv/Makefile
--- a/feeds/packages/lang/python/python-dotenv/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-dotenv/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-dotenv
-PKG_VERSION:=0.15.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=python-dotenv
-PKG_HASH:=587825ed60b1711daea4832cf37524dfd404325b7db5e25ebe88c495c9f807a0
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-dotenv
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Add .env support to your django/flask apps in development and deployments
-  URL:=http://github.com/theskumar/python-dotenv
-  DEPENDS:=+python3-light +python3-logging
-endef
-
-define Package/python3-dotenv/description
-  A Python library which reads the key-value pair from .env file and adds them
-  to environment variable. It is great for managing app settings during
-  development and in production using 12-factor principles.
-endef
-
-$(eval $(call Py3Package,python3-dotenv))
-$(eval $(call BuildPackage,python3-dotenv))
-$(eval $(call BuildPackage,python3-dotenv-src))
diff -uprN a/feeds/packages/lang/python/python-engineio/Makefile b/feeds/packages/lang/python/python-engineio/Makefile
--- a/feeds/packages/lang/python/python-engineio/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-engineio/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-engineio
-PKG_VERSION:=4.0.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=python-engineio
-PKG_HASH:=bb575c1a3512b4b5d4706f3071d5cc36e592459e99a47d9a4b7faabeba941377
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-engineio
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Engine.IO server
-  URL:=https://github.com/miguelgrinberg/python-engineio
-  DEPENDS:= \
-	+python3-light \
-	+python3-asyncio \
-	+python3-logging \
-	+python3-openssl \
-	+python3-urllib
-endef
-
-define Package/python3-engineio/description
-  Python implementation of the Engine.IO realtime client and server.
-endef
-
-$(eval $(call Py3Package,python3-engineio))
-$(eval $(call BuildPackage,python3-engineio))
-$(eval $(call BuildPackage,python3-engineio-src))
diff -uprN a/feeds/packages/lang/python/python-et_xmlfile/Makefile b/feeds/packages/lang/python/python-et_xmlfile/Makefile
--- a/feeds/packages/lang/python/python-et_xmlfile/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-et_xmlfile/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-et_xmlfile
-PKG_VERSION:=1.1.0
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>, Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=MIT
-
-PYPI_NAME:=et_xmlfile
-PKG_HASH:=8eb9e2bc2f8c97e37a2dc85a09ecdcdec9d8a396530a6d5a33b30b9a92da0c5c
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-et_xmlfile
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Low memory library for creating large XML files.
-  URL:=https://bitbucket.org/openpyxl/et_xmlfile
-  DEPENDS:= \
-	+python3-light \
-	+python3-lxml
-endef
-
-define Package/python3-et_xmlfile/description
-  An implementation of lxml.xmlfile for the standard library.
-  It is based upon the xmlfile module from lxml with the aim of
-  allowing code to be developed that will work with both libraries.
-endef
-
-$(eval $(call Py3Package,python3-et_xmlfile))
-$(eval $(call BuildPackage,python3-et_xmlfile))
-$(eval $(call BuildPackage,python3-et_xmlfile-src))
diff -uprN a/feeds/packages/lang/python/python-evdev/Makefile b/feeds/packages/lang/python/python-evdev/Makefile
--- a/feeds/packages/lang/python/python-evdev/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-evdev/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-include $(INCLUDE_DIR)/kernel.mk
-
-PKG_NAME:=python-evdev
-PKG_VERSION:=1.4.0
-PKG_RELEASE:=1
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_MAINTAINER:=Paulo Costa <me@paulo.costa.nom.br>, Alexandru Ardelean <ardeleanalex@gmail.com>
-
-PYPI_NAME:=evdev
-PKG_HASH:=8782740eb1a86b187334c07feb5127d3faa0b236e113206dfe3ae8f77fb1aaf1
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-evdev
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=python3-evdev
-  URL:=https://github.com/gvalkov/python-evdev
-  DEPENDS:= \
-      +python3-light \
-      +python3-ctypes
-endef
-
-define Package/python3-evdev/description
-	Bindings to the Linux input handling subsystem
-endef
-
-LINUX_EVDEV_HEADERS="$(LINUX_DIR)/include/uapi/linux/input.h:$(LINUX_DIR)/include/uapi/linux/input-event-codes.h"
-
-PYTHON3_PKG_SETUP_GLOBAL_ARGS:= \
-	build build_ecodes \
-	--evdev-headers="$(LINUX_EVDEV_HEADERS)" \
-	build_ext
-
-$(eval $(call Py3Package,python3-evdev))
-$(eval $(call BuildPackage,python3-evdev))
-$(eval $(call BuildPackage,python3-evdev-src))
diff -uprN a/feeds/packages/lang/python/python-eventlet/Makefile b/feeds/packages/lang/python/python-eventlet/Makefile
--- a/feeds/packages/lang/python/python-eventlet/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-eventlet/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-eventlet
-PKG_VERSION:=0.30.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=eventlet
-PKG_HASH:=1811b122d9a45eb5bafba092d36911bca825f835cb648a862bbf984030acff9d
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-eventlet
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python concurrent networking library
-  URL:=https://eventlet.net/
-  DEPENDS:= \
-	+python3-light \
-	+python3-six \
-	+python3-dns \
-	+python3-greenlet \
-	+python3-distutils \
-	+python3-email \
-	+python3-logging \
-	+python3-openssl \
-	+python3-urllib
-endef
-
-define Package/python3-eventlet/description
-  Eventlet is a concurrent networking library for Python that
-  allows you to change how you run your code, not how you write it.
-endef
-
-$(eval $(call Py3Package,python3-eventlet))
-$(eval $(call BuildPackage,python3-eventlet))
-$(eval $(call BuildPackage,python3-eventlet-src))
diff -uprN a/feeds/packages/lang/python/python-execnet/Makefile b/feeds/packages/lang/python/python-execnet/Makefile
--- a/feeds/packages/lang/python/python-execnet/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-execnet/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2020-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-execnet
-PKG_VERSION:=1.8.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=execnet
-PKG_HASH:=b73c5565e517f24b62dea8a5ceac178c661c4309d3aa0c3e420856c072c411b4
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-execnet
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Library for distributed interact mechanism
-  URL:=https://execnet.readthedocs.io
-  DEPENDS:= +python3-light +python3-apipkg
-endef
-
-define Package/python3-execnet/description
-  The execnet provides a share-nothing model with channel-send/receive communication for
-  distributing execution across many Python interpreters across version, platform and network
-  barriers.complex functional testing for applications and libraries.
-endef
-
-$(eval $(call Py3Package,python3-execnet))
-$(eval $(call BuildPackage,python3-execnet))
-$(eval $(call BuildPackage,python3-execnet-src))
diff -uprN a/feeds/packages/lang/python/python-flask-babel/Makefile b/feeds/packages/lang/python/python-flask-babel/Makefile
--- a/feeds/packages/lang/python/python-flask-babel/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-flask-babel/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-flask-babel
-PKG_VERSION:=2.0.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=Flask-Babel
-PKG_HASH:=f9faf45cdb2e1a32ea2ec14403587d4295108f35017a7821a2b1acb8cfd9257d
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask-babel
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Flask Babel
-  URL:=https://github.com/python-babel/flask-babel
-  DEPENDS:= \
-    +python3-light \
-    +python3-flask \
-    +python3-babel \
-    +python3-jinja2 \
-    +python3-pytz
-endef
-
-define Package/python3-flask-babel/description
-  Implements i18n and l10n support for Flask.
-endef
-
-$(eval $(call Py3Package,python3-flask-babel))
-$(eval $(call BuildPackage,python3-flask-babel))
-$(eval $(call BuildPackage,python3-flask-babel-src))
diff -uprN a/feeds/packages/lang/python/python-flask-httpauth/Makefile b/feeds/packages/lang/python/python-flask-httpauth/Makefile
--- a/feeds/packages/lang/python/python-flask-httpauth/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-flask-httpauth/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python3-flask-httpauth
-PKG_VERSION:=4.2.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=Flask-HTTPAuth
-PKG_HASH:=8c7e49e53ce7dc14e66fe39b9334e4b7ceb8d0b99a6ba1c3562bb528ef9da84a
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask-httpauth
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Basic and Digest HTTP authentication for Flask routes
-  URL:=https://github.com/miguelgrinberg/flask-httpauth
-  DEPENDS:= \
-	+python3-light \
-	+python3-flask
-endef
-
-define Package/python3-flask-httpauth/description
-  Flask-HTTPAuth is a Flask extension that simplifies the
-  use of HTTP authentication with Flask routes
-endef
-
-$(eval $(call Py3Package,python3-flask-httpauth))
-$(eval $(call BuildPackage,python3-flask-httpauth))
-$(eval $(call BuildPackage,python3-flask-httpauth-src))
diff -uprN a/feeds/packages/lang/python/python-flask-login/Makefile b/feeds/packages/lang/python/python-flask-login/Makefile
--- a/feeds/packages/lang/python/python-flask-login/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-flask-login/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC z.s.p.o. (http://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-flask-login
-PKG_VERSION:=0.5.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=Flask-Login
-PKG_HASH:=6d33aef15b5bcead780acc339464aae8a6e28f13c90d8b1cf9de8b549d1c0b4b
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask-login
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=User session management plugin for Flask
-  URL:=https://github.com/maxcountryman/flask-login
-  DEPENDS:=+python3-light +python3-flask
-endef
-
-define Package/python3-flask-login/description
-  Flask-Login provides user session management for Flask.
-  It handles the common tasks of logging in, logging out,
-  and remembering your users’ sessions over extended periods of time.
-endef
-
-$(eval $(call Py3Package,python3-flask-login))
-$(eval $(call BuildPackage,python3-flask-login))
-$(eval $(call BuildPackage,python3-flask-login-src))
diff -uprN a/feeds/packages/lang/python/python-flask-seasurf/Makefile b/feeds/packages/lang/python/python-flask-seasurf/Makefile
--- a/feeds/packages/lang/python/python-flask-seasurf/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-flask-seasurf/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-flask-seasurf
-PKG_VERSION:=0.3.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=Flask-SeaSurf
-PKG_HASH:=10d4946fdd9745a8ae0a38a46c48a9add0cca4896333c0893b3133e3852c2e80
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask-seasurf
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Flask SeaSurf
-  URL:=https://flask-seasurf.readthedocs.io/en/latest/
-  DEPENDS:= \
-    +python3-flask \
-    +python3-light \
-    +python3-urllib
-endef
-
-define Package/python3-flask-seasurf/description
-  SeaSurf is a Flask extension for preventing cross-site request forgery (CSRF).
-endef
-
-$(eval $(call Py3Package,python3-flask-seasurf))
-$(eval $(call BuildPackage,python3-flask-seasurf))
-$(eval $(call BuildPackage,python3-flask-seasurf-src))
diff -uprN a/feeds/packages/lang/python/python-flask-session/Makefile b/feeds/packages/lang/python/python-flask-session/Makefile
--- a/feeds/packages/lang/python/python-flask-session/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-flask-session/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-flask-session
-PKG_VERSION:=0.3.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=Flask-Session
-PKG_HASH:=0768e2bbf06f963ec1aa711bde7aa32dc39ff70f89b495d6db687d899eae4423
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask-session
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Flask Session
-  URL:=https://github.com/fengsp/flask-session
-  DEPENDS:= \
-    +python3-cachelib \
-    +python3-flask \
-    +python3-light
-endef
-
-define Package/python3-flask-session/description
-  Adds server-side session support to your Flask application.
-endef
-
-$(eval $(call Py3Package,python3-flask-session))
-$(eval $(call BuildPackage,python3-flask-session))
-$(eval $(call BuildPackage,python3-flask-session-src))
diff -uprN a/feeds/packages/lang/python/python-flask-socketio/Makefile b/feeds/packages/lang/python/python-flask-socketio/Makefile
--- a/feeds/packages/lang/python/python-flask-socketio/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-flask-socketio/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-flask-socketio
-PKG_VERSION:=5.0.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=Flask-SocketIO
-PKG_HASH:=5c4319f5214ada20807857dc8fdf3dc7d2afe8d6dd38f5c516c72e2be47d2227
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-flask-socketio
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Socket.IO integration for Flask
-  URL:=https://github.com/miguelgrinberg/Flask-SocketIO/
-  DEPENDS:= \
-	+python3-light \
-	+python3-flask \
-	+python3-socketio
-endef
-
-define Package/python3-flask-socketio/description
-  Flask-SocketIO gives Flask applications access to low latency
-  bi-directional communications between the clients and the server.
-endef
-
-$(eval $(call Py3Package,python3-flask-socketio))
-$(eval $(call BuildPackage,python3-flask-socketio))
-$(eval $(call BuildPackage,python3-flask-socketio-src))
diff -uprN a/feeds/packages/lang/python/python-gmpy2/Makefile b/feeds/packages/lang/python/python-gmpy2/Makefile
--- a/feeds/packages/lang/python/python-gmpy2/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-gmpy2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-gmpy2
-PKG_VERSION:=2.0.8
-PKG_RELEASE:=5
-
-PYPI_NAME:=gmpy2
-PYPI_SOURCE_EXT:=zip
-PKG_HASH:=dd233e3288b90f21b0bb384bcc7a7e73557bb112ccf0032ad52aa614eb373d3f
-
-PKG_LICENSE:=LGPL-3.0-or-later
-PKG_LICENSE_FILES:=COPYING.LESSER
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=--nompfr
-
-define Package/python3-gmpy2
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=GMP/MPIR, MPFR, and MPC interface
-  URL:=https://github.com/aleaxit/gmpy
-  DEPENDS:=+libgmp +python3-light
-endef
-
-define Package/python3-gmpy2/description
-gmpy2 is a C-coded Python extension module that supports multiple-precision
-arithmetic. gmpy2 is the successor to the original gmpy module. The gmpy module
-only supported the GMP multiple-precision library. gmpy2 adds support for the
-MPFR (correctly rounded real floating-point arithmetic) and MPC (correctly
-rounded complex floating-point arithmetic) libraries. gmpy2 also updates the
-API and naming conventions to be more consistent and support the additional
-functionality.
-endef
-
-$(eval $(call Py3Package,python3-gmpy2))
-$(eval $(call BuildPackage,python3-gmpy2))
-$(eval $(call BuildPackage,python3-gmpy2-src))
diff -uprN a/feeds/packages/lang/python/python-gnupg/Makefile b/feeds/packages/lang/python/python-gnupg/Makefile
--- a/feeds/packages/lang/python/python-gnupg/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-gnupg/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-gnupg
-PKG_VERSION:=0.4.7
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=2061f56b1942c29b92727bf9aecbd3cea3893acc9cccbdc7eb4604285efe4ac7
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_CPE_ID:=cpe:/a:python:python-gnupg
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-gnupg
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=A wrapper for GnuPG
-  URL:=https://docs.red-dove.com/python-gnupg/
-  DEPENDS:=+gnupg +python3-light +python3-logging
-endef
-
-define Package/python3-gnupg/description
-  The gnupg module allows Python programs to make use of the
-  functionality provided by the GNU Privacy Guard (abbreviated GPG or
-  GnuPG). Using this module, Python programs can encrypt and decrypt
-  data, digitally sign documents and verify digital signatures, manage
-  (generate, list and delete) encryption keys, using Public Key
-  Infrastructure (PKI) encryption technology based on OpenPGP.
-endef
-
-$(eval $(call Py3Package,python3-gnupg))
-$(eval $(call BuildPackage,python3-gnupg))
-$(eval $(call BuildPackage,python3-gnupg-src))
diff -uprN a/feeds/packages/lang/python/python-greenlet/Makefile b/feeds/packages/lang/python/python-greenlet/Makefile
--- a/feeds/packages/lang/python/python-greenlet/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-greenlet/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-greenlet
-PKG_VERSION:=1.0.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=greenlet
-PKG_HASH:=719e169c79255816cdcf6dccd9ed2d089a72a9f6c42273aae12d55e8d35bdcf8
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-# FIXME: remove when GCC10 is the oldest supported compiler, or the issue goes away
-PKG_USE_MIPS16:=0
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-greenlet
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Lightweight coroutines for in-process concurrent programming
-  URL:=https://github.com/python-greenlet/greenlet
-  DEPENDS:= \
-	+python3-light \
-	+libstdcpp \
-	@!arc
-endef
-
-define Package/python3-greenlet/description
-  The greenlet package is a spin-off of Stackless
-  a version of CPython that supports micro-threads called tasklets.
-endef
-
-# FIXME: remove when GCC10 is the oldest supported compiler, or the issue goes away
-# This is required in addition to PKG_USE_MIPS16:=0 because otherwise MIPS16
-# flags are inherited from the Python base package (via sysconfig module)
-ifdef CONFIG_USE_MIPS16
-TARGET_CFLAGS += -mno-mips16 -mno-interlink-mips16
-endif
-
-$(eval $(call Py3Package,python3-greenlet))
-$(eval $(call BuildPackage,python3-greenlet))
-$(eval $(call BuildPackage,python3-greenlet-src))
diff -uprN a/feeds/packages/lang/python/python-hyperlink/Makefile b/feeds/packages/lang/python/python-hyperlink/Makefile
--- a/feeds/packages/lang/python/python-hyperlink/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-hyperlink/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) 2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-hyperlink
-PKG_VERSION:=21.0.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=hyperlink
-PKG_HASH:=427af957daa58bc909471c6c40f74c5450fa123dd093fc53efd2e91d2705a56b
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-hyperlink
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Pure-Python immutable URLs
-  URL:=https://github.com/python-hyper/hyperlink
-  DEPENDS:= \
-      +python3-light \
-      +python3-codecs \
-      +python3-idna
-endef
-
-define Package/python3-hyperlink/description
-Hyperlink provides a pure-Python implementation of immutable URLs. Based
-on RFC 3986 and 3987, the Hyperlink URL makes working with both URIs and
-IRIs easy.
-endef
-
-define Py3Package/python3-hyperlink/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/hyperlink/hypothesis.py
-endef
-
-$(eval $(call Py3Package,python3-hyperlink))
-$(eval $(call BuildPackage,python3-hyperlink))
-$(eval $(call BuildPackage,python3-hyperlink-src))
diff -uprN a/feeds/packages/lang/python/python-hyperlink/patches/001-omit-tests.patch b/feeds/packages/lang/python/python-hyperlink/patches/001-omit-tests.patch
--- a/feeds/packages/lang/python/python-hyperlink/patches/001-omit-tests.patch	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-hyperlink/patches/001-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -25,7 +25,7 @@ setup(
-     author=__author__,
-     author_email=__contact__,
-     url=__url__,
--    packages=find_packages(where="src"),
-+    packages=find_packages(where="src", exclude=["*.test", "*.test.*"]),
-     package_dir={"": "src"},
-     package_data=dict(hyperlink=["py.typed", "idna-tables-properties.csv.gz"]),
-     zip_safe=False,
diff -uprN a/feeds/packages/lang/python/python-idna/Makefile b/feeds/packages/lang/python/python-idna/Makefile
--- a/feeds/packages/lang/python/python-idna/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-idna/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2015-2019 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-idna
-PKG_VERSION:=3.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=idna
-PKG_HASH:=467fbad99067910785144ce333826c71fb0e63a425657295239737f7ecd125f3
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.rst
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-idna
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=IDNA library
-  URL:=https://github.com/kjd/idna
-  DEPENDS:= \
-      +python3-light \
-      +python3-codecs
-endef
-
-define Package/python3-idna/description
-A library to support the Internationalised Domain Names in Applications
-(IDNA) protocol as specified in RFC 5891. This version of the protocol
-is often referred to as "IDNA2008" and can produce different results
-from the earlier standard from 2003.
-endef
-
-$(eval $(call Py3Package,python3-idna))
-$(eval $(call BuildPackage,python3-idna))
-$(eval $(call BuildPackage,python3-idna-src))
diff -uprN a/feeds/packages/lang/python/python-ifaddr/Makefile b/feeds/packages/lang/python/python-ifaddr/Makefile
--- a/feeds/packages/lang/python/python-ifaddr/Makefile	2023-04-14 21:27:49.480066000 +0800
+++ b/feeds/packages/lang/python/python-ifaddr/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-ifaddr
-PKG_VERSION:=0.1.7
-PKG_RELEASE:=1
-
-PYPI_NAME:=ifaddr
-PKG_HASH:=1f9e8a6ca6f16db5a37d3356f07b6e52344f6f9f7e806d618537731669eb1a94
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-ifaddr
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Enumerate IP addresses on network adapters
-  URL:=https://github.com/pydron/ifaddr
-  DEPENDS:= \
-	+python3-light \
-	+python3-ctypes
-endef
-
-define Package/python3-ifaddr/description
-  ifaddr is a small Python library that allows you to find all the IPv4 and IPv6 addresses of the computer.
-endef
-
-$(eval $(call Py3Package,python3-ifaddr))
-$(eval $(call BuildPackage,python3-ifaddr))
-$(eval $(call BuildPackage,python3-ifaddr-src))
diff -uprN a/feeds/packages/lang/python/python-incremental/Makefile b/feeds/packages/lang/python/python-incremental/Makefile
--- a/feeds/packages/lang/python/python-incremental/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-incremental/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-incremental
-PKG_VERSION:=21.3.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=incremental
-PKG_HASH:=02f5de5aff48f6b9f665d99d48bfc7ec03b6e3943210de7cfc88856d755d6f57
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-incremental
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Versions your Python projects
-  URL:=https://github.com/twisted/incremental
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-incremental/description
-Incremental is a small library that versions your Python projects.
-endef
-
-$(eval $(call Py3Package,python3-incremental))
-$(eval $(call BuildPackage,python3-incremental))
-$(eval $(call BuildPackage,python3-incremental-src))
diff -uprN a/feeds/packages/lang/python/python-incremental/patches/001-omit-tests.patch b/feeds/packages/lang/python/python-incremental/patches/001-omit-tests.patch
--- a/feeds/packages/lang/python/python-incremental/patches/001-omit-tests.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-incremental/patches/001-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -31,7 +31,7 @@ setup(
-         "Programming Language :: Python :: 3.5",
-         "Programming Language :: Python :: 3.6",
-     ],
--    packages=find_packages("src", exclude=("exampleproj",)),
-+    packages=find_packages("src", exclude=("exampleproj", "*.tests", "*.tests.*")),
-     package_dir={"": "src"},
-     extras_require={"scripts": ["click>=6.0", "twisted>=16.4.0"]},
-     license="MIT",
diff -uprN a/feeds/packages/lang/python/python-influxdb/Makefile b/feeds/packages/lang/python/python-influxdb/Makefile
--- a/feeds/packages/lang/python/python-influxdb/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-influxdb/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-influxdb
-PKG_VERSION:=5.3.0
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-
-PYPI_NAME:=influxdb
-PKG_HASH:=9bcaafd57ac152b9824ab12ed19f204206ef5df8af68404770554c5b55b475f6
-
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-influxdb
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=https://github.com/influxdb/influxdb-python
-  TITLE:=python3-influxdb
-  DEPENDS:=\
-    +python3-requests \
-    +python3-pytz \
-    +python3-six \
-    +python3-dateutil \
-    +python3-msgpack
-endef
-
-define Package/python3-influxdb/description
-  Python client for InfluxDB
-endef
-
-$(eval $(call Py3Package,python3-influxdb))
-$(eval $(call BuildPackage,python3-influxdb))
-$(eval $(call BuildPackage,python3-influxdb-src))
diff -uprN a/feeds/packages/lang/python/python-iniconfig/Makefile b/feeds/packages/lang/python/python-iniconfig/Makefile
--- a/feeds/packages/lang/python/python-iniconfig/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-iniconfig/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-iniconfig
-PKG_VERSION:=1.1.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=iniconfig
-PKG_HASH:=bc3af051d7d14b2ee5ef9969666def0cd1a000e121eaea580d4a313df4b37f32
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-iniconfig
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Simple config-ini parser
-  URL:=https://github.com/RonnyPfannschmidt/iniconfig
-  DEPENDS:= +python3-light
-endef
-
-define Package/python3-iniconfig/description
-  iniconfig is a small and simple INI-file parser module.
-endef
-
-$(eval $(call Py3Package,python3-iniconfig))
-$(eval $(call BuildPackage,python3-iniconfig))
-$(eval $(call BuildPackage,python3-iniconfig-src))
diff -uprN a/feeds/packages/lang/python/python-intelhex/Makefile b/feeds/packages/lang/python/python-intelhex/Makefile
--- a/feeds/packages/lang/python/python-intelhex/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-intelhex/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-intelhex
-PKG_VERSION:=2.2.1
-PKG_RELEASE:=3
-
-PYPI_NAME:=IntelHex
-PYPI_SOURCE_NAME:=intelhex
-PKG_HASH:=009d8511e0d50639230c39af9607deee771cf026f67ef7507a8c3fd4fa927832
-
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-intelhex
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=python3-intelhex
-  URL:=https://github.com/bialix/intelhex
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-intelhex/description
-  This work implements an intelhex Python library to read, write, create from
-  scratch and manipulate data from Intel HEX file format.
-endef
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-$(eval $(call Py3Package,python3-intelhex))
-$(eval $(call BuildPackage,python3-intelhex))
-$(eval $(call BuildPackage,python3-intelhex-src))
diff -uprN a/feeds/packages/lang/python/python-intelhex/patches/001-Fix-Python-3.9-compatibility-issue-with-array-module.patch b/feeds/packages/lang/python/python-intelhex/patches/001-Fix-Python-3.9-compatibility-issue-with-array-module.patch
--- a/feeds/packages/lang/python/python-intelhex/patches/001-Fix-Python-3.9-compatibility-issue-with-array-module.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-intelhex/patches/001-Fix-Python-3.9-compatibility-issue-with-array-module.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,21 +0,0 @@
-From 4125dce5b174401d38cc0fcf9d2e1aad07997f5e Mon Sep 17 00:00:00 2001
-From: fernandez85 <fernandez2005@gmail.com>
-Date: Sun, 11 Oct 2020 12:39:06 +0200
-Subject: [PATCH] Fix Python 3.9 compatibility issue with 'array' module
-
----
- intelhex/compat.py | 3 ++-
- 1 file changed, 2 insertions(+), 1 deletion(-)
-
---- a/intelhex/compat.py
-+++ b/intelhex/compat.py
-@@ -57,7 +57,8 @@ if sys.version_info[0] >= 3:
-             return s
-         return s.decode('latin1')
- 
--    array_tobytes = getattr(array.array, "tobytes", array.array.tostring)
-+    # for python >= 3.2 use 'tobytes', otherwise 'tostring'
-+    array_tobytes = array.array.tobytes if sys.version_info[1] >= 2 else array.array.tostring
- 
-     IntTypes = (int,)
-     StrType = str
diff -uprN a/feeds/packages/lang/python/python-jdcal/Makefile b/feeds/packages/lang/python/python-jdcal/Makefile
--- a/feeds/packages/lang/python/python-jdcal/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-jdcal/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,38 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-jdcal
-PKG_VERSION:=1.4.1
-PKG_RELEASE:=2
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>, Eneas U de Queiroz <cote2004-github@yahoo.com>
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.txt
-
-PYPI_NAME:=jdcal
-PKG_HASH:=472872e096eb8df219c23f2689fc336668bdb43d194094b5cc1707e1640acfc8
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-jdcal
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Julian dates from proleptic Gregorian and Julian calendars
-  URL:=https://github.com/phn/jdcal
-  DEPENDS:= +python3-light
-endef
-
-define Package/python3-jdcal/description
-  This module contains functions for converting between Julian dates and calendar dates.
-endef
-
-$(eval $(call Py3Package,python3-jdcal))
-$(eval $(call BuildPackage,python3-jdcal))
-$(eval $(call BuildPackage,python3-jdcal-src))
diff -uprN a/feeds/packages/lang/python/python-jmespath/Makefile b/feeds/packages/lang/python/python-jmespath/Makefile
--- a/feeds/packages/lang/python/python-jmespath/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-jmespath/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,33 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=jmespath
-PKG_VERSION:=0.9.3
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=6a81d4c9aa62caf061cb517b4d9ad1dd300374cd4706997aff9cd6aedd61fc64
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-jmespath
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=jmespath
-  URL:=https://github.com/jmespath/jmespath.py
-  DEPENDS:=+python3
-endef
-
-define Package/python3-jmespath/description
-  JMESPath (pronounced “james path”) allows you to declaratively specify how to extract
-  elements from a JSON document.
-endef
-
-$(eval $(call Py3Package,python3-jmespath))
-$(eval $(call BuildPackage,python3-jmespath))
-$(eval $(call BuildPackage,python3-jmespath-src))
diff -uprN a/feeds/packages/lang/python/python-jsonpath-ng/Makefile b/feeds/packages/lang/python/python-jsonpath-ng/Makefile
--- a/feeds/packages/lang/python/python-jsonpath-ng/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-jsonpath-ng/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,30 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-jsonpath-ng
-PKG_VERSION:=1.5.2
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-
-PYPI_NAME:=jsonpath-ng
-PKG_HASH:=144d91379be14d9019f51973bd647719c877bfc07dc6f3f5068895765950c69d
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-jsonpath-ng
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=https://github.com/h2non/jsonpath-ng
-  TITLE:=python3-jsonpath-ng
-  DEPENDS:=+python3-ply +python3-six +python3-decorator
-endef
-
-$(eval $(call Py3Package,python3-jsonpath-ng))
-$(eval $(call BuildPackage,python3-jsonpath-ng))
-$(eval $(call BuildPackage,python3-jsonpath-ng-src))
diff -uprN a/feeds/packages/lang/python/python-jsonschema/Makefile b/feeds/packages/lang/python/python-jsonschema/Makefile
--- a/feeds/packages/lang/python/python-jsonschema/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-jsonschema/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,36 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-jsonschema
-PKG_VERSION:=3.2.0
-PKG_RELEASE:=5
-
-PYPI_NAME:=jsonschema
-PKG_HASH:=c8a85b28d377cc7737e46e2d9f2b4f44ee3c0e1deac6bf46ddefc7187d30797a
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=COPYING
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-jsonschema
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=An implementation of JSON Schema validation
-  URL:=https://github.com/Julian/jsonschema
-  DEPENDS:=+python3-light +python3-attrs +python3-urllib \
-	  +python3-six +python3-pyrsistent +python3-setuptools
-endef
-
-define Package/python3-jsonschema/description
-  jsonschema is an implementation of JSON Schema validation for Python.
-endef
-
-$(eval $(call Py3Package,python3-jsonschema))
-$(eval $(call BuildPackage,python3-jsonschema))
-$(eval $(call BuildPackage,python3-jsonschema-src))
diff -uprN a/feeds/packages/lang/python/python-libmodbus/Makefile b/feeds/packages/lang/python/python-libmodbus/Makefile
--- a/feeds/packages/lang/python/python-libmodbus/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-libmodbus/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-include $(TOPDIR)/rules.mk
-include $(INCLUDE_DIR)/kernel.mk
-
-PKG_NAME:=python-libmodbus
-PKG_VERSION:=0.5.0
-PKG_RELEASE:=2
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-
-PYPI_NAME:=pylibmodbus
-PKG_HASH:=80f837304ffa8476145ea643f6b98aa94b205013a96f1e5173d7bdc776426aee
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-libmodbus
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=pylibmodbus
-  URL:=https://pypi.org/project/pylibmodbus
-  DEPENDS:=+libmodbus \
-     +python3-light \
-     +python3-cffi
-endef
-
-define Package/python3-libmodbus/description
-	Python Interface for libmodbus written with CFFI.
-endef
-
-$(eval $(call Py3Package,python3-libmodbus))
-$(eval $(call BuildPackage,python3-libmodbus))
diff -uprN a/feeds/packages/lang/python/python-lxml/Makefile b/feeds/packages/lang/python/python-lxml/Makefile
--- a/feeds/packages/lang/python/python-lxml/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-lxml/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-lxml
-PKG_VERSION:=4.6.5
-PKG_RELEASE:=1
-
-PYPI_NAME:=lxml
-PKG_HASH:=6e84edecc3a82f90d44ddee2ee2a2630d4994b8471816e226d2b771cda7ac4ca
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSES.txt
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_CPE_ID:=cpe:/a:lxml:lxml
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-lxml
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Pythonic XML processing library
-  URL:=https://lxml.de
-  DEPENDS:=+libxml2 +libxslt +libexslt +python3-light
-endef
-
-define Package/python3-lxml/description
-  lxml is a Pythonic, mature binding for the libxml2 and libxslt
-  libraries. It provides safe and convenient access to these libraries
-  using the ElementTree API.
-
-  It extends the ElementTree API significantly to offer support for
-  XPath, RelaxNG, XML Schema, XSLT, C14N and much more.
-endef
-
-$(eval $(call Py3Package,python3-lxml))
-$(eval $(call BuildPackage,python3-lxml))
-$(eval $(call BuildPackage,python3-lxml-src))
diff -uprN a/feeds/packages/lang/python/python-markdown/Makefile b/feeds/packages/lang/python/python-markdown/Makefile
--- a/feeds/packages/lang/python/python-markdown/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-markdown/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019-2O20 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-markdown
-PKG_VERSION:=3.3.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=Markdown
-PKG_HASH:=5d9f2b5ca24bc4c7a390d22323ca4bad200368612b5aaa7796babf971d2b2f18
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.md
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-markdown
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Markdown implementation in Python
-  URL:=https://python-markdown.github.io/
-  DEPENDS:= \
-	+python3-light \
-	+python3-logging
-endef
-
-define Package/python3-markdown/description
-  A fast and complete Python implementation of Markdown.
-endef
-
-$(eval $(call Py3Package,python3-markdown))
-$(eval $(call BuildPackage,python3-markdown))
-$(eval $(call BuildPackage,python3-markdown-src))
diff -uprN a/feeds/packages/lang/python/python-more-itertools/Makefile b/feeds/packages/lang/python/python-more-itertools/Makefile
--- a/feeds/packages/lang/python/python-more-itertools/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-more-itertools/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-more-itertools
-PKG_VERSION:=8.6.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=more-itertools
-PKG_HASH:=b3a9005928e5bed54076e6e549c792b306fddfe72b2d1d22dd63d42d5d3899cf
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-more-itertools
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=More routines for operating on iterables, beyond itertools
-  URL:=https://github.com/erikrose/more-itertools
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-more-itertools/description
-  more-itertools library collects additional building blocks,
-  recipes, and routines for working with Python iterables.
-endef
-
-$(eval $(call Py3Package,python3-more-itertools))
-$(eval $(call BuildPackage,python3-more-itertools))
-$(eval $(call BuildPackage,python3-more-itertools-src))
diff -uprN a/feeds/packages/lang/python/python-msgpack/Makefile b/feeds/packages/lang/python/python-msgpack/Makefile
--- a/feeds/packages/lang/python/python-msgpack/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-msgpack/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2017-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-msgpack
-PKG_VERSION:=1.0.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=msgpack
-PKG_HASH:=fae04496f5bc150eefad4e9571d1a76c55d021325dcd484ce45065ebbdd00984
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=COPYING
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-msgpack
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=MessagePack (de)serializer
-  URL:=https://msgpack.org/
-  DEPENDS:=+python3-light +libstdcpp
-endef
-
-define Package/python3-msgpack/description
-  MessagePack is an efficient binary serialization format.
-  It lets you exchange data among multiple languages like JSON.
-endef
-
-$(eval $(call Py3Package,python3-msgpack))
-$(eval $(call BuildPackage,python3-msgpack))
-$(eval $(call BuildPackage,python3-msgpack-src))
diff -uprN a/feeds/packages/lang/python/python-multidict/Makefile b/feeds/packages/lang/python/python-multidict/Makefile
--- a/feeds/packages/lang/python/python-multidict/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-multidict/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=multidict
-PKG_VERSION:=4.5.2
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=024b8129695a952ebd93373e45b5d341dbb87c17ce49637b34000093f243dd4f
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-multidict
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=multidict implementation
-  URL:=https://github.com/aio-libs/multidict
-  DEPENDS:= \
-      +python3-light \
-      +python3-attrs
-endef
-
-define Package/python3-multidict/description
-Multidict is dict-like collection of key-value pairs where key might be occurred more than once in the container.
-endef
-
-$(eval $(call Py3Package,python3-multidict))
-$(eval $(call BuildPackage,python3-multidict))
-$(eval $(call BuildPackage,python3-multidict-src))
diff -uprN a/feeds/packages/lang/python/python-netdisco/Makefile b/feeds/packages/lang/python/python-netdisco/Makefile
--- a/feeds/packages/lang/python/python-netdisco/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-netdisco/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-netdisco
-PKG_VERSION:=2.6.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=netdisco
-PKG_HASH:=2b3aca14a1807712a053f11fd80dc251dd821ee4899aefece515287981817762
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE.md
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-netdisco
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Discover devices on your local network
-  URL:=https://github.com/home-assistant/netdisco
-  DEPENDS:= \
-	  +python3-light \
-	  +python3-requests \
-	  +python3-zeroconf
-endef
-
-define Package/python3-netdisco/description
-  NetDisco is a Python 3 library to discover local devices and services.
-  It allows to scan on demand or offer a service that will scan the network in the background in a set interval.
-endef
-
-$(eval $(call Py3Package,python3-netdisco))
-$(eval $(call BuildPackage,python3-netdisco))
-$(eval $(call BuildPackage,python3-netdisco-src))
diff -uprN a/feeds/packages/lang/python/python-oauthlib/Makefile b/feeds/packages/lang/python/python-oauthlib/Makefile
--- a/feeds/packages/lang/python/python-oauthlib/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-oauthlib/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-oauthlib
-PKG_VERSION:=3.1.0
-PKG_RELEASE:=2
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-PYPI_NAME:=oauthlib
-PKG_HASH:=bee41cc35fcca6e988463cacc3bcb8a96224f470ca547e697b604cc697b2f889
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-oauthlib
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=OAuth request-signing logic for Python
-  URL:=https://github.com/oauthlib/oauthlib
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-oauthlib/description
-  A generic, spec-compliant, thorough implementation of the OAuth request-signing
-  logic for Python
-endef
-
-$(eval $(call Py3Package,python3-oauthlib))
-$(eval $(call BuildPackage,python3-oauthlib))
-$(eval $(call BuildPackage,python3-oauthlib-src))
diff -uprN a/feeds/packages/lang/python/python-package-install.sh b/feeds/packages/lang/python/python-package-install.sh
--- a/feeds/packages/lang/python/python-package-install.sh	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-package-install.sh	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#!/bin/sh
-set -e
-
-process_filespec() {
-	local src_dir="$1"
-	local dst_dir="$2"
-	local filespec="$3"
-	echo "$filespec" | (
-	IFS='|'
-	while read fop fspec fperm; do
-		local fop=`echo "$fop" | tr -d ' \t\n'`
-		if [ "$fop" = "+" ]; then
-			if [ ! -e "${src_dir}${fspec}" ]; then
-				echo "File not found '${src_dir}${fspec}'"
-				exit 1
-			fi
-			dpath=`dirname "$fspec"`
-			if [ -z "$fperm" ]; then
-				dperm=`stat -c "%a" ${src_dir}${dpath}`
-			fi
-			mkdir -p -m$dperm ${dst_dir}${dpath}
-			echo "copying: '$fspec'"
-			cp -fpR ${src_dir}${fspec} ${dst_dir}${dpath}/
-			if [ -n "$fperm" ]; then
-				chmod -R $fperm ${dst_dir}${fspec}
-			fi
-		elif [ "$fop" = "-" ]; then
-			echo "removing: '$fspec'"
-			rm -fR ${dst_dir}${fspec}
-		elif [ "$fop" = "=" ]; then
-			echo "setting permissions: '$fperm' on '$fspec'"
-			chmod -R $fperm ${dst_dir}${fspec}
-		fi
-	done
-	)
-}
-
-src_dir="$1"
-dst_dir="$2"
-filespec="$3"
-
-process_filespec "$src_dir" "$dst_dir" "$filespec" || {
-	echo "process filespec error-ed"
-	exit 1
-}
diff -uprN a/feeds/packages/lang/python/python-packaging/Makefile b/feeds/packages/lang/python/python-packaging/Makefile
--- a/feeds/packages/lang/python/python-packaging/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-packaging/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-packaging
-PKG_VERSION:=20.4
-PKG_RELEASE:=1
-
-PYPI_NAME:=packaging
-PKG_HASH:=4357f74f47b9c12db93624a82154e9b120fa8293699949152b22065d556079f8
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=Apache-2.0 BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.APACHE LICENSE.BSD
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-packaging
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Core utilities for Python packages
-  URL:=https://github.com/pypa/packaging
-  DEPENDS:=+python3-light +python3-pyparsing +python3-six +python3-logging +python3-distutils
-endef
-
-define Package/python3-packaging/description
-  The packaging project includes version handling, specifiers,
-  markers, requirements, tags, utilities.
-endef
-
-$(eval $(call Py3Package,python3-packaging))
-$(eval $(call BuildPackage,python3-packaging))
-$(eval $(call BuildPackage,python3-packaging-src))
diff -uprN a/feeds/packages/lang/python/python-paho-mqtt/Makefile b/feeds/packages/lang/python/python-paho-mqtt/Makefile
--- a/feeds/packages/lang/python/python-paho-mqtt/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-paho-mqtt/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-paho-mqtt
-PKG_VERSION:=1.5.1
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>, Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=EPL-1.0 Eclipse Distribution License v1.0
-PKG_LICENSE_FILES:=epl-v10 edl-v10
-
-PYPI_NAME:=paho-mqtt
-PKG_HASH:=9feb068e822be7b3a116324e01fb6028eb1d66412bf98595ae72698965cb1cae
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-paho-mqtt
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=MQTT version 5.0/3.1.1 client class
-  URL:=http://eclipse.org/paho
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-paho-mqtt/description
-  MQTT version 3.1/3.1.1/5.0 client class
-endef
-
-$(eval $(call Py3Package,python3-paho-mqtt))
-$(eval $(call BuildPackage,python3-paho-mqtt))
-$(eval $(call BuildPackage,python3-paho-mqtt-src))
diff -uprN a/feeds/packages/lang/python/python-paramiko/Makefile b/feeds/packages/lang/python/python-paramiko/Makefile
--- a/feeds/packages/lang/python/python-paramiko/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-paramiko/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-paramiko
-PKG_VERSION:=2.7.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=paramiko
-PKG_HASH:=7f36f4ba2c0d81d219f4595e35f70d56cc94f9ac40a6acdf51d6ca210ce65035
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=LGPL-2.1-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-define Package/python3-paramiko
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=SSH2 protocol library
-  URL:=https://github.com/paramiko/paramiko/
-  DEPENDS:=+python3-light +python3-logging +python3-bcrypt \
-	  +python3-cryptography +python3-openssl +python3-pynacl
-endef
-
-define Package/python3-paramiko/description
-  Paramiko is a Python (2.7, 3.4+) implementation of the SSHv2 protocol,
-  providing both client and server functionality. While it leverages a Python
-  C extension for low level cryptography (Cryptography), Paramiko itself is a
-  pure Python interface around SSH networking concepts.
-endef
-
-$(eval $(call Py3Package,python3-paramiko))
-$(eval $(call BuildPackage,python3-paramiko))
-$(eval $(call BuildPackage,python3-paramiko-src))
diff -uprN a/feeds/packages/lang/python/python-parsley/Makefile b/feeds/packages/lang/python/python-parsley/Makefile
--- a/feeds/packages/lang/python/python-parsley/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-parsley/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2015, 2017-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-parsley
-PKG_VERSION:=1.3
-PKG_RELEASE:=5
-
-PYPI_NAME:=Parsley
-PKG_HASH:=9444278d47161d5f2be76a767809a3cbe6db4db822f46a4fd7481d4057208d41
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-define Package/python3-parsley
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Parsing and pattern matching
-  URL:=http://launchpad.net/parsley
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-parsley/description
-Parsing and pattern matching made easy.
-endef
-
-$(eval $(call Py3Package,python3-parsley))
-$(eval $(call BuildPackage,python3-parsley))
-$(eval $(call BuildPackage,python3-parsley-src))
diff -uprN a/feeds/packages/lang/python/python-parsley/patches/001-py3-read-utf8.patch b/feeds/packages/lang/python/python-parsley/patches/001-py3-read-utf8.patch
--- a/feeds/packages/lang/python/python-parsley/patches/001-py3-read-utf8.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-parsley/patches/001-py3-read-utf8.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -4,6 +4,7 @@
- Setup script for the Parsley distribution.
- """
- 
-+import io
- from distutils.core import setup
- setup(
-     name="Parsley",
-@@ -13,7 +14,7 @@ setup(
-     author="Allen Short",
-     author_email="washort42@gmail.com",
-     license="MIT License",
--    long_description=open("README").read(),
-+    long_description=io.open("README", encoding="utf-8").read(),
-     packages=["ometa", "terml", "ometa._generated", "terml._generated",
-               "ometa.test", "terml.test"],
-     py_modules=["parsley"]
diff -uprN a/feeds/packages/lang/python/python-parsley/patches/002-omit-tests.patch b/feeds/packages/lang/python/python-parsley/patches/002-omit-tests.patch
--- a/feeds/packages/lang/python/python-parsley/patches/002-omit-tests.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-parsley/patches/002-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,11 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -15,7 +15,6 @@ setup(
-     author_email="washort42@gmail.com",
-     license="MIT License",
-     long_description=io.open("README", encoding="utf-8").read(),
--    packages=["ometa", "terml", "ometa._generated", "terml._generated",
--              "ometa.test", "terml.test"],
-+    packages=["ometa", "terml", "ometa._generated", "terml._generated"],
-     py_modules=["parsley"]
- )
diff -uprN a/feeds/packages/lang/python/python-pip-conf/files/pip.conf b/feeds/packages/lang/python/python-pip-conf/files/pip.conf
--- a/feeds/packages/lang/python/python-pip-conf/files/pip.conf	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pip-conf/files/pip.conf	1970-01-01 08:00:00.000000000 +0800
@@ -1,3 +0,0 @@
-[global]
-cache-dir=/tmp/.cache
-log-file=/tmp/pip-log.txt
diff -uprN a/feeds/packages/lang/python/python-pip-conf/Makefile b/feeds/packages/lang/python/python-pip-conf/Makefile
--- a/feeds/packages/lang/python/python-pip-conf/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pip-conf/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,36 +0,0 @@
-#
-# Copyright (C) 2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pip-conf
-PKG_VERSION:=0.1
-PKG_RELEASE:=1
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/python-pip-conf
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Configuration file for pip/pip3
-  URL:=https://pip.pypa.io
-  MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-endef
-
-define Package/python-pip-conf/description
- Configuration file for pip/pip3
-endef
-
-Build/Compile:=
-
-define Package/python-pip-conf/install
-	$(INSTALL_DIR) $(1)/etc
-	$(CP) ./files/pip.conf $(1)/etc
-endef
-
-$(eval $(call BuildPackage,python-pip-conf))
diff -uprN a/feeds/packages/lang/python/python-pluggy/Makefile b/feeds/packages/lang/python/python-pluggy/Makefile
--- a/feeds/packages/lang/python/python-pluggy/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pluggy/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pluggy
-PKG_VERSION:=0.13.1
-PKG_RELEASE:=4
-
-PYPI_NAME:=pluggy
-PKG_HASH:=15b2acde666561e1298d71b523007ed7364de07029219b604cf808bfa1c765b0
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pluggy
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Plugin and hook calling mechanisms for Python
-  URL:=https://github.com/pytest-dev/pluggy
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-pluggy/description
-  A minimalist production ready plugin system for python
-endef
-
-$(eval $(call Py3Package,python3-pluggy))
-$(eval $(call BuildPackage,python3-pluggy))
-$(eval $(call BuildPackage,python3-pluggy-src))
diff -uprN a/feeds/packages/lang/python/python-ply/Makefile b/feeds/packages/lang/python/python-ply/Makefile
--- a/feeds/packages/lang/python/python-ply/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-ply/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-ply
-PKG_VERSION:=3.11
-PKG_RELEASE:=2
-
-PYPI_NAME:=ply
-PKG_HASH:=00c7c1aaa88358b9c765b6d3000c6eec0ba42abca5351b095321aef446081da3
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=README.md
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-ply
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=lex and yacc for Python
-  URL:=http://www.dabeaz.com/ply/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-ply/description
-PLY is a 100% Python implementation of the common parsing tools lex
-and yacc.
-endef
-
-$(eval $(call Py3Package,python3-ply))
-$(eval $(call BuildPackage,python3-ply))
-$(eval $(call BuildPackage,python3-ply-src))
diff -uprN a/feeds/packages/lang/python/python-psutil/Makefile b/feeds/packages/lang/python/python-psutil/Makefile
--- a/feeds/packages/lang/python/python-psutil/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-psutil/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2020-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-psutil
-PKG_VERSION:=5.8.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=psutil
-PKG_HASH:=0c9ccb99ab76025f2f0bbecf341d4656e9c1351db8cc8a03ccd62e318ab4b5c6
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=BSD 3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-psutil
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=psutil (process and system utilities)
-  URL:=https://github.com/giampaolo/psutil
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-psutil/description
-  psutil is a cross-platform library for retrieving information
-  on running processes and system utilization.
-endef
-
-$(eval $(call Py3Package,python3-psutil))
-$(eval $(call BuildPackage,python3-psutil))
-$(eval $(call BuildPackage,python3-psutil-src))
diff -uprN a/feeds/packages/lang/python/python-psycopg2/Makefile b/feeds/packages/lang/python/python-psycopg2/Makefile
--- a/feeds/packages/lang/python/python-psycopg2/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-psycopg2/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2016 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-psycopg2
-PKG_VERSION:=2.8.6
-PKG_RELEASE:=1
-
-PYPI_NAME:=psycopg2
-PKG_HASH:=fb23f6c71107c37fd667cb4ea363ddeb936b348bbd6449278eb92c189699f543
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=LGPL-3.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-psycopg2
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=PostgreSQL database adapter
-  URL:=https://www.psycopg.org/
-  DEPENDS:=+python3 +libpq
-endef
-
-define Package/python3-psycopg2/description
- Psycopg is the most popular PostgreSQL adapter for the Python programming language
-endef
-
-$(eval $(call Py3Package,python3-psycopg2))
-$(eval $(call BuildPackage,python3-psycopg2))
-
diff -uprN a/feeds/packages/lang/python/python-py/Makefile b/feeds/packages/lang/python/python-py/Makefile
--- a/feeds/packages/lang/python/python-py/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-py/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-py
-PKG_VERSION:=1.9.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=py
-PKG_HASH:=9ca6883ce56b4e8da7e79ac18787889fa5206c79dcc67fb065376cd2fe03f342
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-py
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=py
-  URL:=https://github.com/pytest-dev/py
-  DEPENDS:=+python3-light +python3-xml +python3-urllib
-endef
-
-define Package/python3-py/description
-  Library with cross-python path, ini-parsing, io, code, log facilities
-endef
-
-$(eval $(call Py3Package,python3-py))
-$(eval $(call BuildPackage,python3-py))
-$(eval $(call BuildPackage,python3-py-src))
diff -uprN a/feeds/packages/lang/python/python-pyasn1/Makefile b/feeds/packages/lang/python/python-pyasn1/Makefile
--- a/feeds/packages/lang/python/python-pyasn1/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyasn1/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pyasn1
-PKG_VERSION:=0.4.8
-PKG_RELEASE:=2
-
-PYPI_NAME:=pyasn1
-PKG_HASH:=aef77c9fb94a3ac588e87841208bdec464471d9871bd5050a287cc9a475cd0ba
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyasn1
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=ASN.1 library for Python
-  URL:=https://github.com/etingof/pyasn1
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-pyasn1/description
-This is an implementation of ASN.1 types and codecs in Python programming
-language. It has been first written to support particular protocol (SNMP)
-but then generalized to be suitable for a wide range of protocols
-based on ASN.1 specification.
-endef
-
-$(eval $(call Py3Package,python3-pyasn1))
-$(eval $(call BuildPackage,python3-pyasn1))
-$(eval $(call BuildPackage,python3-pyasn1-src))
diff -uprN a/feeds/packages/lang/python/python-pyasn1-modules/Makefile b/feeds/packages/lang/python/python-pyasn1-modules/Makefile
--- a/feeds/packages/lang/python/python-pyasn1-modules/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyasn1-modules/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pyasn1-modules
-PKG_VERSION:=0.2.8
-PKG_RELEASE:=2
-
-PYPI_NAME:=pyasn1-modules
-PKG_HASH:=905f84c712230b2c592c19470d3ca8d552de726050d1d1716282a1f6146be65e
-
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyasn1-modules
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Collection of ASN.1 modules
-  URL:=https://github.com/etingof/pyasn1-modules
-  DEPENDS:= \
-      +python3-light \
-      +python3-pyasn1
-endef
-
-define Package/python3-pyasn1-modules/description
-This is a small but growing collection of ASN.1 data structures
-expressed in Python terms using pyasn1 data model.
-endef
-
-$(eval $(call Py3Package,python3-pyasn1-modules))
-$(eval $(call BuildPackage,python3-pyasn1-modules))
-$(eval $(call BuildPackage,python3-pyasn1-modules-src))
diff -uprN a/feeds/packages/lang/python/python-pycparser/Makefile b/feeds/packages/lang/python/python-pycparser/Makefile
--- a/feeds/packages/lang/python/python-pycparser/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pycparser/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pycparser
-PKG_VERSION:=2.20
-PKG_RELEASE:=5
-
-PYPI_NAME:=pycparser
-PKG_HASH:=2d475327684562c3a96cc71adf7dc8c4f0565175cf86b6d7a404ff4c771f15f0
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=ply  # ply==3.10
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pycparser
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=C parser in Python
-  URL:=https://github.com/eliben/pycparser
-  DEPENDS:= \
-      +python3-light \
-      +python3-ply
-endef
-
-define Package/python3-pycparser/description
-pycparser is a parser for the C language, written in pure Python. It is a
-module designed to be easily integrated into applications that need to parse
-C source code.
-endef
-
-$(eval $(call Py3Package,python3-pycparser))
-$(eval $(call BuildPackage,python3-pycparser))
-$(eval $(call BuildPackage,python3-pycparser-src))
diff -uprN a/feeds/packages/lang/python/python-pycparser/patches/001-use-external-ply.patch b/feeds/packages/lang/python/python-pycparser/patches/001-use-external-ply.patch
--- a/feeds/packages/lang/python/python-pycparser/patches/001-use-external-ply.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pycparser/patches/001-use-external-ply.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
---- a/pycparser/c_lexer.py
-+++ b/pycparser/c_lexer.py
-@@ -9,8 +9,8 @@
- import re
- import sys
- 
--from .ply import lex
--from .ply.lex import TOKEN
-+from ply import lex
-+from ply.lex import TOKEN
- 
- 
- class CLexer(object):
---- a/pycparser/c_parser.py
-+++ b/pycparser/c_parser.py
-@@ -8,7 +8,7 @@
- #------------------------------------------------------------------------------
- import re
- 
--from .ply import yacc
-+from ply import yacc
- 
- from . import c_ast
- from .c_lexer import CLexer
---- a/setup.py
-+++ b/setup.py
-@@ -60,7 +60,7 @@ setup(
-         'Programming Language :: Python :: 3.6',
-     ],
-     python_requires=">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*",
--    packages=['pycparser', 'pycparser.ply'],
-+    packages=['pycparser'],
-     package_data={'pycparser': ['*.cfg']},
-     cmdclass={'install': install, 'sdist': sdist},
- )
diff -uprN a/feeds/packages/lang/python/python-pynacl/Makefile b/feeds/packages/lang/python/python-pynacl/Makefile
--- a/feeds/packages/lang/python/python-pynacl/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pynacl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,39 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pynacl
-PKG_VERSION:=1.4.0
-PKG_RELEASE:=6
-
-PYPI_NAME:=PyNaCl
-PKG_HASH:=54e9a2c849c742006516ad56a88f5c74bf2ce92c9f67435187c3c5953b346505
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-PKG_BUILD_DEPENDS:=libffi/host
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=cffi  # cffi>=1.4.1
-
-PYTHON3_PKG_SETUP_VARS:= SODIUM_INSTALL=system
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pynacl
-  CATEGORY:=Languages
-  SECTION:=lang
-  SUBMENU:=Python
-  TITLE:=Python binding to the libsodium library
-  URL:=https://github.com/pyca/pynacl/
-  DEPENDS:=+libsodium +python3-light +python3-cffi +python3-six
-endef
-
-define Package/python3-pynacl/description
-  PyNaCl is a Python binding to libsodium, which is a fork of the Networking and Cryptography library.
-endef
-
-$(eval $(call Py3Package,python3-pynacl))
-$(eval $(call BuildPackage,python3-pynacl))
-$(eval $(call BuildPackage,python3-pynacl-src))
diff -uprN a/feeds/packages/lang/python/python-pynacl/patches/001-always-compile-ed25519.patch b/feeds/packages/lang/python/python-pynacl/patches/001-always-compile-ed25519.patch
--- a/feeds/packages/lang/python/python-pynacl/patches/001-always-compile-ed25519.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pynacl/patches/001-always-compile-ed25519.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,22 +0,0 @@
---- a/src/bindings/minimal/crypto_scalarmult.h
-+++ b/src/bindings/minimal/crypto_scalarmult.h
-@@ -13,7 +13,7 @@
-  * limitations under the License.
-  */
- 
--#ifdef SODIUM_LIBRARY_MINIMAL
-+#if 0
- static const int PYNACL_HAS_CRYPTO_SCALARMULT_ED25519 = 0;
- 
- size_t (*crypto_scalarmult_ed25519_bytes)() = NULL;
---- a/src/bindings/minimal/crypto_core.h
-+++ b/src/bindings/minimal/crypto_core.h
-@@ -13,7 +13,7 @@
-  * limitations under the License.
-  */
- 
--#ifdef SODIUM_LIBRARY_MINIMAL
-+#if 0
- static const int PYNACL_HAS_CRYPTO_CORE_ED25519 = 0;
- 
- size_t (*crypto_core_ed25519_bytes)() = NULL;
diff -uprN a/feeds/packages/lang/python/python-pyopenssl/Makefile b/feeds/packages/lang/python/python-pyopenssl/Makefile
--- a/feeds/packages/lang/python/python-pyopenssl/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyopenssl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pyopenssl
-PKG_VERSION:=20.0.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=pyOpenSSL
-PKG_HASH:=4c231c759543ba02560fcd2480c48dcec4dae34c9da7d3747c508227e0624b51
-
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-PKG_CPE_ID:=cpe:/a:pyopenssl_project:pyopenssl
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyopenssl
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=OpenSSL wrapper
-  URL:=https://pyopenssl.org/
-  DEPENDS:= \
-      +python3-light \
-      +python3-cryptography \
-      +python3-six
-endef
-
-define Package/python3-pyopenssl/description
-Python wrapper module around the OpenSSL library
-endef
-
-$(eval $(call Py3Package,python3-pyopenssl))
-$(eval $(call BuildPackage,python3-pyopenssl))
-$(eval $(call BuildPackage,python3-pyopenssl-src))
diff -uprN a/feeds/packages/lang/python/python-pyotp/Makefile b/feeds/packages/lang/python/python-pyotp/Makefile
--- a/feeds/packages/lang/python/python-pyotp/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyotp/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=pyotp
-PKG_VERSION:=2.3.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=fc537e8acd985c5cbf51e11b7d53c42276fee017a73aec7c07380695671ca1a1
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyotp
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python One-Time Password Library
-  URL:=https://github.com/pyauth/pyotp
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-pyotp/description
-  PyOTP is a Python library for generating and verifying one-time passwords.
-  It can be used to implement two-factor (2FA) or multi-factor (MFA) authentication methods
-  in web applications and in other systems that require users to log in.
-endef
-
-$(eval $(call Py3Package,python3-pyotp))
-$(eval $(call BuildPackage,python3-pyotp))
-$(eval $(call BuildPackage,python3-pyotp-src))
diff -uprN a/feeds/packages/lang/python/python-pyparsing/Makefile b/feeds/packages/lang/python/python-pyparsing/Makefile
--- a/feeds/packages/lang/python/python-pyparsing/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyparsing/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC z.s.p.o. (http://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pyparsing
-PKG_VERSION:=2.4.7
-PKG_RELEASE:=2
-
-PYPI_NAME:=pyparsing
-PKG_HASH:=c203ec8783bf771a155b207279b9bccb8dea02d8f0c9e5f8ead507bc3246ecc1
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyparsing
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Library for constructing grammar directly in python
-  URL:=https://github.com/pyparsing/pyparsing/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-pyparsing/description
-  The pyparsing module is an alternative approach to creating
-  and executing simple grammars, vs. the traditional lex/yacc
-  approach, or the use of regular expressions.
-  The pyparsing module provides a library of classes that
-  client code uses to construct the grammar directly in Python code.
-endef
-
-$(eval $(call Py3Package,python3-pyparsing))
-$(eval $(call BuildPackage,python3-pyparsing))
-$(eval $(call BuildPackage,python3-pyparsing-src))
diff -uprN a/feeds/packages/lang/python/python-pyrsistent/Makefile b/feeds/packages/lang/python/python-pyrsistent/Makefile
--- a/feeds/packages/lang/python/python-pyrsistent/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyrsistent/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pyrsistent
-PKG_VERSION:=0.16.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=pyrsistent
-PKG_HASH:=28669905fe725965daa16184933676547c5bb40a5153055a8dee2a4bd7933ad3
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.mit
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyrsistent
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Persistent/Functional/Immutable data structures
-  URL:=https://github.com/tobgu/pyrsistent
-  DEPENDS:=+python3-light +python3-six
-endef
-
-define Package/python3-pyrsistent/description
-  Pyrsistent is a number of persistent collections (by some referred to as functional data structures).
-  Persistent in the sense that they are immutable.
-endef
-
-$(eval $(call Py3Package,python3-pyrsistent))
-$(eval $(call BuildPackage,python3-pyrsistent))
-$(eval $(call BuildPackage,python3-pyrsistent-src))
diff -uprN a/feeds/packages/lang/python/python-pyserial/Makefile b/feeds/packages/lang/python/python-pyserial/Makefile
--- a/feeds/packages/lang/python/python-pyserial/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pyserial/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pyserial
-PKG_VERSION:=3.4
-PKG_RELEASE:=2
-
-PYPI_NAME:=pyserial
-PKG_HASH:=6e2d401fdee0eab996cf734e67773a0143b932772ca8b42451440cfed942c627
-
-PKG_LICENSE:=BSD
-PKG_MAINTAINER:=Micke Prag <micke.prag@telldus.se>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pyserial
-  SECTION:=lang-python
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=python3-pyserial
-  URL:=https://github.com/pyserial/pyserial
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-pyserial/description
-This module encapsulates the access for the serial port. It provides backends
-for Python running on Windows, OSX, Linux, BSD (possibly any POSIX compliant
-system) and IronPython. The module named "serial" automatically selects the
-appropriate backend.
-endef
-
-$(eval $(call Py3Package,python3-pyserial))
-$(eval $(call BuildPackage,python3-pyserial))
-$(eval $(call BuildPackage,python3-pyserial-src))
diff -uprN a/feeds/packages/lang/python/python-pysocks/Makefile b/feeds/packages/lang/python/python-pysocks/Makefile
--- a/feeds/packages/lang/python/python-pysocks/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pysocks/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pysocks
-PKG_VERSION:=1.7.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=PySocks
-PKG_HASH:=3f8804571ebe159c380ac6de37643bb4685970655d3bba243530d6558b799aa0
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pysocks
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python SOCKS client module
-  URL:=https://github.com/Anorov/PySocks
-  DEPENDS:= \
-	+python3-light \
-	+python3-logging \
-	+python3-openssl \
-	+python3-urllib
-endef
-
-define Package/python3-pysocks/description
-  PySocks lets you send traffic through SOCKS proxy servers.
-  It is a modern fork of SocksiPy with bug fixes and extra features.
-endef
-
-$(eval $(call Py3Package,python3-pysocks))
-$(eval $(call BuildPackage,python3-pysocks))
-$(eval $(call BuildPackage,python3-pysocks-src))
diff -uprN a/feeds/packages/lang/python/python-pytest/Makefile b/feeds/packages/lang/python/python-pytest/Makefile
--- a/feeds/packages/lang/python/python-pytest/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pytest/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,51 +0,0 @@
-#
-# Copyright (C) 2020-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pytest
-PKG_VERSION:=6.2.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=pytest
-PKG_HASH:=671238a46e4df0f3498d1c3270e5deb9b32d25134c99b7d75370a68cfbe9b634
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pytest
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python testing framework
-  URL:=https://docs.pytest.org/en/latest/
-  DEPENDS:= \
-	+python3 \
-	+python3-more-itertools \
-	+python3-py \
-	+python3-attrs \
-	+python3-pluggy \
-	+python3-packaging \
-	+python3-toml \
-	+python3-iniconfig
-endef
-
-define Package/python3-pytest/description
-  The pytest framework makes it easy to write small tests, yet scales to support
-  complex functional testing for applications and libraries.
-endef
-
-$(eval $(call Py3Package,python3-pytest))
-$(eval $(call BuildPackage,python3-pytest))
-$(eval $(call BuildPackage,python3-pytest-src))
diff -uprN a/feeds/packages/lang/python/python-pytest-forked/Makefile b/feeds/packages/lang/python/python-pytest-forked/Makefile
--- a/feeds/packages/lang/python/python-pytest-forked/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pytest-forked/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pytest-forked
-PKG_VERSION:=1.3.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=pytest-forked
-PKG_HASH:=6aa9ac7e00ad1a539c41bec6d21011332de671e938c7637378ec9710204e37ca
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pytest-forked
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Runs tests in isolated forked subprocesses
-  URL:=https://github.com/pytest-dev/pytest-forked
-  DEPENDS:= +python3-light +python3-pytest +python3-py
-endef
-
-define Package/python3-pytest-forked/description
-  Pytest plugin which enables to run tests in isolated forked subprocesses
-endef
-
-$(eval $(call Py3Package,python3-pytest-forked))
-$(eval $(call BuildPackage,python3-pytest-forked))
-$(eval $(call BuildPackage,python3-pytest-forked-src))
diff -uprN a/feeds/packages/lang/python/python-pytest-xdist/Makefile b/feeds/packages/lang/python/python-pytest-xdist/Makefile
--- a/feeds/packages/lang/python/python-pytest-xdist/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pytest-xdist/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,47 +0,0 @@
-#
-# Copyright (C) 2020-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pytest-xdist
-PKG_VERSION:=2.2.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=pytest-xdist
-PKG_HASH:=1d8edbb1a45e8e1f8e44b1260583107fc23f8bc8da6d18cb331ff61d41258ecf
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pytest-xdist
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Pytest plugin for parallel test running
-  URL:=https://github.com/pytest-dev/pytest-xdist
-  DEPENDS:= \
-	+python3-light \
-	+python3-pytest \
-	+python3-pytest-forked \
-	+python3-execnet
-endef
-
-define Package/python3-pytest-xdist/description
-  The pytest framework makes it easy to write small tests, yet scales to support
-  complex functional testing for applications and libraries.
-endef
-
-$(eval $(call Py3Package,python3-pytest-xdist))
-$(eval $(call BuildPackage,python3-pytest-xdist))
-$(eval $(call BuildPackage,python3-pytest-xdist-src))
diff -uprN a/feeds/packages/lang/python/python-pytz/Makefile b/feeds/packages/lang/python/python-pytz/Makefile
--- a/feeds/packages/lang/python/python-pytz/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-pytz/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2007-2019 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-pytz
-PKG_VERSION:=2021.3
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=pytz
-PKG_HASH:=acad2d8b20a1af07d4e4c9d2e9285c5ed9104354062f275f3fcd88dcef4f1326
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-pytz
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=World timezone definitions, modern and historical
-  URL:=https://pythonhosted.org/pytz/
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-pytz/description
-  World timezone definitions, modern and historical
-endef
-
-$(eval $(call Py3Package,python3-pytz))
-$(eval $(call BuildPackage,python3-pytz))
-$(eval $(call BuildPackage,python3-pytz-src))
diff -uprN a/feeds/packages/lang/python/python-qrcode/Makefile b/feeds/packages/lang/python/python-qrcode/Makefile
--- a/feeds/packages/lang/python/python-qrcode/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-qrcode/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-qrcode
-PKG_VERSION:=6.1
-PKG_RELEASE:=3
-
-PYPI_NAME:=qrcode
-PKG_HASH:=505253854f607f2abf4d16092c61d4e9d511a3b4392e60bff957a68592b04369
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-qrcode
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=QR Code image generator
-  URL:=https://github.com/lincolnloop/python-qrcode
-  DEPENDS:= \
-	+python3 \
-	+python3-setuptools \
-	+python3-six \
-	+python3-pillow
-endef
-
-define Package/python3-qrcode/description
-  Pure python QR Code generator
-endef
-
-$(eval $(call Py3Package,python3-qrcode))
-$(eval $(call BuildPackage,python3-qrcode))
-$(eval $(call BuildPackage,python3-qrcode-src))
diff -uprN a/feeds/packages/lang/python/python-rcssmin/Makefile b/feeds/packages/lang/python/python-rcssmin/Makefile
--- a/feeds/packages/lang/python/python-rcssmin/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-rcssmin/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-rcssmin
-PKG_VERSION:=1.0.6
-PKG_RELEASE:=2
-
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>, Eneas U de Queiroz <cote2004-github@yahoo.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-PYPI_NAME:=rcssmin
-PKG_HASH:=ca87b695d3d7864157773a61263e5abb96006e9ff0e021eff90cbe0e1ba18270
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-rcssmin
-    SUBMENU:=Python
-    SECTION:=lang
-    CATEGORY:=Languages
-    TITLE:=Fast CSS minifier for Python
-    URL:=http://opensource.perlig.de/rcssmin/
-    DEPENDS:= \
-	+python3-light
-endef
-
-define Package/python3-rcssmin/description
-    This module is a re-implementation aiming for speed instead of maximum compression,
-    so it can be used at runtime (rather than during a preprocessing step).
-    RCSSmin does syntactical compression only (removing spaces, comments and possibly
-    semicolons). It does not provide semantic compression (like removing empty blocks,
-    collapsing redundant properties etc).
-endef
-
-$(eval $(call Py3Package,python3-rcssmin))
-$(eval $(call BuildPackage,python3-rcssmin))
-$(eval $(call BuildPackage,python3-rcssmin-src))
diff -uprN a/feeds/packages/lang/python/python-requests/Makefile b/feeds/packages/lang/python/python-requests/Makefile
--- a/feeds/packages/lang/python/python-requests/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-requests/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) 2007-2019 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-requests
-PKG_VERSION:=2.25.1
-PKG_RELEASE:=2
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>, Alexandru Ardelean <ardeleanalex@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:python-requests:requests
-
-PYPI_NAME:=requests
-PKG_HASH:=27973dd4a904a4f13b263a19c866c13b92a39ed1c964655f025f3f8d3d75b804
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-requests
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=HTTP library for Python
-  URL:=https://2.python-requests.org/
-  DEPENDS:= \
-	  +python3-light  \
-	  +python3-chardet  \
-	  +python3-idna  \
-	  +python3-urllib3  \
-	  +python3-certifi
-endef
-
-define Package/python3-requests/description
-  Requests is the only Non-GMO HTTP library for Python, safe for human consumption
-endef
-
-$(eval $(call Py3Package,python3-requests))
-$(eval $(call BuildPackage,python3-requests))
-$(eval $(call BuildPackage,python3-requests-src))
diff -uprN a/feeds/packages/lang/python/python-requests/patches/0001-idna-dependency-bump.patch b/feeds/packages/lang/python/python-requests/patches/0001-idna-dependency-bump.patch
--- a/feeds/packages/lang/python/python-requests/patches/0001-idna-dependency-bump.patch	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-requests/patches/0001-idna-dependency-bump.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,54 +0,0 @@
-From 9484e13c7da927119fe82794bb5571cec144b6d7 Mon Sep 17 00:00:00 2001
-From: Naor Livne <naorlivne@gmail.com>
-Date: Fri, 1 Jan 2021 14:31:14 +0200
-Subject: [PATCH 1/2] bump idna has version 3.0 was released
-
-Fixes issue (https://github.com/psf/requests/issues/5710):
-pkg_resources.ContextualVersionConflict: (idna 3.0 (/usr/lib/python3.9/site-packages), Requirement.parse('idna<3,>=2.5'), {'requests'})
-Origin of this patch:
-https://github.com/psf/requests/pull/5711
-
----
- setup.py | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
-diff --git a/setup.py b/setup.py
-index 7ba4b2a25f..f265384236 100755
---- a/setup.py
-+++ b/setup.py
-@@ -43,7 +43,7 @@ def run_tests(self):
-
- requires = [
-     'chardet>=3.0.2,<5',
--    'idna>=2.5,<3',
-+    'idna>=2.5,<4',
-     'urllib3>=1.21.1,<1.27',
-     'certifi>=2017.4.17'
-
-
-From d3e00a4958af046879f24de365d5589d861ea6ef Mon Sep 17 00:00:00 2001
-From: Naor Livne <naorlivne@gmail.com>
-Date: Tue, 5 Jan 2021 16:31:15 +0200
-Subject: [PATCH 2/2] Update setup.py
-MIME-Version: 1.0
-Content-Type: text/plain; charset=UTF-8
-Content-Transfer-Encoding: 8bit
-
-Co-authored-by: Mickaël Schoentgen <contact@tiger-222.fr>
----
- setup.py | 3 ++-
- 1 file changed, 2 insertions(+), 1 deletion(-)
-
-diff --git a/setup.py b/setup.py
-index f265384236..5ce59e621d 100755
---- a/setup.py
-+++ b/setup.py
-@@ -43,7 +43,8 @@ def run_tests(self):
-
- requires = [
-     'chardet>=3.0.2,<5',
--    'idna>=2.5,<4',
-+    'idna>=2.5,<3 ; python_version < "3"',
-+    'idna>=2.5,<4 ; python_version >= "3"',
-     'urllib3>=1.21.1,<1.27',
-     'certifi>=2017.4.17'
diff -uprN a/feeds/packages/lang/python/python-requests-oauthlib/Makefile b/feeds/packages/lang/python/python-requests-oauthlib/Makefile
--- a/feeds/packages/lang/python/python-requests-oauthlib/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-requests-oauthlib/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-requests-oauthlib
-PKG_VERSION:=1.3.0
-PKG_RELEASE:=2
-
-PKG_MAINTAINER:=Eneas U de Queiroz <cotequeiroz@gmail.com>
-PKG_LICENSE:=ISC
-PKG_LICENSE_FILES:=LICENSE
-
-PYPI_NAME:=requests-oauthlib
-PKG_HASH:=b4261601a71fd721a8bd6d7aa1cc1d6a8a93b4a9f5e96626f8e4d91e8beeaa6a
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-requests-oauthlib
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=OAuthlib auth for Requests
-  URL:=https://github.com/requests/requests-oauthlib
-  DEPENDS:= \
-	+python3 \
-	+python3-oauthlib \
-	+python3-requests
-endef
-
-define Package/python3-requests-oauthlib/description
-  This python package provides first-class OAuth library support
-  for Requests.
-endef
-
-$(eval $(call Py3Package,python3-requests-oauthlib))
-$(eval $(call BuildPackage,python3-requests-oauthlib))
-$(eval $(call BuildPackage,python3-requests-oauthlib-src))
diff -uprN a/feeds/packages/lang/python/python-rsa/Makefile b/feeds/packages/lang/python/python-rsa/Makefile
--- a/feeds/packages/lang/python/python-rsa/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-rsa/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=rsa
-PKG_VERSION:=4.6
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=109ea5a66744dd859bf16fe904b8d8b627adafb9408753161e766a92e7d681fa
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-PKG_CPE_ID:=cpe:/a:python-rsa_project:python-rsa
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-rsa
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=rsa
-  URL:=https://stuvel.eu/rsa
-  DEPENDS:=+python3 +python3-pyasn1
-endef
-
-define Package/python3-rsa/description
-  Is a pure-Python RSA implementation. It supports encryption and decryption,
-  signing and verifying signatures, and key generation according to PKCS#1 version 1.5.
-  It can be used as a Python library as well as on the commandline. 
-endef
-
-$(eval $(call Py3Package,python3-rsa))
-$(eval $(call BuildPackage,python3-rsa))
-$(eval $(call BuildPackage,python3-rsa-src))
diff -uprN a/feeds/packages/lang/python/python-s3transfer/Makefile b/feeds/packages/lang/python/python-s3transfer/Makefile
--- a/feeds/packages/lang/python/python-s3transfer/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-s3transfer/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=s3transfer
-PKG_VERSION:=0.2.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=f23d5cb7d862b104401d9021fc82e5fa0e0cf57b7660a1331425aab0c691d021
-
-PKG_MAINTAINER:=Daniel Danzberger <daniel@dd-wrt.com>
-PKG_LICENSE:=MIT
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-s3transfer
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=s3transfer
-  URL:=https://github.com/boto/s3transfer
-  DEPENDS:= \
-	+python3 \
-	+python3-botocore
-endef
-
-define Package/python3-s3transfer/description
-S3transfer is a Python library for managing Amazon S3 transfers.
-endef
-
-$(eval $(call Py3Package,python3-s3transfer))
-$(eval $(call BuildPackage,python3-s3transfer))
-$(eval $(call BuildPackage,python3-s3transfer-src))
diff -uprN a/feeds/packages/lang/python/python-schedule/Makefile b/feeds/packages/lang/python/python-schedule/Makefile
--- a/feeds/packages/lang/python/python-schedule/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-schedule/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-schedule
-PKG_VERSION:=0.6.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=schedule
-PKG_HASH:=f9fb5181283de4db6e701d476dd01b6a3dd81c38462a54991ddbb9d26db857c9
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-schedule
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Job scheduling for humans
-  URL:=https://github.com/dbader/schedule
-  DEPENDS:=+python3-light +python3-logging
-endef
-
-define Package/python3-schedule/description
-  An in-process scheduler for periodic jobs that uses the builder pattern for configuration.
-  The Schedule lets you run Python functions (or any other callable)
-  periodically at predetermined intervals using a simple, human-friendly syntax.
-endef
-
-$(eval $(call Py3Package,python3-schedule))
-$(eval $(call BuildPackage,python3-schedule))
-$(eval $(call BuildPackage,python3-schedule-src))
diff -uprN a/feeds/packages/lang/python/python-schema/Makefile b/feeds/packages/lang/python/python-schema/Makefile
--- a/feeds/packages/lang/python/python-schema/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-schema/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-schema
-PKG_VERSION:=0.7.2
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Karel Kočí <cynerd@email.cz>
-
-PYPI_NAME:=schema
-PKG_HASH:=b536f2375b49fdf56f36279addae98bd86a8afbd58b3c32ce363c464bed5fc1c
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-schema
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  URL:=https://github.com/keleshev/schema
-  TITLE:=python3-schema
-  DEPENDS:=+python3-light +python3-contextlib2
-endef
-
-define Package/python3-schema/description
-  Schema validation just got Pythonic
-endef
-
-$(eval $(call Py3Package,python3-schema))
-$(eval $(call BuildPackage,python3-schema))
-$(eval $(call BuildPackage,python3-schema-src))
diff -uprN a/feeds/packages/lang/python/python-sentry-sdk/Makefile b/feeds/packages/lang/python/python-sentry-sdk/Makefile
--- a/feeds/packages/lang/python/python-sentry-sdk/Makefile	2023-04-14 21:27:49.484066000 +0800
+++ b/feeds/packages/lang/python/python-sentry-sdk/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-sentry-sdk
-PKG_VERSION:=0.19.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=sentry-sdk
-PKG_HASH:=17b725df2258354ccb39618ae4ead29651aa92c01a92acf72f98efe06ee2e45a
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-sentry-sdk
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Python Client for Sentry
-  URL:=https://github.com/getsentry/sentry-python
-  DEPENDS:= \
-	+python3-certifi \
-	+python3-light \
-	+python3-logging \
-	+python3-urllib3
-endef
-
-define Package/python3-sentry-sdk/description
-  Python Sentry-Python is an SDK for Sentry.
-endef
-
-$(eval $(call Py3Package,python3-sentry-sdk))
-$(eval $(call BuildPackage,python3-sentry-sdk))
-$(eval $(call BuildPackage,python3-sentry-sdk-src))
diff -uprN a/feeds/packages/lang/python/python-service-identity/Makefile b/feeds/packages/lang/python/python-service-identity/Makefile
--- a/feeds/packages/lang/python/python-service-identity/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-service-identity/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) 2016-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-service-identity
-PKG_VERSION:=18.1.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=service_identity
-PKG_HASH:=0858a54aabc5b459d1aafa8a518ed2081a285087f349fe3e55197989232e2e2d
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-service-identity
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Service identity verification
-  URL:=https://service-identity.readthedocs.io/
-  DEPENDS:= \
-      +python3-light \
-      +python3-attrs \
-      +python3-cryptography \
-      +python3-pyasn1 \
-      +python3-pyasn1-modules
-endef
-
-define Package/python3-service-identity/description
-service_identity aspires to give you all the tools you need for
-verifying whether a certificate is valid for the intended purposes.
-endef
-
-$(eval $(call Py3Package,python3-service-identity))
-$(eval $(call BuildPackage,python3-service-identity))
-$(eval $(call BuildPackage,python3-service-identity-src))
diff -uprN a/feeds/packages/lang/python/python-simplejson/Makefile b/feeds/packages/lang/python/python-simplejson/Makefile
--- a/feeds/packages/lang/python/python-simplejson/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-simplejson/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-simplejson
-PKG_VERSION:=3.17.3
-PKG_RELEASE:=1
-PKG_LICENSE:=MIT
-PKG_CPE_ID:=cpe:/a:simplejson_project:simplejson
-
-PYPI_NAME:=simplejson
-PKG_HASH:=da72a452bcf4349fc467a12b54ab0e63e654a571cacc44084826d52bde12b6ee
-PKG_MAINTAINER:=Alexandru Ardelean <ardeleanalex@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-simplejson
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Simple, fast, extensible JSON encoder/decoder
-  URL:=https://simplejson.readthedocs.org/
-  DEPENDS:=+python3-light +python3-decimal
-endef
-
-define Package/python3-simplejson/description
-  Simple, fast, extensible JSON encoder/decoder for Python
-endef
-
-define Py3Package/python3-simplejson/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/simplejson/tests
-endef
-
-$(eval $(call Py3Package,python3-simplejson))
-$(eval $(call BuildPackage,python3-simplejson))
-$(eval $(call BuildPackage,python3-simplejson-src))
diff -uprN a/feeds/packages/lang/python/python-six/Makefile b/feeds/packages/lang/python/python-six/Makefile
--- a/feeds/packages/lang/python/python-six/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-six/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,54 +0,0 @@
-#
-# Copyright (C) 2015, 2017-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-six
-PKG_VERSION:=1.16.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=six
-PKG_HASH:=1e61c37477a1626458e36f7b1d82aa5c9b094fa4802892072e49de9c60c4c926
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-HOST_BUILD_DEPENDS:=python3/host
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-six
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Python 2 and 3 compatibility library
-  URL:=https://github.com/benjaminp/six
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-six/description
-Six is a Python 2 and 3 compatibility library.  It provides utility functions
-for smoothing over the differences between the Python versions with the goal of
-writing Python code that is compatible on both Python versions.  See the
-documentation for more information on what is provided.
-endef
-
-define Host/Compile
-	$(call HostPython3/ModSetup,,install --prefix="" --root="$(STAGING_DIR_HOSTPKG)")
-endef
-
-Host/Install:=
-
-$(eval $(call HostBuild))
-
-$(eval $(call Py3Package,python3-six))
-$(eval $(call BuildPackage,python3-six))
-$(eval $(call BuildPackage,python3-six-src))
diff -uprN a/feeds/packages/lang/python/python-slugify/Makefile b/feeds/packages/lang/python/python-slugify/Makefile
--- a/feeds/packages/lang/python/python-slugify/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-slugify/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-slugify
-PKG_VERSION:=4.0.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=69a517766e00c1268e5bbfc0d010a0a8508de0b18d30ad5a1ff357f8ae724270
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-slugify
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Slugify application that handles Unicode
-  URL:=https://github.com/un33k/python-slugify
-  DEPENDS:= \
-    +python3-light \
-    +python3-codecs \
-    +python3-setuptools \
-    +python3-text-unidecode
-endef
-
-define Package/python3-slugify/description
-  A Python slugify application that handles unicode.
-endef
-
-$(eval $(call Py3Package,python3-slugify))
-$(eval $(call BuildPackage,python3-slugify))
-$(eval $(call BuildPackage,python3-slugify-src))
diff -uprN a/feeds/packages/lang/python/python-socketio/Makefile b/feeds/packages/lang/python/python-socketio/Makefile
--- a/feeds/packages/lang/python/python-socketio/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-socketio/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,46 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-socketio
-PKG_VERSION:=5.1.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=python-socketio
-PKG_HASH:=338cc29abb6f3ca14c88f1f8d05ed27c690df4648f62062b299f92625bbf7093
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-socketio
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Socket.IO server and client
-  URL:=https://github.com/miguelgrinberg/python-socketio
-  DEPENDS:= \
-	+python3-light \
-	+python3-bidict \
-	+python3-engineio \
-	+python3-asyncio \
-	+python3-logging \
-	+python3-urllib
-endef
-
-define Package/python3-socketio/description
-  Python implementation of the Socket.IO realtime client and server.
-endef
-
-$(eval $(call Py3Package,python3-socketio))
-$(eval $(call BuildPackage,python3-socketio))
-$(eval $(call BuildPackage,python3-socketio-src))
diff -uprN a/feeds/packages/lang/python/python-sqlalchemy/Makefile b/feeds/packages/lang/python/python-sqlalchemy/Makefile
--- a/feeds/packages/lang/python/python-sqlalchemy/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-sqlalchemy/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-sqlalchemy
-PKG_VERSION:=1.3.23
-PKG_RELEASE:=1
-
-PYPI_NAME:=SQLAlchemy
-PKG_HASH:=6fca33672578666f657c131552c4ef8979c1606e494f78cd5199742dfb26918b
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:sqlalchemy:sqlalchemy
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-sqlalchemy
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Database Abstraction Library
-  URL:=https://www.sqlalchemy.org
-  DEPENDS:= \
-	+python3-light \
-	+python3-urllib \
-	+python3-decimal \
-	+python3-logging
-endef
-
-define Package/python3-sqlalchemy/description
-  SQLAlchemy is the Python SQL toolkit and Object Relational Mapper
-  that gives application developers the full power and flexibility of SQL.
-  SQLAlchemy provides a full suite of well known enterprise-level persistence patterns,
-  designed for efficient and high-performing database access,
-  adapted into a simple and Pythonic domain language.
-endef
-
-$(eval $(call Py3Package,python3-sqlalchemy))
-$(eval $(call BuildPackage,python3-sqlalchemy))
-$(eval $(call BuildPackage,python3-sqlalchemy-src))
diff -uprN a/feeds/packages/lang/python/python-stem/Makefile b/feeds/packages/lang/python/python-stem/Makefile
--- a/feeds/packages/lang/python/python-stem/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-stem/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,36 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-stem
-PKG_VERSION:=1.8.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=stem
-PKG_HASH:=a0b48ea6224e95f22aa34c0bc3415f0eb4667ddeae3dfb5e32a6920c185568c2
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=LGPL-3.0-only
-PKG_LICENSE_FILES:=LICENSE
-
-PYTHON3_PKG_SETUP_ARGS:=
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-stem
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=A controller library for Tor
-  URL:=https://stem.torproject.org/
-  DEPENDS:=+python3
-endef
-
-define Package/python3-stem/description
-  Stem is a Python controller library for Tor. With it you can use Tor's control
-  protocol to script against the Tor process, or build things such as Nyx.
-endef
-
-$(eval $(call Py3Package,python3-stem))
-$(eval $(call BuildPackage,python3-stem))
-$(eval $(call BuildPackage,python3-stem-src))
diff -uprN a/feeds/packages/lang/python/python-texttable/Makefile b/feeds/packages/lang/python/python-texttable/Makefile
--- a/feeds/packages/lang/python/python-texttable/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-texttable/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,33 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-texttable
-PKG_VERSION:=1.6.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=texttable
-PKG_HASH:=ce0faf21aa77d806bbff22b107cc22cce68dc9438f97a2df32c93e9afa4ce436
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-texttable
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Module for creating simple ASCII tables
-  URL:=https://github.com/foutaise/texttable/
-  DEPENDS:=+python3-light +python3-codecs
-endef
-
-define Package/python3-texttable/description
-  Module for creating simple ASCII tables
-endef
-
-$(eval $(call Py3Package,python3-texttable))
-$(eval $(call BuildPackage,python3-texttable))
-$(eval $(call BuildPackage,python3-texttable-src))
diff -uprN a/feeds/packages/lang/python/python-toml/Makefile b/feeds/packages/lang/python/python-toml/Makefile
--- a/feeds/packages/lang/python/python-toml/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-toml/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-toml
-PKG_VERSION:=0.10.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=toml
-PKG_HASH:=b3bda1d108d5dd99f4a20d24d9c348e91c4db7ab1b749200bded2f839ccbe68f
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-toml
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=A Python library for parsing and creating TOML
-  URL:=https://github.com/uiri/toml
-  DEPENDS:= +python3-light +python3-decimal
-endef
-
-define Package/python3-toml/description
-  Python Library for Tom's Obvious, Minimal Language
-endef
-
-$(eval $(call Py3Package,python3-toml))
-$(eval $(call BuildPackage,python3-toml))
-$(eval $(call BuildPackage,python3-toml-src))
diff -uprN a/feeds/packages/lang/python/python-tornado/Makefile b/feeds/packages/lang/python/python-tornado/Makefile
--- a/feeds/packages/lang/python/python-tornado/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-tornado/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2020 CZ.NIC z.s.p.o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-tornado
-PKG_VERSION:=6.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=tornado
-PKG_HASH:=33c6e81d7bd55b468d2e793517c909b139960b6c790a60b7991b9b6b76fb9791
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-tornado
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Web framework and asynchronous networking library
-  URL:=https://tornadoweb.org
-  DEPENDS:= \
-    +python3-asyncio \
-    +python3-codecs \
-    +python3-email \
-    +python3-light \
-    +python3-logging \
-    +python3-multiprocessing \
-    +python3-openssl \
-    +python3-unittest \
-    +python3-urllib
-endef
-
-define Package/python3-tornado/description
-  Tornado is a Python web framework and asynchronous networking library,
-  originally developed at FriendFeed. By using non-blocking network I/O,
-  Tornado can scale to tens of thousands of open connections, making it
-  ideal for long polling, WebSockets, and other applications that require
-  a long-lived connection to each user.
-endef
-
-$(eval $(call Py3Package,python3-tornado))
-$(eval $(call BuildPackage,python3-tornado))
-$(eval $(call BuildPackage,python3-tornado-src))
diff -uprN a/feeds/packages/lang/python/python-twisted/Makefile b/feeds/packages/lang/python/python-twisted/Makefile
--- a/feeds/packages/lang/python/python-twisted/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-twisted/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,79 +0,0 @@
-#
-# Copyright (C) 2006-2011, 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-twisted
-PKG_VERSION:=22.2.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=Twisted
-PKG_HASH:=57f32b1f6838facb8c004c89467840367ad38e9e535f8252091345dba500b4f2
-
-PKG_BUILD_DEPENDS:=libtirpc
-
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-PKG_CPE_ID:=cpe:/a:twistedmatrix:twisted
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-twisted
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Asynchronous networking framework
-  URL:=https://twistedmatrix.com/
-  DEPENDS:= \
-      +python3 \
-      +python3-appdirs \
-      +python3-attrs \
-      +python3-automat \
-      +python3-bcrypt \
-      +python3-constantly \
-      +python3-cryptography \
-      +python3-idna \
-      +python3-incremental \
-      +python3-hyperlink \
-      +python3-pkg-resources \
-      +python3-pyasn1 \
-      +python3-pyopenssl \
-      +python3-service-identity \
-      +python3-typing-extensions \
-      +python3-zope-interface
-endef
-
-define Package/python3-twisted/description
-Twisted is a networking engine written in Python, supporting numerous
-protocols. It contains a web server, numerous chat clients, chat servers,
-mail servers, and more.
-endef
-
-define Build/Configure
-	$(SED) 's/^version = attr: twisted.__version__$$$$/version = $(PKG_VERSION)/' $(PKG_BUILD_DIR)/setup.cfg
-endef
-
-define Py3Package/python3-twisted/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/twisted/conch/scripts/tkconch.py
-endef
-
-define Py3Package/python3-twisted/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $(1)/usr/bin/
-	for bin in $(1)/usr/bin/*; do \
-		mv $$$$bin $$$${bin}3 ; \
-		$(LN) $$$${bin##*/}3 $$$$bin ; \
-	done
-endef
-
-$(eval $(call Py3Package,python3-twisted))
-$(eval $(call BuildPackage,python3-twisted))
-$(eval $(call BuildPackage,python3-twisted-src))
diff -uprN a/feeds/packages/lang/python/python-twisted/patches/001-omit-tkconch.patch b/feeds/packages/lang/python/python-twisted/patches/001-omit-tkconch.patch
--- a/feeds/packages/lang/python/python-twisted/patches/001-omit-tkconch.patch	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-twisted/patches/001-omit-tkconch.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,18 +0,0 @@
---- a/setup.cfg
-+++ b/setup.cfg
-@@ -108,7 +108,6 @@ console_scripts =
- 	conch = twisted.conch.scripts.conch:run
- 	mailmail = twisted.mail.scripts.mailmail:run
- 	pyhtmlizer = twisted.scripts.htmlizer:run
--	tkconch = twisted.conch.scripts.tkconch:run
- 	trial = twisted.scripts.trial:run
- 	twist = twisted.application.twist._twist:Twist.main
- 	twistd = twisted.scripts.twistd:run
---- a/src/twisted/python/twisted-completion.zsh
-+++ b/src/twisted/python/twisted-completion.zsh
-@@ -1,4 +1,4 @@
--#compdef twist twistd trial conch cftp ckeygen pyhtmlizer tkconch
-+#compdef twist twistd trial conch cftp ckeygen pyhtmlizer
- #
- # This is the ZSH completion file for Twisted commands. It calls the current
- # command-line with the special "--_shell-completion" option which is handled
diff -uprN a/feeds/packages/lang/python/python-twisted/patches/002-omit-tests.patch b/feeds/packages/lang/python/python-twisted/patches/002-omit-tests.patch
--- a/feeds/packages/lang/python/python-twisted/patches/002-omit-tests.patch	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-twisted/patches/002-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,20 +0,0 @@
---- a/setup.cfg
-+++ b/setup.cfg
-@@ -100,6 +100,9 @@ mypy =
- 
- [options.packages.find]
- where = src
-+exclude = 
-+	*.test
-+	*.test.*
- 
- [options.entry_points]
- console_scripts = 
-@@ -119,6 +122,7 @@ console_scripts =
- 	*.pxi
- 	*.pyx
- 	build.bat
-+	test/*
- 
- [flake8]
- disable-noqa = True
diff -uprN a/feeds/packages/lang/python/python-typing-extensions/Makefile b/feeds/packages/lang/python/python-typing-extensions/Makefile
--- a/feeds/packages/lang/python/python-typing-extensions/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-typing-extensions/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-typing-extensions
-PKG_VERSION:=3.7.4.3
-PKG_RELEASE:=1
-
-PYPI_NAME:=typing-extensions
-PYPI_SOURCE_NAME:=typing_extensions
-PKG_HASH:=99d4073b617d30288f569d3f13d2bd7548c3a7e4c8de87db09a9d29bb3a4a60c
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=PSF-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-typing-extensions
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Module with type hints for Python
-  URL:=https://github.com/python/typing
-  DEPENDS:= \
-	+python3-light
-endef
-
-define Package/python3-typing-extensions/description
-  Backported and Experimental Type Hints for Python.
-endef
-
-$(eval $(call Py3Package,python3-typing-extensions))
-$(eval $(call BuildPackage,python3-typing-extensions))
-$(eval $(call BuildPackage,python3-typing-extensions-src))
diff -uprN a/feeds/packages/lang/python/python-ubus/Makefile b/feeds/packages/lang/python/python-ubus/Makefile
--- a/feeds/packages/lang/python/python-ubus/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-ubus/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2018-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-ubus
-PKG_VERSION:=0.1.1
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=ubus
-PKG_HASH:=7e57bda989bc35b48c7075d03ec2818226e722bbf1bde138d7e7ea26d462682a
-
-PKG_MAINTAINER:=Erik Larsson <who+openwrt@cnackers.org>
-PKG_LICENSE:=LGPL-2.1-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-ubus
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Python3 ubus
-  URL:=https://gitlab.nic.cz/turris/python-ubus/
-  DEPENDS:=+libubus +libblobmsg-json +python3-light
-endef
-
-define Package/python3-ubus/description
-  Python bindings for ubus.
-endef
-
-$(eval $(call Py3Package,python3-ubus))
-$(eval $(call BuildPackage,python3-ubus))
-$(eval $(call BuildPackage,python3-ubus-src))
diff -uprN a/feeds/packages/lang/python/python-uci/Makefile b/feeds/packages/lang/python/python-uci/Makefile
--- a/feeds/packages/lang/python/python-uci/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-uci/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,40 +0,0 @@
-#
-# Copyright (C) 2018-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-uci
-PKG_VERSION:=0.8.1
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=pyuci
-PKG_HASH:=9287fe41b427dc5c167592d429be48c1e6cfe276225681b1bdefddfe90d7e941
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=GPL-3.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-uci
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Python UCI bindings
-  URL:=https://gitlab.nic.cz/turris/pyuci/
-  DEPENDS:=+python3-light +libuci
-endef
-
-define Package/python3-uci/description
-  Python3 bindings for Unified Configuration Interface.
-endef
-
-$(eval $(call Py3Package,python3-uci))
-$(eval $(call BuildPackage,python3-uci))
-$(eval $(call BuildPackage,python3-uci-src))
diff -uprN a/feeds/packages/lang/python/python-urllib3/Makefile b/feeds/packages/lang/python/python-urllib3/Makefile
--- a/feeds/packages/lang/python/python-urllib3/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-urllib3/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2007-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-urllib3
-PKG_VERSION:=1.25.11
-PKG_RELEASE:=1
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_CPE_ID:=cpe:/a:urllib3_project:urllib3
-
-PYPI_NAME:=urllib3
-PKG_HASH:=8d7eaa5a82a1cac232164990f04874c594c9453ec55eef02eab885aa02fc17a2
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-urllib3
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Sanity-friendly HTTP client
-  URL:=https://urllib3.readthedocs.io/
-  DEPENDS:=+python3
-endef
-
-define Package/python3-urllib3/description
-  HTTP library with thread-safe connection pooling, file post, and more.
-endef
-
-$(eval $(call Py3Package,python3-urllib3))
-$(eval $(call BuildPackage,python3-urllib3))
-$(eval $(call BuildPackage,python3-urllib3-src))
diff -uprN a/feeds/packages/lang/python/python-voluptuous/Makefile b/feeds/packages/lang/python/python-voluptuous/Makefile
--- a/feeds/packages/lang/python/python-voluptuous/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-voluptuous/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-voluptuous
-PKG_VERSION:=0.12.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=voluptuous
-PKG_HASH:=663572419281ddfaf4b4197fd4942d181630120fb39b333e3adad70aeb56444b
-
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=COPYING
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-voluptuous
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Data validation library
-  URL:=https://github.com/alecthomas/voluptuous
-  DEPENDS:= \
-      +python3-light
-endef
-
-define Package/python3-voluptuous/description
-It is primarily intended for validating data coming into Python as JSON, YAML, etc.
-endef
-
-$(eval $(call Py3Package,python3-voluptuous))
-$(eval $(call BuildPackage,python3-voluptuous))
-$(eval $(call BuildPackage,python3-voluptuous-src))
diff -uprN a/feeds/packages/lang/python/python-voluptuous-serialize/Makefile b/feeds/packages/lang/python/python-voluptuous-serialize/Makefile
--- a/feeds/packages/lang/python/python-voluptuous-serialize/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-voluptuous-serialize/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,42 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=voluptuous-serialize
-PKG_VERSION:=2.4.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=c6ba17cb0301c18e8b955d89b85fa4aa05c05c80ab1e4873810900f757dceae4
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=COPYING
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-voluptuous-serialize
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Python Voluptuous Serialize
-  URL:=https://github.com/balloob/voluptuous-serialize
-  DEPENDS:= \
-	+python3-light \
-	+python3-voluptuous
-endef
-
-define Package/python3-voluptuous-serialize/description
-  Convert Voluptuous schemas to dictionaries so they can be serialized.
-endef
-
-$(eval $(call Py3Package,python3-voluptuous-serialize))
-$(eval $(call BuildPackage,python3-voluptuous-serialize))
-$(eval $(call BuildPackage,python3-voluptuous-serialize-src))
diff -uprN a/feeds/packages/lang/python/python-wcwidth/Makefile b/feeds/packages/lang/python/python-wcwidth/Makefile
--- a/feeds/packages/lang/python/python-wcwidth/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-wcwidth/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC z.s.p.o. (http://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-wcwidth
-PKG_VERSION:=0.2.5
-PKG_RELEASE:=1
-
-PYPI_NAME:=wcwidth
-PKG_HASH:=c4d647b99872929fdb7bdcaa4fbe7f01413ed3d98077df798530e5b04f116c83
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE.txt
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-wcwidth
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Terminal width calculation library
-  URL:=https://github.com/jquast/wcwidth
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-wcwidth/description
-  Python library that measures the width of unicode strings rendered to a terminal
-endef
-
-$(eval $(call Py3Package,python3-wcwidth))
-$(eval $(call BuildPackage,python3-wcwidth))
-$(eval $(call BuildPackage,python3-wcwidth-src))
diff -uprN a/feeds/packages/lang/python/python-websocket-client/Makefile b/feeds/packages/lang/python/python-websocket-client/Makefile
--- a/feeds/packages/lang/python/python-websocket-client/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-websocket-client/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,36 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-websocket-client
-PKG_VERSION:=0.57.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=websocket_client
-PKG_HASH:=d735b91d6d1692a6a181f2a8c9e0238e5f6373356f561bb9dc4c7af36f452010
-
-PKG_MAINTAINER:=Javier Marcet <javier@marcet.info>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-websocket-client
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=WebSocket client for Python. hybi13 is supported
-  URL:=https://github.com/websocket-client/websocket-client
-  DEPENDS:=+python3-light +python3-logging +python3-openssl +python3-six
-endef
-
-define Package/python3-websocket-client/description
-  websocket-client module is WebSocket client for python. This provide the low
-  level APIs for WebSocket. All APIs are the synchronous functions.
-
-  websocket-client supports only hybi-13.
-endef
-
-$(eval $(call Py3Package,python3-websocket-client))
-$(eval $(call BuildPackage,python3-websocket-client))
-$(eval $(call BuildPackage,python3-websocket-client-src))
diff -uprN a/feeds/packages/lang/python/python-websockets/Makefile b/feeds/packages/lang/python/python-websockets/Makefile
--- a/feeds/packages/lang/python/python-websockets/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-websockets/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#
-# Copyright (C) 2018-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-websockets
-PKG_VERSION:=10.0
-PKG_RELEASE:=$(AUTORELEASE)
-
-PYPI_NAME:=websockets
-PKG_HASH:=c4fc9a1d242317892590abe5b61a9127f1a61740477bfb121743f290b8054002
-
-PKG_MAINTAINER:=Michal Vasilek <michal.vasilek@nic.cz>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-websockets
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Library for developing WebSocket servers and clients
-  URL:=https://websockets.readthedocs.io/
-  DEPENDS:=+python3-light +python3-asyncio +python3-ctypes +python3-email \
-    +python3-logging +python3-urllib
-endef
-
-define Package/python3-websockets/description
-  websockets is a library for building WebSocket servers and clients
-  in Python with a focus on correctness and simplicity.
-
-  Built on top of asyncio, Python’s standard asynchronous I/O framework.
-  It provides an elegant coroutine-based API.
-endef
-
-$(eval $(call Py3Package,python3-websockets))
-$(eval $(call BuildPackage,python3-websockets))
-$(eval $(call BuildPackage,python3-websockets-src))
diff -uprN a/feeds/packages/lang/python/python-yaml/Makefile b/feeds/packages/lang/python/python-yaml/Makefile
--- a/feeds/packages/lang/python/python-yaml/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-yaml/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2008-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-yaml
-PKG_VERSION:=5.3.1
-PKG_RELEASE:=2
-
-PYPI_NAME:=PyYAML
-PKG_HASH:=b8eac752c5e14d3eca0e6dd9199cd627518cb5ec06add0de9d32baeee6fe645d
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-PKG_CPE_ID:=cpe:/a:pyyaml_project:pyyaml
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-yaml
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=YAML parser and emitter for Python
-  URL:=https://github.com/yaml/pyyaml
-  DEPENDS:=+libyaml +python3-light
-endef
-
-define Package/python3-yaml/description
-  PyYAML is a YAML parser and emitter for the Python programming language.
-endef
-
-PYTHON3_PKG_SETUP_GLOBAL_ARGS:=--with-libyaml
-PYTHON3_PKG_SETUP_ARGS:=
-
-$(eval $(call Py3Package,python3-yaml))
-$(eval $(call BuildPackage,python3-yaml))
-$(eval $(call BuildPackage,python3-yaml-src))
diff -uprN a/feeds/packages/lang/python/python-yarl/Makefile b/feeds/packages/lang/python/python-yarl/Makefile
--- a/feeds/packages/lang/python/python-yarl/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-yarl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,44 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=yarl
-PKG_VERSION:=1.6.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=c45b49b59a5724869899798e1bbd447ac486215269511d3b76b4c235a1b766b6
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-yarl
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Yet another URL library
-  URL:=https://github.com/aio-libs/yarl
-  DEPENDS:= \
-  +python3-light \
-  +python3-multidict \
-  +python3-urllib \
-  +python3-idna
-endef
-
-define Package/python3-yarl/description
-Yet another URL library
-endef
-
-$(eval $(call Py3Package,python3-yarl))
-$(eval $(call BuildPackage,python3-yarl))
-$(eval $(call BuildPackage,python3-yarl-src))
diff -uprN a/feeds/packages/lang/python/python-zeroconf/Makefile b/feeds/packages/lang/python/python-zeroconf/Makefile
--- a/feeds/packages/lang/python/python-zeroconf/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-zeroconf/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019-2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-zeroconf
-PKG_VERSION:=0.29.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=zeroconf
-PKG_HASH:=7aefbb658b452b1fd7e51124364f938c6f5e42d6ea893fa2557bea8c06c540af
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=Apache-2.0
-PKG_LICENSE_FILES:=COPYING
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-zeroconf
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Multicast DNS Service Discovery Library
-  URL:=https://github.com/jstasiak/python-zeroconf
-  DEPENDS:= \
-	  +python3-light \
-	  +python3-logging \
-	  +python3-ifaddr
-endef
-
-define Package/python3-zeroconf/description
-  Pure Python Multicast DNS Service Discovery Library (Bonjour/Avahi compatible)
-endef
-
-$(eval $(call Py3Package,python3-zeroconf))
-$(eval $(call BuildPackage,python3-zeroconf))
-$(eval $(call BuildPackage,python3-zeroconf-src))
diff -uprN a/feeds/packages/lang/python/python-zipp/Makefile b/feeds/packages/lang/python/python-zipp/Makefile
--- a/feeds/packages/lang/python/python-zipp/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-zipp/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,35 +0,0 @@
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-zipp
-PKG_VERSION:=3.4.1
-PKG_RELEASE:=1
-
-PYPI_NAME:=zipp
-PKG_HASH:=3607921face881ba3e026887d8150cca609d517579abe052ac81fc5aeffdbd76
-
-PKG_MAINTAINER:=Jan Pavlinec <jan.pavlinec@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm toml  # setuptools_scm[toml] >= 3.4.1
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-zipp
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Zipfile object wrapper
-  URL:=https://github.com/jaraco/zipp
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-zipp/description
-  Backport of pathlib-compatible object wrapper for zip files
-endef
-
-$(eval $(call Py3Package,python3-zipp))
-$(eval $(call BuildPackage,python3-zipp))
-$(eval $(call BuildPackage,python3-zipp-src))
diff -uprN a/feeds/packages/lang/python/python-zope-interface/Makefile b/feeds/packages/lang/python/python-zope-interface/Makefile
--- a/feeds/packages/lang/python/python-zope-interface/Makefile	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-zope-interface/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2006-2011, 2015-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-zope-interface
-PKG_VERSION:=5.4.0
-PKG_RELEASE:=1
-
-PYPI_NAME:=zope.interface
-PKG_HASH:=5dba5f530fec3f0988d83b78cc591b58c0b6eb8431a85edd1569a0539a8a5a0e
-
-PKG_LICENSE:=ZPL-2.1
-PKG_LICENSE_FILES:=LICENSE.txt
-PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-zope-interface
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Interfaces for Python
-  URL:=https://github.com/zopefoundation/zope.interface
-  DEPENDS:=+python3-light
-endef
-
-define Package/python3-zope-interface/description
-This package provides an implementation of "object interfaces" for
-Python. Interfaces are a mechanism for labeling objects as conforming to
-a given API or contract. So, this package can be considered as
-implementation of the Design By Contract methodology support in Python.
-endef
-
-$(eval $(call Py3Package,python3-zope-interface))
-$(eval $(call BuildPackage,python3-zope-interface))
-$(eval $(call BuildPackage,python3-zope-interface-src))
diff -uprN a/feeds/packages/lang/python/python-zope-interface/patches/001-omit-tests.patch b/feeds/packages/lang/python/python-zope-interface/patches/001-omit-tests.patch
--- a/feeds/packages/lang/python/python-zope-interface/patches/001-omit-tests.patch	2023-04-14 21:27:49.488066000 +0800
+++ b/feeds/packages/lang/python/python-zope-interface/patches/001-omit-tests.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,19 +0,0 @@
---- a/setup.py
-+++ b/setup.py
-@@ -125,7 +125,7 @@ setup(name='zope.interface',
-           "Framework :: Zope :: 3",
-           "Topic :: Software Development :: Libraries :: Python Modules",
-       ],
--      packages=find_packages('src'),
-+      packages=find_packages('src', exclude=["*.tests", "*.tests.*"]),
-       package_dir={'': 'src'},
-       namespace_packages=["zope"],
-       cmdclass={
-@@ -133,6 +133,7 @@ setup(name='zope.interface',
-       },
-       test_suite='zope.interface.tests',
-       include_package_data=True,
-+      exclude_package_data={'':['tests/*']},
-       zip_safe=False,
-       tests_require=tests_require,
-       install_requires=['setuptools'],
diff -uprN a/feeds/packages/lang/python/README.md b/feeds/packages/lang/python/README.md
--- a/feeds/packages/lang/python/README.md	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/README.md	1970-01-01 08:00:00.000000000 +0800
@@ -1,371 +0,0 @@
-# Python packages folder
-
-## Table of contents
-
-1. [Description](#description)
-2. [Introduction](#introduction)
-3. [Python 2 end-of-life](#python-2-end-of-life)
-4. [Using Python in external/other package feeds](#using-python-in-externalother-package-feeds)
-5. [Build considerations](#build-considerations)
-6. [General folder structure](#general-folder-structure)
-7. [Building a Python package](#building-a-python-package)
-    1. [Include python3-package.mk](#include-python3-packagemk)
-    2. [Add Package/<PKG_NAME> OpenWrt definitions](#add-packagepkg_name-openwrt-definitions)
-    3. [Python package dependencies](#python-package-dependencies)
-    4. [Wrapping things up so that they build](#wrapping-things-up-so-that-they-build)
-    5. [Customizing things](#customizing-things)
-    6. [Host-side Python packages for build](#host-side-python-packages-for-build)
-
-## Description
-
-This section describes specifics for the Python packages that are present in this repo, and how things are structured.
-
-In terms of license, contributing guide, etc, all of that information is described in the top [README.md](../../README.md) file, and it applies here as well. This document attempts to cover only technical aspects of Python packages, and maybe some explanations about how things are (and why they are as they are).
-
-## Introduction
-
-This sub-tree came to exist after a number of contributions (Python packages) were made to this repo, and the [lang](../) subtree grew to a point where a decision was made to move all Python packages under [lang/python](./).
-
-It contains the Python 3 interpreter and Python packages. Most of the Python packages are downloaded from [pypi.org](https://pypi.org/). Python packages from pypi.org are typically preferred when adding new packages.
-
-If more packages (than the ones packaged here) are needed, they can be downloaded via [pip](https://pip.pypa.io). Note that the versions of `pip` & `setuptools` [available in this repo] are the ones that are packaged inside the Python package (yes, Python comes packaged with `pip` & `setuptools`).
-
-## Python 2 end-of-life
-
-Python 2 [will not be maintained past 2020](https://www.python.org/dev/peps/pep-0373/). All Python 2 packages have been removed from the packages feed (this repo) and archived in the [abandoned packages feed](https://github.com/openwrt/packages-abandoned).
-
-## Using Python in external/other package feeds
-
-In the feeds.conf (or feeds.conf.default file, whatever is preferred), the packages repo should be present.
-
-Example
-```
-src-git packages https://git.openwrt.org/feed/packages.git
-src-git luci https://git.openwrt.org/project/luci.git
-src-git routing https://git.openwrt.org/feed/routing.git
-src-git telephony https://git.openwrt.org/feed/telephony.git
-#
-#
-src-git someotherfeed https://github.com/<github-user>/<some-other-package>
-```
-
-Assuming that there are Python packages in the `<some-other-package>`, they should include `python3-package.mk` like this:
-```
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-```
-
-Same rules apply for `python3-package.mk` as the Python packages in this repo.
-
-**One important consideration:**: if the local name is not `packages`, it's something else, like `openwrt-packages`. And in `feeds.conf[.default]` it's:
-```
-src-git openwrt-packages https://git.openwrt.org/feed/packages.git
-```
-
-Then, the inclusions also change:
-```
-include $(TOPDIR)/feeds/openwrt-packages/lang/python/python3-package.mk
-```
-
-Each maintainer[s] of external packages feeds is responsible for the local name, and relative inclusion path back to this feed (which is named `packages` by default).
-
-In case there is a need/requirement such that the local package feed is named something else than `packages`, one approach to make the package flexible to change is:
-
-```
-PYTHON3_PACKAGE_MK:=$(wildcard $(TOPDIR)/feeds/*/lang/python/python3-package.mk)
-
-# verify that there is only one single file returned
-ifneq (1,$(words $(PYTHON3_PACKAGE_MK)))
-ifeq (0,$(words $(PYTHON3_PACKAGE_MK)))
-$(error did not find python3-package.mk in any feed)
-else
-$(error found multiple python3-package.mk files in the feeds)
-endif
-else
-$(info found python3-package.mk at $(PYTHON3_PACKAGE_MK))
-endif
-
-include $(PYTHON3_PACKAGE_MK)
-```
-
-This should solve the corner-case where the `python3-package.mk` can be in some other feed, or if the packages feed will be named something else locally.
-
-## Build considerations
-
-In order to build the Python interpreter, a host Python interpreter needs to be built, in order to process some of the build for the target Python build. The host Python interpreter is also needed so that Python bytecodes are generated, so the host interpreter needs to be the exact version as on the target. And finally, the host Python interpreter also provides pip, so that it may be used to install some Python packages that are required to build other Python packages.
-That's why you'll also see a Python build & staging directories.
-
-As you're probably thinking, this sounds [and is] somewhat too much complication [just for packaging], but the status of things is-as-it-is, and it's probably much worse than what's currently visible on the surface [with respect to packaging Python & packages].
-
-As mentioned earlier, Python packages are shipped with bytecodes, and the reason for this is simply performance & size.
-The thought/discussion matrix derives a bit like this:
-* shipping both Python source-code & bytecodes takes too much space on some devices ; Python source code & byte-code take about similar disk-size
-* shipping only Python source code has a big performance penalty [on some lower end systems] ; something like 500 msecs (Python source-only) -> 70 msecs (Python byte-codes) time reduction for a simple "Hello World" script
-* shipping only Python byte-codes seems like a good trade-off, and this means that `python3-src` can be provided for people that want the source code
-
-By default, automatic Python byte-code generation is disabled when running a Python script, in order to prevent a disk from accidentally filling up. Since some disks reside in RAM, this also means not filling up the RAM. If someone wants to convert Python source to byte-code then he/she is free to compile it [directly on the device] manually via the Python interpreter & library.
-
-## General folder structure
-
-The basis of all these packages is:
-* [lang/python/python3](./python3) - The Python 3.x.y interpreter
-
-This is a normal OpenWrt package, which will build the Python interpreter. This also provides `python3-pip` & `python3-setuptools`. Each Python package is actually split into multiple sub-packages [e.g. python3-email, python3-sqlite3, etc]. This can be viewed inside [lang/python/python3/files](./python3/files).
-
-The reason for this splitting, is purely to offer a way for some people to package Python in as-minimal-as-possible-and-still-runable way, and also to be somewhat maintainable when packaging. A standard Python installation can take ~20-30 MBs of disk, which can be somewhat big for some people, so there is the `python3-base` package which brings that down to ~5 MBs. This seems to be good enough (and interesting) for a number of people.
-
-The Python interpreter is structured like this:
-* `python3-base`, which is just the minimal package to startup Python and run basic commands
-* `python3` is a meta-package, which installs almost everything (python3-base [plus] Python library [minus] some unit-tests & some windows-y things)
-* `python3-light` is `python3` [minus] packages that are in [lang/python/python3/files](./python3/files) ; the size of this package may be sensible (and interesting) to another group of people
-
-All other Python packages (aside from the intepreter) typically use these files:
-* **python3-host.mk** - this file contains paths and build rules for running the Python interpreter on the host-side; they also provide paths to host interprete, host Python lib-dir & so on
-* **python3-package.mk**
-  * includes **python3-host.mk**
-  * contains all the default build rules for Python packages; these will be detailed below in the [Building a Python package](#building-a-python-package) section
-
-**Note** that Python packages don't need to use these files (i.e. `python3-package.mk` & `python3-host.mk`), but they do provide some ease-of-use & reduction of duplicate code. And they do contain some learned-lessons about packaging Python packages, so it's a good idea to use them.
-
-## Building a Python package
-
-### Include python3-package.mk
-
-Add this after  `include $(INCLUDE_DIR)/package.mk`
-```
-include ../python3-package.mk
-```
-
-This will make sure that build rules for Python can be specified and picked up for build.
-
-### Include pypi.mk (optional)
-
-`pypi.mk` is an include file that makes downloading package source code from [pypi.org](https://pypi.org/) simpler.
-
-To use `pypi.mk`, add this **before** `include $(INCLUDE_DIR)/package.mk`:
-```
-include ../pypi.mk
-```
-
-`pypi.mk` has several `PYPI_*` variables that can/must be set (see below); these should be set before `pypi.mk` is included, i.e. before the `include ../pypi.mk` line.
-
-`pypi.mk` also provides default values for `PKG_SOURCE` and `PKG_SOURCE_URL`, so these variables may be omitted.
-
-Required variables:
-
-* `PYPI_NAME`: Package name on pypi.org. This should match the PyPI name exactly.
-
-  For example (from the `python-yaml` package):
-  ```
-  PYPI_NAME:=PyYAML
-  ```
-
-Optional variables:
-
-* `PYPI_SOURCE_NAME`: Package name component of the source tarball filename  
-  Default: Same value as `PYPI_NAME`
-
-* `PYPI_SOURCE_EXT`: File extension of the source tarball filename  
-  Default: `tar.gz`
-
-`pypi.mk` constructs the default `PKG_SOURCE` value from these variables (and `PKG_VERSION`):
-```
-PKG_SOURCE?=$(PYPI_SOURCE_NAME)-$(PKG_VERSION).$(PYPI_SOURCE_EXT)
-```
-
-### Add Package/<PKG_NAME> OpenWrt definitions
-
-This part is similar to default OpenWrt packages.
-
-Example:
-```
-define Package/python3-lxml
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Pythonic XML processing library
-  URL:=https://lxml.de
-  DEPENDS:=+python3-light +libxml2 +libxslt +libexslt
-endef
-
-define Package/python3-lxml/description
-  The lxml XML toolkit is a Pythonic binding
-  for the C libraries libxml2 and libxslt.
-endef
-```
-
-Some considerations here (based on the example above):
-* typically the package is named `Package/python3-<something>` ; this convention makes things easier to follow, though it could work without naming things this way
-* `TITLE` can be something a bit more verbose/neat ; typically the name is short as seen above
-
-### Python package dependencies
-
-Aside from other libraries and programs, every Python package will depend on at least one of these three types of packages:
-
-* The Python interpreter: All Python packages should depend on one of these three interpreter packages:
-
-  * `python3-light` is the best default for most Python packages.
-
-  * `python3-base` should only be used as a dependency if you are certain the bare interpreter is sufficient.
-
-  * `python3` is useful if many (more than three) Python standard library packages are needed.
-
-* Python standard library packages: As noted above, many parts of the Python standard library are packaged separate from the Python interpreter. These packages are defined by the files in [lang/python/python3/files](./python3/files).
-
-  To find out which of these separate standard library packages are necessary, after completing a draft Makefile (including the `$(eval ...)` lines described in the next section), run `make` with the `configure` target and `PY3=stdlib V=s` in the command line. For example:
-
-  ```
-  make package/python-lxml/configure PY3=stdlib V=s
-  ```
-
-  If the package has been built previously, include the `clean` target to trigger configure again:
-
-  ```
-  make package/python-lxml/{clean,configure} PY3=stdlib V=s
-  ```
-
-  This will search the package for module imports and generate a list of suggested dependencies. Some of the found imports may be false positives, e.g. in example or test files, so examine the matches for more information.
-
-* Other Python packages: The easiest way to find these dependencies is to look for the `install_requires` keyword inside the package's `setup.py` file (it will be a keyword argument to the `setup()` function). This will be a list of run-time dependencies for the package.
-
-  There may already be packages in the packages feed that provide these dependencies. If not, they will need to be packaged for your Python package to function correctly.
-
-  Any packages in a `setup_requires` keyword argument are build-time dependencies that may need to be installed on the host (host Python inside of OpenWrt buildroot, not system Python that is part of the outer computer system). To ensure these build-time dependencies are present, see [Host-side Python packages for build](#host-side-python-packages-for-build). (Note that Setuptools is already installed as part of host Python.)
-
-### Wrapping things up so that they build
-
-If all the above prerequisites have been met, all that's left is:
-
-```
-$(eval $(call Py3Package,python3-lxml))
-$(eval $(call BuildPackage,python3-lxml))
-```
-
-The `$(eval $(call Py3Package,python3-lxml))` part will instantiate all the default Python build rules so that the final Python package is packaged into an OpenWrt.
-And `$(eval $(call BuildPackage,python3-lxml))` will bind all the rules generated with `$(eval $(call Py3Package,python3-lxml))` into the OpenWrt build system.
-
-These packages will contain byte-codes and binaries (shared libs & other stuff).
-
-If a user wishes to ship source code, adding one more line creates one more package that ship Python source code:
-```
-$(eval $(call Py3Package,python3-lxml))
-$(eval $(call BuildPackage,python3-lxml))
-$(eval $(call BuildPackage,python3-lxml-src))
-```
-
-The name `*-src` must be the Python package name; so for `python3-lxml-src` a equivalent `python3-lxml` name must exist.
-
-### Customizing things
-
-Some packages need custom build rules (because they do).
-
-The default package build and install processes are defined in `python3-package.mk`.
-
-#### Building
-
-The default build process calls `setup.py install` inside the directory where the Python source package is extracted (`PKG_BUILD_DIR`). This "installs" the Python package to an intermediate location (`PKG_INSTALL_DIR`) where it is used by the default install process.
-
-There are several Makefile variables that can be used to customize this process (all optional):
-
-* `PYTHON3_PKG_SETUP_DIR`: Path where `setup.py` can be found, relative to the package directory (`PKG_BUILD_DIR`).  
-  Default: empty value (`setup.py` is in the package directory)
-* `PYTHON3_PKG_SETUP_VARS`: Additional environment variables to set for the call to `setup.py`. Should be in the form of `VARIABLE1=value VARIABLE2=value ...`.  
-  Default: empty value
-* `PYTHON3_PKG_SETUP_GLOBAL_ARGS`: Additional command line arguments to pass to `setup.py`, before / in front of the `install` command.  
-  Default: empty value
-* `PYTHON3_PKG_SETUP_ARGS`: Additional command line arguments to pass to `setup.py`, after the `install` command.  
-  Default: `--single-version-externally-managed`
-
-Conceptually, these variables are used in this way:
-
-```
-cd $(PKG_BUILD_DIR)/$(PYTHON3_PKG_SETUP_DIR)
-$(PYTHON3_PKG_SETUP_VARS) python3 setup.py $(PYTHON3_PKG_SETUP_GLOBAL_ARGS) install $(PYTHON3_PKG_SETUP_ARGS)
-```
-
-The default build process can be completely overridden by defining a custom `Py3Build/Compile` rule in the package Makefile.
-
-#### Installing
-
-The default install process copies some/all of the files from `PKG_INSTALL_DIR`, placed there by the build process, to a location passed to the install rule as the first argument (`$(1)`). The OpenWrt build system will then take those files and create the actual .ipk package archives.
-
-This default process uses 2 build rules:
-* `Py3Package/<package>/filespec` which are Python library files relative to `/usr/lib/pythonX.Y` ; by default this is `/usr/lib/python$(PYTHON3_VERSION)/site-packages` (`PYTHON3_PKG_DIR`) ; most Python packages generate files that get installed in this sub-folder
-* `Py3Package/<package>/install` is similar to `Package/<package>/install` ; this allows binary (or other files) to be installed on the target
-
-Both the 2 above rules generate a `Package/<package>/install` build rule, which gets picked up by the build system. Both can be used together (they are not mutually exclusive), and provide a good enough flexibility for specifying Python packages.
-
-The `Py3Package/<package>/filespec` rule contains one or more lines of the following format (whitespace added for clarity):
-
-```
-<one of: +-=> | <file/directory path> | <file permissions>
-```
-
-The initial character controls the action that will be taken:
-
-* `+`: Install the given path. If the path is a directory, all files and subdirectories inside are installed.
-  * If file permissions is specified (optional), then the file or directory (and all files and subdirectories) are assigned the given permissions; if omitted, then the file or directory retains its original permissions.
-* `-`: Remove the given path. Useful when most of a directory should be installed except for a few files or subdirectories.
-  * File permissions is not used / ignored in this case.
-* `=`: Assign the given file permissions to the given path. File permissions is required in this case.
-
-As mentioned, the default `Py3Package/<package>/filespec` installs `PYTHON3_PKG_DIR`:
-
-```
-define Py3Package/python3-example/filespec
-+|$(PYTHON3_PKG_DIR)
-endef
-```
-
-If the package installs a `example_package` directory inside `PYTHON3_PKG_DIR`, and there is an `examples` directory and `test_*.py` files that can be omitted to save space, this can be specified as:
-
-```
-define Py3Package/python3-example/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/example_package/examples
--|$(PYTHON3_PKG_DIR)/example_package/test_*.py
-endef
-```
-
-### Host-side Python packages for build
-
-These can be installed via pip and ideally they should only be installed like this, because it's a bit simpler than running them through the OpenWrt build system.
-
-#### Requirements files
-
-All host-side Python packages are installed with pip using [requirements files](https://pip.pypa.io/en/stable/user_guide/#requirements-files), with [hash-checking mode](https://pip.pypa.io/en/stable/reference/pip_install/#hash-checking-mode) enabled. These requirements files are stored in the [host-pip-requirements](./host-pip-requirements) directory.
-
-Each requirements file is named after the Python package it installs and contains the package's pinned version and `--hash` option. The `--hash` option value is the SHA256 hash of the package's source tarball; this value can be found on [pypi.org](https://pypi.org/).
-
-For example, the requirements file for setuptools-scm ([setuptools-scm.txt](./host-pip-requirements/setuptools-scm.txt)) contains:
-
-```
-setuptools-scm==4.1.2 --hash=sha256:a8994582e716ec690f33fec70cca0f85bd23ec974e3f783233e4879090a7faa8
-```
-
-If the Python package to be installed depends on other Python packages, those dependencies, with their pinned versions and `--hash` options, also need to be specified in the requirements file. For instance, [cffi.txt](./host-pip-requirements/cffi.txt) includes information for pycparser because pycparser is a dependency of cffi and will be installed with cffi.
-
-There are two types of requirements files in [host-pip-requirements](./host-pip-requirements):
-
-* Installs the latest version of a Python package.
-
-  A requirements file of this type is named with the package name only (for example, [setuptools-scm.txt](./host-pip-requirements/setuptools-scm.txt)) and is used when there is no strict version requirement.
-
-  These files will be updated as newer versions of the Python packages are available.
-
-* Installs a specific version of a Python package.
-
-  A requirements file of this type is named with the package name and version number (for example, [Django-1.11.txt](./host-pip-requirements/Django-1.11.txt)) and is used when a specific (usually older) version is required.
-
-  Installing the latest versions of packages is preferred over specific versions whenever possible.
-
-#### Installing host-side Python packages
-
-Set `HOST_PYTHON3_PACKAGE_BUILD_DEPENDS` to the names of one or more requirements files in [host-pip-requirements](./host-pip-requirements), without the directory path or ".txt" extension.
-
-For example:
-
-```
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=setuptools-scm
-```
-
-The Python package will be installed in `$(STAGING_DIR_HOSTPKG)/lib/pythonX.Y/site-packages`.
diff -uprN a/feeds/packages/lang/python/ruamel-yaml/Makefile b/feeds/packages/lang/python/ruamel-yaml/Makefile
--- a/feeds/packages/lang/python/ruamel-yaml/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/ruamel-yaml/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=ruamel-yaml
-PKG_VERSION:=0.15.100
-PKG_RELEASE:=2
-
-PYPI_NAME:=ruamel.yaml
-PKG_HASH:=8e42f3067a59e819935a2926e247170ed93c8f0b2ab64526f888e026854db2e4
-
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-ruamel-yaml
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=YAML 1.2 loader/dumper package for Python
-  URL:=https://bitbucket.org/ruamel/yaml
-  DEPENDS:= \
-      +python3-light
-endef
-
-define Package/python3-ruamel-yaml/description
-ruamel-yaml is a YAML parser/emitter that supports roundtrip preservation of comments, seq/map flow style, and map key order
-endef
-
-$(eval $(call Py3Package,python3-ruamel-yaml))
-$(eval $(call BuildPackage,python3-ruamel-yaml))
-$(eval $(call BuildPackage,python3-ruamel-yaml-src))
diff -uprN a/feeds/packages/lang/python/text-unidecode/Makefile b/feeds/packages/lang/python/text-unidecode/Makefile
--- a/feeds/packages/lang/python/text-unidecode/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/text-unidecode/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,41 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-text-unidecode
-PKG_VERSION:=1.3
-PKG_RELEASE:=2
-
-PYPI_NAME:=text-unidecode
-PKG_HASH:=bad6603bb14d279193107714b288be206cac565dfa49aa5b105294dd5c4aab93
-
-PKG_LICENSE:=Artistic-1.0-cl8
-PKG_LICENSE_FILES:=LICENSE
-PKG_MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-text-unidecode
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=The most basic Text::Unidecode port
-  URL:=https://github.com/kmike/text-unidecode/
-  DEPENDS:= \
-      +python3-light
-endef
-
-define Package/python3-text-unidecode/description
-text-unidecode is the most basic port of the Text::Unidecode Perl library.
-endef
-
-$(eval $(call Py3Package,python3-text-unidecode))
-$(eval $(call BuildPackage,python3-text-unidecode))
-$(eval $(call BuildPackage,python3-text-unidecode-src))
diff -uprN a/feeds/packages/lang/python/vobject/Makefile b/feeds/packages/lang/python/vobject/Makefile
--- a/feeds/packages/lang/python/vobject/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/vobject/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,34 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=vobject
-PKG_VERSION:=0.9.6.1
-PKG_RELEASE:=2
-PKG_LICENSE:=Apache-2.0
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=96512aec74b90abb71f6b53898dd7fe47300cc940104c4f79148f0671f790101
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-
-include ../python3-package.mk
-
-define Package/python3-vobject
-  SUBMENU:=Python
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=VObject
-  URL:=http://eventable.github.io/vobject/
-  DEPENDS:=+python3 +python3-dateutil
-endef
-
-define Package/python3-vobject/description
-  vCard and vCalendar support for Python
-endef
-
-$(eval $(call Py3Package,python3-vobject))
-$(eval $(call BuildPackage,python3-vobject))
-$(eval $(call BuildPackage,python3-vobject-src))
diff -uprN a/feeds/packages/lang/python/Werkzeug/Makefile b/feeds/packages/lang/python/Werkzeug/Makefile
--- a/feeds/packages/lang/python/Werkzeug/Makefile	2023-04-14 21:27:49.476066000 +0800
+++ b/feeds/packages/lang/python/Werkzeug/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,37 +0,0 @@
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=Werkzeug
-PKG_VERSION:=2.0.2
-PKG_RELEASE:=1
-
-PYPI_NAME:=$(PKG_NAME)
-PKG_HASH:=aa2bb6fc8dee8d6c504c0ac1e7f5f7dc5810a9903e793b6f715a9f015bdadb9a
-
-PKG_MAINTAINER:=Daniel Golle <daniel@makrotopia.org>
-PKG_LICENSE:=BSD-3-Clause
-PKG_LICENSE_FILES:=LICENSE.rst
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-werkzeug
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Werkzeug
-  URL:=https://palletsprojects.com/p/werkzeug/
-  DEPENDS:=+python3-light +python3-email
-endef
-
-define Package/python3-werkzeug/description
- The comprehensive WSGI web application library.
-endef
-
-$(eval $(call Py3Package,python3-werkzeug))
-$(eval $(call BuildPackage,python3-werkzeug))
-$(eval $(call BuildPackage,python3-werkzeug-src))
diff -uprN a/feeds/packages/lang/python/xmltodict/Makefile b/feeds/packages/lang/python/xmltodict/Makefile
--- a/feeds/packages/lang/python/xmltodict/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/python/xmltodict/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,43 +0,0 @@
-#
-# Copyright (C) 2019 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=python-xmltodict
-PKG_VERSION:=0.12.0
-PKG_RELEASE:=2
-
-PYPI_NAME:=xmltodict
-PKG_HASH:=50d8c638ed7ecb88d90561beedbf720c9b4e851a9fa6c47ebd64e99d166d8a21
-
-PKG_MAINTAINER:=Josef Schlehofer <pepe.schlehofer@gmail.com>
-PKG_LICENSE:=MIT
-PKG_LICENSE_FILES:=LICENSE
-
-include ../pypi.mk
-include $(INCLUDE_DIR)/package.mk
-include ../python3-package.mk
-
-define Package/python3-xmltodict
-  SECTION:=lang
-  CATEGORY:=Languages
-  SUBMENU:=Python
-  TITLE:=Work with XML like JSON
-  URL:=https://github.com/martinblech/xmltodict
-  DEPENDS:= \
-	+python3-light \
-	+python3-xml \
-	+python3-urllib
-endef
-
-define Package/python3-xmltodict/description
-  xmltodict is a Python module that makes working with XML feel like you are working with JSON.
-endef
-
-$(eval $(call Py3Package,python3-xmltodict))
-$(eval $(call BuildPackage,python3-xmltodict))
-$(eval $(call BuildPackage,python3-xmltodict-src))
diff -uprN a/feeds/packages/lang/ruby/files/ruby b/feeds/packages/lang/ruby/files/ruby
--- a/feeds/packages/lang/ruby/files/ruby	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/ruby/files/ruby	1970-01-01 08:00:00.000000000 +0800
@@ -1,5 +0,0 @@
-#!/bin/sh
-if ! [ -r "@RUBY_LIBPATH@/rubygems.rb" ]; then
-	exec @RUBY_BINPATH@ --disable-gems "$@"
-fi
-exec @RUBY_BINPATH@ "$@"
diff -uprN a/feeds/packages/lang/ruby/Makefile b/feeds/packages/lang/ruby/Makefile
--- a/feeds/packages/lang/ruby/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/ruby/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,1133 +0,0 @@
-#
-# Copyright (C) 2006-2016 OpenWrt.org
-# Copyright (C) 2017-2020 Luiz Angelo Daros de Luca <luizluca@gmail.com>
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-# To Do:
-#  - dirs not removed when uninstalling! opkg bug?
-#
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=ruby
-PKG_VERSION:=3.0.3
-PKG_RELEASE:=1
-
-# First two numbes
-PKG_ABI_VERSION:=$(subst $(space),.,$(wordlist 1, 2, $(subst .,$(space),$(PKG_VERSION))))
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_SOURCE_URL:=https://cache.ruby-lang.org/pub/ruby/$(PKG_ABI_VERSION)/
-PKG_HASH:=88cc7f0f021f15c4cd62b1f922e3a401697f7943551fe45b1fdf4f2417a17a9c
-PKG_MAINTAINER:=Luiz Angelo Daros de Luca <luizluca@gmail.com>
-PKG_LICENSE:=BSD-2-Clause
-PKG_LICENSE_FILES:=COPYING
-PKG_CPE_ID:=cpe:/a:ruby-lang:ruby
-
-PKG_BUILD_DEPENDS:=ruby/host
-PKG_INSTALL:=1
-PKG_BUILD_PARALLEL:=1
-PKG_FIXUP:=autoreconf
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/nls.mk
-
-HOST_CONFIGURE_ARGS += \
-	--disable-install-doc \
-	--disable-install-rdoc \
-	--disable-install-capi \
-	--without-gmp \
-	--with-out-ext=-test-/array/resize,-test-/bignum,-test-/bug-3571,-test-/bug-5832,-test-/bug_reporter,-test-/class,-test-/debug,-test-/dln/empty,-test-/exception,-test-/fatal,-test-/file,-test-/float,-test-/funcall,-test-/gvl/call_without_gvl,-test-/hash,-test-/integer,-test-/iseq_load,-test-/iter,-test-/load/dot.dot,-test-/marshal/compat,-test-/marshal/internal_ivar,-test-/marshal/usr,-test-/memory_status,-test-/method,-test-/notimplement,-test-/num2int,-test-/path_to_class,-test-/popen_deadlock,-test-/postponed_job,-test-/printf,-test-/proc,-test-/rational,-test-/recursion,-test-/st/foreach,-test-/st/numhash,-test-/st/update,-test-/string,-test-/struct,-test-/symbol,-test-/time,-test-/tracepoint,-test-/typeddata,-test-/vm,-test-/wait_for_single_fd,-test-/win32/console,-test-/win32/dln,-test-/win32/fd_setsize,bigdecimal,cgi/escape,continuation,coverage,dbm,etc,fcntl,fiber,fiddle,gdbm,io/console,json,json/generator,json/parser,mathn/complex,mathn/rational,nkf,objspace,pty,racc/cparse,rbconfig/sizeof,readline,rubyvm,sdbm,syslog,win32,win32ole,win32/resolv
-
-# Does not compile with this. Workaround is --without-gmp
-# https://bugs.ruby-lang.org/issues/11940
-	#--with-static-linked-ext \
-
-# even not used, host build with restricted exts results in gems not being
-# compiled for target (probably some cross compiling problem like checking
-# host for selecting target features)
-#	--with-out-ext \
-#	--with-ext=thread,stringio \
-
-CONFIGURE_ARGS += \
-	--enable-shared \
-	--enable-static \
-	--disable-rpath \
-	$(call autoconf_bool,CONFIG_IPV6,ipv6) \
-	--disable-install-doc \
-	--disable-install-capi \
-	--with-ruby-version=minor \
-	--with-iconv-dir=$(ICONV_PREFIX) \
-	--with-out-ext=win32,win32ole
-
-ifndef CONFIG_RUBY_DIGEST_USE_OPENSSL
-CONFIGURE_ARGS += \
-	--with-bundled-sha1\
-	--with-bundled-md5\
-	--with-bundled-rmd160\
-	--with-bundled-sha2 \
-
-endif
-
-# JIT requires a local cc installed and it is currently pointing to a wrong
-# compiler (ccache) used during build, without a way to set it without a patch.
-# Disabling it saves dozens of kbytes in libruby
-CONFIGURE_ARGS += --disable-jit-support
-# Host JIT does work but it is not worth it
-HOST_CONFIGURE_ARGS += --disable-jit-support
-
-TARGET_LDFLAGS += -L$(PKG_BUILD_DIR)
-
-# Ruby uses DLDFLAGS and not LDFLAGS for libraries. LDFLAGS is only for execs.
-# However, DLDFLAGS from configure is not passed to Makefile when target is linux.
-# XLDFLAGS is used by both libraries and execs. This is somehow brute force but
-# it will fix when some LD_FLAGS is needed for libraries. As side effect, it will
-# duplicate ld args for binaries.
-CONFIGURE_VARS += XLDFLAGS="$(TARGET_LDFLAGS)"
-
-MAKE_FLAGS += \
-	DESTDIR="$(PKG_INSTALL_DIR)" \
-	SHELL="/bin/bash"
-
-define Build/InstallDev
-	( cd $(PKG_INSTALL_DIR); $(TAR) -cf - \
-		. \
-	) | ( cd $(1); $(TAR) -xf - )
-endef
-
-define Host/Install
-	# When ruby version is updated, make install asks in some cases before replace
-	# an existing different file. Remove them before install and avoid the interaction
-	rm -f $(STAGING_DIR_HOSTPKG)/bin/rake
-	$(call Host/Install/Default)
-endef
-
-define Package/ruby/Default
-  SUBMENU:=Ruby
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=Ruby scripting language
-  URL:=http://www.ruby-lang.org/
-endef
-
-define Package/ruby/Default/description
- Ruby is the interpreted scripting language for quick and easy
- object-oriented programming.  It has many features to process text files
- and to do system management tasks (as in perl).  It is simple,
- straight-forward, and extensible.
-
-endef
-
-define Package/ruby
-$(call Package/ruby/Default)
-  TITLE+= (interpreter)
-  DEPENDS:=+libruby
-endef
-
-define Package/ruby/description
-$(call Package/ruby/Default/description)
-endef
-
-define RubyDependency
-    $(eval \
-        $(call Package/Default)
-        $(call Package/ruby-$(1))
-        FILTER_CONFIG:=$$(strip \
-            $$(foreach config_dep, \
-                $$(filter @%, \
-                    $$(foreach v, \
-                        $$(DEPENDS), \
-                        $$(if $$(findstring :,$$v),,$$v) \
-                    ) \
-                ), \
-                $$(subst @,,$$(config_dep)) \
-            ) \
-        )
-        ifneq (,$$(FILTER_CONFIG))
-           FILTER_CONFIG:=($$(subst $$(space),&&,$$(FILTER_CONFIG))):
-        endif
-    ) \
-    +$(FILTER_CONFIG)ruby-$(1)
-endef
-
-define Package/ruby/config
-    comment "Standard Library"
-      depends on PACKAGE_ruby
-
-    config PACKAGE_ruby-stdlib
-      depends on PACKAGE_ruby
-      default m if ALL
-      prompt "Select Ruby Complete Standard Library (ruby-stdlib)"
-
-endef
-
-define Package/ruby/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/$(PKG_ABI_VERSION)
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/vendor_ruby/$(PKG_ABI_VERSION)
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/site_ruby/$(PKG_ABI_VERSION)
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/ruby $(1)/usr/lib/ruby/ruby$(PKG_ABI_VERSION)-bin
-	$(INSTALL_BIN) ./files/ruby $(1)/usr/bin/ruby
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/ruby/vendor_ruby/$(PKG_ABI_VERSION)/* $(1)/usr/lib/ruby/vendor_ruby/$(PKG_ABI_VERSION)/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/ruby/site_ruby/$(PKG_ABI_VERSION)/* $(1)/usr/lib/ruby/site_ruby/$(PKG_ABI_VERSION)/
-	$(SED) "s%@RUBY_LIBPATH@%/usr/lib/ruby/$(PKG_ABI_VERSION)%" $(1)/usr/bin/ruby
-	$(SED) "s%@RUBY_BINPATH@%/usr/lib/ruby/ruby$(PKG_ABI_VERSION)-bin%" $(1)/usr/bin/ruby
-endef
-
-define Package/libruby
-$(call Package/ruby/Default)
-  SUBMENU:=
-  SECTION:=libs
-  CATEGORY:=Libraries
-  TITLE+= (shared library)
-  DEPENDS+= +libpthread +librt +libgmp +zlib
-  ABI_VERSION:=$(PKG_ABI_VERSION)
-endef
-define Package/libruby/install
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/libruby.so.* $(1)/usr/lib/
-endef
-
-define Package/ruby-dev
-$(call Package/ruby/Default)
-  TITLE+= (dev files)
-  DEPENDS:=+libruby ruby
-endef
-define Package/ruby-dev/description
-  Header files for compiling extension modules for the Ruby $(PKG_ABI_VERSION)
-endef
-define Package/ruby-dev/install
-	$(INSTALL_DIR) $(1)/usr/include $(1)/usr/lib $(1)/usr/lib/pkgconfig
-	$(CP) $(PKG_INSTALL_DIR)/usr/include/ruby-$(PKG_ABI_VERSION) $(1)/usr/include/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/libruby.so $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/pkgconfig/ruby-$(PKG_ABI_VERSION).pc $(1)/usr/lib/pkgconfig/
-endef
-
-RUBY_STDLIB :=
-define Package/ruby-stdlib
-$(call Package/ruby/Default)
-  TITLE:=Ruby standard libraries (metadata for all stdlib subsets)
-  DEPENDS:=ruby $(foreach subpackage,$(RUBY_STDLIB),$(strip $(call RubyDependency,$(subpackage))))
-  HIDDEN:=1
-endef
-
-define Package/ruby-stdlib/description
- This metapackage currently install all ruby-* packages,
- providing a complete Ruby Standard Library.
-
-endef
-
-# nothing to do
-define Package/ruby-stdlib/install
-	/bin/true
-endef
-
-define Package/ruby-abbrev/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/abbrev.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/abbrev-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/abbrev-*.gemspec
-endef
-
-define Package/ruby-base64/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/base64.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/base64-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/base64-*.gemspec
-endef
-
-define Package/ruby-benchmark/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/benchmark.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/benchmark/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/benchmark-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/benchmark-*.gemspec
-endef
-
-define Package/ruby-bigdecimal/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/bigdecimal.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/bigdecimal/
-/usr/lib/ruby/$(PKG_ABI_VERSION)/bigdecimal.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/bigdecimal-*.gemspec
-endef
-
-define Package/ruby-bundler/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/bundler.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/bundler/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/bundler-*.gemspec
-endef
-define Package/ruby-bundler/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/doc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/sample
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/man
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/*.md
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/bundler-*/*.txt
-endef
-define Package/ruby-bundler/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/bundle $(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/bundler $(1)/usr/bin/
-	$(call RubyBuildPackage/install,bundler,$(1))
-endef
-
-define Package/ruby-cgi/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/cgi.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/cgi/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/cgi-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/cgi-*.gemspec
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/cgi/escape.so
-endef
-
-define Package/ruby-coverage/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/coverage.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/coverage.so
-endef
-
-define Package/ruby-continuation/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/continuation.so
-endef
-
-define Package/ruby-csv/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/csv.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/csv/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/csv-*.gemspec
-endef
-
-define Package/ruby-date/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/date.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/date_core.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/date-*.gemspec
-endef
-
-define Package/ruby-dbm/description
- The DBM class provides a wrapper to a Unix-style dbm or Database Manager library.
- This package provides dbm.so file.
-
-endef
-define Package/ruby-dbm/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/dbm.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/dbm-*.gemspec
-endef
-
-define Package/ruby-debug/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/debug.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/debug-*.gemspec
-endef
-
-define Package/ruby-delegate/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/delegate.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/delegate/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/delegate-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/delegate-*.gemspec
-endef
-
-define Package/ruby-did-you-mean/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/did_you_mean.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/did_you_mean/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/did_you_mean-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/did_you_mean-*.gemspec
-endef
-
-define Package/ruby-digest/description
- Provides digest* files. Can be configured to use OpenSSL or
- bundled hash functions.
-
-endef
-define Package/ruby-digest/config
-
-	config RUBY_DIGEST_USE_OPENSSL
-		bool "Use OpenSSL functions for ruby digest hash functions"
-        depends on PACKAGE_ruby-digest
-		help
-			Ruby can use OpenSSL hash functions or compile alternative implementations. Using
-			OpenSSL saves about 30KBytes (less when compressed) but requires OpenSSL (that
-			is way bigger than that). However, if OpenSSL is already needed by another usage,
-			as ruby-openssl or any other non ruby package, it is better to mark this option.
-		default n
-
-endef
-define Package/ruby-digest/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/digest
-/usr/lib/ruby/$(PKG_ABI_VERSION)/digest.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/digest.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/digest/*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/digest-*.gemspec
-endef
-
-define Package/ruby-drb/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/drb.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/drb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/drb-*.gemspec
-endef
-
-define Package/ruby-enc/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/enc/encdb.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/enc/iso_8859_1.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/enc/utf_*.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/enc/euc_jp.so
-endef
-
-define Package/ruby-enc-extra/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/enc
-endef
-define Package/ruby-enc-extra/files-excluded
-$(call Package/ruby-enc/files)
-endef
-
-define Package/ruby-english/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/English.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/english-*.gemspec
-endef
-
-define Package/ruby-erb/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/erb.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/erb-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/erb-*.gemspec
-endef
-define Package/ruby-erb/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/erb $(1)/usr/bin/
-	$(call RubyBuildPackage/install,erb,$(1))
-endef
-
-define Package/ruby-etc/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/etc.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/etc-*.gemspec
-endef
-
-define Package/ruby-expect/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/expect.rb
-endef
-
-define Package/ruby-fcntl/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/fcntl.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/fcntl-*.gemspec
-endef
-
-define Package/ruby-fiber/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/fiber.so
-endef
-
-define Package/ruby-fiddle/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/fiddle.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/fiddle/
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/fiddle.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/fiddle-*.gemspec
-endef
-
-define Package/ruby-fileutils/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/fileutils.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/fileutils-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/fileutils-*.gemspec
-endef
-
-define Package/ruby-find/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/find.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/find-*.gemspec
-endef
-
-define Package/ruby-forwardable/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/forwardable.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/forwardable
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/forwardable-*.gemspec
-endef
-
-define Package/ruby-gdbm/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/gdbm.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/gdbm-*.gemspec
-endef
-
-define Package/ruby-gems/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rubygems.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rubygems
-endef
-define Package/ruby-gems/files-excluded
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rubygems/test_case.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rubygems/package/tar_test_case.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rubygems/installer_test_case.rb
-endef
-define Package/ruby-gems/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/gem $(1)/usr/bin/
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/doc
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/cache
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/extensions
-	$(INSTALL_DIR) $(1)/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/build_info
-	$(call RubyBuildPackage/install,gems,$(1))
-endef
-
-define Package/ruby-getoptlong/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/getoptlong.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/getoptlong/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/getoptlong-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/getoptlong-*.gemspec
-endef
-
-define Package/ruby-io-console/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/io/console.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/io/console/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/io-console-*.gemspec
-endef
-
-define Package/ruby-io-nonblock/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/io/nonblock.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/io-nonblock-*.gemspec
-endef
-
-define Package/ruby-io-wait/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/io/wait.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/io-wait-*.gemspec
-endef
-
-define Package/ruby-ipaddr/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/ipaddr.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/ipaddr-*.gemspec
-endef
-
-define Package/ruby-irb/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/irb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/irb.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/irb-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/irb-*.gemspec
-endef
-define Package/ruby-irb/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/irb $(1)/usr/bin/
-	$(call RubyBuildPackage/install,irb,$(1))
-endef
-
-define Package/ruby-json/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/json.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/json
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/json
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/json-*.gemspec
-endef
-define Package/ruby-json/files-excluded
-$(call Package/ruby-psych/files)
-endef
-
-define Package/ruby-logger/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/logger.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/logger/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/logger-*.gemspec
-endef
-
-define Package/ruby-matrix/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/matrix.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/matrix
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/matrix-*.gemspec
-endef
-
-define Package/ruby-minitest/files
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/minitest-*.gemspec
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/minitest-*
-endef
-define Package/ruby-minitest/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/minitest-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/minitest-*/*.rdoc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/minitest-*/*.txt
-endef
-
-define Package/ruby-mkmf/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/mkmf.rb
-endef
-
-define Package/ruby-monitor/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/monitor.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/monitor.so
-endef
-
-define Package/ruby-mutex_m/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/mutex_m.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/mutex_m-*.gemspec
-endef
-
-define Package/ruby-net-ftp/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/ftp.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-ftp-*.gemspec
-endef
-
-define Package/ruby-net-http/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/http.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/https.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/http/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/net-http-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-http-*.gemspec
-endef
-
-define Package/ruby-net-imap/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/imap.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-imap-*.gemspec
-endef
-
-define Package/ruby-net-pop/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/pop.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/pop/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/net-pop-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-pop-*.gemspec
-endef
-
-define Package/ruby-net-protocol/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/protocol.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-protocol-*.gemspec
-endef
-
-define Package/ruby-net-pop/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/pop.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/pop/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/net-pop-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-pop-*.gemspec
-endef
-
-define Package/ruby-net-smtp/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/smtp.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/net/smtp/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/net-smtp-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/net-smtp-*.gemspec
-endef
-
-define Package/ruby-nkf/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/kconv.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/nkf.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/nkf-*.gemspec
-endef
-
-define Package/ruby-objspace/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/objspace.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/objspace.so
-endef
-
-define Package/ruby-observer/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/observer.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/observer/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/observer-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/observer-*.gemspec
-endef
-
-define Package/ruby-open-uri/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/open-uri.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/open-uri-*.gemspec
-endef
-
-define Package/ruby-open3/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/open3.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/open3/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/open3-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/open3-*.gemspec
-endef
-
-define Package/ruby-openssl/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/openssl
-/usr/lib/ruby/$(PKG_ABI_VERSION)/openssl.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/openssl.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/openssl-*.gemspec
-endef
-
-define Package/ruby-optparse/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/optparse.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/optionparser.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/optparse
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/optparse-*.gemspec
-endef
-
-define Package/ruby-ostruct/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/ostruct.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/ostruct/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/ostruct-*.gemspec
-endef
-
-define Package/ruby-pathname/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/pathname.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/pathname.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/pathname-*.gemspec
-endef
-
-define Package/ruby-powerassert/files
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/power_assert-*.gemspec
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/power_assert-*
-endef
-define Package/ruby-powerassert/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/power_assert-*/*.rdoc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/power_assert-*/.travis.yml
-endef
-
-define Package/ruby-pp/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/pp.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/pp-*.gemspec
-endef
-
-define Package/ruby-prettyprint/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/prettyprint.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/prettyprint-*.gemspec
-endef
-
-define Package/ruby-prime/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/prime.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/prime-*.gemspec
-endef
-
-define Package/ruby-pstore/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/pstore.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/pstore/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/pstore-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/pstore-*.gemspec
-endef
-
-define Package/ruby-psych/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/psych
-/usr/lib/ruby/$(PKG_ABI_VERSION)/psych.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/psych.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/psych-*.gemspec
-endef
-
-define Package/ruby-pty/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/pty.so
-endef
-
-define Package/ruby-racc/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/racc.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/racc
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/racc/*.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/racc-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/racc-*.gemspec
-endef
-define Package/ruby-racc/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/racc $(1)/usr/bin/;
-	$(call RubyBuildPackage/install,racc,$(1))
-endef
-
-define Package/ruby-rake/files
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/rake-*.gemspec
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rake-*/
-endef
-define Package/ruby-rake/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rake-*/doc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rake-*/*.rdoc
-endef
-define Package/ruby-rake/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/rake $(1)/usr/bin/;
-	$(call RubyBuildPackage/install,rake,$(1))
-endef
-
-define Package/ruby-rbconfig/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/rbconfig.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/rbconfig/*.so
-endef
-
-define Package/ruby-rbs/files
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rbs-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/rbs-*.gemspec
-endef
-define Package/ruby-rbs/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rbs-*/docs
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rbs-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rbs-*/sample
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rbs-*/*.md
-endef
-define Package/ruby-rbs/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/rbs $(1)/usr/bin/
-	$(call RubyBuildPackage/install,rbs,$(1))
-endef
-
-define Package/ruby-rdoc/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rdoc.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rdoc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rdoc-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/rdoc-*.gemspec
-endef
-define Package/ruby-rdoc/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/rdoc $(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/ri $(1)/usr/bin/
-	$(call RubyBuildPackage/install,rdoc,$(1))
-endef
-
-define Package/ruby-readline/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/readline.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/readline-0*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/readline-0*.gemspec
-endef
-
-define Package/ruby-readline-ext/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/readline.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/readline-ext-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/readline-ext-*.gemspec
-endef
-
-define Package/ruby-reline/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/reline.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/reline
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/reline-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/reline-*.gemspec
-endef
-
-define Package/ruby-resolv/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/resolv.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/resolv-*.gemspec
-endef
-define Package/ruby-resolv/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/resolv-replace*.gemspec
-endef
-
-define Package/ruby-resolv-replace/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/resolv-replace.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/resolv-replace*.gemspec
-endef
-
-define Package/ruby-rexml/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rexml
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rexml-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/rexml-*.gemspec
-endef
-define Package/ruby-rexml/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rexml-*/doc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rexml-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rexml-*/sample
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rexml-*/*.md
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rexml-*/.travis.yml
-endef
-
-define Package/ruby-rinda/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rinda
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/rinda-*.gemspec
-endef
-
-define Package/ruby-ripper/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/ripper.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/ripper
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/ripper.so
-endef
-
-define Package/ruby-rss/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rss
-/usr/lib/ruby/$(PKG_ABI_VERSION)/rss.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rss-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/rss-*.gemspec
-endef
-define Package/ruby-rss/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rss-*/doc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rss-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rss-*/sample
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rss-*/*.md
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/rss-*/*.txt
-endef
-
-define Package/ruby-securerandom/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/securerandom.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/securerandom-*.gemspec
-endef
-
-define Package/ruby-set/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/set.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/set/*.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/set-*.gemspec
-endef
-
-define Package/ruby-shellwords/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/shellwords.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/shellwords-*.gemspec
-endef
-
-define Package/ruby-singleton/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/singleton.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/singleton/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/singleton-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/singleton-*.gemspec
-endef
-
-define Package/ruby-socket/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/socket.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/socket.so
-endef
-
-define Package/ruby-stringio/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/stringio.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/stringio-*.gemspec
-endef
-
-define Package/ruby-strscan/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/strscan.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/strscan-*.gemspec
-endef
-
-define Package/ruby-syslog/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/syslog.so
-/usr/lib/ruby/$(PKG_ABI_VERSION)/syslog/logger.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/syslog-*.gemspec
-endef
-
-define Package/ruby-testunit/files
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/test-unit-*.gemspec
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/test-unit-*
-endef
-define Package/ruby-testunit/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/test-unit-*/doc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/test-unit-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/test-unit-*/sample
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/test-unit-*/*.md
-endef
-
-define Package/ruby-time/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/time.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/time-*.gemspec
-endef
-
-define Package/ruby-timeout/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/timeout.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/timeout/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/timeout-*
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/timeout-*.gemspec
-endef
-
-define Package/ruby-tempfile/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/tempfile.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/tempfile-*.gemspec
-endef
-
-define Package/ruby-tmpdir/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/tmpdir.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/tmpdir-*.gemspec
-endef
-
-define Package/ruby-tracer/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/tracer.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/tracer/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/tracer-*.gemspec
-endef
-
-define Package/ruby-tsort/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/tsort.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/tsort-*.gemspec
-endef
-
-define Package/ruby-typeprof/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/typeprof.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/typeprof
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/typeprof-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/typeprof-*.gemspec
-endef
-define Package/ruby-typeprof/files-excluded
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/typeprof-*/doc
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/typeprof-*/test
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/typeprof-*/sample
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/typeprof-*/*.md
-endef
-define Package/ruby-typeprof/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/typeprof $(1)/usr/bin/
-	$(call RubyBuildPackage/install,typeprof,$(1))
-endef
-
-define Package/ruby-un/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/un.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/un-*.gemspec
-endef
-
-define Package/ruby-unicodenormalize/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/unicode_normalize
-endef
-
-define Package/ruby-uri/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/uri.rb
-/usr/lib/ruby/$(PKG_ABI_VERSION)/uri
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/uri-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/uri-*.gemspec
-endef
-
-define Package/ruby-weakref/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/weakref.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/weakref-*.gemspec
-endef
-
-define Package/ruby-yaml/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/yaml
-/usr/lib/ruby/$(PKG_ABI_VERSION)/yaml.rb
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/gems/yaml-*/
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/yaml-*.gemspec
-endef
-
-define Package/ruby-zlib/files
-/usr/lib/ruby/$(PKG_ABI_VERSION)/*/zlib.so
-/usr/lib/ruby/gems/$(PKG_ABI_VERSION)/specifications/default/zlib-*.gemspec
-endef
-
-RUBY_FILES = $(strip $(call Package/ruby-$(1)/files))
-RUBY_FILES_EXCLUDED = $(strip $(call Package/ruby-$(1)/files-excluded))
-
-# 1: short name
-# 2: install dir
-define RubyBuildPackage/install
-	( \
-	  cd $(PKG_INSTALL_DIR) && \
-	  $(TAR) -cf - \
-	    $(if $(RUBY_FILES_EXCLUDED),--exclude-from <(ls -1d $(patsubst /%,%,$(RUBY_FILES_EXCLUDED)))) \
-	    --files-from <(ls -1d $(patsubst /%,%,$(RUBY_FILES))) \
-	) | ( \
-	  [ -n "$(2)" ] && cd $(2) && $(TAR) -xf - \
-	)
-endef
-
-# 1: short name
-# 2: description
-# 3: dependencies on other packages
-define RubyBuildPackage
-  RUBY_STDLIB += $(1)
-
-  # Package definition
-  ifndef Package/ruby-$(1)
-    define Package/ruby-$(1)
-      $(call Package/ruby/Default)
-      TITLE:=Ruby $(2)
-      DEPENDS:=ruby $(3)
-    endef
-  endif
-
-  ifndef Package/ruby-$(1)/description
-    define Package/ruby-$(1)/description
-      This package contains the ruby $(2).
-
-    endef
-  endif
-
-  # Description
-  ifndef Package/ruby-$(1)/install
-    ifndef Package/ruby-$(1)/files
-       $$(error It must exists either a Package/ruby-$(1)/install or Package/ruby-$(1)/files)
-    endif
-
-    define Package/ruby-$(1)/description +=
-
-Provides:
-$(patsubst /%,
- - /%,$(RUBY_FILES))
-
-    endef
-
-    ifneq ($(RUBY_FILES_EXCLUDED),)
-      define Package/ruby-$(1)/description +=
-
-Except:
-$(patsubst /%,
- - /%,$(RUBY_FILES_EXCLUDED))
-
-      endef
-    endif
-
-    Package/ruby-$(1)/install=$(call RubyBuildPackage/install,$(1),$$(1))
-  endif
-
-  $$(eval $$(call BuildPackage,ruby-$(1)))
-endef
-
-$(eval $(call BuildPackage,libruby))
-$(eval $(call BuildPackage,ruby))
-$(eval $(call BuildPackage,ruby-dev))
-$(eval $(call RubyBuildPackage,abbrev,Calculates the set of unambiguous abbreviations for a given set of strings,))
-$(eval $(call RubyBuildPackage,base64,Encode and decode base64,))
-$(eval $(call RubyBuildPackage,benchmark,Performance benchmarking library,))
-$(eval $(call RubyBuildPackage,bigdecimal,Arbitrary-precision decimal floating-point library,))
-$(eval $(call RubyBuildPackage,bundler,Manage dependencies,+ruby-erb +ruby-irb +ruby-open-uri +ruby-readline))
-$(eval $(call RubyBuildPackage,cgi,CGI support toolkit,+ruby-pstore +ruby-securerandom +ruby-shellwords +ruby-tempfile))
-$(eval $(call RubyBuildPackage,continuation,Similar to C setjmp/longjmp with extra states,))
-$(eval $(call RubyBuildPackage,coverage,Coverage measurement,))
-$(eval $(call RubyBuildPackage,csv,CSV Reading and Writing,+ruby-date +ruby-english +ruby-forwardable +ruby-stringio +ruby-strscan))
-$(eval $(call RubyBuildPackage,date,Comparable module for handling dates,))
-$(eval $(call RubyBuildPackage,dbm,Wrapper for the UNIX-style Database Manager Library,+libdb47))
-$(eval $(call RubyBuildPackage,debug,generic command line interface for ruby-debug,+ruby-continuation +ruby-pp +ruby-readline +ruby-tracer))
-$(eval $(call RubyBuildPackage,delegate,lib to delegate method calls to an object,))
-$(eval $(call RubyBuildPackage,did-you-mean,did you mean? experience,))
-$(eval $(call RubyBuildPackage,digest,Digest Library,+RUBY_DIGEST_USE_OPENSSL:libopenssl))
-$(eval $(call RubyBuildPackage,drb,distributed object system,+ruby-ipaddr +ruby-monitor +ruby-observer +ruby-singleton +ruby-tmpdir))
-$(eval $(call RubyBuildPackage,enc,character re-coding library charset (small subset),))
-$(eval $(call RubyBuildPackage,enc-extra,character re-coding library charset (extra subset),+ruby-enc))
-$(eval $(call RubyBuildPackage,english,Reference some global vars as english variables,))
-$(eval $(call RubyBuildPackage,erb,(embedded interpreter),+ruby-gems))
-$(eval $(call RubyBuildPackage,etc,Access info typically stored in /etc,))
-$(eval $(call RubyBuildPackage,expect,Expect-like for IO,))
-$(eval $(call RubyBuildPackage,fcntl,Loads constants defined in the OS fcntl.h C header file,))
-$(eval $(call RubyBuildPackage,fiber,Light weight cooperative concurrency,))
-$(eval $(call RubyBuildPackage,fiddle,Libffi wrapper for Ruby,+libffi))
-$(eval $(call RubyBuildPackage,fileutils,File utility methods for copying moving removing etc,+ruby-enc +ruby-etc +ruby-rbconfig +ruby-socket))
-$(eval $(call RubyBuildPackage,find,top-down traversal of a set of file paths,+ruby-enc))
-$(eval $(call RubyBuildPackage,forwardable,delegation of methods to a object,))
-$(eval $(call RubyBuildPackage,gdbm,Ruby extension for GNU dbm,+libgdbm))
-$(eval $(call RubyBuildPackage,gems,gems packet management,+ruby-base64 +ruby-cgi +ruby-json +ruby-net-http +ruby-open3 +ruby-pathname +ruby-pp +ruby-rake +ruby-resolv +ruby-yaml))
-$(eval $(call RubyBuildPackage,getoptlong,implementation of getoptLong,))
-$(eval $(call RubyBuildPackage,io-console,Console interface,))
-$(eval $(call RubyBuildPackage,io-nonblock,Non-blocking mode with IO class,))
-$(eval $(call RubyBuildPackage,io-wait,Waits until IO is readable or writable without blocking,))
-$(eval $(call RubyBuildPackage,ipaddr,Set of methods to manipulate an IP address,+ruby-socket))
-$(eval $(call RubyBuildPackage,irb,(interactive shell),+ruby-gems +ruby-reline +ruby-ripper +ruby-tracer))
-$(eval $(call RubyBuildPackage,json,JSON Implementation for Ruby,+ruby-date +ruby-ostruct))
-$(eval $(call RubyBuildPackage,logger,logger and syslog library,+ruby-monitor))
-$(eval $(call RubyBuildPackage,matrix,implementation of Matrix and Vector classes,))
-$(eval $(call RubyBuildPackage,minitest,Gem minitest,+ruby-gems +ruby-mutex_m))
-$(eval $(call RubyBuildPackage,mkmf,makefile library,+ruby-shellwords +ruby-tmpdir))
-$(eval $(call RubyBuildPackage,monitor,Object or module methods are executed with mutual exclusion,))
-$(eval $(call RubyBuildPackage,mutex_m,extend objects to be handled like a Mutex,))
-$(eval $(call RubyBuildPackage,net-ftp,FTP lib,+ruby-monitor +ruby-net-protocol +ruby-openssl +ruby-time))
-$(eval $(call RubyBuildPackage,net-http,HTTP lib,+ruby-net-protocol +ruby-securerandom +ruby-tempfile +ruby-uri +ruby-zlib))
-$(eval $(call RubyBuildPackage,net-imap,IMAP lib,+ruby-monitor +ruby-net-protocol +ruby-openssl +ruby-strscan))
-$(eval $(call RubyBuildPackage,net-pop,POP3 lib,+ruby-net-protocol +ruby-openssl))
-$(eval $(call RubyBuildPackage,net-protocol,Abstract for net-* clients,+ruby-socket +ruby-timeout))
-$(eval $(call RubyBuildPackage,net-smtp,SMTP lib,+ruby-net-protocol +ruby-openssl))
-$(eval $(call RubyBuildPackage,nkf,Network Kanji Filter,+ruby-enc))
-$(eval $(call RubyBuildPackage,objspace,Routines to interact with the garbage collection facility,+ruby-tempfile))
-$(eval $(call RubyBuildPackage,observer,Observer design pattern,))
-$(eval $(call RubyBuildPackage,open-uri,Wrapper for Net::HTTP Net::HTTPS and Net::,+ruby-net-ftp +ruby-net-http))
-$(eval $(call RubyBuildPackage,open3,popen with stderr,))
-$(eval $(call RubyBuildPackage,openssl,SSL TLS and general purpose cryptography,+ruby-digest +ruby-enc +ruby-io-nonblock +ruby-ipaddr +ruby-stringio +libopenssl))
-$(eval $(call RubyBuildPackage,optparse,command-line option analysis,+ruby-shellwords +ruby-time))
-$(eval $(call RubyBuildPackage,ostruct,build custom data structures,))
-$(eval $(call RubyBuildPackage,pathname,Pathname lib,+ruby-fileutils +ruby-find))
-$(eval $(call RubyBuildPackage,powerassert,Gem power_assert,+ruby-pp +ruby-ripper))
-$(eval $(call RubyBuildPackage,pp,Pretty print objects,+ruby-etc +ruby-prettyprint))
-$(eval $(call RubyBuildPackage,prettyprint,PrettyPrint library,))
-$(eval $(call RubyBuildPackage,prime,Prime numbers and factorization library,+ruby-forwardable +ruby-singleton))
-$(eval $(call RubyBuildPackage,pstore,file based persistence,+ruby-digest +ruby-enc))
-$(eval $(call RubyBuildPackage,psych,YAML parser and emitter,+ruby-bigdecimal +ruby-date +ruby-enc +ruby-forwardable +ruby-stringio +ruby-strscan +libyaml))
-$(eval $(call RubyBuildPackage,pty,Creates and manages pseudo terminals,))
-$(eval $(call RubyBuildPackage,racc,LALR parser generator,+ruby-forwardable +ruby-optparse +ruby-rbconfig +ruby-stringio))
-$(eval $(call RubyBuildPackage,rake,Rake (make replacement),+ruby-fileutils +ruby-monitor +ruby-optparse +ruby-ostruct +ruby-set +ruby-singleton))
-$(eval $(call RubyBuildPackage,rbconfig,RbConfig,))
-$(eval $(call RubyBuildPackage,rbs,RBS provides syntax and semantics definition for the Ruby Signature language,+ruby-gems +ruby-logger +ruby-racc +ruby-ripper))
-$(eval $(call RubyBuildPackage,rdoc,RDoc produces HTML and command-line documentation for Ruby projects,+ruby-abbrev +ruby-did-you-mean +ruby-erb +ruby-racc +ruby-ripper))
-$(eval $(call RubyBuildPackage,readline-ext,support for native GNU readline,+libncurses +libreadline))
-$(eval $(call RubyBuildPackage,readline,loads readline-ext(native) or reline(ruby),+ruby-reline))
-$(eval $(call RubyBuildPackage,reline,alternative to readline-ext in pure ruby,+ruby-fiddle +ruby-forwardable +ruby-io-console +ruby-tempfile +ruby-timeout))
-$(eval $(call RubyBuildPackage,resolv,DNS resolver library,+ruby-securerandom +ruby-timeout))
-$(eval $(call RubyBuildPackage,resolv-replace,Replace Socket DNS with Resolv,+ruby-resolv))
-$(eval $(call RubyBuildPackage,rexml,XML toolkit,+ruby-enc +ruby-forwardable +ruby-pp +ruby-set +ruby-stringio +ruby-strscan))
-$(eval $(call RubyBuildPackage,rinda,Linda paradigm implementation,+ruby-drb +ruby-forwardable))
-$(eval $(call RubyBuildPackage,ripper,script parser,))
-$(eval $(call RubyBuildPackage,rss,RSS toolkit,+ruby-english +ruby-nkf +ruby-open-uri +ruby-rexml))
-$(eval $(call RubyBuildPackage,securerandom,Secure random number generators,+ruby-openssl))
-$(eval $(call RubyBuildPackage,set,Set collection,+ruby-tsort))
-$(eval $(call RubyBuildPackage,shellwords,Manipulate strings as Bourne Shell,))
-$(eval $(call RubyBuildPackage,singleton,Singleton pattern,))
-$(eval $(call RubyBuildPackage,socket,socket support,+ruby-io-wait))
-$(eval $(call RubyBuildPackage,stringio,Pseudo `IO` class from/to `String`,))
-$(eval $(call RubyBuildPackage,strscan,Lexical scanning operations on a String,))
-$(eval $(call RubyBuildPackage,syslog,Syslog Lib,+ruby-logger))
-$(eval $(call RubyBuildPackage,tempfile,Manages temporary files,+ruby-delegate +ruby-tmpdir))
-$(eval $(call RubyBuildPackage,testunit,Gem test-unit,+ruby-csv +ruby-erb +ruby-powerassert +ruby-rexml))
-$(eval $(call RubyBuildPackage,time,Extends Time with additional methods for parsing and converting Times,+ruby-date))
-$(eval $(call RubyBuildPackage,timeout,Auto-terminate potentially long-running operations,))
-$(eval $(call RubyBuildPackage,tmpdir,Get temp dir path,+ruby-fileutils))
-$(eval $(call RubyBuildPackage,tracer,Outputs a source level execution trace of a Ruby program,))
-$(eval $(call RubyBuildPackage,tsort,Topological sorting using Tarjan s algorithm,))
-$(eval $(call RubyBuildPackage,typeprof,A type analysis tool for Ruby code based on abstract interpretation,+ruby-coverage +ruby-rbs))
-$(eval $(call RubyBuildPackage,unicodenormalize,String additions for Unicode normalization,+ruby-enc +ruby-enc-extra))
-$(eval $(call RubyBuildPackage,un,Utilities to replace common UNIX commands in Makefiles,+ruby-mkmf +ruby-optparse))
-$(eval $(call RubyBuildPackage,uri,library to handle URI,+ruby-enc))
-$(eval $(call RubyBuildPackage,weakref,Weak reference to be garbage collected,+ruby-delegate))
-$(eval $(call RubyBuildPackage,yaml,YAML toolkit,+ruby-dbm +ruby-pstore +ruby-psych))
-$(eval $(call RubyBuildPackage,zlib,compression/decompression library interface,))
-$(eval $(call BuildPackage,ruby-stdlib))
-$(eval $(call HostBuild))
diff -uprN a/feeds/packages/lang/ruby/patches/100-musl.patch b/feeds/packages/lang/ruby/patches/100-musl.patch
--- a/feeds/packages/lang/ruby/patches/100-musl.patch	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/ruby/patches/100-musl.patch	1970-01-01 08:00:00.000000000 +0800
@@ -1,17 +0,0 @@
-Rebased on https://patch-diff.githubusercontent.com/raw/ruby/ruby/pull/2995.patch
-which was originally based on this file.
-
---- a/configure.ac
-+++ b/configure.ac
-@@ -2471,7 +2471,10 @@ AS_CASE([$rb_cv_coroutine], [yes|''], [
-             rb_cv_coroutine=copy
-         ],
-         [
--            rb_cv_coroutine=ucontext
-+            AC_CHECK_FUNCS([getcontext swapcontext makecontext],
-+                [rb_cv_coroutine=ucontext],
-+                [rb_cv_coroutine=copy; break]
-+            )
-         ]
-     )
-     AC_MSG_RESULT(${rb_cv_coroutine})
diff -uprN a/feeds/packages/lang/ruby/ruby_find_pkgsdeps b/feeds/packages/lang/ruby/ruby_find_pkgsdeps
--- a/feeds/packages/lang/ruby/ruby_find_pkgsdeps	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/ruby/ruby_find_pkgsdeps	1970-01-01 08:00:00.000000000 +0800
@@ -1,279 +0,0 @@
-#!/usr/bin/ruby -Eutf-8
-# encoding: utf-8
-#
-# Find dependencies between ruby packages
-#
-# Must run inside a openwrt with all *ruby* packages installed
-#
-
-RUBY_SIMPLE_VERSION = RUBY_VERSION.split(".")[0..1].join(".")
-failed = false
-
-puts "Loading all installed gems (unstable after external gems are instaled/update)"
-require 'rubygems'
-Gem::Specification.collect{ |g| g.name.downcase }.uniq.each {|g| gem g }
-
-puts "Looking for installed ruby packages..."
-packages=`opkg list-installed '*ruby*' | cut -d' ' -f 1`.split("\n")
-
-puts "Looking for packages files..."
-package_files=Hash.new { |h,k| h[k]=[] }
-packages.each do
-	|pkg|
-	files=`opkg files "#{pkg}" | sed -e 1d`.split("\n")
-	package_files[pkg]=files if files
-end
-
-require_regex=/^require ["']([^"']+)["'].*/
-require_regex_ignore=/^require ([a-zA-Z\$]|["']$|.*\/$)/
-require_ignore=%w{foo rubygems/defaults/operating_system win32console java Win32API
-                  builder/xchar json/pure simplecov win32/sspi rdoc/markdown/literals_1_8 enumerator win32/resolv rbtree
-                  xmlscan/parser xmlscan/scanner xmltreebuilder xml/parser xmlparser xml/encoding-ja xmlencoding-ja
-                  iconv uconv win32ole gettext/po_parser gettext/mo libxml psych.jar psych_jars jar-dependencies thread minitest/proveit
-		bundler pry bcrypt net/http/pipeline capistrano/version rubygems/builder rubygems/format diff/lcs graphviz
-		win32api racc/cparse-jruby.jar profile profiler sorted_set jruby coverage/helpers stackprof webrick/https webrick
-	}
-
-builtin_enc=[
-	Encoding.find("ASCII-8BIT"),
-	Encoding.find("UTF-8"),
-	Encoding.find("UTF-7"),
-	Encoding.find("US-ASCII"),
-]
-
-puts "Looking for requires in files..."
-files_requires=Hash.new { |h,k| h[k]=[] }
-packages.each do
-        |pkg|
-	package_files[pkg].each do
-		|file|
-		next if not File.file?(file)
-
-		if not file =~ /.rb$/
-			if File.executable?(file)
-				magic=`head -c50 '#{file}' | head -1`
-				begin
-					if not magic =~ /ruby/
-						next
-					end
-				rescue
-					next
-				end
-			else
-				next
-			end
-		end
-		#puts "Checking #{file}..."
-		File.open(file, "r") do
-			|f|
-			lineno=0
-			while line=f.gets() do
-				lineno+=1; encs=[]; requires=[]; need_encdb=false
-
-				line=line.chomp.gsub!(/^[[:blank:]]*/,"")
-
-				case line
-				when /^#.*coding *:/
-					if lineno <= 2
-						enc=line.sub(/.*coding *: */,"").sub(/ .*/,"")
-						encs << Encoding.find(enc)
-					end
-				end
-				line.gsub!(/#.*/,"")
-				case line
-				when "__END__"
-					break
-				when /^require /
-					#puts "#{file}:#{line}"
-					if require_regex_ignore =~ line
-						#puts "Ignoring #{line} at #{file}:#{lineno} (REGEX)..."
-						next
-					end
-					if not require_regex =~ line
-						puts "Unknown require: '#{line}' at file #{file}:#{lineno}"
-						failed=true
-					end
-					require=line.gsub(require_regex,"\\1")
-					require.gsub!(/\.(so|rb)$/,"")
-
-					if require_ignore.include?(require)
-						#puts "Ignoring #{line} at #{file}:#{lineno} (STR)..."
-						next
-					end
-
-					files_requires[file] += [require]
-
-				when /Encoding::/
-					encs=line.scan(/Encoding::[[:alnum:]_]+/).collect {|enc| eval(enc) }.select {|enc| enc.kind_of? Encoding }
-					need_encdb=true
-				end
-
-				next if encs.empty?
-				required_encs = (encs - builtin_enc).collect {|enc| "enc/#{enc.name.downcase.gsub("-","_")}" }
-				required_encs << "enc/encdb" if need_encdb
-
-				files_requires[file] += required_encs
-			end
-		end
-	end
-end
-exit(1) if failed
-
-# From ruby source: grep -E 'rb_require' -R . | grep -E '\.c:.*rb_require.*'
-# Add dependencies of ruby files from ruby lib.so
-package_files.each do |(pkg,files)| files.each do |file|
-	case file
-	when /\/nkf\.so$/    ; files_requires[file]=files_requires[file] + ["enc/encdb"]
-	when /\/objspace\.so$/; files_requires[file]=files_requires[file] + ["tempfile"] 	# dump_output from ext/objspace/objspace_dump.c
-	when /\/openssl\.so$/; files_requires[file]=files_requires[file] + ["digest"] 		# Init_ossl_digest from ext/openssl/ossl_digest.c
-	end
-end; end
-
-puts "Grouping package requirements per package"
-package_requires_files = Hash.new{|h,k| h[k] = Hash.new { |h2,k2| h2[k2] = [] } }
-package_files.each do |(pkg,files)|
-	package_requires_files[pkg]
-	files.each do |file|
-		files_requires[file].each do |requires|
-			package_requires_files[pkg][requires] << file
-		end
-	end
-end
-
-weak_dependency=Hash.new { |h,k| h[k]=[] }
-weak_dependency.merge!({
-"ruby-misc"=>["ruby-openssl","ruby-fiddle"],			#securerandom.rb
-"ruby-debuglib"=>["ruby-readline"],				#debug.rb
-"ruby-drb"=>["ruby-openssl"],				 	#drb/ssl.rb
-"ruby-irb"=>["ruby-rdoc", "ruby-readline"],		 	#irb/cmd/help.rb
-"ruby-gems"=>["ruby-openssl","ruby-io-console",  		#rubygems/commands/cert_command.rb rubygems/user_interaction.rb
-		"ruby-bundler", "ruby-erb", "ruby-rdoc"],	#rubygems.rb rubygems/server.rb
-"ruby-net"=>["ruby-openssl","ruby-io-console","ruby-zlib"], 	#net/*.rb
-"ruby-optparse"=>["ruby-uri","ruby-datetime"],			#optparse/date.rb optparse/uri.rb
-"ruby-racc"=>["ruby-gems"],					#/usr/bin/racc*
-"ruby-rake"=>["ruby-net","ruby-gems"],				#rake/contrib/ftptools.rb /usr/bin/rake
-"ruby-rdoc"=>["ruby-gems","ruby-readline",			#/usr/bin/rdoc and others
-	       "ruby-io-console"],				#rdoc/stats/normal.rb
-"ruby-testunit"=>["ruby-io-console"],			 	#gems/test-unit-3.1.5/lib/test/unit/ui/console/testrunner.rb
-"ruby-net-http"=>["ruby-open-uri"]				#net/http/status.rb
-})
-
-puts "Looking for package dependencies..."
-package_provides = {}
-package_dependencies = Hash.new { |h,k| h[k]=[] }
-package_requires_files.each do
-	|(pkg,requires_files)|
-
-	requires_files.each do
-		|(require,files)|
-		if package_provides.include?(require)
-			found = package_provides[require]
-		else
-			found = package_files.detect {|(pkg,files)| files.detect {|file| $:.detect {|path| "#{path}/#{require}" == file.gsub(/\.(so|rb)$/,"") } } }
-			if not found
-				$stderr.puts "#{pkg}: Nothing provides #{require} for #{files.collect {|file| file.sub("/usr/lib/ruby/","") }.join(",")}"
-				failed = true
-				next
-			end
-			found = found.first
-			package_provides[require] = found
-		end
-		if weak_dependency[pkg].include?(found)
-			puts "#{pkg}: #{found} provides #{require} (weak depedendency ignored)"
-		else
-			puts "#{pkg}: #{found} provides #{require} for #{files.collect {|file| file.sub("/usr/lib/ruby/","") }.join(",")}"
-			package_dependencies[pkg] += [found]
-		end
-	end
-end
-if failed
-	puts "There is some missing requirements not mapped to files in packages."
-	puts "Please, fix the missing files or ignore them on require_ignore var"
-	exit(1)
-end
-# Remove self dependency
-package_dependencies = Hash[package_dependencies.collect {|(pkg,deps)| [pkg,package_dependencies[pkg]=deps.uniq.sort - [pkg]]}]
-package_dependencies.default = []
-
-puts "Expanding dependencies..."
-begin
-	changed=false
-	package_dependencies.each do
-		|(pkg,deps)|
-		next if deps.empty?
-		deps.each {|dep| puts "#{pkg}: #{dep} also depends on #{pkg}" if package_dependencies[dep].include?(pkg) }
-		deps_new = deps.collect {|dep| [dep] + package_dependencies[dep] }.inject([],:+).uniq.sort
-		if not deps == deps_new
-			puts "#{pkg}: #{deps.join(",")}"
-			puts "#{pkg}: #{deps_new.join(",")}"
-			package_dependencies[pkg]=deps_new
-
-			if deps_new.include?(pkg)
-				$stderr.puts "#{pkg}: Circular dependency detected (#1)!"
-				exit 1
-			end
-			changed=true
-		end
-	end
-end if not changed
-
-puts "Removing redundant dependencies..."
-package_dependencies.each do
-	|(pkg,deps)|
-	package_dependencies[pkg]=deps.uniq - [pkg]
-end
-
-puts "Checking for mutual dependencies..."
-package_dependencies.each do
-	|(pkg,deps)|
-	if deps.include? pkg
-		$stderr.puts "#{pkg}: Circular dependency detected (#2)!"
-		failed = true
-	end
-end
-exit(1) if failed
-
-
-package_dependencies2=package_dependencies.dup
-package_dependencies.each do
-	|(pkg,deps)|
-
-	# Ignore dependencies that are already required by another dependency
-	deps_clean = deps.reject {|dep_suspect| deps.detect {|dep_provider|
-			if package_dependencies[dep_provider].include?(dep_suspect)
-				puts "#{pkg}: #{dep_suspect} is already required by #{dep_provider}"
-				true
-			end
-		 } }
-
-	if not deps==deps_clean
-		puts "before: #{deps.join(",")}"
-		puts "after: #{deps_clean.join(",")}"
-		package_dependencies2[pkg]=deps_clean
-	end
-end
-package_dependencies=package_dependencies2
-
-puts "Checking current packages dependencies..."
-ok=true
-package_dependencies.each do
-	|(pkg,deps)|
-	current_deps=`opkg depends #{pkg} | sed -r -e '1d;s/^[[:blank:]]*//'`.split("\n")
-	current_deps.reject!{|dep| dep =~ /^lib/ }
-	current_deps -= ["ruby"]
-
-	extra_dep = current_deps - deps
-	$stderr.puts "Package #{pkg} does not need to depend on #{extra_dep.join(" ")} " if not extra_dep.empty?
-	missing_dep = deps - current_deps
-	$stderr.puts "Package #{pkg} needs to depend on #{missing_dep.join(" ")} " if not missing_dep.empty?
-
-	if not extra_dep.empty? or not missing_dep.empty?
-		$stderr.puts "define Package/#{pkg}"
-		$stderr.puts "  DEPENDS:=ruby#{([""] +deps).join(" +")}"
-		ok=false
-	end
-end
-
-puts "All dependencies are OK." if ok
-
-__END__
diff -uprN a/feeds/packages/lang/ruby/ruby_missingfiles b/feeds/packages/lang/ruby/ruby_missingfiles
--- a/feeds/packages/lang/ruby/ruby_missingfiles	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/ruby/ruby_missingfiles	1970-01-01 08:00:00.000000000 +0800
@@ -1,45 +0,0 @@
-#!/bin/bash
-#
-# bash feeds/packages/lang/ruby/ruby_missingfiles staging_dir/target-i386_i486_musl-1.1.11/ bin/x86/packages/packages/*ruby*_2.3.0*
-#
-
-function list_staging_files {
-	cd "$1"; find \
-		\( \( -name "root-*" -or -name "packages" -or -name "stamp" -or -name "pkginfo" -or -name "host" -or -name man \) -prune \) -or -true \
-		\( -path "*ruby*" -or -name "erb" -or -name "gem" -or -name "irb" -or -name "rake" -or -name "rdoc" -or -name "ri" -or -name "testrb"  -or -name "racc" -or -name "racc2y" -or -name "y2racc" \) \
-		-not -path "*/usr/lib/ruby/gems/*/cache/*" \
-		-not -name "*test_case.rb" \
-		-not -name "*.rdoc" \
-		-not -name "*.doc" \
-		-not -name "*.md" \
-		-not -name "*.txt" \
-		-not -name "*.travis.yml" \
-		-not -regex ".*/usr/lib/ruby/gems/[^/]*/gems/[^/]*/benchmark/.*" \
-		-not -regex ".*/usr/lib/ruby/gems/[^/]*/gems/[^/]*/evaluation/.*" \
-		-not -regex ".*/usr/lib/ruby/gems/[^/]*/gems/[^/]*/sample/.*" \
-		-not -regex ".*/usr/lib/ruby/gems/[^/]*/gems/[^/]*/test/.*" \
-		-not -regex ".*/usr/lib/ruby/gems/[^/]*/gems/[^/]*/doc/.*" \
-		-not -type d \
-		-print | sort
-}
-
-function list_ipkg_files {
-	for OPKG; do
-		tar --to-stdout -xzf "$OPKG" ./data.tar.gz | tar tzv | grep -v ^d | sed -e 's,.* \./,./,;s/ -> .*//'
-	done | sort -u | grep -v ./usr/lib/ruby/ruby...-bin
-}
-
-
-
-set -e
-: ${1:?First arg is staging_dir}
-: ${2:?Second and following args are ruby ipkg packages}
-STAGING_DIR=$1; shift
-(cd "$STAGING_DIR" )
-if ! [ -e "$1" ]; then
-	echo "$1 does not exist!"
-	exit 1
-fi
-printf '%-62s %-62s\n' "Installed in Staging" "From Packages Files"
-diff -d -y <(list_staging_files "$STAGING_DIR") <(list_ipkg_files "$@")
-
diff -uprN a/feeds/packages/lang/tcl/Makefile b/feeds/packages/lang/tcl/Makefile
--- a/feeds/packages/lang/tcl/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/tcl/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,112 +0,0 @@
-#
-# Copyright (C) 2006-2018 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=tcl
-TCL_MAJOR_VERSION:=8.6
-PKG_VERSION:=${TCL_MAJOR_VERSION}.10
-PKG_RELEASE:=2
-
-PKG_SOURCE:=$(PKG_NAME)$(PKG_VERSION)-src.tar.gz
-PKG_SOURCE_URL:=@SF/$(PKG_NAME)
-PKG_HASH:=5196dbf6638e3df8d5c87b5815c8c2b758496eb6f0e41446596c9a4e638d87ed
-PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)$(PKG_VERSION)
-HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/$(PKG_NAME)$(PKG_VERSION)
-
-PKG_MAINTAINER:=Joe Mistachkin <joe@mistachkin.com>
-PKG_LICENSE:=TCL
-PKG_LICENSE_FILES:=license.terms
-PKG_CPE_ID:=cpe:/a:tcl_tk:tcl_tk
-
-PKG_FIXUP:=autoreconf
-PKG_INSTALL:=1
-PKG_BUILD_PARALLEL:=1
-HOST_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-
-define Package/tcl
-  SUBMENU:=Tcl
-  SECTION:=lang
-  CATEGORY:=Languages
-  DEPENDS:=+libpthread +zlib
-  TITLE:=The Tcl language
-  URL:=https://www.tcl.tk/
-endef
-
-define Package/tcl/description
-  Tcl, or Tool Command Language, is a an elegant, versatile, feature-rich,
-  simple-to-learn yet very powerful industrial-strength open-source
-  programming language and development platform. It is renowned for its
-  stability and utility, and its emphasis on providing a cross-platform
-  programming API makes it an ideal choice for an enormous variety of
-  programming jobs.
-endef
-
-CONFIGURE_PATH := unix
-
-CONFIGURE_VARS += \
-	tcl_cv_strtod_unbroken=ok
-
-CONFIGURE_ARGS += \
-	--enable-threads
-
-MAKE_PATH := unix
-
-define Build/Prepare
-	$(call Build/Prepare/Default)
-	rm -rf $(PKG_BUILD_DIR)/pkgs/*
-endef
-
-define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include
-	$(CP) $(PKG_INSTALL_DIR)/usr/include/*.h $(1)/usr/include/
-
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/libtcl*.{a,so*} $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/tclConfig.sh $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/tclooConfig.sh $(1)/usr/lib/
-
-	$(INSTALL_DIR) $(1)/usr/lib/pkgconfig
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/pkgconfig/tcl.pc \
-		$(1)/usr/lib/pkgconfig
-	$(SED) 's,/usr/include,$$$${prefix}/include,g' $(1)/usr/lib/pkgconfig/tcl.pc
-	$(SED) 's,/usr/lib,$$$${prefix}/lib,g' $(1)/usr/lib/pkgconfig/tcl.pc
-endef
-
-define Package/tcl/install
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/usr/lib/*.so $(1)/usr/lib
-
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $(1)/usr/bin
-
-	$(CP) -a $(PKG_INSTALL_DIR)/usr/lib/tcl8 $(1)/usr/lib/
-	$(CP) -a $(PKG_INSTALL_DIR)/usr/lib/tcl$(TCL_MAJOR_VERSION) $(1)/usr/lib/
-	$(LN) tclsh$(TCL_MAJOR_VERSION) $(1)/usr/bin/tclsh
-endef
-
-define Host/Configure
-	$(call Host/Configure/Default,$(1),$(2),$(CONFIGURE_PATH)/$(3))
-endef
-
-define Host/Compile
-	+$(HOST_MAKE_VARS) \
-	$(MAKE) $(HOST_JOBS) -C $(HOST_BUILD_DIR)/$(MAKE_PATH) \
-		$(HOST_MAKE_FLAGS) \
-		$(1)
-endef
-
-define Host/Install
-	$(call Host/Compile,install)
-	(cd $(HOST_BUILD_PREFIX)/bin; test -f tclsh || ln -s tclsh$(TCL_MAJOR_VERSION) tclsh)
-endef
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,tcl))
diff -uprN a/feeds/packages/lang/uuid/Makefile b/feeds/packages/lang/uuid/Makefile
--- a/feeds/packages/lang/uuid/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/uuid/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,53 +0,0 @@
-#
-# Copyright (C) 2006-2015 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=uuid
-PKG_VERSION:=0.2.0
-PKG_RELEASE:=1
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_MIRROR_HASH:=142b60b266d90db6177eb07919d8b71ac4a3bb17859540d4655c02f395526962
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-PKG_SOURCE_URL:=https://github.com/Tieske/uuid.git
-PKG_SOURCE_VERSION:=version_$(PKG_VERSION)
-
-PKG_MAINTAINER:=Amr Hassan <amr.hassan@gmail.com>
-PKG_LICENSE=Apache-2.0
-
-LUA_MODULE_PATH:=/usr/lib/lua
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/uuid
-  SUBMENU:=Lua
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=uuid
-  URL:=https://github.com/Tieske/uuid
-  DEPENDS:=+lua +luasocket
-  PKGARCH:=all
-endef
-
-define Package/uuid/description
-	A pure Lua uuid generator
-endef
-
-define Build/Configure
-endef
-
-define Build/Compile
-endef
-
-define Package/uuid/install
-	$(INSTALL_DIR) $(1)/$(LUA_MODULE_PATH)
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/src/uuid.lua $(1)/$(LUA_MODULE_PATH)/uuid.lua
-endef
-
-$(eval $(call BuildPackage,uuid))
diff -uprN a/feeds/packages/lang/vala/Makefile b/feeds/packages/lang/vala/Makefile
--- a/feeds/packages/lang/vala/Makefile	2023-04-14 21:27:49.492066000 +0800
+++ b/feeds/packages/lang/vala/Makefile	1970-01-01 08:00:00.000000000 +0800
@@ -1,50 +0,0 @@
-#
-# Copyright (C) 2006-2017 OpenWrt.org
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=vala
-PKG_VERSION:=0.56.0
-PKG_RELEASE:=$(AUTORELEASE)
-
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_SOURCE_URL:=@GNOME/vala/0.56
-PKG_HASH:=d92bd13c5630905eeb6a983dcb702204da9731460c2a6e4e39f867996f371040
-
-PKG_MAINTAINER:=
-PKG_LICENSE:=LGPL-2.1-or-later
-PKG_LICENSE_FILES:=COPYING
-
-PKG_HOST_ONLY:=1
-HOST_BUILD_DEPENDS:=glib2/host
-HOST_BUILD_PARALLEL:=1
-
-include $(INCLUDE_DIR)/package.mk
-include $(INCLUDE_DIR)/host-build.mk
-
-define Package/vala
-  SECTION:=lang
-  CATEGORY:=Languages
-  TITLE:=C-sharp like language for the GObject system
-  URL:=https://wiki.gnome.org/Projects/Vala
-  BUILDONLY:=1
-endef
-
-define Package/vala/description
-  Vala is a C-sharp like language for the GObject system. This package contains
-  the Vala-to-C compiler for host.
-endef
-
-HOST_CONFIGURE_ARGS += \
-	--disable-shared \
-	--disable-coverage \
-	--disable-debug \
-	--disable-valadoc \
-	--without-cgraph
-
-$(eval $(call HostBuild))
-$(eval $(call BuildPackage,vala))
